import {
  __commonJS
} from "./chunk-2TUXWMP5.js";

// node_modules/grapesjs/dist/grapes.min.js
var require_grapes_min = __commonJS({
  "node_modules/grapesjs/dist/grapes.min.js"(exports, module) {
    !function(t, e) {
      "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports["grapesjs"] = e() : t["grapesjs"] = e();
    }("undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : exports, () => (() => {
      var t = { 7757: (t2, e2, n2) => {
        t2.exports = n2(5666);
      }, 3410: (t2, e2, n2) => {
        var r2, i, o;
        i = [n2(9050), n2(2316)], r2 = function(t3, e3) {
          var n3 = Array.prototype.slice;
          function r3(t4, e4, n4) {
            return n4.length <= 4 ? t4.call(e4, n4[0], n4[1], n4[2], n4[3]) : t4.apply(e4, n4);
          }
          function i2(t4, e4) {
            return n3.call(t4, e4);
          }
          function o2(e4, n4) {
            return null != e4 && (t3.isArray(n4) || (n4 = i2(arguments, 1)), t3.all(n4, function(t4) {
              return t4 in e4;
            }));
          }
          var a = /* @__PURE__ */ function() {
            var e4 = false, n4 = -1;
            function r4() {
              n4++, e4 = true, t3.defer(function() {
                e4 = false;
              });
            }
            return function() {
              return e4 || r4(), n4;
            };
          }();
          function s() {
            this.registeredObjects = [], this.cidIndexes = [];
          }
          function l(e4, n4, r4, i3) {
            for (var o3, a2 = 0, s2 = n4.length; a2 < s2; a2++) if (o3 = n4[a2]) {
              if ("on" === e4) {
                if (!i3.objectRegistry.register(o3)) continue;
              } else if (!i3.objectRegistry.unregister(o3)) continue;
              t3.isFunction(o3[e4]) && o3[e4]("all", r4, i3);
            }
          }
          function c(e4, n4) {
            var r4 = n4.type, i3 = n4.undoTypes, o3 = !i3[r4] || i3[r4][e4];
            t3.isFunction(o3) && o3(n4.object, n4.before, n4.after, n4.options);
          }
          function u(e4, r4, i3, o3, a2) {
            if (!(i3.isCurrentlyUndoRedoing || "undo" === e4 && -1 === i3.pointer || "redo" === e4 && i3.pointer === i3.length - 1)) {
              i3.isCurrentlyUndoRedoing = true;
              var s2, l2, c2 = "undo" === e4;
              for (a2 ? l2 = c2 && i3.pointer === i3.length - 1 || !c2 && -1 === i3.pointer ? t3.clone(i3.models) : n3.apply(i3.models, c2 ? [0, i3.pointer] : [i3.pointer, i3.length - 1]) : (s2 = i3.at(c2 ? i3.pointer : i3.pointer + 1), l2 = o3 ? i3.where({ magicFusionIndex: s2.get("magicFusionIndex") }) : [s2]), i3.pointer += (c2 ? -1 : 1) * l2.length; s2 = c2 ? l2.pop() : l2.shift(); ) s2[e4]();
              i3.isCurrentlyUndoRedoing = false, r4.trigger(e4, r4);
            }
          }
          function f(t4, e4) {
            var n4 = t4.condition, i3 = typeof n4;
            return "function" === i3 ? !!r3(n4, t4, e4) : "boolean" !== i3 || n4;
          }
          function h(t4, e4, n4, i3) {
            if (t4.track && !t4.isCurrentlyUndoRedoing && e4 in i3 && f(i3[e4], n4)) {
              var s2 = r3(i3[e4]["on"], i3[e4], n4);
              if (o2(s2, "object", "before", "after")) {
                if (s2.type = e4, s2.magicFusionIndex = a(), s2.undoTypes = i3, t4.pointer < t4.length - 1) for (var l2 = t4.length - t4.pointer - 1; l2--; ) t4.pop();
                t4.pointer = t4.length, t4.add(s2), t4.length > t4.maximumStackLength && (t4.shift(), t4.pointer--);
              }
            }
          }
          s.prototype = { isRegistered: function(e4) {
            return e4 && e4.cid ? this.registeredObjects[e4.cid] : t3.contains(this.registeredObjects, e4);
          }, register: function(t4) {
            return !this.isRegistered(t4) && (t4 && t4.cid ? (this.registeredObjects[t4.cid] = t4, this.cidIndexes.push(t4.cid)) : this.registeredObjects.push(t4), true);
          }, unregister: function(e4) {
            if (this.isRegistered(e4)) {
              if (e4 && e4.cid) delete this.registeredObjects[e4.cid], this.cidIndexes.splice(t3.indexOf(this.cidIndexes, e4.cid), 1);
              else {
                var n4 = t3.indexOf(this.registeredObjects, e4);
                this.registeredObjects.splice(n4, 1);
              }
              return true;
            }
            return false;
          }, get: function() {
            return t3.map(this.cidIndexes, function(t4) {
              return this.registeredObjects[t4];
            }, this).concat(this.registeredObjects);
          } };
          var d = { add: { undo: function(t4, e4, n4, r4) {
            t4.remove(n4, r4);
          }, redo: function(t4, e4, n4, r4) {
            r4.index && (r4.at = r4.index), t4.add(n4, r4);
          }, on: function(e4, n4, r4) {
            return { object: n4, before: void 0, after: e4, options: t3.clone(r4) };
          } }, remove: { undo: function(t4, e4, n4, r4) {
            "index" in r4 && (r4.at = r4.index), t4.add(e4, r4);
          }, redo: function(t4, e4, n4, r4) {
            t4.remove(e4, r4);
          }, on: function(e4, n4, r4) {
            return { object: n4, before: e4, after: void 0, options: t3.clone(r4) };
          } }, change: { undo: function(e4, n4, r4, i3) {
            t3.isEmpty(n4) ? t3.each(t3.keys(r4), e4.unset, e4) : (e4.set(n4), i3 && i3.unsetData && i3.unsetData.before && i3.unsetData.before.length && t3.each(i3.unsetData.before, e4.unset, e4));
          }, redo: function(e4, n4, r4, i3) {
            t3.isEmpty(r4) ? t3.each(t3.keys(n4), e4.unset, e4) : (e4.set(r4), i3 && i3.unsetData && i3.unsetData.after && i3.unsetData.after.length && t3.each(i3.unsetData.after, e4.unset, e4));
          }, on: function(e4, n4) {
            var r4 = e4.changedAttributes(), i3 = t3.keys(r4), o3 = t3.pick(e4.previousAttributes(), i3), a2 = t3.keys(o3), s2 = (n4 || (n4 = {})).unsetData = { after: [], before: [] };
            return i3.length != a2.length && (i3.length > a2.length ? t3.each(i3, function(t4) {
              t4 in o3 || s2.before.push(t4);
            }, this) : t3.each(a2, function(t4) {
              t4 in r4 || s2.after.push(t4);
            })), { object: e4, before: o3, after: r4, options: t3.clone(n4) };
          } }, reset: { undo: function(t4, e4, n4) {
            t4.reset(e4);
          }, redo: function(t4, e4, n4) {
            t4.reset(n4);
          }, on: function(e4, n4) {
            return { object: e4, before: n4.previousModels, after: t3.clone(e4.models) };
          } } };
          function p() {
          }
          function g(e4, n4, r4, i3) {
            if ("object" == typeof n4) return t3.each(n4, function(t4, n5) {
              2 === e4 ? g(e4, t4, r4, i3) : g(e4, n5, t4, r4);
            });
            switch (e4) {
              case 0:
                o2(r4, "undo", "redo", "on") && t3.all(t3.pick(r4, "undo", "redo", "on"), t3.isFunction) && (i3[n4] = r4);
                break;
              case 1:
                i3[n4] && t3.isObject(r4) && (i3[n4] = t3.extend({}, i3[n4], r4));
                break;
              case 2:
                delete i3[n4];
            }
            return this;
          }
          p.prototype = d;
          var v = e3.Model.extend({ defaults: { type: null, object: null, before: null, after: null, magicFusionIndex: null }, undo: function(t4) {
            c("undo", this.attributes);
          }, redo: function(t4) {
            c("redo", this.attributes);
          } }), m = e3.Collection.extend({ model: v, pointer: -1, track: false, isCurrentlyUndoRedoing: false, maximumStackLength: 1 / 0, setMaxLength: function(t4) {
            this.maximumStackLength = t4;
          } }), y = e3.Model.extend({ defaults: { maximumStackLength: 1 / 0, track: false }, initialize: function(e4) {
            this.stack = new m(), this.objectRegistry = new s(), this.undoTypes = new p(), this.stack.setMaxLength(this.get("maximumStackLength")), this.on("change:maximumStackLength", function(t4, e5) {
              this.stack.setMaxLength(e5);
            }, this), e4 && e4.track && this.startTracking(), e4 && e4.register && (t3.isArray(e4.register) || t3.isArguments(e4.register) ? r3(this.register, this, e4.register) : this.register(e4.register));
          }, startTracking: function() {
            this.set("track", true), this.stack.track = true;
          }, stopTracking: function() {
            this.set("track", false), this.stack.track = false;
          }, isTracking: function() {
            return this.get("track");
          }, _addToStack: function(t4) {
            h(this.stack, t4, i2(arguments, 1), this.undoTypes);
          }, register: function() {
            l("on", arguments, this._addToStack, this);
          }, unregister: function() {
            l("off", arguments, this._addToStack, this);
          }, unregisterAll: function() {
            r3(this.unregister, this, this.objectRegistry.get());
          }, undo: function(t4) {
            u("undo", this, this.stack, t4);
          }, undoAll: function() {
            u("undo", this, this.stack, false, true);
          }, redo: function(t4) {
            u("redo", this, this.stack, t4);
          }, redoAll: function() {
            u("redo", this, this.stack, false, true);
          }, isAvailable: function(t4) {
            var e4 = this.stack, n4 = e4.length;
            switch (t4) {
              case "undo":
                return n4 > 0 && e4.pointer > -1;
              case "redo":
                return n4 > 0 && e4.pointer < n4 - 1;
              default:
                return false;
            }
          }, merge: function(e4) {
            for (var n4, r4 = t3.isArray(e4) ? e4 : i2(arguments); n4 = r4.pop(); ) n4 instanceof y && n4.stack instanceof m && (n4.stack = this.stack);
          }, addUndoType: function(t4, e4) {
            g(0, t4, e4, this.undoTypes);
          }, changeUndoType: function(t4, e4) {
            g(1, t4, e4, this.undoTypes);
          }, removeUndoType: function(t4) {
            g(2, t4, void 0, this.undoTypes);
          }, clear: function() {
            this.stack.reset(), this.stack.pointer = -1;
          } });
          return t3.extend(y, { defaults: function(e4) {
            t3.extend(y.prototype.defaults, e4);
          }, addUndoType: function(t4, e4) {
            g(0, t4, e4, d);
          }, changeUndoType: function(t4, e4) {
            g(1, t4, e4, d);
          }, removeUndoType: function(t4) {
            g(2, t4, void 0, d);
          } }), e3.UndoManager = y;
        }, void 0 === (o = "function" == typeof r2 ? r2.apply(e2, i) : r2) || (t2.exports = o);
      }, 2316: (t2, e2, n2) => {
        var r2, i;
        !function(o) {
          var a = "object" == typeof self && self.self === self && self || "object" == typeof n2.g && n2.g.global === n2.g && n2.g;
          if (1) r2 = [n2(9050), n2(2579), e2], i = (function(t3, e3, n3) {
            a.Backbone = function(t4, e4, n4, r3) {
              var i2 = t4.Backbone, o2 = Array.prototype.slice;
              e4.VERSION = "1.3.3", e4.$ = r3, e4.noConflict = function() {
                return t4.Backbone = i2, this;
              }, e4.emulateHTTP = false, e4.emulateJSON = false;
              var a2 = function(t5, e5, r4) {
                switch (t5) {
                  case 1:
                    return function() {
                      return n4[e5](this[r4]);
                    };
                  case 2:
                    return function(t6) {
                      return n4[e5](this[r4], t6);
                    };
                  case 3:
                    return function(t6, i3) {
                      return n4[e5](this[r4], l(t6, this), i3);
                    };
                  case 4:
                    return function(t6, i3, o3) {
                      return n4[e5](this[r4], l(t6, this), i3, o3);
                    };
                  default:
                    return function() {
                      var t6 = o2.call(arguments);
                      return t6.unshift(this[r4]), n4[e5].apply(n4, t6);
                    };
                }
              }, s = function(t5, e5, r4) {
                n4.each(e5, function(e6, i3) {
                  n4[i3] && (t5.prototype[i3] = a2(e6, i3, r4));
                });
              }, l = function(t5, e5) {
                return n4.isFunction(t5) ? t5 : n4.isObject(t5) && !e5._isModel(t5) ? c(t5) : n4.isString(t5) ? function(e6) {
                  return e6.get(t5);
                } : t5;
              }, c = function(t5) {
                var e5 = n4.matches(t5);
                return function(t6) {
                  return e5(t6.attributes);
                };
              }, u = e4.Events = {}, f = /\s+/, h = function(t5, e5, r4, i3, o3) {
                var a3, s2 = 0;
                if (r4 && "object" == typeof r4) {
                  void 0 !== i3 && "context" in o3 && void 0 === o3.context && (o3.context = i3);
                  for (a3 = n4.keys(r4); s2 < a3.length; s2++) e5 = h(t5, e5, a3[s2], r4[a3[s2]], o3);
                } else if (r4 && f.test(r4)) for (a3 = r4.split(f); s2 < a3.length; s2++) e5 = t5(e5, a3[s2], i3, o3);
                else e5 = t5(e5, r4, i3, o3);
                return e5;
              };
              u.on = function(t5, e5, n5) {
                return d(this, t5, e5, n5);
              };
              var d = function(t5, e5, n5, r4, i3) {
                (t5._events = h(p, t5._events || {}, e5, n5, { context: r4, ctx: t5, listening: i3 }), i3) && ((t5._listeners || (t5._listeners = {}))[i3.id] = i3);
                return t5;
              };
              u.listenTo = function(t5, e5, r4) {
                if (!t5) return this;
                var i3 = t5._listenId || (t5._listenId = n4.uniqueId("l")), o3 = this._listeningTo || (this._listeningTo = {}), a3 = o3[i3];
                if (!a3) {
                  var s2 = this._listenId || (this._listenId = n4.uniqueId("l"));
                  a3 = o3[i3] = { obj: t5, objId: i3, id: s2, listeningTo: o3, count: 0 };
                }
                return d(t5, e5, r4, this, a3), this;
              };
              var p = function(t5, e5, n5, r4) {
                if (n5) {
                  var i3 = t5[e5] || (t5[e5] = []), o3 = r4.context, a3 = r4.ctx, s2 = r4.listening;
                  s2 && s2.count++, i3.push({ callback: n5, context: o3, ctx: o3 || a3, listening: s2 });
                }
                return t5;
              };
              u.off = function(t5, e5, n5) {
                return this._events ? (this._events = h(g, this._events, t5, e5, { context: n5, listeners: this._listeners }), this) : this;
              }, u.stopListening = function(t5, e5, r4) {
                var i3 = this._listeningTo;
                if (!i3) return this;
                for (var o3 = t5 ? [t5._listenId] : n4.keys(i3), a3 = 0; a3 < o3.length; a3++) {
                  var s2 = i3[o3[a3]];
                  if (!s2) break;
                  s2.obj.off(e5, r4, this);
                }
                return this;
              };
              var g = function(t5, e5, r4, i3) {
                if (t5) {
                  var o3, a3 = 0, s2 = i3.context, l2 = i3.listeners;
                  if (e5 || r4 || s2) {
                    for (var c2 = e5 ? [e5] : n4.keys(t5); a3 < c2.length; a3++) {
                      var u2 = t5[e5 = c2[a3]];
                      if (!u2) break;
                      for (var f2 = [], h2 = 0; h2 < u2.length; h2++) {
                        var d2 = u2[h2];
                        r4 && r4 !== d2.callback && r4 !== d2.callback._callback || s2 && s2 !== d2.context ? f2.push(d2) : (o3 = d2.listening) && 0 == --o3.count && (delete l2[o3.id], delete o3.listeningTo[o3.objId]);
                      }
                      f2.length ? t5[e5] = f2 : delete t5[e5];
                    }
                    return t5;
                  }
                  for (var p2 = n4.keys(l2); a3 < p2.length; a3++) delete l2[(o3 = l2[p2[a3]]).id], delete o3.listeningTo[o3.objId];
                }
              };
              u.once = function(t5, e5, r4) {
                var i3 = h(v, {}, t5, e5, n4.bind(this.off, this));
                return "string" == typeof t5 && null == r4 && (e5 = void 0), this.on(i3, e5, r4);
              }, u.listenToOnce = function(t5, e5, r4) {
                var i3 = h(v, {}, e5, r4, n4.bind(this.stopListening, this, t5));
                return this.listenTo(t5, i3);
              };
              var v = function(t5, e5, r4, i3) {
                if (r4) {
                  var o3 = t5[e5] = n4.once(function() {
                    i3(e5, o3), r4.apply(this, arguments);
                  });
                  o3._callback = r4;
                }
                return t5;
              };
              u.trigger = function(t5) {
                if (!this._events) return this;
                for (var e5 = Math.max(0, arguments.length - 1), n5 = Array(e5), r4 = 0; r4 < e5; r4++) n5[r4] = arguments[r4 + 1];
                return h(m, this._events, t5, void 0, n5), this;
              };
              var m = function(t5, e5, n5, r4) {
                if (t5) {
                  var i3 = t5[e5], o3 = t5.all;
                  i3 && o3 && (o3 = o3.slice()), i3 && y(i3, r4), o3 && y(o3, [e5].concat(r4));
                }
                return t5;
              }, y = function(t5, e5) {
                var n5, r4 = -1, i3 = t5.length, o3 = e5[0], a3 = e5[1], s2 = e5[2];
                switch (e5.length) {
                  case 0:
                    for (; ++r4 < i3; ) (n5 = t5[r4]).callback.call(n5.ctx);
                    return;
                  case 1:
                    for (; ++r4 < i3; ) (n5 = t5[r4]).callback.call(n5.ctx, o3);
                    return;
                  case 2:
                    for (; ++r4 < i3; ) (n5 = t5[r4]).callback.call(n5.ctx, o3, a3);
                    return;
                  case 3:
                    for (; ++r4 < i3; ) (n5 = t5[r4]).callback.call(n5.ctx, o3, a3, s2);
                    return;
                  default:
                    for (; ++r4 < i3; ) (n5 = t5[r4]).callback.apply(n5.ctx, e5);
                    return;
                }
              };
              u.bind = u.on, u.unbind = u.off, n4.extend(e4, u);
              var b = e4.Model = function(t5, e5) {
                var r4 = t5 || {};
                e5 || (e5 = {}), this.cid = n4.uniqueId(this.cidPrefix), this.attributes = {}, e5.collection && (this.collection = e5.collection), e5.parse && (r4 = this.parse(r4, e5) || {});
                var i3 = n4.result(this, "defaults");
                r4 = n4.defaults(n4.extend({}, i3, r4), i3), this.set(r4, e5), this.changed = {}, this.initialize.apply(this, arguments);
              };
              n4.extend(b.prototype, u, { changed: null, validationError: null, idAttribute: "id", cidPrefix: "c", initialize: function() {
              }, toJSON: function(t5) {
                return n4.clone(this.attributes);
              }, sync: function() {
                return e4.sync.apply(this, arguments);
              }, get: function(t5) {
                return this.attributes[t5];
              }, escape: function(t5) {
                return n4.escape(this.get(t5));
              }, has: function(t5) {
                return null != this.get(t5);
              }, matches: function(t5) {
                return !!n4.iteratee(t5, this)(this.attributes);
              }, set: function(t5, e5, r4) {
                if (null == t5) return this;
                var i3;
                if ("object" == typeof t5 ? (i3 = t5, r4 = e5) : (i3 = {})[t5] = e5, r4 || (r4 = {}), !this._validate(i3, r4)) return false;
                var o3 = r4.unset, a3 = r4.silent, s2 = [], l2 = this._changing;
                this._changing = true, l2 || (this._previousAttributes = n4.clone(this.attributes), this.changed = {});
                var c2 = this.attributes, u2 = this.changed, f2 = this._previousAttributes;
                for (var h2 in i3) e5 = i3[h2], n4.isEqual(c2[h2], e5) || s2.push(h2), n4.isEqual(f2[h2], e5) ? delete u2[h2] : u2[h2] = e5, o3 ? delete c2[h2] : c2[h2] = e5;
                if (this.idAttribute in i3 && (this.id = this.get(this.idAttribute)), !a3) {
                  s2.length && (this._pending = r4);
                  for (var d2 = 0; d2 < s2.length; d2++) this.trigger("change:" + s2[d2], this, c2[s2[d2]], r4);
                }
                if (l2) return this;
                if (!a3) for (; this._pending; ) r4 = this._pending, this._pending = false, this.trigger("change", this, r4);
                return this._pending = false, this._changing = false, this;
              }, unset: function(t5, e5) {
                return this.set(t5, void 0, n4.extend({}, e5, { unset: true }));
              }, clear: function(t5) {
                var e5 = {};
                for (var r4 in this.attributes) e5[r4] = void 0;
                return this.set(e5, n4.extend({}, t5, { unset: true }));
              }, hasChanged: function(t5) {
                return null == t5 ? !n4.isEmpty(this.changed) : n4.has(this.changed, t5);
              }, changedAttributes: function(t5) {
                if (!t5) return !!this.hasChanged() && n4.clone(this.changed);
                var e5 = this._changing ? this._previousAttributes : this.attributes, r4 = {};
                for (var i3 in t5) {
                  var o3 = t5[i3];
                  n4.isEqual(e5[i3], o3) || (r4[i3] = o3);
                }
                return !!n4.size(r4) && r4;
              }, previous: function(t5) {
                return null != t5 && this._previousAttributes ? this._previousAttributes[t5] : null;
              }, previousAttributes: function() {
                return n4.clone(this._previousAttributes);
              }, fetch: function(t5) {
                t5 = n4.extend({ parse: true }, t5);
                var e5 = this, r4 = t5.success;
                return t5.success = function(n5) {
                  var i3 = t5.parse ? e5.parse(n5, t5) : n5;
                  if (!e5.set(i3, t5)) return false;
                  r4 && r4.call(t5.context, e5, n5, t5), e5.trigger("sync", e5, n5, t5);
                }, F(this, t5), this.sync("read", this, t5);
              }, save: function(t5, e5, r4) {
                var i3;
                null == t5 || "object" == typeof t5 ? (i3 = t5, r4 = e5) : (i3 = {})[t5] = e5;
                var o3 = (r4 = n4.extend({ validate: true, parse: true }, r4)).wait;
                if (i3 && !o3) {
                  if (!this.set(i3, r4)) return false;
                } else if (!this._validate(i3, r4)) return false;
                var a3 = this, s2 = r4.success, l2 = this.attributes;
                r4.success = function(t6) {
                  a3.attributes = l2;
                  var e6 = r4.parse ? a3.parse(t6, r4) : t6;
                  if (o3 && (e6 = n4.extend({}, i3, e6)), e6 && !a3.set(e6, r4)) return false;
                  s2 && s2.call(r4.context, a3, t6, r4), a3.trigger("sync", a3, t6, r4);
                }, F(this, r4), i3 && o3 && (this.attributes = n4.extend({}, l2, i3));
                var c2 = this.isNew() ? "create" : r4.patch ? "patch" : "update";
                "patch" !== c2 || r4.attrs || (r4.attrs = i3);
                var u2 = this.sync(c2, this, r4);
                return this.attributes = l2, u2;
              }, destroy: function(t5) {
                t5 = t5 ? n4.clone(t5) : {};
                var e5 = this, r4 = t5.success, i3 = t5.wait, o3 = function() {
                  e5.stopListening(), e5.trigger("destroy", e5, e5.collection, t5);
                };
                t5.success = function(n5) {
                  i3 && o3(), r4 && r4.call(t5.context, e5, n5, t5), e5.isNew() || e5.trigger("sync", e5, n5, t5);
                };
                var a3 = false;
                return this.isNew() ? n4.defer(t5.success) : (F(this, t5), a3 = this.sync("delete", this, t5)), i3 || o3(), a3;
              }, url: function() {
                var t5 = n4.result(this, "urlRoot") || n4.result(this.collection, "url") || I();
                if (this.isNew()) return t5;
                var e5 = this.get(this.idAttribute);
                return t5.replace(/[^\/]$/, "$&/") + encodeURIComponent(e5);
              }, parse: function(t5, e5) {
                return t5;
              }, clone: function() {
                return new this.constructor(this.attributes);
              }, isNew: function() {
                return !this.has(this.idAttribute);
              }, isValid: function(t5) {
                return this._validate({}, n4.extend({}, t5, { validate: true }));
              }, _validate: function(t5, e5) {
                if (!e5.validate || !this.validate) return true;
                t5 = n4.extend({}, this.attributes, t5);
                var r4 = this.validationError = this.validate(t5, e5) || null;
                return !r4 || (this.trigger("invalid", this, r4, n4.extend(e5, { validationError: r4 })), false);
              } }), s(b, { keys: 1, values: 1, pairs: 1, invert: 1, pick: 0, omit: 0, chain: 1, isEmpty: 1 }, "attributes");
              var w = e4.Collection = function(t5, e5) {
                e5 || (e5 = {}), e5.model && (this.model = e5.model), void 0 !== e5.comparator && (this.comparator = e5.comparator), this._reset(), this.initialize.apply(this, arguments), t5 && this.reset(t5, n4.extend({ silent: true }, e5));
              }, k = { add: true, remove: true, merge: true }, x = { add: true, remove: false }, O = function(t5, e5, n5) {
                n5 = Math.min(Math.max(n5, 0), t5.length);
                var r4, i3 = Array(t5.length - n5), o3 = e5.length;
                for (r4 = 0; r4 < i3.length; r4++) i3[r4] = t5[r4 + n5];
                for (r4 = 0; r4 < o3; r4++) t5[r4 + n5] = e5[r4];
                for (r4 = 0; r4 < i3.length; r4++) t5[r4 + o3 + n5] = i3[r4];
              };
              n4.extend(w.prototype, u, { model: b, initialize: function() {
              }, toJSON: function(t5) {
                return this.map(function(e5) {
                  return e5.toJSON(t5);
                });
              }, sync: function() {
                return e4.sync.apply(this, arguments);
              }, add: function(t5, e5) {
                return this.set(t5, n4.extend({ merge: false }, e5, x));
              }, remove: function(t5, e5) {
                e5 = n4.extend({}, e5);
                var r4 = !n4.isArray(t5);
                t5 = r4 ? [t5] : t5.slice();
                var i3 = this._removeModels(t5, e5);
                return !e5.silent && i3.length && (e5.changes = { added: [], merged: [], removed: i3 }, this.trigger("update", this, e5)), r4 ? i3[0] : i3;
              }, set: function(t5, e5) {
                if (null != t5) {
                  (e5 = n4.extend({}, k, e5)).parse && !this._isModel(t5) && (t5 = this.parse(t5, e5) || []);
                  var r4 = !n4.isArray(t5);
                  t5 = r4 ? [t5] : t5.slice();
                  var i3 = e5.at;
                  null != i3 && (i3 = +i3), i3 > this.length && (i3 = this.length), i3 < 0 && (i3 += this.length + 1);
                  var o3, a3, s2 = [], l2 = [], c2 = [], u2 = [], f2 = {}, h2 = e5.add, d2 = e5.merge, p2 = e5.remove, g2 = false, v2 = this.comparator && null == i3 && false !== e5.sort, m2 = n4.isString(this.comparator) ? this.comparator : null;
                  for (a3 = 0; a3 < t5.length; a3++) {
                    o3 = t5[a3];
                    var y2 = this.get(o3);
                    if (y2) {
                      if (d2 && o3 !== y2) {
                        var b2 = this._isModel(o3) ? o3.attributes : o3;
                        e5.parse && (b2 = y2.parse(b2, e5)), y2.set(b2, e5), c2.push(y2), v2 && !g2 && (g2 = y2.hasChanged(m2));
                      }
                      f2[y2.cid] || (f2[y2.cid] = true, s2.push(y2)), t5[a3] = y2;
                    } else h2 && (o3 = t5[a3] = this._prepareModel(o3, e5)) && (l2.push(o3), this._addReference(o3, e5), f2[o3.cid] = true, s2.push(o3));
                  }
                  if (p2) {
                    for (a3 = 0; a3 < this.length; a3++) f2[(o3 = this.models[a3]).cid] || u2.push(o3);
                    u2.length && this._removeModels(u2, e5);
                  }
                  var w2 = false, x2 = !v2 && h2 && p2;
                  if (s2.length && x2 ? (w2 = this.length !== s2.length || n4.some(this.models, function(t6, e6) {
                    return t6 !== s2[e6];
                  }), this.models.length = 0, O(this.models, s2, 0), this.length = this.models.length) : l2.length && (v2 && (g2 = true), O(this.models, l2, null == i3 ? this.length : i3), this.length = this.models.length), g2 && this.sort({ silent: true }), !e5.silent) {
                    for (a3 = 0; a3 < l2.length; a3++) null != i3 && (e5.index = i3 + a3), (o3 = l2[a3]).trigger("add", o3, this, e5);
                    (g2 || w2) && this.trigger("sort", this, e5), (l2.length || u2.length || c2.length) && (e5.changes = { added: l2, removed: u2, merged: c2 }, this.trigger("update", this, e5));
                  }
                  return r4 ? t5[0] : t5;
                }
              }, reset: function(t5, e5) {
                e5 = e5 ? n4.clone(e5) : {};
                for (var r4 = 0; r4 < this.models.length; r4++) this._removeReference(this.models[r4], e5);
                return e5.previousModels = this.models, this._reset(), t5 = this.add(t5, n4.extend({ silent: true }, e5)), e5.silent || this.trigger("reset", this, e5), t5;
              }, push: function(t5, e5) {
                return this.add(t5, n4.extend({ at: this.length }, e5));
              }, pop: function(t5) {
                var e5 = this.at(this.length - 1);
                return this.remove(e5, t5);
              }, unshift: function(t5, e5) {
                return this.add(t5, n4.extend({ at: 0 }, e5));
              }, shift: function(t5) {
                var e5 = this.at(0);
                return this.remove(e5, t5);
              }, slice: function() {
                return o2.apply(this.models, arguments);
              }, get: function(t5) {
                if (null != t5) return this._byId[t5] || this._byId[this.modelId(t5.attributes || t5)] || t5.cid && this._byId[t5.cid];
              }, has: function(t5) {
                return null != this.get(t5);
              }, at: function(t5) {
                return t5 < 0 && (t5 += this.length), this.models[t5];
              }, where: function(t5, e5) {
                return this[e5 ? "find" : "filter"](t5);
              }, findWhere: function(t5) {
                return this.where(t5, true);
              }, sort: function(t5) {
                var e5 = this.comparator;
                if (!e5) throw new Error("Cannot sort a set without a comparator");
                t5 || (t5 = {});
                var r4 = e5.length;
                return n4.isFunction(e5) && (e5 = n4.bind(e5, this)), 1 === r4 || n4.isString(e5) ? this.models = this.sortBy(e5) : this.models.sort(e5), t5.silent || this.trigger("sort", this, t5), this;
              }, pluck: function(t5) {
                return this.map(t5 + "");
              }, fetch: function(t5) {
                var e5 = (t5 = n4.extend({ parse: true }, t5)).success, r4 = this;
                return t5.success = function(n5) {
                  var i3 = t5.reset ? "reset" : "set";
                  r4[i3](n5, t5), e5 && e5.call(t5.context, r4, n5, t5), r4.trigger("sync", r4, n5, t5);
                }, F(this, t5), this.sync("read", this, t5);
              }, create: function(t5, e5) {
                var r4 = (e5 = e5 ? n4.clone(e5) : {}).wait;
                if (!(t5 = this._prepareModel(t5, e5))) return false;
                r4 || this.add(t5, e5);
                var i3 = this, o3 = e5.success;
                return e5.success = function(t6, e6, n5) {
                  r4 && i3.add(t6, n5), o3 && o3.call(n5.context, t6, e6, n5);
                }, t5.save(null, e5), t5;
              }, parse: function(t5, e5) {
                return t5;
              }, clone: function() {
                return new this.constructor(this.models, { model: this.model, comparator: this.comparator });
              }, modelId: function(t5) {
                return t5[this.model.prototype.idAttribute || "id"];
              }, _reset: function() {
                this.length = 0, this.models = [], this._byId = {};
              }, _prepareModel: function(t5, e5) {
                if (this._isModel(t5)) return t5.collection || (t5.collection = this), t5;
                (e5 = e5 ? n4.clone(e5) : {}).collection = this;
                var r4 = new this.model(t5, e5);
                return r4.validationError ? (this.trigger("invalid", this, r4.validationError, e5), false) : r4;
              }, _removeModels: function(t5, e5) {
                for (var n5 = [], r4 = 0; r4 < t5.length; r4++) {
                  var i3 = this.get(t5[r4]);
                  if (i3) {
                    var o3 = this.indexOf(i3);
                    this.models.splice(o3, 1), this.length--, delete this._byId[i3.cid];
                    var a3 = this.modelId(i3.attributes);
                    null != a3 && delete this._byId[a3], e5.silent || (e5.index = o3, i3.trigger("remove", i3, this, e5)), n5.push(i3), this._removeReference(i3, e5);
                  }
                }
                return n5;
              }, _isModel: function(t5) {
                return t5 instanceof b;
              }, _addReference: function(t5, e5) {
                this._byId[t5.cid] = t5;
                var n5 = this.modelId(t5.attributes);
                null != n5 && (this._byId[n5] = t5), t5.on("all", this._onModelEvent, this);
              }, _removeReference: function(t5, e5) {
                delete this._byId[t5.cid];
                var n5 = this.modelId(t5.attributes);
                null != n5 && delete this._byId[n5], this === t5.collection && delete t5.collection, t5.off("all", this._onModelEvent, this);
              }, _onModelEvent: function(t5, e5, n5, r4) {
                if (e5) {
                  if (("add" === t5 || "remove" === t5) && n5 !== this) return;
                  if ("destroy" === t5 && this.remove(e5, r4), "change" === t5) {
                    var i3 = this.modelId(e5.previousAttributes()), o3 = this.modelId(e5.attributes);
                    i3 !== o3 && (null != i3 && delete this._byId[i3], null != o3 && (this._byId[o3] = e5));
                  }
                }
                this.trigger.apply(this, arguments);
              } }), s(w, { forEach: 3, each: 3, map: 3, collect: 3, reduce: 0, foldl: 0, inject: 0, reduceRight: 0, foldr: 0, find: 3, detect: 3, filter: 3, select: 3, reject: 3, every: 3, all: 3, some: 3, any: 3, include: 3, includes: 3, contains: 3, invoke: 0, max: 3, min: 3, toArray: 1, size: 1, first: 3, head: 3, take: 3, initial: 3, rest: 3, tail: 3, drop: 3, last: 3, without: 0, difference: 0, indexOf: 3, shuffle: 1, lastIndexOf: 3, isEmpty: 1, chain: 1, sample: 3, partition: 3, groupBy: 3, countBy: 3, sortBy: 3, indexBy: 3, findIndex: 3, findLastIndex: 3 }, "models");
              var C = e4.View = function(t5) {
                this.cid = n4.uniqueId("view"), n4.extend(this, n4.pick(t5, _)), this._ensureElement(), this.initialize.apply(this, arguments);
              }, S = /^(\S+)\s*(.*)$/, _ = ["model", "collection", "el", "id", "attributes", "className", "tagName", "events"];
              n4.extend(C.prototype, u, { tagName: "div", $: function(t5) {
                return this.$el.find(t5);
              }, initialize: function() {
              }, render: function() {
                return this;
              }, remove: function() {
                return this._removeElement(), this.stopListening(), this;
              }, _removeElement: function() {
                this.$el.remove();
              }, setElement: function(t5) {
                return this.undelegateEvents(), this._setElement(t5), this.delegateEvents(), this;
              }, _setElement: function(t5) {
                this.$el = t5 instanceof e4.$ ? t5 : e4.$(t5), this.el = this.$el[0];
              }, delegateEvents: function(t5) {
                if (t5 || (t5 = n4.result(this, "events")), !t5) return this;
                for (var e5 in this.undelegateEvents(), t5) {
                  var r4 = t5[e5];
                  if (n4.isFunction(r4) || (r4 = this[r4]), r4) {
                    var i3 = e5.match(S);
                    this.delegate(i3[1], i3[2], n4.bind(r4, this));
                  }
                }
                return this;
              }, delegate: function(t5, e5, n5) {
                return this.$el.on(t5 + ".delegateEvents" + this.cid, e5, n5), this;
              }, undelegateEvents: function() {
                return this.$el && this.$el.off(".delegateEvents" + this.cid), this;
              }, undelegate: function(t5, e5, n5) {
                return this.$el.off(t5 + ".delegateEvents" + this.cid, e5, n5), this;
              }, _createElement: function(t5) {
                return document.createElement(t5);
              }, _ensureElement: function() {
                if (this.el) this.setElement(n4.result(this, "el"));
                else {
                  var t5 = n4.extend({}, n4.result(this, "attributes"));
                  this.id && (t5.id = n4.result(this, "id")), this.className && (t5["class"] = n4.result(this, "className")), this.setElement(this._createElement(n4.result(this, "tagName"))), this._setAttributes(t5);
                }
              }, _setAttributes: function(t5) {
                this.$el.attr(t5);
              } }), e4.sync = function(t5, r4, i3) {
                var o3 = P[t5];
                n4.defaults(i3 || (i3 = {}), { emulateHTTP: e4.emulateHTTP, emulateJSON: e4.emulateJSON });
                var a3 = { type: o3, dataType: "json" };
                if (i3.url || (a3.url = n4.result(r4, "url") || I()), null != i3.data || !r4 || "create" !== t5 && "update" !== t5 && "patch" !== t5 || (a3.contentType = "application/json", a3.data = JSON.stringify(i3.attrs || r4.toJSON(i3))), i3.emulateJSON && (a3.contentType = "application/x-www-form-urlencoded", a3.data = a3.data ? { model: a3.data } : {}), i3.emulateHTTP && ("PUT" === o3 || "DELETE" === o3 || "PATCH" === o3)) {
                  a3.type = "POST", i3.emulateJSON && (a3.data._method = o3);
                  var s2 = i3.beforeSend;
                  i3.beforeSend = function(t6) {
                    if (t6.setRequestHeader("X-HTTP-Method-Override", o3), s2) return s2.apply(this, arguments);
                  };
                }
                "GET" === a3.type || i3.emulateJSON || (a3.processData = false);
                var l2 = i3.error;
                i3.error = function(t6, e5, n5) {
                  i3.textStatus = e5, i3.errorThrown = n5, l2 && l2.call(i3.context, t6, e5, n5);
                };
                var c2 = i3.xhr = e4.ajax(n4.extend(a3, i3));
                return r4.trigger("request", r4, c2, i3), c2;
              };
              var P = { create: "POST", update: "PUT", patch: "PATCH", delete: "DELETE", read: "GET" };
              e4.ajax = function() {
                return e4.$.ajax.apply(e4.$, arguments);
              };
              var T = e4.Router = function(t5) {
                t5 || (t5 = {}), t5.routes && (this.routes = t5.routes), this._bindRoutes(), this.initialize.apply(this, arguments);
              }, E = /\((.*?)\)/g, j = /(\(\?)?:\w+/g, A = /\*\w+/g, D = /[\-{}\[\]+?.,\\\^$|#\s]/g;
              n4.extend(T.prototype, u, { initialize: function() {
              }, route: function(t5, r4, i3) {
                n4.isRegExp(t5) || (t5 = this._routeToRegExp(t5)), n4.isFunction(r4) && (i3 = r4, r4 = ""), i3 || (i3 = this[r4]);
                var o3 = this;
                return e4.history.route(t5, function(n5) {
                  var a3 = o3._extractParameters(t5, n5);
                  false !== o3.execute(i3, a3, r4) && (o3.trigger.apply(o3, ["route:" + r4].concat(a3)), o3.trigger("route", r4, a3), e4.history.trigger("route", o3, r4, a3));
                }), this;
              }, execute: function(t5, e5, n5) {
                t5 && t5.apply(this, e5);
              }, navigate: function(t5, n5) {
                return e4.history.navigate(t5, n5), this;
              }, _bindRoutes: function() {
                if (this.routes) {
                  this.routes = n4.result(this, "routes");
                  for (var t5, e5 = n4.keys(this.routes); null != (t5 = e5.pop()); ) this.route(t5, this.routes[t5]);
                }
              }, _routeToRegExp: function(t5) {
                return t5 = t5.replace(D, "\\$&").replace(E, "(?:$1)?").replace(j, function(t6, e5) {
                  return e5 ? t6 : "([^/?]+)";
                }).replace(A, "([^?]*?)"), new RegExp("^" + t5 + "(?:\\?([\\s\\S]*))?$");
              }, _extractParameters: function(t5, e5) {
                var r4 = t5.exec(e5).slice(1);
                return n4.map(r4, function(t6, e6) {
                  return e6 === r4.length - 1 ? t6 || null : t6 ? decodeURIComponent(t6) : null;
                });
              } });
              var M = e4.History = function() {
                this.handlers = [], this.checkUrl = n4.bind(this.checkUrl, this), "undefined" != typeof window && (this.location = window.location, this.history = window.history);
              }, R = /^[#\/]|\s+$/g, Z = /^\/+|\/+$/g, L = /#.*$/;
              M.started = false, n4.extend(M.prototype, u, { interval: 50, atRoot: function() {
                return this.location.pathname.replace(/[^\/]$/, "$&/") === this.root && !this.getSearch();
              }, matchRoot: function() {
                return this.decodeFragment(this.location.pathname).slice(0, this.root.length - 1) + "/" === this.root;
              }, decodeFragment: function(t5) {
                return decodeURI(t5.replace(/%25/g, "%2525"));
              }, getSearch: function() {
                var t5 = this.location.href.replace(/#.*/, "").match(/\?.+/);
                return t5 ? t5[0] : "";
              }, getHash: function(t5) {
                var e5 = (t5 || this).location.href.match(/#(.*)$/);
                return e5 ? e5[1] : "";
              }, getPath: function() {
                var t5 = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1);
                return "/" === t5.charAt(0) ? t5.slice(1) : t5;
              }, getFragment: function(t5) {
                return null == t5 && (t5 = this._usePushState || !this._wantsHashChange ? this.getPath() : this.getHash()), t5.replace(R, "");
              }, start: function(t5) {
                if (M.started) throw new Error("Backbone.history has already been started");
                if (M.started = true, this.options = n4.extend({ root: "/" }, this.options, t5), this.root = this.options.root, this._wantsHashChange = false !== this.options.hashChange, this._hasHashChange = "onhashchange" in window && (void 0 === document.documentMode || document.documentMode > 7), this._useHashChange = this._wantsHashChange && this._hasHashChange, this._wantsPushState = !!this.options.pushState, this._hasPushState = !(!this.history || !this.history.pushState), this._usePushState = this._wantsPushState && this._hasPushState, this.fragment = this.getFragment(), this.root = ("/" + this.root + "/").replace(Z, "/"), this._wantsHashChange && this._wantsPushState) {
                  if (!this._hasPushState && !this.atRoot()) {
                    var e5 = this.root.slice(0, -1) || "/";
                    return this.location.replace(e5 + "#" + this.getPath()), true;
                  }
                  this._hasPushState && this.atRoot() && this.navigate(this.getHash(), { replace: true });
                }
                if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {
                  this.iframe = document.createElement("iframe"), this.iframe.src = "javascript:0", this.iframe.style.display = "none", this.iframe.tabIndex = -1;
                  var r4 = document.body, i3 = r4.insertBefore(this.iframe, r4.firstChild).contentWindow;
                  i3.document.open(), i3.document.close(), i3.location.hash = "#" + this.fragment;
                }
                var o3 = window.addEventListener || function(t6, e6) {
                  return attachEvent("on" + t6, e6);
                };
                if (this._usePushState ? o3("popstate", this.checkUrl, false) : this._useHashChange && !this.iframe ? o3("hashchange", this.checkUrl, false) : this._wantsHashChange && (this._checkUrlInterval = setInterval(this.checkUrl, this.interval)), !this.options.silent) return this.loadUrl();
              }, stop: function() {
                var t5 = window.removeEventListener || function(t6, e5) {
                  return detachEvent("on" + t6, e5);
                };
                this._usePushState ? t5("popstate", this.checkUrl, false) : this._useHashChange && !this.iframe && t5("hashchange", this.checkUrl, false), this.iframe && (document.body.removeChild(this.iframe), this.iframe = null), this._checkUrlInterval && clearInterval(this._checkUrlInterval), M.started = false;
              }, route: function(t5, e5) {
                this.handlers.unshift({ route: t5, callback: e5 });
              }, checkUrl: function(t5) {
                var e5 = this.getFragment();
                if (e5 === this.fragment && this.iframe && (e5 = this.getHash(this.iframe.contentWindow)), e5 === this.fragment) return false;
                this.iframe && this.navigate(e5), this.loadUrl();
              }, loadUrl: function(t5) {
                return !!this.matchRoot() && (t5 = this.fragment = this.getFragment(t5), n4.some(this.handlers, function(e5) {
                  if (e5.route.test(t5)) return e5.callback(t5), true;
                }));
              }, navigate: function(t5, e5) {
                if (!M.started) return false;
                e5 && true !== e5 || (e5 = { trigger: !!e5 }), t5 = this.getFragment(t5 || "");
                var n5 = this.root;
                "" !== t5 && "?" !== t5.charAt(0) || (n5 = n5.slice(0, -1) || "/");
                var r4 = n5 + t5;
                if (t5 = this.decodeFragment(t5.replace(L, "")), this.fragment !== t5) {
                  if (this.fragment = t5, this._usePushState) this.history[e5.replace ? "replaceState" : "pushState"]({}, document.title, r4);
                  else {
                    if (!this._wantsHashChange) return this.location.assign(r4);
                    if (this._updateHash(this.location, t5, e5.replace), this.iframe && t5 !== this.getHash(this.iframe.contentWindow)) {
                      var i3 = this.iframe.contentWindow;
                      e5.replace || (i3.document.open(), i3.document.close()), this._updateHash(i3.location, t5, e5.replace);
                    }
                  }
                  return e5.trigger ? this.loadUrl(t5) : void 0;
                }
              }, _updateHash: function(t5, e5, n5) {
                if (n5) {
                  var r4 = t5.href.replace(/(javascript:|#).*$/, "");
                  t5.replace(r4 + "#" + e5);
                } else t5.hash = "#" + e5;
              } }), e4.history = new M();
              var N = function(t5, e5) {
                var r4, i3 = this;
                return r4 = t5 && n4.has(t5, "constructor") ? t5.constructor : function() {
                  return i3.apply(this, arguments);
                }, n4.extend(r4, i3, e5), r4.prototype = n4.create(i3.prototype, t5), r4.prototype.constructor = r4, r4.__super__ = i3.prototype, r4;
              };
              b.extend = w.extend = T.extend = C.extend = M.extend = N;
              var I = function() {
                throw new Error('A "url" property or function must be specified');
              }, F = function(t5, e5) {
                var n5 = e5.error;
                e5.error = function(r4) {
                  n5 && n5.call(e5.context, t5, r4, e5), t5.trigger("error", t5, r4, e5);
                };
              };
              return e4;
            }(a, n3, t3, e3);
          }).apply(e2, r2), void 0 === i || (t2.exports = i);
          else ;
        }();
      }, 9210: (t2, e2, n2) => {
        (function(t3) {
          t3.extendMode("css", { commentStart: "/*", commentEnd: "*/", newlineAfterToken: function(t4, e4) {
            return /^[;{}]$/.test(e4);
          } }), t3.extendMode("javascript", { commentStart: "/*", commentEnd: "*/", newlineAfterToken: function(t4, e4, n3, r2) {
            return this.jsonMode ? /^[\[,{]$/.test(e4) || /^}/.test(n3) : (";" != e4 || !r2.lexical || ")" != r2.lexical.type) && /^[;{}]$/.test(e4) && !/^;/.test(n3);
          } });
          var e3 = /^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;
          t3.extendMode("xml", { commentStart: "<!--", commentEnd: "-->", newlineAfterToken: function(t4, n3, r2, i) {
            var o = false;
            return "html" == this.configuration && (o = !!i.context && e3.test(i.context.tagName)), !o && ("tag" == t4 && />$/.test(n3) && i.context || /^</.test(r2));
          } }), t3.defineExtension("commentRange", function(e4, n3, r2) {
            var i = this, o = t3.innerMode(i.getMode(), i.getTokenAt(n3).state).mode;
            i.operation(function() {
              if (e4) i.replaceRange(o.commentEnd, r2), i.replaceRange(o.commentStart, n3), n3.line == r2.line && n3.ch == r2.ch && i.setCursor(n3.line, n3.ch + o.commentStart.length);
              else {
                var t4 = i.getRange(n3, r2), a = t4.indexOf(o.commentStart), s = t4.lastIndexOf(o.commentEnd);
                a > -1 && s > -1 && s > a && (t4 = t4.substr(0, a) + t4.substring(a + o.commentStart.length, s) + t4.substr(s + o.commentEnd.length)), i.replaceRange(t4, n3, r2);
              }
            });
          }), t3.defineExtension("autoIndentRange", function(t4, e4) {
            var n3 = this;
            this.operation(function() {
              for (var r2 = t4.line; r2 <= e4.line; r2++) n3.indentLine(r2, "smart");
            });
          }), t3.defineExtension("autoFormatRange", function(e4, n3) {
            var r2 = this, i = r2.getMode(), o = r2.getRange(e4, n3).split("\n"), a = t3.copyState(i, r2.getTokenAt(e4).state), s = r2.getOption("tabSize"), l = "", c = 0, u = 0 === e4.ch;
            function f() {
              l += "\n", u = true, ++c;
            }
            for (var h = 0; h < o.length; ++h) {
              for (var d = new t3.StringStream(o[h], s); !d.eol(); ) {
                var p = t3.innerMode(i, a), g = i.token(d, a), v = d.current();
                d.start = d.pos, u && !/\S/.test(v) || (l += v, u = false), !u && p.mode.newlineAfterToken && p.mode.newlineAfterToken(g, v, d.string.slice(d.pos) || o[h + 1] || "", p.state) && f();
              }
              !d.pos && i.blankLine && i.blankLine(a), !u && h < o.length - 1 && f();
            }
            r2.operation(function() {
              r2.replaceRange(l, e4, n3);
              for (var t4 = e4.line + 1, i2 = e4.line + c; t4 <= i2; ++t4) r2.indentLine(t4, "smart");
              r2.setSelection(e4, r2.getCursor(false));
            });
          });
        })(n2(4631));
      }, 4631: function(t2) {
        t2.exports = function() {
          "use strict";
          var t3 = navigator.userAgent, e2 = navigator.platform, n2 = /gecko\/\d/i.test(t3), r2 = /MSIE \d/.test(t3), i = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t3), o = /Edge\/(\d+)/.exec(t3), a = r2 || i || o, s = a && (r2 ? document.documentMode || 6 : +(o || i)[1]), l = !o && /WebKit\//.test(t3), c = l && /Qt\/\d+\.\d+/.test(t3), u = !o && /Chrome\//.test(t3), f = /Opera\//.test(t3), h = /Apple Computer/.test(navigator.vendor), d = /Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t3), p = /PhantomJS/.test(t3), g = h && (/Mobile\/\w+/.test(t3) || navigator.maxTouchPoints > 2), v = /Android/.test(t3), m = g || v || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t3), y = g || /Mac/.test(e2), b = /\bCrOS\b/.test(t3), w = /win/i.test(e2), k = f && t3.match(/Version\/(\d*\.\d*)/);
          k && (k = Number(k[1])), k && k >= 15 && (f = false, l = true);
          var x = y && (c || f && (null == k || k < 12.11)), O = n2 || a && s >= 9;
          function C(t4) {
            return new RegExp("(^|\\s)" + t4 + "(?:$|\\s)\\s*");
          }
          var S, _ = function(t4, e3) {
            var n3 = t4.className, r3 = C(e3).exec(n3);
            if (r3) {
              var i2 = n3.slice(r3.index + r3[0].length);
              t4.className = n3.slice(0, r3.index) + (i2 ? r3[1] + i2 : "");
            }
          };
          function P(t4) {
            for (var e3 = t4.childNodes.length; e3 > 0; --e3) t4.removeChild(t4.firstChild);
            return t4;
          }
          function T(t4, e3) {
            return P(t4).appendChild(e3);
          }
          function E(t4, e3, n3, r3) {
            var i2 = document.createElement(t4);
            if (n3 && (i2.className = n3), r3 && (i2.style.cssText = r3), "string" == typeof e3) i2.appendChild(document.createTextNode(e3));
            else if (e3) for (var o2 = 0; o2 < e3.length; ++o2) i2.appendChild(e3[o2]);
            return i2;
          }
          function j(t4, e3, n3, r3) {
            var i2 = E(t4, e3, n3, r3);
            return i2.setAttribute("role", "presentation"), i2;
          }
          function A(t4, e3) {
            if (3 == e3.nodeType && (e3 = e3.parentNode), t4.contains) return t4.contains(e3);
            do {
              if (11 == e3.nodeType && (e3 = e3.host), e3 == t4) return true;
            } while (e3 = e3.parentNode);
          }
          function D() {
            var t4;
            try {
              t4 = document.activeElement;
            } catch (e3) {
              t4 = document.body || null;
            }
            for (; t4 && t4.shadowRoot && t4.shadowRoot.activeElement; ) t4 = t4.shadowRoot.activeElement;
            return t4;
          }
          function M(t4, e3) {
            var n3 = t4.className;
            C(e3).test(n3) || (t4.className += (n3 ? " " : "") + e3);
          }
          function R(t4, e3) {
            for (var n3 = t4.split(" "), r3 = 0; r3 < n3.length; r3++) n3[r3] && !C(n3[r3]).test(e3) && (e3 += " " + n3[r3]);
            return e3;
          }
          S = document.createRange ? function(t4, e3, n3, r3) {
            var i2 = document.createRange();
            return i2.setEnd(r3 || t4, n3), i2.setStart(t4, e3), i2;
          } : function(t4, e3, n3) {
            var r3 = document.body.createTextRange();
            try {
              r3.moveToElementText(t4.parentNode);
            } catch (t5) {
              return r3;
            }
            return r3.collapse(true), r3.moveEnd("character", n3), r3.moveStart("character", e3), r3;
          };
          var Z = function(t4) {
            t4.select();
          };
          function L(t4) {
            var e3 = Array.prototype.slice.call(arguments, 1);
            return function() {
              return t4.apply(null, e3);
            };
          }
          function N(t4, e3, n3) {
            for (var r3 in e3 || (e3 = {}), t4) !t4.hasOwnProperty(r3) || false === n3 && e3.hasOwnProperty(r3) || (e3[r3] = t4[r3]);
            return e3;
          }
          function I(t4, e3, n3, r3, i2) {
            null == e3 && -1 == (e3 = t4.search(/[^\s\u00a0]/)) && (e3 = t4.length);
            for (var o2 = r3 || 0, a2 = i2 || 0; ; ) {
              var s2 = t4.indexOf("	", o2);
              if (s2 < 0 || s2 >= e3) return a2 + (e3 - o2);
              a2 += s2 - o2, a2 += n3 - a2 % n3, o2 = s2 + 1;
            }
          }
          g ? Z = function(t4) {
            t4.selectionStart = 0, t4.selectionEnd = t4.value.length;
          } : a && (Z = function(t4) {
            try {
              t4.select();
            } catch (t5) {
            }
          });
          var F = function() {
            this.id = null, this.f = null, this.time = 0, this.handler = L(this.onTimeout, this);
          };
          function V(t4, e3) {
            for (var n3 = 0; n3 < t4.length; ++n3) if (t4[n3] == e3) return n3;
            return -1;
          }
          F.prototype.onTimeout = function(t4) {
            t4.id = 0, t4.time <= +/* @__PURE__ */ new Date() ? t4.f() : setTimeout(t4.handler, t4.time - +/* @__PURE__ */ new Date());
          }, F.prototype.set = function(t4, e3) {
            this.f = e3;
            var n3 = +/* @__PURE__ */ new Date() + t4;
            (!this.id || n3 < this.time) && (clearTimeout(this.id), this.id = setTimeout(this.handler, t4), this.time = n3);
          };
          var B = 50, H = { toString: function() {
            return "CodeMirror.Pass";
          } }, z = { scroll: false }, U = { origin: "*mouse" }, W = { origin: "+move" };
          function $(t4, e3, n3) {
            for (var r3 = 0, i2 = 0; ; ) {
              var o2 = t4.indexOf("	", r3);
              -1 == o2 && (o2 = t4.length);
              var a2 = o2 - r3;
              if (o2 == t4.length || i2 + a2 >= e3) return r3 + Math.min(a2, e3 - i2);
              if (i2 += o2 - r3, r3 = o2 + 1, (i2 += n3 - i2 % n3) >= e3) return r3;
            }
          }
          var q = [""];
          function G(t4) {
            for (; q.length <= t4; ) q.push(K(q) + " ");
            return q[t4];
          }
          function K(t4) {
            return t4[t4.length - 1];
          }
          function Y(t4, e3) {
            for (var n3 = [], r3 = 0; r3 < t4.length; r3++) n3[r3] = e3(t4[r3], r3);
            return n3;
          }
          function X(t4, e3, n3) {
            for (var r3 = 0, i2 = n3(e3); r3 < t4.length && n3(t4[r3]) <= i2; ) r3++;
            t4.splice(r3, 0, e3);
          }
          function J() {
          }
          function Q(t4, e3) {
            var n3;
            return Object.create ? n3 = Object.create(t4) : (J.prototype = t4, n3 = new J()), e3 && N(e3, n3), n3;
          }
          var tt = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
          function et(t4) {
            return /\w/.test(t4) || t4 > "" && (t4.toUpperCase() != t4.toLowerCase() || tt.test(t4));
          }
          function nt(t4, e3) {
            return e3 ? !!(e3.source.indexOf("\\w") > -1 && et(t4)) || e3.test(t4) : et(t4);
          }
          function rt(t4) {
            for (var e3 in t4) if (t4.hasOwnProperty(e3) && t4[e3]) return false;
            return true;
          }
          var it = /[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
          function ot(t4) {
            return t4.charCodeAt(0) >= 768 && it.test(t4);
          }
          function at(t4, e3, n3) {
            for (; (n3 < 0 ? e3 > 0 : e3 < t4.length) && ot(t4.charAt(e3)); ) e3 += n3;
            return e3;
          }
          function st(t4, e3, n3) {
            for (var r3 = e3 > n3 ? -1 : 1; ; ) {
              if (e3 == n3) return e3;
              var i2 = (e3 + n3) / 2, o2 = r3 < 0 ? Math.ceil(i2) : Math.floor(i2);
              if (o2 == e3) return t4(o2) ? e3 : n3;
              t4(o2) ? n3 = o2 : e3 = o2 + r3;
            }
          }
          function lt(t4, e3, n3, r3) {
            if (!t4) return r3(e3, n3, "ltr", 0);
            for (var i2 = false, o2 = 0; o2 < t4.length; ++o2) {
              var a2 = t4[o2];
              (a2.from < n3 && a2.to > e3 || e3 == n3 && a2.to == e3) && (r3(Math.max(a2.from, e3), Math.min(a2.to, n3), 1 == a2.level ? "rtl" : "ltr", o2), i2 = true);
            }
            i2 || r3(e3, n3, "ltr");
          }
          var ct = null;
          function ut(t4, e3, n3) {
            var r3;
            ct = null;
            for (var i2 = 0; i2 < t4.length; ++i2) {
              var o2 = t4[i2];
              if (o2.from < e3 && o2.to > e3) return i2;
              o2.to == e3 && (o2.from != o2.to && "before" == n3 ? r3 = i2 : ct = i2), o2.from == e3 && (o2.from != o2.to && "before" != n3 ? r3 = i2 : ct = i2);
            }
            return null != r3 ? r3 : ct;
          }
          var ft = /* @__PURE__ */ function() {
            var t4 = "bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN", e3 = "nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";
            function n3(n4) {
              return n4 <= 247 ? t4.charAt(n4) : 1424 <= n4 && n4 <= 1524 ? "R" : 1536 <= n4 && n4 <= 1785 ? e3.charAt(n4 - 1536) : 1774 <= n4 && n4 <= 2220 ? "r" : 8192 <= n4 && n4 <= 8203 ? "w" : 8204 == n4 ? "b" : "L";
            }
            var r3 = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/, i2 = /[stwN]/, o2 = /[LRr]/, a2 = /[Lb1n]/, s2 = /[1n]/;
            function l2(t5, e4, n4) {
              this.level = t5, this.from = e4, this.to = n4;
            }
            return function(t5, e4) {
              var c2 = "ltr" == e4 ? "L" : "R";
              if (0 == t5.length || "ltr" == e4 && !r3.test(t5)) return false;
              for (var u2 = t5.length, f2 = [], h2 = 0; h2 < u2; ++h2) f2.push(n3(t5.charCodeAt(h2)));
              for (var d2 = 0, p2 = c2; d2 < u2; ++d2) {
                var g2 = f2[d2];
                "m" == g2 ? f2[d2] = p2 : p2 = g2;
              }
              for (var v2 = 0, m2 = c2; v2 < u2; ++v2) {
                var y2 = f2[v2];
                "1" == y2 && "r" == m2 ? f2[v2] = "n" : o2.test(y2) && (m2 = y2, "r" == y2 && (f2[v2] = "R"));
              }
              for (var b2 = 1, w2 = f2[0]; b2 < u2 - 1; ++b2) {
                var k2 = f2[b2];
                "+" == k2 && "1" == w2 && "1" == f2[b2 + 1] ? f2[b2] = "1" : "," != k2 || w2 != f2[b2 + 1] || "1" != w2 && "n" != w2 || (f2[b2] = w2), w2 = k2;
              }
              for (var x2 = 0; x2 < u2; ++x2) {
                var O2 = f2[x2];
                if ("," == O2) f2[x2] = "N";
                else if ("%" == O2) {
                  var C2 = void 0;
                  for (C2 = x2 + 1; C2 < u2 && "%" == f2[C2]; ++C2) ;
                  for (var S2 = x2 && "!" == f2[x2 - 1] || C2 < u2 && "1" == f2[C2] ? "1" : "N", _2 = x2; _2 < C2; ++_2) f2[_2] = S2;
                  x2 = C2 - 1;
                }
              }
              for (var P2 = 0, T2 = c2; P2 < u2; ++P2) {
                var E2 = f2[P2];
                "L" == T2 && "1" == E2 ? f2[P2] = "L" : o2.test(E2) && (T2 = E2);
              }
              for (var j2 = 0; j2 < u2; ++j2) if (i2.test(f2[j2])) {
                var A2 = void 0;
                for (A2 = j2 + 1; A2 < u2 && i2.test(f2[A2]); ++A2) ;
                for (var D2 = "L" == (j2 ? f2[j2 - 1] : c2), M2 = D2 == ("L" == (A2 < u2 ? f2[A2] : c2)) ? D2 ? "L" : "R" : c2, R2 = j2; R2 < A2; ++R2) f2[R2] = M2;
                j2 = A2 - 1;
              }
              for (var Z2, L2 = [], N2 = 0; N2 < u2; ) if (a2.test(f2[N2])) {
                var I2 = N2;
                for (++N2; N2 < u2 && a2.test(f2[N2]); ++N2) ;
                L2.push(new l2(0, I2, N2));
              } else {
                var F2 = N2, V2 = L2.length, B2 = "rtl" == e4 ? 1 : 0;
                for (++N2; N2 < u2 && "L" != f2[N2]; ++N2) ;
                for (var H2 = F2; H2 < N2; ) if (s2.test(f2[H2])) {
                  F2 < H2 && (L2.splice(V2, 0, new l2(1, F2, H2)), V2 += B2);
                  var z2 = H2;
                  for (++H2; H2 < N2 && s2.test(f2[H2]); ++H2) ;
                  L2.splice(V2, 0, new l2(2, z2, H2)), V2 += B2, F2 = H2;
                } else ++H2;
                F2 < N2 && L2.splice(V2, 0, new l2(1, F2, N2));
              }
              return "ltr" == e4 && (1 == L2[0].level && (Z2 = t5.match(/^\s+/)) && (L2[0].from = Z2[0].length, L2.unshift(new l2(0, 0, Z2[0].length))), 1 == K(L2).level && (Z2 = t5.match(/\s+$/)) && (K(L2).to -= Z2[0].length, L2.push(new l2(0, u2 - Z2[0].length, u2)))), "rtl" == e4 ? L2.reverse() : L2;
            };
          }();
          function ht(t4, e3) {
            var n3 = t4.order;
            return null == n3 && (n3 = t4.order = ft(t4.text, e3)), n3;
          }
          var dt = [], pt = function(t4, e3, n3) {
            if (t4.addEventListener) t4.addEventListener(e3, n3, false);
            else if (t4.attachEvent) t4.attachEvent("on" + e3, n3);
            else {
              var r3 = t4._handlers || (t4._handlers = {});
              r3[e3] = (r3[e3] || dt).concat(n3);
            }
          };
          function gt(t4, e3) {
            return t4._handlers && t4._handlers[e3] || dt;
          }
          function vt(t4, e3, n3) {
            if (t4.removeEventListener) t4.removeEventListener(e3, n3, false);
            else if (t4.detachEvent) t4.detachEvent("on" + e3, n3);
            else {
              var r3 = t4._handlers, i2 = r3 && r3[e3];
              if (i2) {
                var o2 = V(i2, n3);
                o2 > -1 && (r3[e3] = i2.slice(0, o2).concat(i2.slice(o2 + 1)));
              }
            }
          }
          function mt(t4, e3) {
            var n3 = gt(t4, e3);
            if (n3.length) for (var r3 = Array.prototype.slice.call(arguments, 2), i2 = 0; i2 < n3.length; ++i2) n3[i2].apply(null, r3);
          }
          function yt(t4, e3, n3) {
            return "string" == typeof e3 && (e3 = { type: e3, preventDefault: function() {
              this.defaultPrevented = true;
            } }), mt(t4, n3 || e3.type, t4, e3), Ct(e3) || e3.codemirrorIgnore;
          }
          function bt(t4) {
            var e3 = t4._handlers && t4._handlers.cursorActivity;
            if (e3) for (var n3 = t4.curOp.cursorActivityHandlers || (t4.curOp.cursorActivityHandlers = []), r3 = 0; r3 < e3.length; ++r3) -1 == V(n3, e3[r3]) && n3.push(e3[r3]);
          }
          function wt(t4, e3) {
            return gt(t4, e3).length > 0;
          }
          function kt(t4) {
            t4.prototype.on = function(t5, e3) {
              pt(this, t5, e3);
            }, t4.prototype.off = function(t5, e3) {
              vt(this, t5, e3);
            };
          }
          function xt(t4) {
            t4.preventDefault ? t4.preventDefault() : t4.returnValue = false;
          }
          function Ot(t4) {
            t4.stopPropagation ? t4.stopPropagation() : t4.cancelBubble = true;
          }
          function Ct(t4) {
            return null != t4.defaultPrevented ? t4.defaultPrevented : 0 == t4.returnValue;
          }
          function St(t4) {
            xt(t4), Ot(t4);
          }
          function _t(t4) {
            return t4.target || t4.srcElement;
          }
          function Pt(t4) {
            var e3 = t4.which;
            return null == e3 && (1 & t4.button ? e3 = 1 : 2 & t4.button ? e3 = 3 : 4 & t4.button && (e3 = 2)), y && t4.ctrlKey && 1 == e3 && (e3 = 3), e3;
          }
          var Tt, Et, jt = function() {
            if (a && s < 9) return false;
            var t4 = E("div");
            return "draggable" in t4 || "dragDrop" in t4;
          }();
          function At(t4) {
            if (null == Tt) {
              var e3 = E("span", "​");
              T(t4, E("span", [e3, document.createTextNode("x")])), 0 != t4.firstChild.offsetHeight && (Tt = e3.offsetWidth <= 1 && e3.offsetHeight > 2 && !(a && s < 8));
            }
            var n3 = Tt ? E("span", "​") : E("span", " ", null, "display: inline-block; width: 1px; margin-right: -1px");
            return n3.setAttribute("cm-text", ""), n3;
          }
          function Dt(t4) {
            if (null != Et) return Et;
            var e3 = T(t4, document.createTextNode("AخA")), n3 = S(e3, 0, 1).getBoundingClientRect(), r3 = S(e3, 1, 2).getBoundingClientRect();
            return P(t4), !(!n3 || n3.left == n3.right) && (Et = r3.right - n3.right < 3);
          }
          var Mt, Rt = 3 != "\n\nb".split(/\n/).length ? function(t4) {
            for (var e3 = 0, n3 = [], r3 = t4.length; e3 <= r3; ) {
              var i2 = t4.indexOf("\n", e3);
              -1 == i2 && (i2 = t4.length);
              var o2 = t4.slice(e3, "\r" == t4.charAt(i2 - 1) ? i2 - 1 : i2), a2 = o2.indexOf("\r");
              -1 != a2 ? (n3.push(o2.slice(0, a2)), e3 += a2 + 1) : (n3.push(o2), e3 = i2 + 1);
            }
            return n3;
          } : function(t4) {
            return t4.split(/\r\n?|\n/);
          }, Zt = window.getSelection ? function(t4) {
            try {
              return t4.selectionStart != t4.selectionEnd;
            } catch (t5) {
              return false;
            }
          } : function(t4) {
            var e3;
            try {
              e3 = t4.ownerDocument.selection.createRange();
            } catch (t5) {
            }
            return !(!e3 || e3.parentElement() != t4) && 0 != e3.compareEndPoints("StartToEnd", e3);
          }, Lt = "oncopy" in (Mt = E("div")) || (Mt.setAttribute("oncopy", "return;"), "function" == typeof Mt.oncopy), Nt = null;
          function It(t4) {
            if (null != Nt) return Nt;
            var e3 = T(t4, E("span", "x")), n3 = e3.getBoundingClientRect(), r3 = S(e3, 0, 1).getBoundingClientRect();
            return Nt = Math.abs(n3.left - r3.left) > 1;
          }
          var Ft = {}, Vt = {};
          function Bt(t4, e3) {
            arguments.length > 2 && (e3.dependencies = Array.prototype.slice.call(arguments, 2)), Ft[t4] = e3;
          }
          function Ht(t4, e3) {
            Vt[t4] = e3;
          }
          function zt(t4) {
            if ("string" == typeof t4 && Vt.hasOwnProperty(t4)) t4 = Vt[t4];
            else if (t4 && "string" == typeof t4.name && Vt.hasOwnProperty(t4.name)) {
              var e3 = Vt[t4.name];
              "string" == typeof e3 && (e3 = { name: e3 }), (t4 = Q(e3, t4)).name = e3.name;
            } else {
              if ("string" == typeof t4 && /^[\w\-]+\/[\w\-]+\+xml$/.test(t4)) return zt("application/xml");
              if ("string" == typeof t4 && /^[\w\-]+\/[\w\-]+\+json$/.test(t4)) return zt("application/json");
            }
            return "string" == typeof t4 ? { name: t4 } : t4 || { name: "null" };
          }
          function Ut(t4, e3) {
            e3 = zt(e3);
            var n3 = Ft[e3.name];
            if (!n3) return Ut(t4, "text/plain");
            var r3 = n3(t4, e3);
            if (Wt.hasOwnProperty(e3.name)) {
              var i2 = Wt[e3.name];
              for (var o2 in i2) i2.hasOwnProperty(o2) && (r3.hasOwnProperty(o2) && (r3["_" + o2] = r3[o2]), r3[o2] = i2[o2]);
            }
            if (r3.name = e3.name, e3.helperType && (r3.helperType = e3.helperType), e3.modeProps) for (var a2 in e3.modeProps) r3[a2] = e3.modeProps[a2];
            return r3;
          }
          var Wt = {};
          function $t(t4, e3) {
            N(e3, Wt.hasOwnProperty(t4) ? Wt[t4] : Wt[t4] = {});
          }
          function qt(t4, e3) {
            if (true === e3) return e3;
            if (t4.copyState) return t4.copyState(e3);
            var n3 = {};
            for (var r3 in e3) {
              var i2 = e3[r3];
              i2 instanceof Array && (i2 = i2.concat([])), n3[r3] = i2;
            }
            return n3;
          }
          function Gt(t4, e3) {
            for (var n3; t4.innerMode && (n3 = t4.innerMode(e3)) && n3.mode != t4; ) e3 = n3.state, t4 = n3.mode;
            return n3 || { mode: t4, state: e3 };
          }
          function Kt(t4, e3, n3) {
            return !t4.startState || t4.startState(e3, n3);
          }
          var Yt = function(t4, e3, n3) {
            this.pos = this.start = 0, this.string = t4, this.tabSize = e3 || 8, this.lastColumnPos = this.lastColumnValue = 0, this.lineStart = 0, this.lineOracle = n3;
          };
          function Xt(t4, e3) {
            if ((e3 -= t4.first) < 0 || e3 >= t4.size) throw new Error("There is no line " + (e3 + t4.first) + " in the document.");
            for (var n3 = t4; !n3.lines; ) for (var r3 = 0; ; ++r3) {
              var i2 = n3.children[r3], o2 = i2.chunkSize();
              if (e3 < o2) {
                n3 = i2;
                break;
              }
              e3 -= o2;
            }
            return n3.lines[e3];
          }
          function Jt(t4, e3, n3) {
            var r3 = [], i2 = e3.line;
            return t4.iter(e3.line, n3.line + 1, function(t5) {
              var o2 = t5.text;
              i2 == n3.line && (o2 = o2.slice(0, n3.ch)), i2 == e3.line && (o2 = o2.slice(e3.ch)), r3.push(o2), ++i2;
            }), r3;
          }
          function Qt(t4, e3, n3) {
            var r3 = [];
            return t4.iter(e3, n3, function(t5) {
              r3.push(t5.text);
            }), r3;
          }
          function te(t4, e3) {
            var n3 = e3 - t4.height;
            if (n3) for (var r3 = t4; r3; r3 = r3.parent) r3.height += n3;
          }
          function ee(t4) {
            if (null == t4.parent) return null;
            for (var e3 = t4.parent, n3 = V(e3.lines, t4), r3 = e3.parent; r3; e3 = r3, r3 = r3.parent) for (var i2 = 0; r3.children[i2] != e3; ++i2) n3 += r3.children[i2].chunkSize();
            return n3 + e3.first;
          }
          function ne(t4, e3) {
            var n3 = t4.first;
            t: do {
              for (var r3 = 0; r3 < t4.children.length; ++r3) {
                var i2 = t4.children[r3], o2 = i2.height;
                if (e3 < o2) {
                  t4 = i2;
                  continue t;
                }
                e3 -= o2, n3 += i2.chunkSize();
              }
              return n3;
            } while (!t4.lines);
            for (var a2 = 0; a2 < t4.lines.length; ++a2) {
              var s2 = t4.lines[a2].height;
              if (e3 < s2) break;
              e3 -= s2;
            }
            return n3 + a2;
          }
          function re(t4, e3) {
            return e3 >= t4.first && e3 < t4.first + t4.size;
          }
          function ie(t4, e3) {
            return String(t4.lineNumberFormatter(e3 + t4.firstLineNumber));
          }
          function oe(t4, e3, n3) {
            if (void 0 === n3 && (n3 = null), !(this instanceof oe)) return new oe(t4, e3, n3);
            this.line = t4, this.ch = e3, this.sticky = n3;
          }
          function ae(t4, e3) {
            return t4.line - e3.line || t4.ch - e3.ch;
          }
          function se(t4, e3) {
            return t4.sticky == e3.sticky && 0 == ae(t4, e3);
          }
          function le(t4) {
            return oe(t4.line, t4.ch);
          }
          function ce(t4, e3) {
            return ae(t4, e3) < 0 ? e3 : t4;
          }
          function ue(t4, e3) {
            return ae(t4, e3) < 0 ? t4 : e3;
          }
          function fe(t4, e3) {
            return Math.max(t4.first, Math.min(e3, t4.first + t4.size - 1));
          }
          function he(t4, e3) {
            if (e3.line < t4.first) return oe(t4.first, 0);
            var n3 = t4.first + t4.size - 1;
            return e3.line > n3 ? oe(n3, Xt(t4, n3).text.length) : de(e3, Xt(t4, e3.line).text.length);
          }
          function de(t4, e3) {
            var n3 = t4.ch;
            return null == n3 || n3 > e3 ? oe(t4.line, e3) : n3 < 0 ? oe(t4.line, 0) : t4;
          }
          function pe(t4, e3) {
            for (var n3 = [], r3 = 0; r3 < e3.length; r3++) n3[r3] = he(t4, e3[r3]);
            return n3;
          }
          Yt.prototype.eol = function() {
            return this.pos >= this.string.length;
          }, Yt.prototype.sol = function() {
            return this.pos == this.lineStart;
          }, Yt.prototype.peek = function() {
            return this.string.charAt(this.pos) || void 0;
          }, Yt.prototype.next = function() {
            if (this.pos < this.string.length) return this.string.charAt(this.pos++);
          }, Yt.prototype.eat = function(t4) {
            var e3 = this.string.charAt(this.pos);
            if ("string" == typeof t4 ? e3 == t4 : e3 && (t4.test ? t4.test(e3) : t4(e3))) return ++this.pos, e3;
          }, Yt.prototype.eatWhile = function(t4) {
            for (var e3 = this.pos; this.eat(t4); ) ;
            return this.pos > e3;
          }, Yt.prototype.eatSpace = function() {
            for (var t4 = this.pos; /[\s\u00a0]/.test(this.string.charAt(this.pos)); ) ++this.pos;
            return this.pos > t4;
          }, Yt.prototype.skipToEnd = function() {
            this.pos = this.string.length;
          }, Yt.prototype.skipTo = function(t4) {
            var e3 = this.string.indexOf(t4, this.pos);
            if (e3 > -1) return this.pos = e3, true;
          }, Yt.prototype.backUp = function(t4) {
            this.pos -= t4;
          }, Yt.prototype.column = function() {
            return this.lastColumnPos < this.start && (this.lastColumnValue = I(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue), this.lastColumnPos = this.start), this.lastColumnValue - (this.lineStart ? I(this.string, this.lineStart, this.tabSize) : 0);
          }, Yt.prototype.indentation = function() {
            return I(this.string, null, this.tabSize) - (this.lineStart ? I(this.string, this.lineStart, this.tabSize) : 0);
          }, Yt.prototype.match = function(t4, e3, n3) {
            if ("string" != typeof t4) {
              var r3 = this.string.slice(this.pos).match(t4);
              return r3 && r3.index > 0 ? null : (r3 && false !== e3 && (this.pos += r3[0].length), r3);
            }
            var i2 = function(t5) {
              return n3 ? t5.toLowerCase() : t5;
            };
            if (i2(this.string.substr(this.pos, t4.length)) == i2(t4)) return false !== e3 && (this.pos += t4.length), true;
          }, Yt.prototype.current = function() {
            return this.string.slice(this.start, this.pos);
          }, Yt.prototype.hideFirstChars = function(t4, e3) {
            this.lineStart += t4;
            try {
              return e3();
            } finally {
              this.lineStart -= t4;
            }
          }, Yt.prototype.lookAhead = function(t4) {
            var e3 = this.lineOracle;
            return e3 && e3.lookAhead(t4);
          }, Yt.prototype.baseToken = function() {
            var t4 = this.lineOracle;
            return t4 && t4.baseToken(this.pos);
          };
          var ge = function(t4, e3) {
            this.state = t4, this.lookAhead = e3;
          }, ve = function(t4, e3, n3, r3) {
            this.state = e3, this.doc = t4, this.line = n3, this.maxLookAhead = r3 || 0, this.baseTokens = null, this.baseTokenPos = 1;
          };
          function me(t4, e3, n3, r3) {
            var i2 = [t4.state.modeGen], o2 = {};
            _e(t4, e3.text, t4.doc.mode, n3, function(t5, e4) {
              return i2.push(t5, e4);
            }, o2, r3);
            for (var a2 = n3.state, s2 = function(r4) {
              n3.baseTokens = i2;
              var s3 = t4.state.overlays[r4], l3 = 1, c2 = 0;
              n3.state = true, _e(t4, e3.text, s3.mode, n3, function(t5, e4) {
                for (var n4 = l3; c2 < t5; ) {
                  var r5 = i2[l3];
                  r5 > t5 && i2.splice(l3, 1, t5, i2[l3 + 1], r5), l3 += 2, c2 = Math.min(t5, r5);
                }
                if (e4) if (s3.opaque) i2.splice(n4, l3 - n4, t5, "overlay " + e4), l3 = n4 + 2;
                else for (; n4 < l3; n4 += 2) {
                  var o3 = i2[n4 + 1];
                  i2[n4 + 1] = (o3 ? o3 + " " : "") + "overlay " + e4;
                }
              }, o2), n3.state = a2, n3.baseTokens = null, n3.baseTokenPos = 1;
            }, l2 = 0; l2 < t4.state.overlays.length; ++l2) s2(l2);
            return { styles: i2, classes: o2.bgClass || o2.textClass ? o2 : null };
          }
          function ye(t4, e3, n3) {
            if (!e3.styles || e3.styles[0] != t4.state.modeGen) {
              var r3 = be(t4, ee(e3)), i2 = e3.text.length > t4.options.maxHighlightLength && qt(t4.doc.mode, r3.state), o2 = me(t4, e3, r3);
              i2 && (r3.state = i2), e3.stateAfter = r3.save(!i2), e3.styles = o2.styles, o2.classes ? e3.styleClasses = o2.classes : e3.styleClasses && (e3.styleClasses = null), n3 === t4.doc.highlightFrontier && (t4.doc.modeFrontier = Math.max(t4.doc.modeFrontier, ++t4.doc.highlightFrontier));
            }
            return e3.styles;
          }
          function be(t4, e3, n3) {
            var r3 = t4.doc, i2 = t4.display;
            if (!r3.mode.startState) return new ve(r3, true, e3);
            var o2 = Pe(t4, e3, n3), a2 = o2 > r3.first && Xt(r3, o2 - 1).stateAfter, s2 = a2 ? ve.fromSaved(r3, a2, o2) : new ve(r3, Kt(r3.mode), o2);
            return r3.iter(o2, e3, function(n4) {
              we(t4, n4.text, s2);
              var r4 = s2.line;
              n4.stateAfter = r4 == e3 - 1 || r4 % 5 == 0 || r4 >= i2.viewFrom && r4 < i2.viewTo ? s2.save() : null, s2.nextLine();
            }), n3 && (r3.modeFrontier = s2.line), s2;
          }
          function we(t4, e3, n3, r3) {
            var i2 = t4.doc.mode, o2 = new Yt(e3, t4.options.tabSize, n3);
            for (o2.start = o2.pos = r3 || 0, "" == e3 && ke(i2, n3.state); !o2.eol(); ) xe(i2, o2, n3.state), o2.start = o2.pos;
          }
          function ke(t4, e3) {
            if (t4.blankLine) return t4.blankLine(e3);
            if (t4.innerMode) {
              var n3 = Gt(t4, e3);
              return n3.mode.blankLine ? n3.mode.blankLine(n3.state) : void 0;
            }
          }
          function xe(t4, e3, n3, r3) {
            for (var i2 = 0; i2 < 10; i2++) {
              r3 && (r3[0] = Gt(t4, n3).mode);
              var o2 = t4.token(e3, n3);
              if (e3.pos > e3.start) return o2;
            }
            throw new Error("Mode " + t4.name + " failed to advance stream.");
          }
          ve.prototype.lookAhead = function(t4) {
            var e3 = this.doc.getLine(this.line + t4);
            return null != e3 && t4 > this.maxLookAhead && (this.maxLookAhead = t4), e3;
          }, ve.prototype.baseToken = function(t4) {
            if (!this.baseTokens) return null;
            for (; this.baseTokens[this.baseTokenPos] <= t4; ) this.baseTokenPos += 2;
            var e3 = this.baseTokens[this.baseTokenPos + 1];
            return { type: e3 && e3.replace(/( |^)overlay .*/, ""), size: this.baseTokens[this.baseTokenPos] - t4 };
          }, ve.prototype.nextLine = function() {
            this.line++, this.maxLookAhead > 0 && this.maxLookAhead--;
          }, ve.fromSaved = function(t4, e3, n3) {
            return e3 instanceof ge ? new ve(t4, qt(t4.mode, e3.state), n3, e3.lookAhead) : new ve(t4, qt(t4.mode, e3), n3);
          }, ve.prototype.save = function(t4) {
            var e3 = false !== t4 ? qt(this.doc.mode, this.state) : this.state;
            return this.maxLookAhead > 0 ? new ge(e3, this.maxLookAhead) : e3;
          };
          var Oe = function(t4, e3, n3) {
            this.start = t4.start, this.end = t4.pos, this.string = t4.current(), this.type = e3 || null, this.state = n3;
          };
          function Ce(t4, e3, n3, r3) {
            var i2, o2, a2 = t4.doc, s2 = a2.mode, l2 = Xt(a2, (e3 = he(a2, e3)).line), c2 = be(t4, e3.line, n3), u2 = new Yt(l2.text, t4.options.tabSize, c2);
            for (r3 && (o2 = []); (r3 || u2.pos < e3.ch) && !u2.eol(); ) u2.start = u2.pos, i2 = xe(s2, u2, c2.state), r3 && o2.push(new Oe(u2, i2, qt(a2.mode, c2.state)));
            return r3 ? o2 : new Oe(u2, i2, c2.state);
          }
          function Se(t4, e3) {
            if (t4) for (; ; ) {
              var n3 = t4.match(/(?:^|\s+)line-(background-)?(\S+)/);
              if (!n3) break;
              t4 = t4.slice(0, n3.index) + t4.slice(n3.index + n3[0].length);
              var r3 = n3[1] ? "bgClass" : "textClass";
              null == e3[r3] ? e3[r3] = n3[2] : new RegExp("(?:^|\\s)" + n3[2] + "(?:$|\\s)").test(e3[r3]) || (e3[r3] += " " + n3[2]);
            }
            return t4;
          }
          function _e(t4, e3, n3, r3, i2, o2, a2) {
            var s2 = n3.flattenSpans;
            null == s2 && (s2 = t4.options.flattenSpans);
            var l2, c2 = 0, u2 = null, f2 = new Yt(e3, t4.options.tabSize, r3), h2 = t4.options.addModeClass && [null];
            for ("" == e3 && Se(ke(n3, r3.state), o2); !f2.eol(); ) {
              if (f2.pos > t4.options.maxHighlightLength ? (s2 = false, a2 && we(t4, e3, r3, f2.pos), f2.pos = e3.length, l2 = null) : l2 = Se(xe(n3, f2, r3.state, h2), o2), h2) {
                var d2 = h2[0].name;
                d2 && (l2 = "m-" + (l2 ? d2 + " " + l2 : d2));
              }
              if (!s2 || u2 != l2) {
                for (; c2 < f2.start; ) i2(c2 = Math.min(f2.start, c2 + 5e3), u2);
                u2 = l2;
              }
              f2.start = f2.pos;
            }
            for (; c2 < f2.pos; ) {
              var p2 = Math.min(f2.pos, c2 + 5e3);
              i2(p2, u2), c2 = p2;
            }
          }
          function Pe(t4, e3, n3) {
            for (var r3, i2, o2 = t4.doc, a2 = n3 ? -1 : e3 - (t4.doc.mode.innerMode ? 1e3 : 100), s2 = e3; s2 > a2; --s2) {
              if (s2 <= o2.first) return o2.first;
              var l2 = Xt(o2, s2 - 1), c2 = l2.stateAfter;
              if (c2 && (!n3 || s2 + (c2 instanceof ge ? c2.lookAhead : 0) <= o2.modeFrontier)) return s2;
              var u2 = I(l2.text, null, t4.options.tabSize);
              (null == i2 || r3 > u2) && (i2 = s2 - 1, r3 = u2);
            }
            return i2;
          }
          function Te(t4, e3) {
            if (t4.modeFrontier = Math.min(t4.modeFrontier, e3), !(t4.highlightFrontier < e3 - 10)) {
              for (var n3 = t4.first, r3 = e3 - 1; r3 > n3; r3--) {
                var i2 = Xt(t4, r3).stateAfter;
                if (i2 && (!(i2 instanceof ge) || r3 + i2.lookAhead < e3)) {
                  n3 = r3 + 1;
                  break;
                }
              }
              t4.highlightFrontier = Math.min(t4.highlightFrontier, n3);
            }
          }
          var Ee = false, je = false;
          function Ae() {
            Ee = true;
          }
          function De() {
            je = true;
          }
          function Me(t4, e3, n3) {
            this.marker = t4, this.from = e3, this.to = n3;
          }
          function Re(t4, e3) {
            if (t4) for (var n3 = 0; n3 < t4.length; ++n3) {
              var r3 = t4[n3];
              if (r3.marker == e3) return r3;
            }
          }
          function Ze(t4, e3) {
            for (var n3, r3 = 0; r3 < t4.length; ++r3) t4[r3] != e3 && (n3 || (n3 = [])).push(t4[r3]);
            return n3;
          }
          function Le(t4, e3, n3) {
            var r3 = n3 && window.WeakSet && (n3.markedSpans || (n3.markedSpans = /* @__PURE__ */ new WeakSet()));
            r3 && r3.has(t4.markedSpans) ? t4.markedSpans.push(e3) : (t4.markedSpans = t4.markedSpans ? t4.markedSpans.concat([e3]) : [e3], r3 && r3.add(t4.markedSpans)), e3.marker.attachLine(t4);
          }
          function Ne(t4, e3, n3) {
            var r3;
            if (t4) for (var i2 = 0; i2 < t4.length; ++i2) {
              var o2 = t4[i2], a2 = o2.marker;
              if (null == o2.from || (a2.inclusiveLeft ? o2.from <= e3 : o2.from < e3) || o2.from == e3 && "bookmark" == a2.type && (!n3 || !o2.marker.insertLeft)) {
                var s2 = null == o2.to || (a2.inclusiveRight ? o2.to >= e3 : o2.to > e3);
                (r3 || (r3 = [])).push(new Me(a2, o2.from, s2 ? null : o2.to));
              }
            }
            return r3;
          }
          function Ie(t4, e3, n3) {
            var r3;
            if (t4) for (var i2 = 0; i2 < t4.length; ++i2) {
              var o2 = t4[i2], a2 = o2.marker;
              if (null == o2.to || (a2.inclusiveRight ? o2.to >= e3 : o2.to > e3) || o2.from == e3 && "bookmark" == a2.type && (!n3 || o2.marker.insertLeft)) {
                var s2 = null == o2.from || (a2.inclusiveLeft ? o2.from <= e3 : o2.from < e3);
                (r3 || (r3 = [])).push(new Me(a2, s2 ? null : o2.from - e3, null == o2.to ? null : o2.to - e3));
              }
            }
            return r3;
          }
          function Fe(t4, e3) {
            if (e3.full) return null;
            var n3 = re(t4, e3.from.line) && Xt(t4, e3.from.line).markedSpans, r3 = re(t4, e3.to.line) && Xt(t4, e3.to.line).markedSpans;
            if (!n3 && !r3) return null;
            var i2 = e3.from.ch, o2 = e3.to.ch, a2 = 0 == ae(e3.from, e3.to), s2 = Ne(n3, i2, a2), l2 = Ie(r3, o2, a2), c2 = 1 == e3.text.length, u2 = K(e3.text).length + (c2 ? i2 : 0);
            if (s2) for (var f2 = 0; f2 < s2.length; ++f2) {
              var h2 = s2[f2];
              if (null == h2.to) {
                var d2 = Re(l2, h2.marker);
                d2 ? c2 && (h2.to = null == d2.to ? null : d2.to + u2) : h2.to = i2;
              }
            }
            if (l2) for (var p2 = 0; p2 < l2.length; ++p2) {
              var g2 = l2[p2];
              null != g2.to && (g2.to += u2), null == g2.from ? Re(s2, g2.marker) || (g2.from = u2, c2 && (s2 || (s2 = [])).push(g2)) : (g2.from += u2, c2 && (s2 || (s2 = [])).push(g2));
            }
            s2 && (s2 = Ve(s2)), l2 && l2 != s2 && (l2 = Ve(l2));
            var v2 = [s2];
            if (!c2) {
              var m2, y2 = e3.text.length - 2;
              if (y2 > 0 && s2) for (var b2 = 0; b2 < s2.length; ++b2) null == s2[b2].to && (m2 || (m2 = [])).push(new Me(s2[b2].marker, null, null));
              for (var w2 = 0; w2 < y2; ++w2) v2.push(m2);
              v2.push(l2);
            }
            return v2;
          }
          function Ve(t4) {
            for (var e3 = 0; e3 < t4.length; ++e3) {
              var n3 = t4[e3];
              null != n3.from && n3.from == n3.to && false !== n3.marker.clearWhenEmpty && t4.splice(e3--, 1);
            }
            return t4.length ? t4 : null;
          }
          function Be(t4, e3, n3) {
            var r3 = null;
            if (t4.iter(e3.line, n3.line + 1, function(t5) {
              if (t5.markedSpans) for (var e4 = 0; e4 < t5.markedSpans.length; ++e4) {
                var n4 = t5.markedSpans[e4].marker;
                !n4.readOnly || r3 && -1 != V(r3, n4) || (r3 || (r3 = [])).push(n4);
              }
            }), !r3) return null;
            for (var i2 = [{ from: e3, to: n3 }], o2 = 0; o2 < r3.length; ++o2) for (var a2 = r3[o2], s2 = a2.find(0), l2 = 0; l2 < i2.length; ++l2) {
              var c2 = i2[l2];
              if (!(ae(c2.to, s2.from) < 0 || ae(c2.from, s2.to) > 0)) {
                var u2 = [l2, 1], f2 = ae(c2.from, s2.from), h2 = ae(c2.to, s2.to);
                (f2 < 0 || !a2.inclusiveLeft && !f2) && u2.push({ from: c2.from, to: s2.from }), (h2 > 0 || !a2.inclusiveRight && !h2) && u2.push({ from: s2.to, to: c2.to }), i2.splice.apply(i2, u2), l2 += u2.length - 3;
              }
            }
            return i2;
          }
          function He(t4) {
            var e3 = t4.markedSpans;
            if (e3) {
              for (var n3 = 0; n3 < e3.length; ++n3) e3[n3].marker.detachLine(t4);
              t4.markedSpans = null;
            }
          }
          function ze(t4, e3) {
            if (e3) {
              for (var n3 = 0; n3 < e3.length; ++n3) e3[n3].marker.attachLine(t4);
              t4.markedSpans = e3;
            }
          }
          function Ue(t4) {
            return t4.inclusiveLeft ? -1 : 0;
          }
          function We(t4) {
            return t4.inclusiveRight ? 1 : 0;
          }
          function $e(t4, e3) {
            var n3 = t4.lines.length - e3.lines.length;
            if (0 != n3) return n3;
            var r3 = t4.find(), i2 = e3.find(), o2 = ae(r3.from, i2.from) || Ue(t4) - Ue(e3);
            if (o2) return -o2;
            var a2 = ae(r3.to, i2.to) || We(t4) - We(e3);
            return a2 || e3.id - t4.id;
          }
          function qe(t4, e3) {
            var n3, r3 = je && t4.markedSpans;
            if (r3) for (var i2 = void 0, o2 = 0; o2 < r3.length; ++o2) (i2 = r3[o2]).marker.collapsed && null == (e3 ? i2.from : i2.to) && (!n3 || $e(n3, i2.marker) < 0) && (n3 = i2.marker);
            return n3;
          }
          function Ge(t4) {
            return qe(t4, true);
          }
          function Ke(t4) {
            return qe(t4, false);
          }
          function Ye(t4, e3) {
            var n3, r3 = je && t4.markedSpans;
            if (r3) for (var i2 = 0; i2 < r3.length; ++i2) {
              var o2 = r3[i2];
              o2.marker.collapsed && (null == o2.from || o2.from < e3) && (null == o2.to || o2.to > e3) && (!n3 || $e(n3, o2.marker) < 0) && (n3 = o2.marker);
            }
            return n3;
          }
          function Xe(t4, e3, n3, r3, i2) {
            var o2 = Xt(t4, e3), a2 = je && o2.markedSpans;
            if (a2) for (var s2 = 0; s2 < a2.length; ++s2) {
              var l2 = a2[s2];
              if (l2.marker.collapsed) {
                var c2 = l2.marker.find(0), u2 = ae(c2.from, n3) || Ue(l2.marker) - Ue(i2), f2 = ae(c2.to, r3) || We(l2.marker) - We(i2);
                if (!(u2 >= 0 && f2 <= 0 || u2 <= 0 && f2 >= 0) && (u2 <= 0 && (l2.marker.inclusiveRight && i2.inclusiveLeft ? ae(c2.to, n3) >= 0 : ae(c2.to, n3) > 0) || u2 >= 0 && (l2.marker.inclusiveRight && i2.inclusiveLeft ? ae(c2.from, r3) <= 0 : ae(c2.from, r3) < 0))) return true;
              }
            }
          }
          function Je(t4) {
            for (var e3; e3 = Ge(t4); ) t4 = e3.find(-1, true).line;
            return t4;
          }
          function Qe(t4) {
            for (var e3; e3 = Ke(t4); ) t4 = e3.find(1, true).line;
            return t4;
          }
          function tn(t4) {
            for (var e3, n3; e3 = Ke(t4); ) t4 = e3.find(1, true).line, (n3 || (n3 = [])).push(t4);
            return n3;
          }
          function en(t4, e3) {
            var n3 = Xt(t4, e3), r3 = Je(n3);
            return n3 == r3 ? e3 : ee(r3);
          }
          function nn(t4, e3) {
            if (e3 > t4.lastLine()) return e3;
            var n3, r3 = Xt(t4, e3);
            if (!rn(t4, r3)) return e3;
            for (; n3 = Ke(r3); ) r3 = n3.find(1, true).line;
            return ee(r3) + 1;
          }
          function rn(t4, e3) {
            var n3 = je && e3.markedSpans;
            if (n3) {
              for (var r3 = void 0, i2 = 0; i2 < n3.length; ++i2) if ((r3 = n3[i2]).marker.collapsed) {
                if (null == r3.from) return true;
                if (!r3.marker.widgetNode && 0 == r3.from && r3.marker.inclusiveLeft && on(t4, e3, r3)) return true;
              }
            }
          }
          function on(t4, e3, n3) {
            if (null == n3.to) {
              var r3 = n3.marker.find(1, true);
              return on(t4, r3.line, Re(r3.line.markedSpans, n3.marker));
            }
            if (n3.marker.inclusiveRight && n3.to == e3.text.length) return true;
            for (var i2 = void 0, o2 = 0; o2 < e3.markedSpans.length; ++o2) if ((i2 = e3.markedSpans[o2]).marker.collapsed && !i2.marker.widgetNode && i2.from == n3.to && (null == i2.to || i2.to != n3.from) && (i2.marker.inclusiveLeft || n3.marker.inclusiveRight) && on(t4, e3, i2)) return true;
          }
          function an(t4) {
            for (var e3 = 0, n3 = (t4 = Je(t4)).parent, r3 = 0; r3 < n3.lines.length; ++r3) {
              var i2 = n3.lines[r3];
              if (i2 == t4) break;
              e3 += i2.height;
            }
            for (var o2 = n3.parent; o2; o2 = (n3 = o2).parent) for (var a2 = 0; a2 < o2.children.length; ++a2) {
              var s2 = o2.children[a2];
              if (s2 == n3) break;
              e3 += s2.height;
            }
            return e3;
          }
          function sn(t4) {
            if (0 == t4.height) return 0;
            for (var e3, n3 = t4.text.length, r3 = t4; e3 = Ge(r3); ) {
              var i2 = e3.find(0, true);
              r3 = i2.from.line, n3 += i2.from.ch - i2.to.ch;
            }
            for (r3 = t4; e3 = Ke(r3); ) {
              var o2 = e3.find(0, true);
              n3 -= r3.text.length - o2.from.ch, n3 += (r3 = o2.to.line).text.length - o2.to.ch;
            }
            return n3;
          }
          function ln(t4) {
            var e3 = t4.display, n3 = t4.doc;
            e3.maxLine = Xt(n3, n3.first), e3.maxLineLength = sn(e3.maxLine), e3.maxLineChanged = true, n3.iter(function(t5) {
              var n4 = sn(t5);
              n4 > e3.maxLineLength && (e3.maxLineLength = n4, e3.maxLine = t5);
            });
          }
          var cn = function(t4, e3, n3) {
            this.text = t4, ze(this, e3), this.height = n3 ? n3(this) : 1;
          };
          function un(t4, e3, n3, r3) {
            t4.text = e3, t4.stateAfter && (t4.stateAfter = null), t4.styles && (t4.styles = null), null != t4.order && (t4.order = null), He(t4), ze(t4, n3);
            var i2 = r3 ? r3(t4) : 1;
            i2 != t4.height && te(t4, i2);
          }
          function fn(t4) {
            t4.parent = null, He(t4);
          }
          cn.prototype.lineNo = function() {
            return ee(this);
          }, kt(cn);
          var hn = {}, dn = {};
          function pn(t4, e3) {
            if (!t4 || /^\s*$/.test(t4)) return null;
            var n3 = e3.addModeClass ? dn : hn;
            return n3[t4] || (n3[t4] = t4.replace(/\S+/g, "cm-$&"));
          }
          function gn(t4, e3) {
            var n3 = j("span", null, null, l ? "padding-right: .1px" : null), r3 = { pre: j("pre", [n3], "CodeMirror-line"), content: n3, col: 0, pos: 0, cm: t4, trailingSpace: false, splitSpaces: t4.getOption("lineWrapping") };
            e3.measure = {};
            for (var i2 = 0; i2 <= (e3.rest ? e3.rest.length : 0); i2++) {
              var o2 = i2 ? e3.rest[i2 - 1] : e3.line, a2 = void 0;
              r3.pos = 0, r3.addToken = mn, Dt(t4.display.measure) && (a2 = ht(o2, t4.doc.direction)) && (r3.addToken = bn(r3.addToken, a2)), r3.map = [], kn(o2, r3, ye(t4, o2, e3 != t4.display.externalMeasured && ee(o2))), o2.styleClasses && (o2.styleClasses.bgClass && (r3.bgClass = R(o2.styleClasses.bgClass, r3.bgClass || "")), o2.styleClasses.textClass && (r3.textClass = R(o2.styleClasses.textClass, r3.textClass || ""))), 0 == r3.map.length && r3.map.push(0, 0, r3.content.appendChild(At(t4.display.measure))), 0 == i2 ? (e3.measure.map = r3.map, e3.measure.cache = {}) : ((e3.measure.maps || (e3.measure.maps = [])).push(r3.map), (e3.measure.caches || (e3.measure.caches = [])).push({}));
            }
            if (l) {
              var s2 = r3.content.lastChild;
              (/\bcm-tab\b/.test(s2.className) || s2.querySelector && s2.querySelector(".cm-tab")) && (r3.content.className = "cm-tab-wrap-hack");
            }
            return mt(t4, "renderLine", t4, e3.line, r3.pre), r3.pre.className && (r3.textClass = R(r3.pre.className, r3.textClass || "")), r3;
          }
          function vn(t4) {
            var e3 = E("span", "•", "cm-invalidchar");
            return e3.title = "\\u" + t4.charCodeAt(0).toString(16), e3.setAttribute("aria-label", e3.title), e3;
          }
          function mn(t4, e3, n3, r3, i2, o2, l2) {
            if (e3) {
              var c2, u2 = t4.splitSpaces ? yn(e3, t4.trailingSpace) : e3, f2 = t4.cm.state.specialChars, h2 = false;
              if (f2.test(e3)) {
                c2 = document.createDocumentFragment();
                for (var d2 = 0; 1; ) {
                  f2.lastIndex = d2;
                  var p2 = f2.exec(e3), g2 = p2 ? p2.index - d2 : e3.length - d2;
                  if (g2) {
                    var v2 = document.createTextNode(u2.slice(d2, d2 + g2));
                    a && s < 9 ? c2.appendChild(E("span", [v2])) : c2.appendChild(v2), t4.map.push(t4.pos, t4.pos + g2, v2), t4.col += g2, t4.pos += g2;
                  }
                  if (!p2) break;
                  d2 += g2 + 1;
                  var m2 = void 0;
                  if ("	" == p2[0]) {
                    var y2 = t4.cm.options.tabSize, b2 = y2 - t4.col % y2;
                    (m2 = c2.appendChild(E("span", G(b2), "cm-tab"))).setAttribute("role", "presentation"), m2.setAttribute("cm-text", "	"), t4.col += b2;
                  } else "\r" == p2[0] || "\n" == p2[0] ? ((m2 = c2.appendChild(E("span", "\r" == p2[0] ? "␍" : "␤", "cm-invalidchar"))).setAttribute("cm-text", p2[0]), t4.col += 1) : ((m2 = t4.cm.options.specialCharPlaceholder(p2[0])).setAttribute("cm-text", p2[0]), a && s < 9 ? c2.appendChild(E("span", [m2])) : c2.appendChild(m2), t4.col += 1);
                  t4.map.push(t4.pos, t4.pos + 1, m2), t4.pos++;
                }
              } else t4.col += e3.length, c2 = document.createTextNode(u2), t4.map.push(t4.pos, t4.pos + e3.length, c2), a && s < 9 && (h2 = true), t4.pos += e3.length;
              if (t4.trailingSpace = 32 == u2.charCodeAt(e3.length - 1), n3 || r3 || i2 || h2 || o2 || l2) {
                var w2 = n3 || "";
                r3 && (w2 += r3), i2 && (w2 += i2);
                var k2 = E("span", [c2], w2, o2);
                if (l2) for (var x2 in l2) l2.hasOwnProperty(x2) && "style" != x2 && "class" != x2 && k2.setAttribute(x2, l2[x2]);
                return t4.content.appendChild(k2);
              }
              t4.content.appendChild(c2);
            }
          }
          function yn(t4, e3) {
            if (t4.length > 1 && !/  /.test(t4)) return t4;
            for (var n3 = e3, r3 = "", i2 = 0; i2 < t4.length; i2++) {
              var o2 = t4.charAt(i2);
              " " != o2 || !n3 || i2 != t4.length - 1 && 32 != t4.charCodeAt(i2 + 1) || (o2 = " "), r3 += o2, n3 = " " == o2;
            }
            return r3;
          }
          function bn(t4, e3) {
            return function(n3, r3, i2, o2, a2, s2, l2) {
              i2 = i2 ? i2 + " cm-force-border" : "cm-force-border";
              for (var c2 = n3.pos, u2 = c2 + r3.length; ; ) {
                for (var f2 = void 0, h2 = 0; h2 < e3.length && !((f2 = e3[h2]).to > c2 && f2.from <= c2); h2++) ;
                if (f2.to >= u2) return t4(n3, r3, i2, o2, a2, s2, l2);
                t4(n3, r3.slice(0, f2.to - c2), i2, o2, null, s2, l2), o2 = null, r3 = r3.slice(f2.to - c2), c2 = f2.to;
              }
            };
          }
          function wn(t4, e3, n3, r3) {
            var i2 = !r3 && n3.widgetNode;
            i2 && t4.map.push(t4.pos, t4.pos + e3, i2), !r3 && t4.cm.display.input.needsContentAttribute && (i2 || (i2 = t4.content.appendChild(document.createElement("span"))), i2.setAttribute("cm-marker", n3.id)), i2 && (t4.cm.display.input.setUneditable(i2), t4.content.appendChild(i2)), t4.pos += e3, t4.trailingSpace = false;
          }
          function kn(t4, e3, n3) {
            var r3 = t4.markedSpans, i2 = t4.text, o2 = 0;
            if (r3) for (var a2, s2, l2, c2, u2, f2, h2, d2 = i2.length, p2 = 0, g2 = 1, v2 = "", m2 = 0; ; ) {
              if (m2 == p2) {
                l2 = c2 = u2 = s2 = "", h2 = null, f2 = null, m2 = 1 / 0;
                for (var y2 = [], b2 = void 0, w2 = 0; w2 < r3.length; ++w2) {
                  var k2 = r3[w2], x2 = k2.marker;
                  if ("bookmark" == x2.type && k2.from == p2 && x2.widgetNode) y2.push(x2);
                  else if (k2.from <= p2 && (null == k2.to || k2.to > p2 || x2.collapsed && k2.to == p2 && k2.from == p2)) {
                    if (null != k2.to && k2.to != p2 && m2 > k2.to && (m2 = k2.to, c2 = ""), x2.className && (l2 += " " + x2.className), x2.css && (s2 = (s2 ? s2 + ";" : "") + x2.css), x2.startStyle && k2.from == p2 && (u2 += " " + x2.startStyle), x2.endStyle && k2.to == m2 && (b2 || (b2 = [])).push(x2.endStyle, k2.to), x2.title && ((h2 || (h2 = {})).title = x2.title), x2.attributes) for (var O2 in x2.attributes) (h2 || (h2 = {}))[O2] = x2.attributes[O2];
                    x2.collapsed && (!f2 || $e(f2.marker, x2) < 0) && (f2 = k2);
                  } else k2.from > p2 && m2 > k2.from && (m2 = k2.from);
                }
                if (b2) for (var C2 = 0; C2 < b2.length; C2 += 2) b2[C2 + 1] == m2 && (c2 += " " + b2[C2]);
                if (!f2 || f2.from == p2) for (var S2 = 0; S2 < y2.length; ++S2) wn(e3, 0, y2[S2]);
                if (f2 && (f2.from || 0) == p2) {
                  if (wn(e3, (null == f2.to ? d2 + 1 : f2.to) - p2, f2.marker, null == f2.from), null == f2.to) return;
                  f2.to == p2 && (f2 = false);
                }
              }
              if (p2 >= d2) break;
              for (var _2 = Math.min(d2, m2); 1; ) {
                if (v2) {
                  var P2 = p2 + v2.length;
                  if (!f2) {
                    var T2 = P2 > _2 ? v2.slice(0, _2 - p2) : v2;
                    e3.addToken(e3, T2, a2 ? a2 + l2 : l2, u2, p2 + T2.length == m2 ? c2 : "", s2, h2);
                  }
                  if (P2 >= _2) {
                    v2 = v2.slice(_2 - p2), p2 = _2;
                    break;
                  }
                  p2 = P2, u2 = "";
                }
                v2 = i2.slice(o2, o2 = n3[g2++]), a2 = pn(n3[g2++], e3.cm.options);
              }
            }
            else for (var E2 = 1; E2 < n3.length; E2 += 2) e3.addToken(e3, i2.slice(o2, o2 = n3[E2]), pn(n3[E2 + 1], e3.cm.options));
          }
          function xn(t4, e3, n3) {
            this.line = e3, this.rest = tn(e3), this.size = this.rest ? ee(K(this.rest)) - n3 + 1 : 1, this.node = this.text = null, this.hidden = rn(t4, e3);
          }
          function On(t4, e3, n3) {
            for (var r3, i2 = [], o2 = e3; o2 < n3; o2 = r3) {
              var a2 = new xn(t4.doc, Xt(t4.doc, o2), o2);
              r3 = o2 + a2.size, i2.push(a2);
            }
            return i2;
          }
          var Cn = null;
          function Sn(t4) {
            Cn ? Cn.ops.push(t4) : t4.ownsGroup = Cn = { ops: [t4], delayedCallbacks: [] };
          }
          function _n(t4) {
            var e3 = t4.delayedCallbacks, n3 = 0;
            do {
              for (; n3 < e3.length; n3++) e3[n3].call(null);
              for (var r3 = 0; r3 < t4.ops.length; r3++) {
                var i2 = t4.ops[r3];
                if (i2.cursorActivityHandlers) for (; i2.cursorActivityCalled < i2.cursorActivityHandlers.length; ) i2.cursorActivityHandlers[i2.cursorActivityCalled++].call(null, i2.cm);
              }
            } while (n3 < e3.length);
          }
          function Pn(t4, e3) {
            var n3 = t4.ownsGroup;
            if (n3) try {
              _n(n3);
            } finally {
              Cn = null, e3(n3);
            }
          }
          var Tn = null;
          function En(t4, e3) {
            var n3 = gt(t4, e3);
            if (n3.length) {
              var r3, i2 = Array.prototype.slice.call(arguments, 2);
              Cn ? r3 = Cn.delayedCallbacks : Tn ? r3 = Tn : (r3 = Tn = [], setTimeout(jn, 0));
              for (var o2 = function(t5) {
                r3.push(function() {
                  return n3[t5].apply(null, i2);
                });
              }, a2 = 0; a2 < n3.length; ++a2) o2(a2);
            }
          }
          function jn() {
            var t4 = Tn;
            Tn = null;
            for (var e3 = 0; e3 < t4.length; ++e3) t4[e3]();
          }
          function An(t4, e3, n3, r3) {
            for (var i2 = 0; i2 < e3.changes.length; i2++) {
              var o2 = e3.changes[i2];
              "text" == o2 ? Zn(t4, e3) : "gutter" == o2 ? Nn(t4, e3, n3, r3) : "class" == o2 ? Ln(t4, e3) : "widget" == o2 && In(t4, e3, r3);
            }
            e3.changes = null;
          }
          function Dn(t4) {
            return t4.node == t4.text && (t4.node = E("div", null, null, "position: relative"), t4.text.parentNode && t4.text.parentNode.replaceChild(t4.node, t4.text), t4.node.appendChild(t4.text), a && s < 8 && (t4.node.style.zIndex = 2)), t4.node;
          }
          function Mn(t4, e3) {
            var n3 = e3.bgClass ? e3.bgClass + " " + (e3.line.bgClass || "") : e3.line.bgClass;
            if (n3 && (n3 += " CodeMirror-linebackground"), e3.background) n3 ? e3.background.className = n3 : (e3.background.parentNode.removeChild(e3.background), e3.background = null);
            else if (n3) {
              var r3 = Dn(e3);
              e3.background = r3.insertBefore(E("div", null, n3), r3.firstChild), t4.display.input.setUneditable(e3.background);
            }
          }
          function Rn(t4, e3) {
            var n3 = t4.display.externalMeasured;
            return n3 && n3.line == e3.line ? (t4.display.externalMeasured = null, e3.measure = n3.measure, n3.built) : gn(t4, e3);
          }
          function Zn(t4, e3) {
            var n3 = e3.text.className, r3 = Rn(t4, e3);
            e3.text == e3.node && (e3.node = r3.pre), e3.text.parentNode.replaceChild(r3.pre, e3.text), e3.text = r3.pre, r3.bgClass != e3.bgClass || r3.textClass != e3.textClass ? (e3.bgClass = r3.bgClass, e3.textClass = r3.textClass, Ln(t4, e3)) : n3 && (e3.text.className = n3);
          }
          function Ln(t4, e3) {
            Mn(t4, e3), e3.line.wrapClass ? Dn(e3).className = e3.line.wrapClass : e3.node != e3.text && (e3.node.className = "");
            var n3 = e3.textClass ? e3.textClass + " " + (e3.line.textClass || "") : e3.line.textClass;
            e3.text.className = n3 || "";
          }
          function Nn(t4, e3, n3, r3) {
            if (e3.gutter && (e3.node.removeChild(e3.gutter), e3.gutter = null), e3.gutterBackground && (e3.node.removeChild(e3.gutterBackground), e3.gutterBackground = null), e3.line.gutterClass) {
              var i2 = Dn(e3);
              e3.gutterBackground = E("div", null, "CodeMirror-gutter-background " + e3.line.gutterClass, "left: " + (t4.options.fixedGutter ? r3.fixedPos : -r3.gutterTotalWidth) + "px; width: " + r3.gutterTotalWidth + "px"), t4.display.input.setUneditable(e3.gutterBackground), i2.insertBefore(e3.gutterBackground, e3.text);
            }
            var o2 = e3.line.gutterMarkers;
            if (t4.options.lineNumbers || o2) {
              var a2 = Dn(e3), s2 = e3.gutter = E("div", null, "CodeMirror-gutter-wrapper", "left: " + (t4.options.fixedGutter ? r3.fixedPos : -r3.gutterTotalWidth) + "px");
              if (s2.setAttribute("aria-hidden", "true"), t4.display.input.setUneditable(s2), a2.insertBefore(s2, e3.text), e3.line.gutterClass && (s2.className += " " + e3.line.gutterClass), !t4.options.lineNumbers || o2 && o2["CodeMirror-linenumbers"] || (e3.lineNumber = s2.appendChild(E("div", ie(t4.options, n3), "CodeMirror-linenumber CodeMirror-gutter-elt", "left: " + r3.gutterLeft["CodeMirror-linenumbers"] + "px; width: " + t4.display.lineNumInnerWidth + "px"))), o2) for (var l2 = 0; l2 < t4.display.gutterSpecs.length; ++l2) {
                var c2 = t4.display.gutterSpecs[l2].className, u2 = o2.hasOwnProperty(c2) && o2[c2];
                u2 && s2.appendChild(E("div", [u2], "CodeMirror-gutter-elt", "left: " + r3.gutterLeft[c2] + "px; width: " + r3.gutterWidth[c2] + "px"));
              }
            }
          }
          function In(t4, e3, n3) {
            e3.alignable && (e3.alignable = null);
            for (var r3 = C("CodeMirror-linewidget"), i2 = e3.node.firstChild, o2 = void 0; i2; i2 = o2) o2 = i2.nextSibling, r3.test(i2.className) && e3.node.removeChild(i2);
            Vn(t4, e3, n3);
          }
          function Fn(t4, e3, n3, r3) {
            var i2 = Rn(t4, e3);
            return e3.text = e3.node = i2.pre, i2.bgClass && (e3.bgClass = i2.bgClass), i2.textClass && (e3.textClass = i2.textClass), Ln(t4, e3), Nn(t4, e3, n3, r3), Vn(t4, e3, r3), e3.node;
          }
          function Vn(t4, e3, n3) {
            if (Bn(t4, e3.line, e3, n3, true), e3.rest) for (var r3 = 0; r3 < e3.rest.length; r3++) Bn(t4, e3.rest[r3], e3, n3, false);
          }
          function Bn(t4, e3, n3, r3, i2) {
            if (e3.widgets) for (var o2 = Dn(n3), a2 = 0, s2 = e3.widgets; a2 < s2.length; ++a2) {
              var l2 = s2[a2], c2 = E("div", [l2.node], "CodeMirror-linewidget" + (l2.className ? " " + l2.className : ""));
              l2.handleMouseEvents || c2.setAttribute("cm-ignore-events", "true"), Hn(l2, c2, n3, r3), t4.display.input.setUneditable(c2), i2 && l2.above ? o2.insertBefore(c2, n3.gutter || n3.text) : o2.appendChild(c2), En(l2, "redraw");
            }
          }
          function Hn(t4, e3, n3, r3) {
            if (t4.noHScroll) {
              (n3.alignable || (n3.alignable = [])).push(e3);
              var i2 = r3.wrapperWidth;
              e3.style.left = r3.fixedPos + "px", t4.coverGutter || (i2 -= r3.gutterTotalWidth, e3.style.paddingLeft = r3.gutterTotalWidth + "px"), e3.style.width = i2 + "px";
            }
            t4.coverGutter && (e3.style.zIndex = 5, e3.style.position = "relative", t4.noHScroll || (e3.style.marginLeft = -r3.gutterTotalWidth + "px"));
          }
          function zn(t4) {
            if (null != t4.height) return t4.height;
            var e3 = t4.doc.cm;
            if (!e3) return 0;
            if (!A(document.body, t4.node)) {
              var n3 = "position: relative;";
              t4.coverGutter && (n3 += "margin-left: -" + e3.display.gutters.offsetWidth + "px;"), t4.noHScroll && (n3 += "width: " + e3.display.wrapper.clientWidth + "px;"), T(e3.display.measure, E("div", [t4.node], null, n3));
            }
            return t4.height = t4.node.parentNode.offsetHeight;
          }
          function Un(t4, e3) {
            for (var n3 = _t(e3); n3 != t4.wrapper; n3 = n3.parentNode) if (!n3 || 1 == n3.nodeType && "true" == n3.getAttribute("cm-ignore-events") || n3.parentNode == t4.sizer && n3 != t4.mover) return true;
          }
          function Wn(t4) {
            return t4.lineSpace.offsetTop;
          }
          function $n(t4) {
            return t4.mover.offsetHeight - t4.lineSpace.offsetHeight;
          }
          function qn(t4) {
            if (t4.cachedPaddingH) return t4.cachedPaddingH;
            var e3 = T(t4.measure, E("pre", "x", "CodeMirror-line-like")), n3 = window.getComputedStyle ? window.getComputedStyle(e3) : e3.currentStyle, r3 = { left: parseInt(n3.paddingLeft), right: parseInt(n3.paddingRight) };
            return isNaN(r3.left) || isNaN(r3.right) || (t4.cachedPaddingH = r3), r3;
          }
          function Gn(t4) {
            return B - t4.display.nativeBarWidth;
          }
          function Kn(t4) {
            return t4.display.scroller.clientWidth - Gn(t4) - t4.display.barWidth;
          }
          function Yn(t4) {
            return t4.display.scroller.clientHeight - Gn(t4) - t4.display.barHeight;
          }
          function Xn(t4, e3, n3) {
            var r3 = t4.options.lineWrapping, i2 = r3 && Kn(t4);
            if (!e3.measure.heights || r3 && e3.measure.width != i2) {
              var o2 = e3.measure.heights = [];
              if (r3) {
                e3.measure.width = i2;
                for (var a2 = e3.text.firstChild.getClientRects(), s2 = 0; s2 < a2.length - 1; s2++) {
                  var l2 = a2[s2], c2 = a2[s2 + 1];
                  Math.abs(l2.bottom - c2.bottom) > 2 && o2.push((l2.bottom + c2.top) / 2 - n3.top);
                }
              }
              o2.push(n3.bottom - n3.top);
            }
          }
          function Jn(t4, e3, n3) {
            if (t4.line == e3) return { map: t4.measure.map, cache: t4.measure.cache };
            for (var r3 = 0; r3 < t4.rest.length; r3++) if (t4.rest[r3] == e3) return { map: t4.measure.maps[r3], cache: t4.measure.caches[r3] };
            for (var i2 = 0; i2 < t4.rest.length; i2++) if (ee(t4.rest[i2]) > n3) return { map: t4.measure.maps[i2], cache: t4.measure.caches[i2], before: true };
          }
          function Qn(t4, e3) {
            var n3 = ee(e3 = Je(e3)), r3 = t4.display.externalMeasured = new xn(t4.doc, e3, n3);
            r3.lineN = n3;
            var i2 = r3.built = gn(t4, r3);
            return r3.text = i2.pre, T(t4.display.lineMeasure, i2.pre), r3;
          }
          function tr(t4, e3, n3, r3) {
            return rr(t4, nr(t4, e3), n3, r3);
          }
          function er(t4, e3) {
            if (e3 >= t4.display.viewFrom && e3 < t4.display.viewTo) return t4.display.view[Lr(t4, e3)];
            var n3 = t4.display.externalMeasured;
            return n3 && e3 >= n3.lineN && e3 < n3.lineN + n3.size ? n3 : void 0;
          }
          function nr(t4, e3) {
            var n3 = ee(e3), r3 = er(t4, n3);
            r3 && !r3.text ? r3 = null : r3 && r3.changes && (An(t4, r3, n3, Ar(t4)), t4.curOp.forceUpdate = true), r3 || (r3 = Qn(t4, e3));
            var i2 = Jn(r3, e3, n3);
            return { line: e3, view: r3, rect: null, map: i2.map, cache: i2.cache, before: i2.before, hasHeights: false };
          }
          function rr(t4, e3, n3, r3, i2) {
            e3.before && (n3 = -1);
            var o2, a2 = n3 + (r3 || "");
            return e3.cache.hasOwnProperty(a2) ? o2 = e3.cache[a2] : (e3.rect || (e3.rect = e3.view.text.getBoundingClientRect()), e3.hasHeights || (Xn(t4, e3.view, e3.rect), e3.hasHeights = true), (o2 = lr(t4, e3, n3, r3)).bogus || (e3.cache[a2] = o2)), { left: o2.left, right: o2.right, top: i2 ? o2.rtop : o2.top, bottom: i2 ? o2.rbottom : o2.bottom };
          }
          var ir, or = { left: 0, right: 0, top: 0, bottom: 0 };
          function ar(t4, e3, n3) {
            for (var r3, i2, o2, a2, s2, l2, c2 = 0; c2 < t4.length; c2 += 3) if (s2 = t4[c2], l2 = t4[c2 + 1], e3 < s2 ? (i2 = 0, o2 = 1, a2 = "left") : e3 < l2 ? o2 = (i2 = e3 - s2) + 1 : (c2 == t4.length - 3 || e3 == l2 && t4[c2 + 3] > e3) && (i2 = (o2 = l2 - s2) - 1, e3 >= l2 && (a2 = "right")), null != i2) {
              if (r3 = t4[c2 + 2], s2 == l2 && n3 == (r3.insertLeft ? "left" : "right") && (a2 = n3), "left" == n3 && 0 == i2) for (; c2 && t4[c2 - 2] == t4[c2 - 3] && t4[c2 - 1].insertLeft; ) r3 = t4[(c2 -= 3) + 2], a2 = "left";
              if ("right" == n3 && i2 == l2 - s2) for (; c2 < t4.length - 3 && t4[c2 + 3] == t4[c2 + 4] && !t4[c2 + 5].insertLeft; ) r3 = t4[(c2 += 3) + 2], a2 = "right";
              break;
            }
            return { node: r3, start: i2, end: o2, collapse: a2, coverStart: s2, coverEnd: l2 };
          }
          function sr(t4, e3) {
            var n3 = or;
            if ("left" == e3) for (var r3 = 0; r3 < t4.length && (n3 = t4[r3]).left == n3.right; r3++) ;
            else for (var i2 = t4.length - 1; i2 >= 0 && (n3 = t4[i2]).left == n3.right; i2--) ;
            return n3;
          }
          function lr(t4, e3, n3, r3) {
            var i2, o2 = ar(e3.map, n3, r3), l2 = o2.node, c2 = o2.start, u2 = o2.end, f2 = o2.collapse;
            if (3 == l2.nodeType) {
              for (var h2 = 0; h2 < 4; h2++) {
                for (; c2 && ot(e3.line.text.charAt(o2.coverStart + c2)); ) --c2;
                for (; o2.coverStart + u2 < o2.coverEnd && ot(e3.line.text.charAt(o2.coverStart + u2)); ) ++u2;
                if ((i2 = a && s < 9 && 0 == c2 && u2 == o2.coverEnd - o2.coverStart ? l2.parentNode.getBoundingClientRect() : sr(S(l2, c2, u2).getClientRects(), r3)).left || i2.right || 0 == c2) break;
                u2 = c2, c2 -= 1, f2 = "right";
              }
              a && s < 11 && (i2 = cr(t4.display.measure, i2));
            } else {
              var d2;
              c2 > 0 && (f2 = r3 = "right"), i2 = t4.options.lineWrapping && (d2 = l2.getClientRects()).length > 1 ? d2["right" == r3 ? d2.length - 1 : 0] : l2.getBoundingClientRect();
            }
            if (a && s < 9 && !c2 && (!i2 || !i2.left && !i2.right)) {
              var p2 = l2.parentNode.getClientRects()[0];
              i2 = p2 ? { left: p2.left, right: p2.left + jr(t4.display), top: p2.top, bottom: p2.bottom } : or;
            }
            for (var g2 = i2.top - e3.rect.top, v2 = i2.bottom - e3.rect.top, m2 = (g2 + v2) / 2, y2 = e3.view.measure.heights, b2 = 0; b2 < y2.length - 1 && !(m2 < y2[b2]); b2++) ;
            var w2 = b2 ? y2[b2 - 1] : 0, k2 = y2[b2], x2 = { left: ("right" == f2 ? i2.right : i2.left) - e3.rect.left, right: ("left" == f2 ? i2.left : i2.right) - e3.rect.left, top: w2, bottom: k2 };
            return i2.left || i2.right || (x2.bogus = true), t4.options.singleCursorHeightPerLine || (x2.rtop = g2, x2.rbottom = v2), x2;
          }
          function cr(t4, e3) {
            if (!window.screen || null == screen.logicalXDPI || screen.logicalXDPI == screen.deviceXDPI || !It(t4)) return e3;
            var n3 = screen.logicalXDPI / screen.deviceXDPI, r3 = screen.logicalYDPI / screen.deviceYDPI;
            return { left: e3.left * n3, right: e3.right * n3, top: e3.top * r3, bottom: e3.bottom * r3 };
          }
          function ur(t4) {
            if (t4.measure && (t4.measure.cache = {}, t4.measure.heights = null, t4.rest)) for (var e3 = 0; e3 < t4.rest.length; e3++) t4.measure.caches[e3] = {};
          }
          function fr(t4) {
            t4.display.externalMeasure = null, P(t4.display.lineMeasure);
            for (var e3 = 0; e3 < t4.display.view.length; e3++) ur(t4.display.view[e3]);
          }
          function hr(t4) {
            fr(t4), t4.display.cachedCharWidth = t4.display.cachedTextHeight = t4.display.cachedPaddingH = null, t4.options.lineWrapping || (t4.display.maxLineChanged = true), t4.display.lineNumChars = null;
          }
          function dr() {
            return u && v ? -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) : window.pageXOffset || (document.documentElement || document.body).scrollLeft;
          }
          function pr() {
            return u && v ? -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) : window.pageYOffset || (document.documentElement || document.body).scrollTop;
          }
          function gr(t4) {
            var e3 = 0;
            if (t4.widgets) for (var n3 = 0; n3 < t4.widgets.length; ++n3) t4.widgets[n3].above && (e3 += zn(t4.widgets[n3]));
            return e3;
          }
          function vr(t4, e3, n3, r3, i2) {
            if (!i2) {
              var o2 = gr(e3);
              n3.top += o2, n3.bottom += o2;
            }
            if ("line" == r3) return n3;
            r3 || (r3 = "local");
            var a2 = an(e3);
            if ("local" == r3 ? a2 += Wn(t4.display) : a2 -= t4.display.viewOffset, "page" == r3 || "window" == r3) {
              var s2 = t4.display.lineSpace.getBoundingClientRect();
              a2 += s2.top + ("window" == r3 ? 0 : pr());
              var l2 = s2.left + ("window" == r3 ? 0 : dr());
              n3.left += l2, n3.right += l2;
            }
            return n3.top += a2, n3.bottom += a2, n3;
          }
          function mr(t4, e3, n3) {
            if ("div" == n3) return e3;
            var r3 = e3.left, i2 = e3.top;
            if ("page" == n3) r3 -= dr(), i2 -= pr();
            else if ("local" == n3 || !n3) {
              var o2 = t4.display.sizer.getBoundingClientRect();
              r3 += o2.left, i2 += o2.top;
            }
            var a2 = t4.display.lineSpace.getBoundingClientRect();
            return { left: r3 - a2.left, top: i2 - a2.top };
          }
          function yr(t4, e3, n3, r3, i2) {
            return r3 || (r3 = Xt(t4.doc, e3.line)), vr(t4, r3, tr(t4, r3, e3.ch, i2), n3);
          }
          function br(t4, e3, n3, r3, i2, o2) {
            function a2(e4, a3) {
              var s3 = rr(t4, i2, e4, a3 ? "right" : "left", o2);
              return a3 ? s3.left = s3.right : s3.right = s3.left, vr(t4, r3, s3, n3);
            }
            r3 = r3 || Xt(t4.doc, e3.line), i2 || (i2 = nr(t4, r3));
            var s2 = ht(r3, t4.doc.direction), l2 = e3.ch, c2 = e3.sticky;
            if (l2 >= r3.text.length ? (l2 = r3.text.length, c2 = "before") : l2 <= 0 && (l2 = 0, c2 = "after"), !s2) return a2("before" == c2 ? l2 - 1 : l2, "before" == c2);
            function u2(t5, e4, n4) {
              return a2(n4 ? t5 - 1 : t5, 1 == s2[e4].level != n4);
            }
            var f2 = ut(s2, l2, c2), h2 = ct, d2 = u2(l2, f2, "before" == c2);
            return null != h2 && (d2.other = u2(l2, h2, "before" != c2)), d2;
          }
          function wr(t4, e3) {
            var n3 = 0;
            e3 = he(t4.doc, e3), t4.options.lineWrapping || (n3 = jr(t4.display) * e3.ch);
            var r3 = Xt(t4.doc, e3.line), i2 = an(r3) + Wn(t4.display);
            return { left: n3, right: n3, top: i2, bottom: i2 + r3.height };
          }
          function kr(t4, e3, n3, r3, i2) {
            var o2 = oe(t4, e3, n3);
            return o2.xRel = i2, r3 && (o2.outside = r3), o2;
          }
          function xr(t4, e3, n3) {
            var r3 = t4.doc;
            if ((n3 += t4.display.viewOffset) < 0) return kr(r3.first, 0, null, -1, -1);
            var i2 = ne(r3, n3), o2 = r3.first + r3.size - 1;
            if (i2 > o2) return kr(r3.first + r3.size - 1, Xt(r3, o2).text.length, null, 1, 1);
            e3 < 0 && (e3 = 0);
            for (var a2 = Xt(r3, i2); ; ) {
              var s2 = _r(t4, a2, i2, e3, n3), l2 = Ye(a2, s2.ch + (s2.xRel > 0 || s2.outside > 0 ? 1 : 0));
              if (!l2) return s2;
              var c2 = l2.find(1);
              if (c2.line == i2) return c2;
              a2 = Xt(r3, i2 = c2.line);
            }
          }
          function Or(t4, e3, n3, r3) {
            r3 -= gr(e3);
            var i2 = e3.text.length, o2 = st(function(e4) {
              return rr(t4, n3, e4 - 1).bottom <= r3;
            }, i2, 0);
            return { begin: o2, end: i2 = st(function(e4) {
              return rr(t4, n3, e4).top > r3;
            }, o2, i2) };
          }
          function Cr(t4, e3, n3, r3) {
            return n3 || (n3 = nr(t4, e3)), Or(t4, e3, n3, vr(t4, e3, rr(t4, n3, r3), "line").top);
          }
          function Sr(t4, e3, n3, r3) {
            return !(t4.bottom <= n3) && (t4.top > n3 || (r3 ? t4.left : t4.right) > e3);
          }
          function _r(t4, e3, n3, r3, i2) {
            i2 -= an(e3);
            var o2 = nr(t4, e3), a2 = gr(e3), s2 = 0, l2 = e3.text.length, c2 = true, u2 = ht(e3, t4.doc.direction);
            if (u2) {
              var f2 = (t4.options.lineWrapping ? Tr : Pr)(t4, e3, n3, o2, u2, r3, i2);
              s2 = (c2 = 1 != f2.level) ? f2.from : f2.to - 1, l2 = c2 ? f2.to : f2.from - 1;
            }
            var h2, d2, p2 = null, g2 = null, v2 = st(function(e4) {
              var n4 = rr(t4, o2, e4);
              return n4.top += a2, n4.bottom += a2, !!Sr(n4, r3, i2, false) && (n4.top <= i2 && n4.left <= r3 && (p2 = e4, g2 = n4), true);
            }, s2, l2), m2 = false;
            if (g2) {
              var y2 = r3 - g2.left < g2.right - r3, b2 = y2 == c2;
              v2 = p2 + (b2 ? 0 : 1), d2 = b2 ? "after" : "before", h2 = y2 ? g2.left : g2.right;
            } else {
              c2 || v2 != l2 && v2 != s2 || v2++, d2 = 0 == v2 ? "after" : v2 == e3.text.length ? "before" : rr(t4, o2, v2 - (c2 ? 1 : 0)).bottom + a2 <= i2 == c2 ? "after" : "before";
              var w2 = br(t4, oe(n3, v2, d2), "line", e3, o2);
              h2 = w2.left, m2 = i2 < w2.top ? -1 : i2 >= w2.bottom ? 1 : 0;
            }
            return kr(n3, v2 = at(e3.text, v2, 1), d2, m2, r3 - h2);
          }
          function Pr(t4, e3, n3, r3, i2, o2, a2) {
            var s2 = st(function(s3) {
              var l3 = i2[s3], c3 = 1 != l3.level;
              return Sr(br(t4, oe(n3, c3 ? l3.to : l3.from, c3 ? "before" : "after"), "line", e3, r3), o2, a2, true);
            }, 0, i2.length - 1), l2 = i2[s2];
            if (s2 > 0) {
              var c2 = 1 != l2.level, u2 = br(t4, oe(n3, c2 ? l2.from : l2.to, c2 ? "after" : "before"), "line", e3, r3);
              Sr(u2, o2, a2, true) && u2.top > a2 && (l2 = i2[s2 - 1]);
            }
            return l2;
          }
          function Tr(t4, e3, n3, r3, i2, o2, a2) {
            var s2 = Or(t4, e3, r3, a2), l2 = s2.begin, c2 = s2.end;
            /\s/.test(e3.text.charAt(c2 - 1)) && c2--;
            for (var u2 = null, f2 = null, h2 = 0; h2 < i2.length; h2++) {
              var d2 = i2[h2];
              if (!(d2.from >= c2 || d2.to <= l2)) {
                var p2 = rr(t4, r3, 1 != d2.level ? Math.min(c2, d2.to) - 1 : Math.max(l2, d2.from)).right, g2 = p2 < o2 ? o2 - p2 + 1e9 : p2 - o2;
                (!u2 || f2 > g2) && (u2 = d2, f2 = g2);
              }
            }
            return u2 || (u2 = i2[i2.length - 1]), u2.from < l2 && (u2 = { from: l2, to: u2.to, level: u2.level }), u2.to > c2 && (u2 = { from: u2.from, to: c2, level: u2.level }), u2;
          }
          function Er(t4) {
            if (null != t4.cachedTextHeight) return t4.cachedTextHeight;
            if (null == ir) {
              ir = E("pre", null, "CodeMirror-line-like");
              for (var e3 = 0; e3 < 49; ++e3) ir.appendChild(document.createTextNode("x")), ir.appendChild(E("br"));
              ir.appendChild(document.createTextNode("x"));
            }
            T(t4.measure, ir);
            var n3 = ir.offsetHeight / 50;
            return n3 > 3 && (t4.cachedTextHeight = n3), P(t4.measure), n3 || 1;
          }
          function jr(t4) {
            if (null != t4.cachedCharWidth) return t4.cachedCharWidth;
            var e3 = E("span", "xxxxxxxxxx"), n3 = E("pre", [e3], "CodeMirror-line-like");
            T(t4.measure, n3);
            var r3 = e3.getBoundingClientRect(), i2 = (r3.right - r3.left) / 10;
            return i2 > 2 && (t4.cachedCharWidth = i2), i2 || 10;
          }
          function Ar(t4) {
            for (var e3 = t4.display, n3 = {}, r3 = {}, i2 = e3.gutters.clientLeft, o2 = e3.gutters.firstChild, a2 = 0; o2; o2 = o2.nextSibling, ++a2) {
              var s2 = t4.display.gutterSpecs[a2].className;
              n3[s2] = o2.offsetLeft + o2.clientLeft + i2, r3[s2] = o2.clientWidth;
            }
            return { fixedPos: Dr(e3), gutterTotalWidth: e3.gutters.offsetWidth, gutterLeft: n3, gutterWidth: r3, wrapperWidth: e3.wrapper.clientWidth };
          }
          function Dr(t4) {
            return t4.scroller.getBoundingClientRect().left - t4.sizer.getBoundingClientRect().left;
          }
          function Mr(t4) {
            var e3 = Er(t4.display), n3 = t4.options.lineWrapping, r3 = n3 && Math.max(5, t4.display.scroller.clientWidth / jr(t4.display) - 3);
            return function(i2) {
              if (rn(t4.doc, i2)) return 0;
              var o2 = 0;
              if (i2.widgets) for (var a2 = 0; a2 < i2.widgets.length; a2++) i2.widgets[a2].height && (o2 += i2.widgets[a2].height);
              return n3 ? o2 + (Math.ceil(i2.text.length / r3) || 1) * e3 : o2 + e3;
            };
          }
          function Rr(t4) {
            var e3 = t4.doc, n3 = Mr(t4);
            e3.iter(function(t5) {
              var e4 = n3(t5);
              e4 != t5.height && te(t5, e4);
            });
          }
          function Zr(t4, e3, n3, r3) {
            var i2 = t4.display;
            if (!n3 && "true" == _t(e3).getAttribute("cm-not-content")) return null;
            var o2, a2, s2 = i2.lineSpace.getBoundingClientRect();
            try {
              o2 = e3.clientX - s2.left, a2 = e3.clientY - s2.top;
            } catch (t5) {
              return null;
            }
            var l2, c2 = xr(t4, o2, a2);
            if (r3 && c2.xRel > 0 && (l2 = Xt(t4.doc, c2.line).text).length == c2.ch) {
              var u2 = I(l2, l2.length, t4.options.tabSize) - l2.length;
              c2 = oe(c2.line, Math.max(0, Math.round((o2 - qn(t4.display).left) / jr(t4.display)) - u2));
            }
            return c2;
          }
          function Lr(t4, e3) {
            if (e3 >= t4.display.viewTo) return null;
            if ((e3 -= t4.display.viewFrom) < 0) return null;
            for (var n3 = t4.display.view, r3 = 0; r3 < n3.length; r3++) if ((e3 -= n3[r3].size) < 0) return r3;
          }
          function Nr(t4, e3, n3, r3) {
            null == e3 && (e3 = t4.doc.first), null == n3 && (n3 = t4.doc.first + t4.doc.size), r3 || (r3 = 0);
            var i2 = t4.display;
            if (r3 && n3 < i2.viewTo && (null == i2.updateLineNumbers || i2.updateLineNumbers > e3) && (i2.updateLineNumbers = e3), t4.curOp.viewChanged = true, e3 >= i2.viewTo) je && en(t4.doc, e3) < i2.viewTo && Fr(t4);
            else if (n3 <= i2.viewFrom) je && nn(t4.doc, n3 + r3) > i2.viewFrom ? Fr(t4) : (i2.viewFrom += r3, i2.viewTo += r3);
            else if (e3 <= i2.viewFrom && n3 >= i2.viewTo) Fr(t4);
            else if (e3 <= i2.viewFrom) {
              var o2 = Vr(t4, n3, n3 + r3, 1);
              o2 ? (i2.view = i2.view.slice(o2.index), i2.viewFrom = o2.lineN, i2.viewTo += r3) : Fr(t4);
            } else if (n3 >= i2.viewTo) {
              var a2 = Vr(t4, e3, e3, -1);
              a2 ? (i2.view = i2.view.slice(0, a2.index), i2.viewTo = a2.lineN) : Fr(t4);
            } else {
              var s2 = Vr(t4, e3, e3, -1), l2 = Vr(t4, n3, n3 + r3, 1);
              s2 && l2 ? (i2.view = i2.view.slice(0, s2.index).concat(On(t4, s2.lineN, l2.lineN)).concat(i2.view.slice(l2.index)), i2.viewTo += r3) : Fr(t4);
            }
            var c2 = i2.externalMeasured;
            c2 && (n3 < c2.lineN ? c2.lineN += r3 : e3 < c2.lineN + c2.size && (i2.externalMeasured = null));
          }
          function Ir(t4, e3, n3) {
            t4.curOp.viewChanged = true;
            var r3 = t4.display, i2 = t4.display.externalMeasured;
            if (i2 && e3 >= i2.lineN && e3 < i2.lineN + i2.size && (r3.externalMeasured = null), !(e3 < r3.viewFrom || e3 >= r3.viewTo)) {
              var o2 = r3.view[Lr(t4, e3)];
              if (null != o2.node) {
                var a2 = o2.changes || (o2.changes = []);
                -1 == V(a2, n3) && a2.push(n3);
              }
            }
          }
          function Fr(t4) {
            t4.display.viewFrom = t4.display.viewTo = t4.doc.first, t4.display.view = [], t4.display.viewOffset = 0;
          }
          function Vr(t4, e3, n3, r3) {
            var i2, o2 = Lr(t4, e3), a2 = t4.display.view;
            if (!je || n3 == t4.doc.first + t4.doc.size) return { index: o2, lineN: n3 };
            for (var s2 = t4.display.viewFrom, l2 = 0; l2 < o2; l2++) s2 += a2[l2].size;
            if (s2 != e3) {
              if (r3 > 0) {
                if (o2 == a2.length - 1) return null;
                i2 = s2 + a2[o2].size - e3, o2++;
              } else i2 = s2 - e3;
              e3 += i2, n3 += i2;
            }
            for (; en(t4.doc, n3) != n3; ) {
              if (o2 == (r3 < 0 ? 0 : a2.length - 1)) return null;
              n3 += r3 * a2[o2 - (r3 < 0 ? 1 : 0)].size, o2 += r3;
            }
            return { index: o2, lineN: n3 };
          }
          function Br(t4, e3, n3) {
            var r3 = t4.display;
            0 == r3.view.length || e3 >= r3.viewTo || n3 <= r3.viewFrom ? (r3.view = On(t4, e3, n3), r3.viewFrom = e3) : (r3.viewFrom > e3 ? r3.view = On(t4, e3, r3.viewFrom).concat(r3.view) : r3.viewFrom < e3 && (r3.view = r3.view.slice(Lr(t4, e3))), r3.viewFrom = e3, r3.viewTo < n3 ? r3.view = r3.view.concat(On(t4, r3.viewTo, n3)) : r3.viewTo > n3 && (r3.view = r3.view.slice(0, Lr(t4, n3)))), r3.viewTo = n3;
          }
          function Hr(t4) {
            for (var e3 = t4.display.view, n3 = 0, r3 = 0; r3 < e3.length; r3++) {
              var i2 = e3[r3];
              i2.hidden || i2.node && !i2.changes || ++n3;
            }
            return n3;
          }
          function zr(t4) {
            t4.display.input.showSelection(t4.display.input.prepareSelection());
          }
          function Ur(t4, e3) {
            void 0 === e3 && (e3 = true);
            for (var n3 = t4.doc, r3 = {}, i2 = r3.cursors = document.createDocumentFragment(), o2 = r3.selection = document.createDocumentFragment(), a2 = 0; a2 < n3.sel.ranges.length; a2++) if (e3 || a2 != n3.sel.primIndex) {
              var s2 = n3.sel.ranges[a2];
              if (!(s2.from().line >= t4.display.viewTo || s2.to().line < t4.display.viewFrom)) {
                var l2 = s2.empty();
                (l2 || t4.options.showCursorWhenSelecting) && Wr(t4, s2.head, i2), l2 || qr(t4, s2, o2);
              }
            }
            return r3;
          }
          function Wr(t4, e3, n3) {
            var r3 = br(t4, e3, "div", null, null, !t4.options.singleCursorHeightPerLine), i2 = n3.appendChild(E("div", " ", "CodeMirror-cursor"));
            if (i2.style.left = r3.left + "px", i2.style.top = r3.top + "px", i2.style.height = Math.max(0, r3.bottom - r3.top) * t4.options.cursorHeight + "px", /\bcm-fat-cursor\b/.test(t4.getWrapperElement().className)) {
              var o2 = yr(t4, e3, "div", null, null);
              o2.right - o2.left > 0 && (i2.style.width = o2.right - o2.left + "px");
            }
            if (r3.other) {
              var a2 = n3.appendChild(E("div", " ", "CodeMirror-cursor CodeMirror-secondarycursor"));
              a2.style.display = "", a2.style.left = r3.other.left + "px", a2.style.top = r3.other.top + "px", a2.style.height = 0.85 * (r3.other.bottom - r3.other.top) + "px";
            }
          }
          function $r(t4, e3) {
            return t4.top - e3.top || t4.left - e3.left;
          }
          function qr(t4, e3, n3) {
            var r3 = t4.display, i2 = t4.doc, o2 = document.createDocumentFragment(), a2 = qn(t4.display), s2 = a2.left, l2 = Math.max(r3.sizerWidth, Kn(t4) - r3.sizer.offsetLeft) - a2.right, c2 = "ltr" == i2.direction;
            function u2(t5, e4, n4, r4) {
              e4 < 0 && (e4 = 0), e4 = Math.round(e4), r4 = Math.round(r4), o2.appendChild(E("div", null, "CodeMirror-selected", "position: absolute; left: " + t5 + "px;\n                             top: " + e4 + "px; width: " + (null == n4 ? l2 - t5 : n4) + "px;\n                             height: " + (r4 - e4) + "px"));
            }
            function f2(e4, n4, r4) {
              var o3, a3, f3 = Xt(i2, e4), h3 = f3.text.length;
              function d3(n5, r5) {
                return yr(t4, oe(e4, n5), "div", f3, r5);
              }
              function p3(e5, n5, r5) {
                var i3 = Cr(t4, f3, null, e5), o4 = "ltr" == n5 == ("after" == r5) ? "left" : "right";
                return d3("after" == r5 ? i3.begin : i3.end - (/\s/.test(f3.text.charAt(i3.end - 1)) ? 2 : 1), o4)[o4];
              }
              var g3 = ht(f3, i2.direction);
              return lt(g3, n4 || 0, null == r4 ? h3 : r4, function(t5, e5, i3, f4) {
                var v3 = "ltr" == i3, m3 = d3(t5, v3 ? "left" : "right"), y3 = d3(e5 - 1, v3 ? "right" : "left"), b2 = null == n4 && 0 == t5, w2 = null == r4 && e5 == h3, k2 = 0 == f4, x2 = !g3 || f4 == g3.length - 1;
                if (y3.top - m3.top <= 3) {
                  var O2 = (c2 ? w2 : b2) && x2, C2 = (c2 ? b2 : w2) && k2 ? s2 : (v3 ? m3 : y3).left, S2 = O2 ? l2 : (v3 ? y3 : m3).right;
                  u2(C2, m3.top, S2 - C2, m3.bottom);
                } else {
                  var _2, P2, T2, E2;
                  v3 ? (_2 = c2 && b2 && k2 ? s2 : m3.left, P2 = c2 ? l2 : p3(t5, i3, "before"), T2 = c2 ? s2 : p3(e5, i3, "after"), E2 = c2 && w2 && x2 ? l2 : y3.right) : (_2 = c2 ? p3(t5, i3, "before") : s2, P2 = !c2 && b2 && k2 ? l2 : m3.right, T2 = !c2 && w2 && x2 ? s2 : y3.left, E2 = c2 ? p3(e5, i3, "after") : l2), u2(_2, m3.top, P2 - _2, m3.bottom), m3.bottom < y3.top && u2(s2, m3.bottom, null, y3.top), u2(T2, y3.top, E2 - T2, y3.bottom);
                }
                (!o3 || $r(m3, o3) < 0) && (o3 = m3), $r(y3, o3) < 0 && (o3 = y3), (!a3 || $r(m3, a3) < 0) && (a3 = m3), $r(y3, a3) < 0 && (a3 = y3);
              }), { start: o3, end: a3 };
            }
            var h2 = e3.from(), d2 = e3.to();
            if (h2.line == d2.line) f2(h2.line, h2.ch, d2.ch);
            else {
              var p2 = Xt(i2, h2.line), g2 = Xt(i2, d2.line), v2 = Je(p2) == Je(g2), m2 = f2(h2.line, h2.ch, v2 ? p2.text.length + 1 : null).end, y2 = f2(d2.line, v2 ? 0 : null, d2.ch).start;
              v2 && (m2.top < y2.top - 2 ? (u2(m2.right, m2.top, null, m2.bottom), u2(s2, y2.top, y2.left, y2.bottom)) : u2(m2.right, m2.top, y2.left - m2.right, m2.bottom)), m2.bottom < y2.top && u2(s2, m2.bottom, null, y2.top);
            }
            n3.appendChild(o2);
          }
          function Gr(t4) {
            if (t4.state.focused) {
              var e3 = t4.display;
              clearInterval(e3.blinker);
              var n3 = true;
              e3.cursorDiv.style.visibility = "", t4.options.cursorBlinkRate > 0 ? e3.blinker = setInterval(function() {
                t4.hasFocus() || Jr(t4), e3.cursorDiv.style.visibility = (n3 = !n3) ? "" : "hidden";
              }, t4.options.cursorBlinkRate) : t4.options.cursorBlinkRate < 0 && (e3.cursorDiv.style.visibility = "hidden");
            }
          }
          function Kr(t4) {
            t4.hasFocus() || (t4.display.input.focus(), t4.state.focused || Xr(t4));
          }
          function Yr(t4) {
            t4.state.delayingBlurEvent = true, setTimeout(function() {
              t4.state.delayingBlurEvent && (t4.state.delayingBlurEvent = false, t4.state.focused && Jr(t4));
            }, 100);
          }
          function Xr(t4, e3) {
            t4.state.delayingBlurEvent && !t4.state.draggingText && (t4.state.delayingBlurEvent = false), "nocursor" != t4.options.readOnly && (t4.state.focused || (mt(t4, "focus", t4, e3), t4.state.focused = true, M(t4.display.wrapper, "CodeMirror-focused"), t4.curOp || t4.display.selForContextMenu == t4.doc.sel || (t4.display.input.reset(), l && setTimeout(function() {
              return t4.display.input.reset(true);
            }, 20)), t4.display.input.receivedFocus()), Gr(t4));
          }
          function Jr(t4, e3) {
            t4.state.delayingBlurEvent || (t4.state.focused && (mt(t4, "blur", t4, e3), t4.state.focused = false, _(t4.display.wrapper, "CodeMirror-focused")), clearInterval(t4.display.blinker), setTimeout(function() {
              t4.state.focused || (t4.display.shift = false);
            }, 150));
          }
          function Qr(t4) {
            for (var e3 = t4.display, n3 = e3.lineDiv.offsetTop, r3 = Math.max(0, e3.scroller.getBoundingClientRect().top), i2 = e3.lineDiv.getBoundingClientRect().top, o2 = 0, l2 = 0; l2 < e3.view.length; l2++) {
              var c2 = e3.view[l2], u2 = t4.options.lineWrapping, f2 = void 0, h2 = 0;
              if (!c2.hidden) {
                if (i2 += c2.line.height, a && s < 8) {
                  var d2 = c2.node.offsetTop + c2.node.offsetHeight;
                  f2 = d2 - n3, n3 = d2;
                } else {
                  var p2 = c2.node.getBoundingClientRect();
                  f2 = p2.bottom - p2.top, !u2 && c2.text.firstChild && (h2 = c2.text.firstChild.getBoundingClientRect().right - p2.left - 1);
                }
                var g2 = c2.line.height - f2;
                if ((g2 > 5e-3 || g2 < -5e-3) && (i2 < r3 && (o2 -= g2), te(c2.line, f2), ti(c2.line), c2.rest)) for (var v2 = 0; v2 < c2.rest.length; v2++) ti(c2.rest[v2]);
                if (h2 > t4.display.sizerWidth) {
                  var m2 = Math.ceil(h2 / jr(t4.display));
                  m2 > t4.display.maxLineLength && (t4.display.maxLineLength = m2, t4.display.maxLine = c2.line, t4.display.maxLineChanged = true);
                }
              }
            }
            Math.abs(o2) > 2 && (e3.scroller.scrollTop += o2);
          }
          function ti(t4) {
            if (t4.widgets) for (var e3 = 0; e3 < t4.widgets.length; ++e3) {
              var n3 = t4.widgets[e3], r3 = n3.node.parentNode;
              r3 && (n3.height = r3.offsetHeight);
            }
          }
          function ei(t4, e3, n3) {
            var r3 = n3 && null != n3.top ? Math.max(0, n3.top) : t4.scroller.scrollTop;
            r3 = Math.floor(r3 - Wn(t4));
            var i2 = n3 && null != n3.bottom ? n3.bottom : r3 + t4.wrapper.clientHeight, o2 = ne(e3, r3), a2 = ne(e3, i2);
            if (n3 && n3.ensure) {
              var s2 = n3.ensure.from.line, l2 = n3.ensure.to.line;
              s2 < o2 ? (o2 = s2, a2 = ne(e3, an(Xt(e3, s2)) + t4.wrapper.clientHeight)) : Math.min(l2, e3.lastLine()) >= a2 && (o2 = ne(e3, an(Xt(e3, l2)) - t4.wrapper.clientHeight), a2 = l2);
            }
            return { from: o2, to: Math.max(a2, o2 + 1) };
          }
          function ni(t4, e3) {
            if (!yt(t4, "scrollCursorIntoView")) {
              var n3 = t4.display, r3 = n3.sizer.getBoundingClientRect(), i2 = null;
              if (e3.top + r3.top < 0 ? i2 = true : e3.bottom + r3.top > (window.innerHeight || document.documentElement.clientHeight) && (i2 = false), null != i2 && !p) {
                var o2 = E("div", "​", null, "position: absolute;\n                         top: " + (e3.top - n3.viewOffset - Wn(t4.display)) + "px;\n                         height: " + (e3.bottom - e3.top + Gn(t4) + n3.barHeight) + "px;\n                         left: " + e3.left + "px; width: " + Math.max(2, e3.right - e3.left) + "px;");
                t4.display.lineSpace.appendChild(o2), o2.scrollIntoView(i2), t4.display.lineSpace.removeChild(o2);
              }
            }
          }
          function ri(t4, e3, n3, r3) {
            var i2;
            null == r3 && (r3 = 0), t4.options.lineWrapping || e3 != n3 || (n3 = "before" == e3.sticky ? oe(e3.line, e3.ch + 1, "before") : e3, e3 = e3.ch ? oe(e3.line, "before" == e3.sticky ? e3.ch - 1 : e3.ch, "after") : e3);
            for (var o2 = 0; o2 < 5; o2++) {
              var a2 = false, s2 = br(t4, e3), l2 = n3 && n3 != e3 ? br(t4, n3) : s2, c2 = oi(t4, i2 = { left: Math.min(s2.left, l2.left), top: Math.min(s2.top, l2.top) - r3, right: Math.max(s2.left, l2.left), bottom: Math.max(s2.bottom, l2.bottom) + r3 }), u2 = t4.doc.scrollTop, f2 = t4.doc.scrollLeft;
              if (null != c2.scrollTop && (hi(t4, c2.scrollTop), Math.abs(t4.doc.scrollTop - u2) > 1 && (a2 = true)), null != c2.scrollLeft && (pi(t4, c2.scrollLeft), Math.abs(t4.doc.scrollLeft - f2) > 1 && (a2 = true)), !a2) break;
            }
            return i2;
          }
          function ii(t4, e3) {
            var n3 = oi(t4, e3);
            null != n3.scrollTop && hi(t4, n3.scrollTop), null != n3.scrollLeft && pi(t4, n3.scrollLeft);
          }
          function oi(t4, e3) {
            var n3 = t4.display, r3 = Er(t4.display);
            e3.top < 0 && (e3.top = 0);
            var i2 = t4.curOp && null != t4.curOp.scrollTop ? t4.curOp.scrollTop : n3.scroller.scrollTop, o2 = Yn(t4), a2 = {};
            e3.bottom - e3.top > o2 && (e3.bottom = e3.top + o2);
            var s2 = t4.doc.height + $n(n3), l2 = e3.top < r3, c2 = e3.bottom > s2 - r3;
            if (e3.top < i2) a2.scrollTop = l2 ? 0 : e3.top;
            else if (e3.bottom > i2 + o2) {
              var u2 = Math.min(e3.top, (c2 ? s2 : e3.bottom) - o2);
              u2 != i2 && (a2.scrollTop = u2);
            }
            var f2 = t4.options.fixedGutter ? 0 : n3.gutters.offsetWidth, h2 = t4.curOp && null != t4.curOp.scrollLeft ? t4.curOp.scrollLeft : n3.scroller.scrollLeft - f2, d2 = Kn(t4) - n3.gutters.offsetWidth, p2 = e3.right - e3.left > d2;
            return p2 && (e3.right = e3.left + d2), e3.left < 10 ? a2.scrollLeft = 0 : e3.left < h2 ? a2.scrollLeft = Math.max(0, e3.left + f2 - (p2 ? 0 : 10)) : e3.right > d2 + h2 - 3 && (a2.scrollLeft = e3.right + (p2 ? 0 : 10) - d2), a2;
          }
          function ai(t4, e3) {
            null != e3 && (ui(t4), t4.curOp.scrollTop = (null == t4.curOp.scrollTop ? t4.doc.scrollTop : t4.curOp.scrollTop) + e3);
          }
          function si(t4) {
            ui(t4);
            var e3 = t4.getCursor();
            t4.curOp.scrollToPos = { from: e3, to: e3, margin: t4.options.cursorScrollMargin };
          }
          function li(t4, e3, n3) {
            null == e3 && null == n3 || ui(t4), null != e3 && (t4.curOp.scrollLeft = e3), null != n3 && (t4.curOp.scrollTop = n3);
          }
          function ci(t4, e3) {
            ui(t4), t4.curOp.scrollToPos = e3;
          }
          function ui(t4) {
            var e3 = t4.curOp.scrollToPos;
            e3 && (t4.curOp.scrollToPos = null, fi(t4, wr(t4, e3.from), wr(t4, e3.to), e3.margin));
          }
          function fi(t4, e3, n3, r3) {
            var i2 = oi(t4, { left: Math.min(e3.left, n3.left), top: Math.min(e3.top, n3.top) - r3, right: Math.max(e3.right, n3.right), bottom: Math.max(e3.bottom, n3.bottom) + r3 });
            li(t4, i2.scrollLeft, i2.scrollTop);
          }
          function hi(t4, e3) {
            Math.abs(t4.doc.scrollTop - e3) < 2 || (n2 || zi(t4, { top: e3 }), di(t4, e3, true), n2 && zi(t4), Zi(t4, 100));
          }
          function di(t4, e3, n3) {
            e3 = Math.max(0, Math.min(t4.display.scroller.scrollHeight - t4.display.scroller.clientHeight, e3)), (t4.display.scroller.scrollTop != e3 || n3) && (t4.doc.scrollTop = e3, t4.display.scrollbars.setScrollTop(e3), t4.display.scroller.scrollTop != e3 && (t4.display.scroller.scrollTop = e3));
          }
          function pi(t4, e3, n3, r3) {
            e3 = Math.max(0, Math.min(e3, t4.display.scroller.scrollWidth - t4.display.scroller.clientWidth)), (n3 ? e3 == t4.doc.scrollLeft : Math.abs(t4.doc.scrollLeft - e3) < 2) && !r3 || (t4.doc.scrollLeft = e3, qi(t4), t4.display.scroller.scrollLeft != e3 && (t4.display.scroller.scrollLeft = e3), t4.display.scrollbars.setScrollLeft(e3));
          }
          function gi(t4) {
            var e3 = t4.display, n3 = e3.gutters.offsetWidth, r3 = Math.round(t4.doc.height + $n(t4.display));
            return { clientHeight: e3.scroller.clientHeight, viewHeight: e3.wrapper.clientHeight, scrollWidth: e3.scroller.scrollWidth, clientWidth: e3.scroller.clientWidth, viewWidth: e3.wrapper.clientWidth, barLeft: t4.options.fixedGutter ? n3 : 0, docHeight: r3, scrollHeight: r3 + Gn(t4) + e3.barHeight, nativeBarWidth: e3.nativeBarWidth, gutterWidth: n3 };
          }
          var vi = function(t4, e3, n3) {
            this.cm = n3;
            var r3 = this.vert = E("div", [E("div", null, null, "min-width: 1px")], "CodeMirror-vscrollbar"), i2 = this.horiz = E("div", [E("div", null, null, "height: 100%; min-height: 1px")], "CodeMirror-hscrollbar");
            r3.tabIndex = i2.tabIndex = -1, t4(r3), t4(i2), pt(r3, "scroll", function() {
              r3.clientHeight && e3(r3.scrollTop, "vertical");
            }), pt(i2, "scroll", function() {
              i2.clientWidth && e3(i2.scrollLeft, "horizontal");
            }), this.checkedZeroWidth = false, a && s < 8 && (this.horiz.style.minHeight = this.vert.style.minWidth = "18px");
          };
          vi.prototype.update = function(t4) {
            var e3 = t4.scrollWidth > t4.clientWidth + 1, n3 = t4.scrollHeight > t4.clientHeight + 1, r3 = t4.nativeBarWidth;
            if (n3) {
              this.vert.style.display = "block", this.vert.style.bottom = e3 ? r3 + "px" : "0";
              var i2 = t4.viewHeight - (e3 ? r3 : 0);
              this.vert.firstChild.style.height = Math.max(0, t4.scrollHeight - t4.clientHeight + i2) + "px";
            } else this.vert.style.display = "", this.vert.firstChild.style.height = "0";
            if (e3) {
              this.horiz.style.display = "block", this.horiz.style.right = n3 ? r3 + "px" : "0", this.horiz.style.left = t4.barLeft + "px";
              var o2 = t4.viewWidth - t4.barLeft - (n3 ? r3 : 0);
              this.horiz.firstChild.style.width = Math.max(0, t4.scrollWidth - t4.clientWidth + o2) + "px";
            } else this.horiz.style.display = "", this.horiz.firstChild.style.width = "0";
            return !this.checkedZeroWidth && t4.clientHeight > 0 && (0 == r3 && this.zeroWidthHack(), this.checkedZeroWidth = true), { right: n3 ? r3 : 0, bottom: e3 ? r3 : 0 };
          }, vi.prototype.setScrollLeft = function(t4) {
            this.horiz.scrollLeft != t4 && (this.horiz.scrollLeft = t4), this.disableHoriz && this.enableZeroWidthBar(this.horiz, this.disableHoriz, "horiz");
          }, vi.prototype.setScrollTop = function(t4) {
            this.vert.scrollTop != t4 && (this.vert.scrollTop = t4), this.disableVert && this.enableZeroWidthBar(this.vert, this.disableVert, "vert");
          }, vi.prototype.zeroWidthHack = function() {
            var t4 = y && !d ? "12px" : "18px";
            this.horiz.style.height = this.vert.style.width = t4, this.horiz.style.pointerEvents = this.vert.style.pointerEvents = "none", this.disableHoriz = new F(), this.disableVert = new F();
          }, vi.prototype.enableZeroWidthBar = function(t4, e3, n3) {
            function r3() {
              var i2 = t4.getBoundingClientRect();
              ("vert" == n3 ? document.elementFromPoint(i2.right - 1, (i2.top + i2.bottom) / 2) : document.elementFromPoint((i2.right + i2.left) / 2, i2.bottom - 1)) != t4 ? t4.style.pointerEvents = "none" : e3.set(1e3, r3);
            }
            t4.style.pointerEvents = "auto", e3.set(1e3, r3);
          }, vi.prototype.clear = function() {
            var t4 = this.horiz.parentNode;
            t4.removeChild(this.horiz), t4.removeChild(this.vert);
          };
          var mi = function() {
          };
          function yi(t4, e3) {
            e3 || (e3 = gi(t4));
            var n3 = t4.display.barWidth, r3 = t4.display.barHeight;
            bi(t4, e3);
            for (var i2 = 0; i2 < 4 && n3 != t4.display.barWidth || r3 != t4.display.barHeight; i2++) n3 != t4.display.barWidth && t4.options.lineWrapping && Qr(t4), bi(t4, gi(t4)), n3 = t4.display.barWidth, r3 = t4.display.barHeight;
          }
          function bi(t4, e3) {
            var n3 = t4.display, r3 = n3.scrollbars.update(e3);
            n3.sizer.style.paddingRight = (n3.barWidth = r3.right) + "px", n3.sizer.style.paddingBottom = (n3.barHeight = r3.bottom) + "px", n3.heightForcer.style.borderBottom = r3.bottom + "px solid transparent", r3.right && r3.bottom ? (n3.scrollbarFiller.style.display = "block", n3.scrollbarFiller.style.height = r3.bottom + "px", n3.scrollbarFiller.style.width = r3.right + "px") : n3.scrollbarFiller.style.display = "", r3.bottom && t4.options.coverGutterNextToScrollbar && t4.options.fixedGutter ? (n3.gutterFiller.style.display = "block", n3.gutterFiller.style.height = r3.bottom + "px", n3.gutterFiller.style.width = e3.gutterWidth + "px") : n3.gutterFiller.style.display = "";
          }
          mi.prototype.update = function() {
            return { bottom: 0, right: 0 };
          }, mi.prototype.setScrollLeft = function() {
          }, mi.prototype.setScrollTop = function() {
          }, mi.prototype.clear = function() {
          };
          var wi = { native: vi, null: mi };
          function ki(t4) {
            t4.display.scrollbars && (t4.display.scrollbars.clear(), t4.display.scrollbars.addClass && _(t4.display.wrapper, t4.display.scrollbars.addClass)), t4.display.scrollbars = new wi[t4.options.scrollbarStyle](function(e3) {
              t4.display.wrapper.insertBefore(e3, t4.display.scrollbarFiller), pt(e3, "mousedown", function() {
                t4.state.focused && setTimeout(function() {
                  return t4.display.input.focus();
                }, 0);
              }), e3.setAttribute("cm-not-content", "true");
            }, function(e3, n3) {
              "horizontal" == n3 ? pi(t4, e3) : hi(t4, e3);
            }, t4), t4.display.scrollbars.addClass && M(t4.display.wrapper, t4.display.scrollbars.addClass);
          }
          var xi = 0;
          function Oi(t4) {
            t4.curOp = { cm: t4, viewChanged: false, startHeight: t4.doc.height, forceUpdate: false, updateInput: 0, typing: false, changeObjs: null, cursorActivityHandlers: null, cursorActivityCalled: 0, selectionChanged: false, updateMaxLine: false, scrollLeft: null, scrollTop: null, scrollToPos: null, focus: false, id: ++xi, markArrays: null }, Sn(t4.curOp);
          }
          function Ci(t4) {
            var e3 = t4.curOp;
            e3 && Pn(e3, function(t5) {
              for (var e4 = 0; e4 < t5.ops.length; e4++) t5.ops[e4].cm.curOp = null;
              Si(t5);
            });
          }
          function Si(t4) {
            for (var e3 = t4.ops, n3 = 0; n3 < e3.length; n3++) _i(e3[n3]);
            for (var r3 = 0; r3 < e3.length; r3++) Pi(e3[r3]);
            for (var i2 = 0; i2 < e3.length; i2++) Ti(e3[i2]);
            for (var o2 = 0; o2 < e3.length; o2++) Ei(e3[o2]);
            for (var a2 = 0; a2 < e3.length; a2++) ji(e3[a2]);
          }
          function _i(t4) {
            var e3 = t4.cm, n3 = e3.display;
            Ii(e3), t4.updateMaxLine && ln(e3), t4.mustUpdate = t4.viewChanged || t4.forceUpdate || null != t4.scrollTop || t4.scrollToPos && (t4.scrollToPos.from.line < n3.viewFrom || t4.scrollToPos.to.line >= n3.viewTo) || n3.maxLineChanged && e3.options.lineWrapping, t4.update = t4.mustUpdate && new Ni(e3, t4.mustUpdate && { top: t4.scrollTop, ensure: t4.scrollToPos }, t4.forceUpdate);
          }
          function Pi(t4) {
            t4.updatedDisplay = t4.mustUpdate && Bi(t4.cm, t4.update);
          }
          function Ti(t4) {
            var e3 = t4.cm, n3 = e3.display;
            t4.updatedDisplay && Qr(e3), t4.barMeasure = gi(e3), n3.maxLineChanged && !e3.options.lineWrapping && (t4.adjustWidthTo = tr(e3, n3.maxLine, n3.maxLine.text.length).left + 3, e3.display.sizerWidth = t4.adjustWidthTo, t4.barMeasure.scrollWidth = Math.max(n3.scroller.clientWidth, n3.sizer.offsetLeft + t4.adjustWidthTo + Gn(e3) + e3.display.barWidth), t4.maxScrollLeft = Math.max(0, n3.sizer.offsetLeft + t4.adjustWidthTo - Kn(e3))), (t4.updatedDisplay || t4.selectionChanged) && (t4.preparedSelection = n3.input.prepareSelection());
          }
          function Ei(t4) {
            var e3 = t4.cm;
            null != t4.adjustWidthTo && (e3.display.sizer.style.minWidth = t4.adjustWidthTo + "px", t4.maxScrollLeft < e3.doc.scrollLeft && pi(e3, Math.min(e3.display.scroller.scrollLeft, t4.maxScrollLeft), true), e3.display.maxLineChanged = false);
            var n3 = t4.focus && t4.focus == D();
            t4.preparedSelection && e3.display.input.showSelection(t4.preparedSelection, n3), (t4.updatedDisplay || t4.startHeight != e3.doc.height) && yi(e3, t4.barMeasure), t4.updatedDisplay && $i(e3, t4.barMeasure), t4.selectionChanged && Gr(e3), e3.state.focused && t4.updateInput && e3.display.input.reset(t4.typing), n3 && Kr(t4.cm);
          }
          function ji(t4) {
            var e3 = t4.cm, n3 = e3.display, r3 = e3.doc;
            t4.updatedDisplay && Hi(e3, t4.update), null == n3.wheelStartX || null == t4.scrollTop && null == t4.scrollLeft && !t4.scrollToPos || (n3.wheelStartX = n3.wheelStartY = null), null != t4.scrollTop && di(e3, t4.scrollTop, t4.forceScroll), null != t4.scrollLeft && pi(e3, t4.scrollLeft, true, true), t4.scrollToPos && ni(e3, ri(e3, he(r3, t4.scrollToPos.from), he(r3, t4.scrollToPos.to), t4.scrollToPos.margin));
            var i2 = t4.maybeHiddenMarkers, o2 = t4.maybeUnhiddenMarkers;
            if (i2) for (var a2 = 0; a2 < i2.length; ++a2) i2[a2].lines.length || mt(i2[a2], "hide");
            if (o2) for (var s2 = 0; s2 < o2.length; ++s2) o2[s2].lines.length && mt(o2[s2], "unhide");
            n3.wrapper.offsetHeight && (r3.scrollTop = e3.display.scroller.scrollTop), t4.changeObjs && mt(e3, "changes", e3, t4.changeObjs), t4.update && t4.update.finish();
          }
          function Ai(t4, e3) {
            if (t4.curOp) return e3();
            Oi(t4);
            try {
              return e3();
            } finally {
              Ci(t4);
            }
          }
          function Di(t4, e3) {
            return function() {
              if (t4.curOp) return e3.apply(t4, arguments);
              Oi(t4);
              try {
                return e3.apply(t4, arguments);
              } finally {
                Ci(t4);
              }
            };
          }
          function Mi(t4) {
            return function() {
              if (this.curOp) return t4.apply(this, arguments);
              Oi(this);
              try {
                return t4.apply(this, arguments);
              } finally {
                Ci(this);
              }
            };
          }
          function Ri(t4) {
            return function() {
              var e3 = this.cm;
              if (!e3 || e3.curOp) return t4.apply(this, arguments);
              Oi(e3);
              try {
                return t4.apply(this, arguments);
              } finally {
                Ci(e3);
              }
            };
          }
          function Zi(t4, e3) {
            t4.doc.highlightFrontier < t4.display.viewTo && t4.state.highlight.set(e3, L(Li, t4));
          }
          function Li(t4) {
            var e3 = t4.doc;
            if (!(e3.highlightFrontier >= t4.display.viewTo)) {
              var n3 = +/* @__PURE__ */ new Date() + t4.options.workTime, r3 = be(t4, e3.highlightFrontier), i2 = [];
              e3.iter(r3.line, Math.min(e3.first + e3.size, t4.display.viewTo + 500), function(o2) {
                if (r3.line >= t4.display.viewFrom) {
                  var a2 = o2.styles, s2 = o2.text.length > t4.options.maxHighlightLength ? qt(e3.mode, r3.state) : null, l2 = me(t4, o2, r3, true);
                  s2 && (r3.state = s2), o2.styles = l2.styles;
                  var c2 = o2.styleClasses, u2 = l2.classes;
                  u2 ? o2.styleClasses = u2 : c2 && (o2.styleClasses = null);
                  for (var f2 = !a2 || a2.length != o2.styles.length || c2 != u2 && (!c2 || !u2 || c2.bgClass != u2.bgClass || c2.textClass != u2.textClass), h2 = 0; !f2 && h2 < a2.length; ++h2) f2 = a2[h2] != o2.styles[h2];
                  f2 && i2.push(r3.line), o2.stateAfter = r3.save(), r3.nextLine();
                } else o2.text.length <= t4.options.maxHighlightLength && we(t4, o2.text, r3), o2.stateAfter = r3.line % 5 == 0 ? r3.save() : null, r3.nextLine();
                if (+/* @__PURE__ */ new Date() > n3) return Zi(t4, t4.options.workDelay), true;
              }), e3.highlightFrontier = r3.line, e3.modeFrontier = Math.max(e3.modeFrontier, r3.line), i2.length && Ai(t4, function() {
                for (var e4 = 0; e4 < i2.length; e4++) Ir(t4, i2[e4], "text");
              });
            }
          }
          var Ni = function(t4, e3, n3) {
            var r3 = t4.display;
            this.viewport = e3, this.visible = ei(r3, t4.doc, e3), this.editorIsHidden = !r3.wrapper.offsetWidth, this.wrapperHeight = r3.wrapper.clientHeight, this.wrapperWidth = r3.wrapper.clientWidth, this.oldDisplayWidth = Kn(t4), this.force = n3, this.dims = Ar(t4), this.events = [];
          };
          function Ii(t4) {
            var e3 = t4.display;
            !e3.scrollbarsClipped && e3.scroller.offsetWidth && (e3.nativeBarWidth = e3.scroller.offsetWidth - e3.scroller.clientWidth, e3.heightForcer.style.height = Gn(t4) + "px", e3.sizer.style.marginBottom = -e3.nativeBarWidth + "px", e3.sizer.style.borderRightWidth = Gn(t4) + "px", e3.scrollbarsClipped = true);
          }
          function Fi(t4) {
            if (t4.hasFocus()) return null;
            var e3 = D();
            if (!e3 || !A(t4.display.lineDiv, e3)) return null;
            var n3 = { activeElt: e3 };
            if (window.getSelection) {
              var r3 = window.getSelection();
              r3.anchorNode && r3.extend && A(t4.display.lineDiv, r3.anchorNode) && (n3.anchorNode = r3.anchorNode, n3.anchorOffset = r3.anchorOffset, n3.focusNode = r3.focusNode, n3.focusOffset = r3.focusOffset);
            }
            return n3;
          }
          function Vi(t4) {
            if (t4 && t4.activeElt && t4.activeElt != D() && (t4.activeElt.focus(), !/^(INPUT|TEXTAREA)$/.test(t4.activeElt.nodeName) && t4.anchorNode && A(document.body, t4.anchorNode) && A(document.body, t4.focusNode))) {
              var e3 = window.getSelection(), n3 = document.createRange();
              n3.setEnd(t4.anchorNode, t4.anchorOffset), n3.collapse(false), e3.removeAllRanges(), e3.addRange(n3), e3.extend(t4.focusNode, t4.focusOffset);
            }
          }
          function Bi(t4, e3) {
            var n3 = t4.display, r3 = t4.doc;
            if (e3.editorIsHidden) return Fr(t4), false;
            if (!e3.force && e3.visible.from >= n3.viewFrom && e3.visible.to <= n3.viewTo && (null == n3.updateLineNumbers || n3.updateLineNumbers >= n3.viewTo) && n3.renderedView == n3.view && 0 == Hr(t4)) return false;
            Gi(t4) && (Fr(t4), e3.dims = Ar(t4));
            var i2 = r3.first + r3.size, o2 = Math.max(e3.visible.from - t4.options.viewportMargin, r3.first), a2 = Math.min(i2, e3.visible.to + t4.options.viewportMargin);
            n3.viewFrom < o2 && o2 - n3.viewFrom < 20 && (o2 = Math.max(r3.first, n3.viewFrom)), n3.viewTo > a2 && n3.viewTo - a2 < 20 && (a2 = Math.min(i2, n3.viewTo)), je && (o2 = en(t4.doc, o2), a2 = nn(t4.doc, a2));
            var s2 = o2 != n3.viewFrom || a2 != n3.viewTo || n3.lastWrapHeight != e3.wrapperHeight || n3.lastWrapWidth != e3.wrapperWidth;
            Br(t4, o2, a2), n3.viewOffset = an(Xt(t4.doc, n3.viewFrom)), t4.display.mover.style.top = n3.viewOffset + "px";
            var l2 = Hr(t4);
            if (!s2 && 0 == l2 && !e3.force && n3.renderedView == n3.view && (null == n3.updateLineNumbers || n3.updateLineNumbers >= n3.viewTo)) return false;
            var c2 = Fi(t4);
            return l2 > 4 && (n3.lineDiv.style.display = "none"), Ui(t4, n3.updateLineNumbers, e3.dims), l2 > 4 && (n3.lineDiv.style.display = ""), n3.renderedView = n3.view, Vi(c2), P(n3.cursorDiv), P(n3.selectionDiv), n3.gutters.style.height = n3.sizer.style.minHeight = 0, s2 && (n3.lastWrapHeight = e3.wrapperHeight, n3.lastWrapWidth = e3.wrapperWidth, Zi(t4, 400)), n3.updateLineNumbers = null, true;
          }
          function Hi(t4, e3) {
            for (var n3 = e3.viewport, r3 = true; ; r3 = false) {
              if (r3 && t4.options.lineWrapping && e3.oldDisplayWidth != Kn(t4)) r3 && (e3.visible = ei(t4.display, t4.doc, n3));
              else if (n3 && null != n3.top && (n3 = { top: Math.min(t4.doc.height + $n(t4.display) - Yn(t4), n3.top) }), e3.visible = ei(t4.display, t4.doc, n3), e3.visible.from >= t4.display.viewFrom && e3.visible.to <= t4.display.viewTo) break;
              if (!Bi(t4, e3)) break;
              Qr(t4);
              var i2 = gi(t4);
              zr(t4), yi(t4, i2), $i(t4, i2), e3.force = false;
            }
            e3.signal(t4, "update", t4), t4.display.viewFrom == t4.display.reportedViewFrom && t4.display.viewTo == t4.display.reportedViewTo || (e3.signal(t4, "viewportChange", t4, t4.display.viewFrom, t4.display.viewTo), t4.display.reportedViewFrom = t4.display.viewFrom, t4.display.reportedViewTo = t4.display.viewTo);
          }
          function zi(t4, e3) {
            var n3 = new Ni(t4, e3);
            if (Bi(t4, n3)) {
              Qr(t4), Hi(t4, n3);
              var r3 = gi(t4);
              zr(t4), yi(t4, r3), $i(t4, r3), n3.finish();
            }
          }
          function Ui(t4, e3, n3) {
            var r3 = t4.display, i2 = t4.options.lineNumbers, o2 = r3.lineDiv, a2 = o2.firstChild;
            function s2(e4) {
              var n4 = e4.nextSibling;
              return l && y && t4.display.currentWheelTarget == e4 ? e4.style.display = "none" : e4.parentNode.removeChild(e4), n4;
            }
            for (var c2 = r3.view, u2 = r3.viewFrom, f2 = 0; f2 < c2.length; f2++) {
              var h2 = c2[f2];
              if (h2.hidden) ;
              else if (h2.node && h2.node.parentNode == o2) {
                for (; a2 != h2.node; ) a2 = s2(a2);
                var d2 = i2 && null != e3 && e3 <= u2 && h2.lineNumber;
                h2.changes && (V(h2.changes, "gutter") > -1 && (d2 = false), An(t4, h2, u2, n3)), d2 && (P(h2.lineNumber), h2.lineNumber.appendChild(document.createTextNode(ie(t4.options, u2)))), a2 = h2.node.nextSibling;
              } else {
                var p2 = Fn(t4, h2, u2, n3);
                o2.insertBefore(p2, a2);
              }
              u2 += h2.size;
            }
            for (; a2; ) a2 = s2(a2);
          }
          function Wi(t4) {
            var e3 = t4.gutters.offsetWidth;
            t4.sizer.style.marginLeft = e3 + "px", En(t4, "gutterChanged", t4);
          }
          function $i(t4, e3) {
            t4.display.sizer.style.minHeight = e3.docHeight + "px", t4.display.heightForcer.style.top = e3.docHeight + "px", t4.display.gutters.style.height = e3.docHeight + t4.display.barHeight + Gn(t4) + "px";
          }
          function qi(t4) {
            var e3 = t4.display, n3 = e3.view;
            if (e3.alignWidgets || e3.gutters.firstChild && t4.options.fixedGutter) {
              for (var r3 = Dr(e3) - e3.scroller.scrollLeft + t4.doc.scrollLeft, i2 = e3.gutters.offsetWidth, o2 = r3 + "px", a2 = 0; a2 < n3.length; a2++) if (!n3[a2].hidden) {
                t4.options.fixedGutter && (n3[a2].gutter && (n3[a2].gutter.style.left = o2), n3[a2].gutterBackground && (n3[a2].gutterBackground.style.left = o2));
                var s2 = n3[a2].alignable;
                if (s2) for (var l2 = 0; l2 < s2.length; l2++) s2[l2].style.left = o2;
              }
              t4.options.fixedGutter && (e3.gutters.style.left = r3 + i2 + "px");
            }
          }
          function Gi(t4) {
            if (!t4.options.lineNumbers) return false;
            var e3 = t4.doc, n3 = ie(t4.options, e3.first + e3.size - 1), r3 = t4.display;
            if (n3.length != r3.lineNumChars) {
              var i2 = r3.measure.appendChild(E("div", [E("div", n3)], "CodeMirror-linenumber CodeMirror-gutter-elt")), o2 = i2.firstChild.offsetWidth, a2 = i2.offsetWidth - o2;
              return r3.lineGutter.style.width = "", r3.lineNumInnerWidth = Math.max(o2, r3.lineGutter.offsetWidth - a2) + 1, r3.lineNumWidth = r3.lineNumInnerWidth + a2, r3.lineNumChars = r3.lineNumInnerWidth ? n3.length : -1, r3.lineGutter.style.width = r3.lineNumWidth + "px", Wi(t4.display), true;
            }
            return false;
          }
          function Ki(t4, e3) {
            for (var n3 = [], r3 = false, i2 = 0; i2 < t4.length; i2++) {
              var o2 = t4[i2], a2 = null;
              if ("string" != typeof o2 && (a2 = o2.style, o2 = o2.className), "CodeMirror-linenumbers" == o2) {
                if (!e3) continue;
                r3 = true;
              }
              n3.push({ className: o2, style: a2 });
            }
            return e3 && !r3 && n3.push({ className: "CodeMirror-linenumbers", style: null }), n3;
          }
          function Yi(t4) {
            var e3 = t4.gutters, n3 = t4.gutterSpecs;
            P(e3), t4.lineGutter = null;
            for (var r3 = 0; r3 < n3.length; ++r3) {
              var i2 = n3[r3], o2 = i2.className, a2 = i2.style, s2 = e3.appendChild(E("div", null, "CodeMirror-gutter " + o2));
              a2 && (s2.style.cssText = a2), "CodeMirror-linenumbers" == o2 && (t4.lineGutter = s2, s2.style.width = (t4.lineNumWidth || 1) + "px");
            }
            e3.style.display = n3.length ? "" : "none", Wi(t4);
          }
          function Xi(t4) {
            Yi(t4.display), Nr(t4), qi(t4);
          }
          function Ji(t4, e3, r3, i2) {
            var o2 = this;
            this.input = r3, o2.scrollbarFiller = E("div", null, "CodeMirror-scrollbar-filler"), o2.scrollbarFiller.setAttribute("cm-not-content", "true"), o2.gutterFiller = E("div", null, "CodeMirror-gutter-filler"), o2.gutterFiller.setAttribute("cm-not-content", "true"), o2.lineDiv = j("div", null, "CodeMirror-code"), o2.selectionDiv = E("div", null, null, "position: relative; z-index: 1"), o2.cursorDiv = E("div", null, "CodeMirror-cursors"), o2.measure = E("div", null, "CodeMirror-measure"), o2.lineMeasure = E("div", null, "CodeMirror-measure"), o2.lineSpace = j("div", [o2.measure, o2.lineMeasure, o2.selectionDiv, o2.cursorDiv, o2.lineDiv], null, "position: relative; outline: none");
            var c2 = j("div", [o2.lineSpace], "CodeMirror-lines");
            o2.mover = E("div", [c2], null, "position: relative"), o2.sizer = E("div", [o2.mover], "CodeMirror-sizer"), o2.sizerWidth = null, o2.heightForcer = E("div", null, null, "position: absolute; height: " + B + "px; width: 1px;"), o2.gutters = E("div", null, "CodeMirror-gutters"), o2.lineGutter = null, o2.scroller = E("div", [o2.sizer, o2.heightForcer, o2.gutters], "CodeMirror-scroll"), o2.scroller.setAttribute("tabIndex", "-1"), o2.wrapper = E("div", [o2.scrollbarFiller, o2.gutterFiller, o2.scroller], "CodeMirror"), o2.wrapper.setAttribute("translate", "no"), a && s < 8 && (o2.gutters.style.zIndex = -1, o2.scroller.style.paddingRight = 0), l || n2 && m || (o2.scroller.draggable = true), t4 && (t4.appendChild ? t4.appendChild(o2.wrapper) : t4(o2.wrapper)), o2.viewFrom = o2.viewTo = e3.first, o2.reportedViewFrom = o2.reportedViewTo = e3.first, o2.view = [], o2.renderedView = null, o2.externalMeasured = null, o2.viewOffset = 0, o2.lastWrapHeight = o2.lastWrapWidth = 0, o2.updateLineNumbers = null, o2.nativeBarWidth = o2.barHeight = o2.barWidth = 0, o2.scrollbarsClipped = false, o2.lineNumWidth = o2.lineNumInnerWidth = o2.lineNumChars = null, o2.alignWidgets = false, o2.cachedCharWidth = o2.cachedTextHeight = o2.cachedPaddingH = null, o2.maxLine = null, o2.maxLineLength = 0, o2.maxLineChanged = false, o2.wheelDX = o2.wheelDY = o2.wheelStartX = o2.wheelStartY = null, o2.shift = false, o2.selForContextMenu = null, o2.activeTouch = null, o2.gutterSpecs = Ki(i2.gutters, i2.lineNumbers), Yi(o2), r3.init(o2);
          }
          Ni.prototype.signal = function(t4, e3) {
            wt(t4, e3) && this.events.push(arguments);
          }, Ni.prototype.finish = function() {
            for (var t4 = 0; t4 < this.events.length; t4++) mt.apply(null, this.events[t4]);
          };
          var Qi = 0, to = null;
          function eo(t4) {
            var e3 = t4.wheelDeltaX, n3 = t4.wheelDeltaY;
            return null == e3 && t4.detail && t4.axis == t4.HORIZONTAL_AXIS && (e3 = t4.detail), null == n3 && t4.detail && t4.axis == t4.VERTICAL_AXIS ? n3 = t4.detail : null == n3 && (n3 = t4.wheelDelta), { x: e3, y: n3 };
          }
          function no(t4) {
            var e3 = eo(t4);
            return e3.x *= to, e3.y *= to, e3;
          }
          function ro(t4, e3) {
            var r3 = eo(e3), i2 = r3.x, o2 = r3.y, a2 = t4.display, s2 = a2.scroller, c2 = s2.scrollWidth > s2.clientWidth, u2 = s2.scrollHeight > s2.clientHeight;
            if (i2 && c2 || o2 && u2) {
              if (o2 && y && l) {
                t: for (var h2 = e3.target, d2 = a2.view; h2 != s2; h2 = h2.parentNode) for (var p2 = 0; p2 < d2.length; p2++) if (d2[p2].node == h2) {
                  t4.display.currentWheelTarget = h2;
                  break t;
                }
              }
              if (i2 && !n2 && !f && null != to) return o2 && u2 && hi(t4, Math.max(0, s2.scrollTop + o2 * to)), pi(t4, Math.max(0, s2.scrollLeft + i2 * to)), (!o2 || o2 && u2) && xt(e3), void (a2.wheelStartX = null);
              if (o2 && null != to) {
                var g2 = o2 * to, v2 = t4.doc.scrollTop, m2 = v2 + a2.wrapper.clientHeight;
                g2 < 0 ? v2 = Math.max(0, v2 + g2 - 50) : m2 = Math.min(t4.doc.height, m2 + g2 + 50), zi(t4, { top: v2, bottom: m2 });
              }
              Qi < 20 && (null == a2.wheelStartX ? (a2.wheelStartX = s2.scrollLeft, a2.wheelStartY = s2.scrollTop, a2.wheelDX = i2, a2.wheelDY = o2, setTimeout(function() {
                if (null != a2.wheelStartX) {
                  var t5 = s2.scrollLeft - a2.wheelStartX, e4 = s2.scrollTop - a2.wheelStartY, n3 = e4 && a2.wheelDY && e4 / a2.wheelDY || t5 && a2.wheelDX && t5 / a2.wheelDX;
                  a2.wheelStartX = a2.wheelStartY = null, n3 && (to = (to * Qi + n3) / (Qi + 1), ++Qi);
                }
              }, 200)) : (a2.wheelDX += i2, a2.wheelDY += o2));
            }
          }
          a ? to = -0.53 : n2 ? to = 15 : u ? to = -0.7 : h && (to = -1 / 3);
          var io = function(t4, e3) {
            this.ranges = t4, this.primIndex = e3;
          };
          io.prototype.primary = function() {
            return this.ranges[this.primIndex];
          }, io.prototype.equals = function(t4) {
            if (t4 == this) return true;
            if (t4.primIndex != this.primIndex || t4.ranges.length != this.ranges.length) return false;
            for (var e3 = 0; e3 < this.ranges.length; e3++) {
              var n3 = this.ranges[e3], r3 = t4.ranges[e3];
              if (!se(n3.anchor, r3.anchor) || !se(n3.head, r3.head)) return false;
            }
            return true;
          }, io.prototype.deepCopy = function() {
            for (var t4 = [], e3 = 0; e3 < this.ranges.length; e3++) t4[e3] = new oo(le(this.ranges[e3].anchor), le(this.ranges[e3].head));
            return new io(t4, this.primIndex);
          }, io.prototype.somethingSelected = function() {
            for (var t4 = 0; t4 < this.ranges.length; t4++) if (!this.ranges[t4].empty()) return true;
            return false;
          }, io.prototype.contains = function(t4, e3) {
            e3 || (e3 = t4);
            for (var n3 = 0; n3 < this.ranges.length; n3++) {
              var r3 = this.ranges[n3];
              if (ae(e3, r3.from()) >= 0 && ae(t4, r3.to()) <= 0) return n3;
            }
            return -1;
          };
          var oo = function(t4, e3) {
            this.anchor = t4, this.head = e3;
          };
          function ao(t4, e3, n3) {
            var r3 = t4 && t4.options.selectionsMayTouch, i2 = e3[n3];
            e3.sort(function(t5, e4) {
              return ae(t5.from(), e4.from());
            }), n3 = V(e3, i2);
            for (var o2 = 1; o2 < e3.length; o2++) {
              var a2 = e3[o2], s2 = e3[o2 - 1], l2 = ae(s2.to(), a2.from());
              if (r3 && !a2.empty() ? l2 > 0 : l2 >= 0) {
                var c2 = ue(s2.from(), a2.from()), u2 = ce(s2.to(), a2.to()), f2 = s2.empty() ? a2.from() == a2.head : s2.from() == s2.head;
                o2 <= n3 && --n3, e3.splice(--o2, 2, new oo(f2 ? u2 : c2, f2 ? c2 : u2));
              }
            }
            return new io(e3, n3);
          }
          function so(t4, e3) {
            return new io([new oo(t4, e3 || t4)], 0);
          }
          function lo(t4) {
            return t4.text ? oe(t4.from.line + t4.text.length - 1, K(t4.text).length + (1 == t4.text.length ? t4.from.ch : 0)) : t4.to;
          }
          function co(t4, e3) {
            if (ae(t4, e3.from) < 0) return t4;
            if (ae(t4, e3.to) <= 0) return lo(e3);
            var n3 = t4.line + e3.text.length - (e3.to.line - e3.from.line) - 1, r3 = t4.ch;
            return t4.line == e3.to.line && (r3 += lo(e3).ch - e3.to.ch), oe(n3, r3);
          }
          function uo(t4, e3) {
            for (var n3 = [], r3 = 0; r3 < t4.sel.ranges.length; r3++) {
              var i2 = t4.sel.ranges[r3];
              n3.push(new oo(co(i2.anchor, e3), co(i2.head, e3)));
            }
            return ao(t4.cm, n3, t4.sel.primIndex);
          }
          function fo(t4, e3, n3) {
            return t4.line == e3.line ? oe(n3.line, t4.ch - e3.ch + n3.ch) : oe(n3.line + (t4.line - e3.line), t4.ch);
          }
          function ho(t4, e3, n3) {
            for (var r3 = [], i2 = oe(t4.first, 0), o2 = i2, a2 = 0; a2 < e3.length; a2++) {
              var s2 = e3[a2], l2 = fo(s2.from, i2, o2), c2 = fo(lo(s2), i2, o2);
              if (i2 = s2.to, o2 = c2, "around" == n3) {
                var u2 = t4.sel.ranges[a2], f2 = ae(u2.head, u2.anchor) < 0;
                r3[a2] = new oo(f2 ? c2 : l2, f2 ? l2 : c2);
              } else r3[a2] = new oo(l2, l2);
            }
            return new io(r3, t4.sel.primIndex);
          }
          function po(t4) {
            t4.doc.mode = Ut(t4.options, t4.doc.modeOption), go(t4);
          }
          function go(t4) {
            t4.doc.iter(function(t5) {
              t5.stateAfter && (t5.stateAfter = null), t5.styles && (t5.styles = null);
            }), t4.doc.modeFrontier = t4.doc.highlightFrontier = t4.doc.first, Zi(t4, 100), t4.state.modeGen++, t4.curOp && Nr(t4);
          }
          function vo(t4, e3) {
            return 0 == e3.from.ch && 0 == e3.to.ch && "" == K(e3.text) && (!t4.cm || t4.cm.options.wholeLineUpdateBefore);
          }
          function mo(t4, e3, n3, r3) {
            function i2(t5) {
              return n3 ? n3[t5] : null;
            }
            function o2(t5, n4, i3) {
              un(t5, n4, i3, r3), En(t5, "change", t5, e3);
            }
            function a2(t5, e4) {
              for (var n4 = [], o3 = t5; o3 < e4; ++o3) n4.push(new cn(c2[o3], i2(o3), r3));
              return n4;
            }
            var s2 = e3.from, l2 = e3.to, c2 = e3.text, u2 = Xt(t4, s2.line), f2 = Xt(t4, l2.line), h2 = K(c2), d2 = i2(c2.length - 1), p2 = l2.line - s2.line;
            if (e3.full) t4.insert(0, a2(0, c2.length)), t4.remove(c2.length, t4.size - c2.length);
            else if (vo(t4, e3)) {
              var g2 = a2(0, c2.length - 1);
              o2(f2, f2.text, d2), p2 && t4.remove(s2.line, p2), g2.length && t4.insert(s2.line, g2);
            } else if (u2 == f2) if (1 == c2.length) o2(u2, u2.text.slice(0, s2.ch) + h2 + u2.text.slice(l2.ch), d2);
            else {
              var v2 = a2(1, c2.length - 1);
              v2.push(new cn(h2 + u2.text.slice(l2.ch), d2, r3)), o2(u2, u2.text.slice(0, s2.ch) + c2[0], i2(0)), t4.insert(s2.line + 1, v2);
            }
            else if (1 == c2.length) o2(u2, u2.text.slice(0, s2.ch) + c2[0] + f2.text.slice(l2.ch), i2(0)), t4.remove(s2.line + 1, p2);
            else {
              o2(u2, u2.text.slice(0, s2.ch) + c2[0], i2(0)), o2(f2, h2 + f2.text.slice(l2.ch), d2);
              var m2 = a2(1, c2.length - 1);
              p2 > 1 && t4.remove(s2.line + 1, p2 - 1), t4.insert(s2.line + 1, m2);
            }
            En(t4, "change", t4, e3);
          }
          function yo(t4, e3, n3) {
            function r3(t5, i2, o2) {
              if (t5.linked) for (var a2 = 0; a2 < t5.linked.length; ++a2) {
                var s2 = t5.linked[a2];
                if (s2.doc != i2) {
                  var l2 = o2 && s2.sharedHist;
                  n3 && !l2 || (e3(s2.doc, l2), r3(s2.doc, t5, l2));
                }
              }
            }
            r3(t4, null, true);
          }
          function bo(t4, e3) {
            if (e3.cm) throw new Error("This document is already in use.");
            t4.doc = e3, e3.cm = t4, Rr(t4), po(t4), wo(t4), t4.options.direction = e3.direction, t4.options.lineWrapping || ln(t4), t4.options.mode = e3.modeOption, Nr(t4);
          }
          function wo(t4) {
            ("rtl" == t4.doc.direction ? M : _)(t4.display.lineDiv, "CodeMirror-rtl");
          }
          function ko(t4) {
            Ai(t4, function() {
              wo(t4), Nr(t4);
            });
          }
          function xo(t4) {
            this.done = [], this.undone = [], this.undoDepth = t4 ? t4.undoDepth : 1 / 0, this.lastModTime = this.lastSelTime = 0, this.lastOp = this.lastSelOp = null, this.lastOrigin = this.lastSelOrigin = null, this.generation = this.maxGeneration = t4 ? t4.maxGeneration : 1;
          }
          function Oo(t4, e3) {
            var n3 = { from: le(e3.from), to: lo(e3), text: Jt(t4, e3.from, e3.to) };
            return jo(t4, n3, e3.from.line, e3.to.line + 1), yo(t4, function(t5) {
              return jo(t5, n3, e3.from.line, e3.to.line + 1);
            }, true), n3;
          }
          function Co(t4) {
            for (; t4.length && K(t4).ranges; ) t4.pop();
          }
          function So(t4, e3) {
            return e3 ? (Co(t4.done), K(t4.done)) : t4.done.length && !K(t4.done).ranges ? K(t4.done) : t4.done.length > 1 && !t4.done[t4.done.length - 2].ranges ? (t4.done.pop(), K(t4.done)) : void 0;
          }
          function _o(t4, e3, n3, r3) {
            var i2 = t4.history;
            i2.undone.length = 0;
            var o2, a2, s2 = +/* @__PURE__ */ new Date();
            if ((i2.lastOp == r3 || i2.lastOrigin == e3.origin && e3.origin && ("+" == e3.origin.charAt(0) && i2.lastModTime > s2 - (t4.cm ? t4.cm.options.historyEventDelay : 500) || "*" == e3.origin.charAt(0))) && (o2 = So(i2, i2.lastOp == r3))) a2 = K(o2.changes), 0 == ae(e3.from, e3.to) && 0 == ae(e3.from, a2.to) ? a2.to = lo(e3) : o2.changes.push(Oo(t4, e3));
            else {
              var l2 = K(i2.done);
              for (l2 && l2.ranges || Eo(t4.sel, i2.done), o2 = { changes: [Oo(t4, e3)], generation: i2.generation }, i2.done.push(o2); i2.done.length > i2.undoDepth; ) i2.done.shift(), i2.done[0].ranges || i2.done.shift();
            }
            i2.done.push(n3), i2.generation = ++i2.maxGeneration, i2.lastModTime = i2.lastSelTime = s2, i2.lastOp = i2.lastSelOp = r3, i2.lastOrigin = i2.lastSelOrigin = e3.origin, a2 || mt(t4, "historyAdded");
          }
          function Po(t4, e3, n3, r3) {
            var i2 = e3.charAt(0);
            return "*" == i2 || "+" == i2 && n3.ranges.length == r3.ranges.length && n3.somethingSelected() == r3.somethingSelected() && /* @__PURE__ */ new Date() - t4.history.lastSelTime <= (t4.cm ? t4.cm.options.historyEventDelay : 500);
          }
          function To(t4, e3, n3, r3) {
            var i2 = t4.history, o2 = r3 && r3.origin;
            n3 == i2.lastSelOp || o2 && i2.lastSelOrigin == o2 && (i2.lastModTime == i2.lastSelTime && i2.lastOrigin == o2 || Po(t4, o2, K(i2.done), e3)) ? i2.done[i2.done.length - 1] = e3 : Eo(e3, i2.done), i2.lastSelTime = +/* @__PURE__ */ new Date(), i2.lastSelOrigin = o2, i2.lastSelOp = n3, r3 && false !== r3.clearRedo && Co(i2.undone);
          }
          function Eo(t4, e3) {
            var n3 = K(e3);
            n3 && n3.ranges && n3.equals(t4) || e3.push(t4);
          }
          function jo(t4, e3, n3, r3) {
            var i2 = e3["spans_" + t4.id], o2 = 0;
            t4.iter(Math.max(t4.first, n3), Math.min(t4.first + t4.size, r3), function(n4) {
              n4.markedSpans && ((i2 || (i2 = e3["spans_" + t4.id] = {}))[o2] = n4.markedSpans), ++o2;
            });
          }
          function Ao(t4) {
            if (!t4) return null;
            for (var e3, n3 = 0; n3 < t4.length; ++n3) t4[n3].marker.explicitlyCleared ? e3 || (e3 = t4.slice(0, n3)) : e3 && e3.push(t4[n3]);
            return e3 ? e3.length ? e3 : null : t4;
          }
          function Do(t4, e3) {
            var n3 = e3["spans_" + t4.id];
            if (!n3) return null;
            for (var r3 = [], i2 = 0; i2 < e3.text.length; ++i2) r3.push(Ao(n3[i2]));
            return r3;
          }
          function Mo(t4, e3) {
            var n3 = Do(t4, e3), r3 = Fe(t4, e3);
            if (!n3) return r3;
            if (!r3) return n3;
            for (var i2 = 0; i2 < n3.length; ++i2) {
              var o2 = n3[i2], a2 = r3[i2];
              if (o2 && a2) t: for (var s2 = 0; s2 < a2.length; ++s2) {
                for (var l2 = a2[s2], c2 = 0; c2 < o2.length; ++c2) if (o2[c2].marker == l2.marker) continue t;
                o2.push(l2);
              }
              else a2 && (n3[i2] = a2);
            }
            return n3;
          }
          function Ro(t4, e3, n3) {
            for (var r3 = [], i2 = 0; i2 < t4.length; ++i2) {
              var o2 = t4[i2];
              if (o2.ranges) r3.push(n3 ? io.prototype.deepCopy.call(o2) : o2);
              else {
                var a2 = o2.changes, s2 = [];
                r3.push({ changes: s2 });
                for (var l2 = 0; l2 < a2.length; ++l2) {
                  var c2 = a2[l2], u2 = void 0;
                  if (s2.push({ from: c2.from, to: c2.to, text: c2.text }), e3) for (var f2 in c2) (u2 = f2.match(/^spans_(\d+)$/)) && V(e3, Number(u2[1])) > -1 && (K(s2)[f2] = c2[f2], delete c2[f2]);
                }
              }
            }
            return r3;
          }
          function Zo(t4, e3, n3, r3) {
            if (r3) {
              var i2 = t4.anchor;
              if (n3) {
                var o2 = ae(e3, i2) < 0;
                o2 != ae(n3, i2) < 0 ? (i2 = e3, e3 = n3) : o2 != ae(e3, n3) < 0 && (e3 = n3);
              }
              return new oo(i2, e3);
            }
            return new oo(n3 || e3, e3);
          }
          function Lo(t4, e3, n3, r3, i2) {
            null == i2 && (i2 = t4.cm && (t4.cm.display.shift || t4.extend)), Ho(t4, new io([Zo(t4.sel.primary(), e3, n3, i2)], 0), r3);
          }
          function No(t4, e3, n3) {
            for (var r3 = [], i2 = t4.cm && (t4.cm.display.shift || t4.extend), o2 = 0; o2 < t4.sel.ranges.length; o2++) r3[o2] = Zo(t4.sel.ranges[o2], e3[o2], null, i2);
            Ho(t4, ao(t4.cm, r3, t4.sel.primIndex), n3);
          }
          function Io(t4, e3, n3, r3) {
            var i2 = t4.sel.ranges.slice(0);
            i2[e3] = n3, Ho(t4, ao(t4.cm, i2, t4.sel.primIndex), r3);
          }
          function Fo(t4, e3, n3, r3) {
            Ho(t4, so(e3, n3), r3);
          }
          function Vo(t4, e3, n3) {
            var r3 = { ranges: e3.ranges, update: function(e4) {
              this.ranges = [];
              for (var n4 = 0; n4 < e4.length; n4++) this.ranges[n4] = new oo(he(t4, e4[n4].anchor), he(t4, e4[n4].head));
            }, origin: n3 && n3.origin };
            return mt(t4, "beforeSelectionChange", t4, r3), t4.cm && mt(t4.cm, "beforeSelectionChange", t4.cm, r3), r3.ranges != e3.ranges ? ao(t4.cm, r3.ranges, r3.ranges.length - 1) : e3;
          }
          function Bo(t4, e3, n3) {
            var r3 = t4.history.done, i2 = K(r3);
            i2 && i2.ranges ? (r3[r3.length - 1] = e3, zo(t4, e3, n3)) : Ho(t4, e3, n3);
          }
          function Ho(t4, e3, n3) {
            zo(t4, e3, n3), To(t4, t4.sel, t4.cm ? t4.cm.curOp.id : NaN, n3);
          }
          function zo(t4, e3, n3) {
            (wt(t4, "beforeSelectionChange") || t4.cm && wt(t4.cm, "beforeSelectionChange")) && (e3 = Vo(t4, e3, n3));
            var r3 = n3 && n3.bias || (ae(e3.primary().head, t4.sel.primary().head) < 0 ? -1 : 1);
            Uo(t4, $o(t4, e3, r3, true)), n3 && false === n3.scroll || !t4.cm || "nocursor" == t4.cm.getOption("readOnly") || si(t4.cm);
          }
          function Uo(t4, e3) {
            e3.equals(t4.sel) || (t4.sel = e3, t4.cm && (t4.cm.curOp.updateInput = 1, t4.cm.curOp.selectionChanged = true, bt(t4.cm)), En(t4, "cursorActivity", t4));
          }
          function Wo(t4) {
            Uo(t4, $o(t4, t4.sel, null, false));
          }
          function $o(t4, e3, n3, r3) {
            for (var i2, o2 = 0; o2 < e3.ranges.length; o2++) {
              var a2 = e3.ranges[o2], s2 = e3.ranges.length == t4.sel.ranges.length && t4.sel.ranges[o2], l2 = Go(t4, a2.anchor, s2 && s2.anchor, n3, r3), c2 = Go(t4, a2.head, s2 && s2.head, n3, r3);
              (i2 || l2 != a2.anchor || c2 != a2.head) && (i2 || (i2 = e3.ranges.slice(0, o2)), i2[o2] = new oo(l2, c2));
            }
            return i2 ? ao(t4.cm, i2, e3.primIndex) : e3;
          }
          function qo(t4, e3, n3, r3, i2) {
            var o2 = Xt(t4, e3.line);
            if (o2.markedSpans) for (var a2 = 0; a2 < o2.markedSpans.length; ++a2) {
              var s2 = o2.markedSpans[a2], l2 = s2.marker, c2 = "selectLeft" in l2 ? !l2.selectLeft : l2.inclusiveLeft, u2 = "selectRight" in l2 ? !l2.selectRight : l2.inclusiveRight;
              if ((null == s2.from || (c2 ? s2.from <= e3.ch : s2.from < e3.ch)) && (null == s2.to || (u2 ? s2.to >= e3.ch : s2.to > e3.ch))) {
                if (i2 && (mt(l2, "beforeCursorEnter"), l2.explicitlyCleared)) {
                  if (o2.markedSpans) {
                    --a2;
                    continue;
                  }
                  break;
                }
                if (!l2.atomic) continue;
                if (n3) {
                  var f2 = l2.find(r3 < 0 ? 1 : -1), h2 = void 0;
                  if ((r3 < 0 ? u2 : c2) && (f2 = Ko(t4, f2, -r3, f2 && f2.line == e3.line ? o2 : null)), f2 && f2.line == e3.line && (h2 = ae(f2, n3)) && (r3 < 0 ? h2 < 0 : h2 > 0)) return qo(t4, f2, e3, r3, i2);
                }
                var d2 = l2.find(r3 < 0 ? -1 : 1);
                return (r3 < 0 ? c2 : u2) && (d2 = Ko(t4, d2, r3, d2.line == e3.line ? o2 : null)), d2 ? qo(t4, d2, e3, r3, i2) : null;
              }
            }
            return e3;
          }
          function Go(t4, e3, n3, r3, i2) {
            var o2 = r3 || 1, a2 = qo(t4, e3, n3, o2, i2) || !i2 && qo(t4, e3, n3, o2, true) || qo(t4, e3, n3, -o2, i2) || !i2 && qo(t4, e3, n3, -o2, true);
            return a2 || (t4.cantEdit = true, oe(t4.first, 0));
          }
          function Ko(t4, e3, n3, r3) {
            return n3 < 0 && 0 == e3.ch ? e3.line > t4.first ? he(t4, oe(e3.line - 1)) : null : n3 > 0 && e3.ch == (r3 || Xt(t4, e3.line)).text.length ? e3.line < t4.first + t4.size - 1 ? oe(e3.line + 1, 0) : null : new oe(e3.line, e3.ch + n3);
          }
          function Yo(t4) {
            t4.setSelection(oe(t4.firstLine(), 0), oe(t4.lastLine()), z);
          }
          function Xo(t4, e3, n3) {
            var r3 = { canceled: false, from: e3.from, to: e3.to, text: e3.text, origin: e3.origin, cancel: function() {
              return r3.canceled = true;
            } };
            return n3 && (r3.update = function(e4, n4, i2, o2) {
              e4 && (r3.from = he(t4, e4)), n4 && (r3.to = he(t4, n4)), i2 && (r3.text = i2), void 0 !== o2 && (r3.origin = o2);
            }), mt(t4, "beforeChange", t4, r3), t4.cm && mt(t4.cm, "beforeChange", t4.cm, r3), r3.canceled ? (t4.cm && (t4.cm.curOp.updateInput = 2), null) : { from: r3.from, to: r3.to, text: r3.text, origin: r3.origin };
          }
          function Jo(t4, e3, n3) {
            if (t4.cm) {
              if (!t4.cm.curOp) return Di(t4.cm, Jo)(t4, e3, n3);
              if (t4.cm.state.suppressEdits) return;
            }
            if (!(wt(t4, "beforeChange") || t4.cm && wt(t4.cm, "beforeChange")) || (e3 = Xo(t4, e3, true))) {
              var r3 = Ee && !n3 && Be(t4, e3.from, e3.to);
              if (r3) for (var i2 = r3.length - 1; i2 >= 0; --i2) Qo(t4, { from: r3[i2].from, to: r3[i2].to, text: i2 ? [""] : e3.text, origin: e3.origin });
              else Qo(t4, e3);
            }
          }
          function Qo(t4, e3) {
            if (1 != e3.text.length || "" != e3.text[0] || 0 != ae(e3.from, e3.to)) {
              var n3 = uo(t4, e3);
              _o(t4, e3, n3, t4.cm ? t4.cm.curOp.id : NaN), na(t4, e3, n3, Fe(t4, e3));
              var r3 = [];
              yo(t4, function(t5, n4) {
                n4 || -1 != V(r3, t5.history) || (sa(t5.history, e3), r3.push(t5.history)), na(t5, e3, null, Fe(t5, e3));
              });
            }
          }
          function ta(t4, e3, n3) {
            var r3 = t4.cm && t4.cm.state.suppressEdits;
            if (!r3 || n3) {
              for (var i2, o2 = t4.history, a2 = t4.sel, s2 = "undo" == e3 ? o2.done : o2.undone, l2 = "undo" == e3 ? o2.undone : o2.done, c2 = 0; c2 < s2.length && (i2 = s2[c2], n3 ? !i2.ranges || i2.equals(t4.sel) : i2.ranges); c2++) ;
              if (c2 != s2.length) {
                for (o2.lastOrigin = o2.lastSelOrigin = null; ; ) {
                  if (!(i2 = s2.pop()).ranges) {
                    if (r3) return void s2.push(i2);
                    break;
                  }
                  if (Eo(i2, l2), n3 && !i2.equals(t4.sel)) return void Ho(t4, i2, { clearRedo: false });
                  a2 = i2;
                }
                var u2 = [];
                Eo(a2, l2), l2.push({ changes: u2, generation: o2.generation }), o2.generation = i2.generation || ++o2.maxGeneration;
                for (var f2 = wt(t4, "beforeChange") || t4.cm && wt(t4.cm, "beforeChange"), h2 = function(n4) {
                  var r4 = i2.changes[n4];
                  if (r4.origin = e3, f2 && !Xo(t4, r4, false)) return s2.length = 0, {};
                  u2.push(Oo(t4, r4));
                  var o3 = n4 ? uo(t4, r4) : K(s2);
                  na(t4, r4, o3, Mo(t4, r4)), !n4 && t4.cm && t4.cm.scrollIntoView({ from: r4.from, to: lo(r4) });
                  var a3 = [];
                  yo(t4, function(t5, e4) {
                    e4 || -1 != V(a3, t5.history) || (sa(t5.history, r4), a3.push(t5.history)), na(t5, r4, null, Mo(t5, r4));
                  });
                }, d2 = i2.changes.length - 1; d2 >= 0; --d2) {
                  var p2 = h2(d2);
                  if (p2) return p2.v;
                }
              }
            }
          }
          function ea(t4, e3) {
            if (0 != e3 && (t4.first += e3, t4.sel = new io(Y(t4.sel.ranges, function(t5) {
              return new oo(oe(t5.anchor.line + e3, t5.anchor.ch), oe(t5.head.line + e3, t5.head.ch));
            }), t4.sel.primIndex), t4.cm)) {
              Nr(t4.cm, t4.first, t4.first - e3, e3);
              for (var n3 = t4.cm.display, r3 = n3.viewFrom; r3 < n3.viewTo; r3++) Ir(t4.cm, r3, "gutter");
            }
          }
          function na(t4, e3, n3, r3) {
            if (t4.cm && !t4.cm.curOp) return Di(t4.cm, na)(t4, e3, n3, r3);
            if (e3.to.line < t4.first) ea(t4, e3.text.length - 1 - (e3.to.line - e3.from.line));
            else if (!(e3.from.line > t4.lastLine())) {
              if (e3.from.line < t4.first) {
                var i2 = e3.text.length - 1 - (t4.first - e3.from.line);
                ea(t4, i2), e3 = { from: oe(t4.first, 0), to: oe(e3.to.line + i2, e3.to.ch), text: [K(e3.text)], origin: e3.origin };
              }
              var o2 = t4.lastLine();
              e3.to.line > o2 && (e3 = { from: e3.from, to: oe(o2, Xt(t4, o2).text.length), text: [e3.text[0]], origin: e3.origin }), e3.removed = Jt(t4, e3.from, e3.to), n3 || (n3 = uo(t4, e3)), t4.cm ? ra(t4.cm, e3, r3) : mo(t4, e3, r3), zo(t4, n3, z), t4.cantEdit && Go(t4, oe(t4.firstLine(), 0)) && (t4.cantEdit = false);
            }
          }
          function ra(t4, e3, n3) {
            var r3 = t4.doc, i2 = t4.display, o2 = e3.from, a2 = e3.to, s2 = false, l2 = o2.line;
            t4.options.lineWrapping || (l2 = ee(Je(Xt(r3, o2.line))), r3.iter(l2, a2.line + 1, function(t5) {
              if (t5 == i2.maxLine) return s2 = true, true;
            })), r3.sel.contains(e3.from, e3.to) > -1 && bt(t4), mo(r3, e3, n3, Mr(t4)), t4.options.lineWrapping || (r3.iter(l2, o2.line + e3.text.length, function(t5) {
              var e4 = sn(t5);
              e4 > i2.maxLineLength && (i2.maxLine = t5, i2.maxLineLength = e4, i2.maxLineChanged = true, s2 = false);
            }), s2 && (t4.curOp.updateMaxLine = true)), Te(r3, o2.line), Zi(t4, 400);
            var c2 = e3.text.length - (a2.line - o2.line) - 1;
            e3.full ? Nr(t4) : o2.line != a2.line || 1 != e3.text.length || vo(t4.doc, e3) ? Nr(t4, o2.line, a2.line + 1, c2) : Ir(t4, o2.line, "text");
            var u2 = wt(t4, "changes"), f2 = wt(t4, "change");
            if (f2 || u2) {
              var h2 = { from: o2, to: a2, text: e3.text, removed: e3.removed, origin: e3.origin };
              f2 && En(t4, "change", t4, h2), u2 && (t4.curOp.changeObjs || (t4.curOp.changeObjs = [])).push(h2);
            }
            t4.display.selForContextMenu = null;
          }
          function ia(t4, e3, n3, r3, i2) {
            var o2;
            r3 || (r3 = n3), ae(r3, n3) < 0 && (n3 = (o2 = [r3, n3])[0], r3 = o2[1]), "string" == typeof e3 && (e3 = t4.splitLines(e3)), Jo(t4, { from: n3, to: r3, text: e3, origin: i2 });
          }
          function oa(t4, e3, n3, r3) {
            n3 < t4.line ? t4.line += r3 : e3 < t4.line && (t4.line = e3, t4.ch = 0);
          }
          function aa(t4, e3, n3, r3) {
            for (var i2 = 0; i2 < t4.length; ++i2) {
              var o2 = t4[i2], a2 = true;
              if (o2.ranges) {
                o2.copied || ((o2 = t4[i2] = o2.deepCopy()).copied = true);
                for (var s2 = 0; s2 < o2.ranges.length; s2++) oa(o2.ranges[s2].anchor, e3, n3, r3), oa(o2.ranges[s2].head, e3, n3, r3);
              } else {
                for (var l2 = 0; l2 < o2.changes.length; ++l2) {
                  var c2 = o2.changes[l2];
                  if (n3 < c2.from.line) c2.from = oe(c2.from.line + r3, c2.from.ch), c2.to = oe(c2.to.line + r3, c2.to.ch);
                  else if (e3 <= c2.to.line) {
                    a2 = false;
                    break;
                  }
                }
                a2 || (t4.splice(0, i2 + 1), i2 = 0);
              }
            }
          }
          function sa(t4, e3) {
            var n3 = e3.from.line, r3 = e3.to.line, i2 = e3.text.length - (r3 - n3) - 1;
            aa(t4.done, n3, r3, i2), aa(t4.undone, n3, r3, i2);
          }
          function la(t4, e3, n3, r3) {
            var i2 = e3, o2 = e3;
            return "number" == typeof e3 ? o2 = Xt(t4, fe(t4, e3)) : i2 = ee(e3), null == i2 ? null : (r3(o2, i2) && t4.cm && Ir(t4.cm, i2, n3), o2);
          }
          function ca(t4) {
            this.lines = t4, this.parent = null;
            for (var e3 = 0, n3 = 0; n3 < t4.length; ++n3) t4[n3].parent = this, e3 += t4[n3].height;
            this.height = e3;
          }
          function ua(t4) {
            this.children = t4;
            for (var e3 = 0, n3 = 0, r3 = 0; r3 < t4.length; ++r3) {
              var i2 = t4[r3];
              e3 += i2.chunkSize(), n3 += i2.height, i2.parent = this;
            }
            this.size = e3, this.height = n3, this.parent = null;
          }
          oo.prototype.from = function() {
            return ue(this.anchor, this.head);
          }, oo.prototype.to = function() {
            return ce(this.anchor, this.head);
          }, oo.prototype.empty = function() {
            return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch;
          }, ca.prototype = { chunkSize: function() {
            return this.lines.length;
          }, removeInner: function(t4, e3) {
            for (var n3 = t4, r3 = t4 + e3; n3 < r3; ++n3) {
              var i2 = this.lines[n3];
              this.height -= i2.height, fn(i2), En(i2, "delete");
            }
            this.lines.splice(t4, e3);
          }, collapse: function(t4) {
            t4.push.apply(t4, this.lines);
          }, insertInner: function(t4, e3, n3) {
            this.height += n3, this.lines = this.lines.slice(0, t4).concat(e3).concat(this.lines.slice(t4));
            for (var r3 = 0; r3 < e3.length; ++r3) e3[r3].parent = this;
          }, iterN: function(t4, e3, n3) {
            for (var r3 = t4 + e3; t4 < r3; ++t4) if (n3(this.lines[t4])) return true;
          } }, ua.prototype = { chunkSize: function() {
            return this.size;
          }, removeInner: function(t4, e3) {
            this.size -= e3;
            for (var n3 = 0; n3 < this.children.length; ++n3) {
              var r3 = this.children[n3], i2 = r3.chunkSize();
              if (t4 < i2) {
                var o2 = Math.min(e3, i2 - t4), a2 = r3.height;
                if (r3.removeInner(t4, o2), this.height -= a2 - r3.height, i2 == o2 && (this.children.splice(n3--, 1), r3.parent = null), 0 == (e3 -= o2)) break;
                t4 = 0;
              } else t4 -= i2;
            }
            if (this.size - e3 < 25 && (this.children.length > 1 || !(this.children[0] instanceof ca))) {
              var s2 = [];
              this.collapse(s2), this.children = [new ca(s2)], this.children[0].parent = this;
            }
          }, collapse: function(t4) {
            for (var e3 = 0; e3 < this.children.length; ++e3) this.children[e3].collapse(t4);
          }, insertInner: function(t4, e3, n3) {
            this.size += e3.length, this.height += n3;
            for (var r3 = 0; r3 < this.children.length; ++r3) {
              var i2 = this.children[r3], o2 = i2.chunkSize();
              if (t4 <= o2) {
                if (i2.insertInner(t4, e3, n3), i2.lines && i2.lines.length > 50) {
                  for (var a2 = i2.lines.length % 25 + 25, s2 = a2; s2 < i2.lines.length; ) {
                    var l2 = new ca(i2.lines.slice(s2, s2 += 25));
                    i2.height -= l2.height, this.children.splice(++r3, 0, l2), l2.parent = this;
                  }
                  i2.lines = i2.lines.slice(0, a2), this.maybeSpill();
                }
                break;
              }
              t4 -= o2;
            }
          }, maybeSpill: function() {
            if (!(this.children.length <= 10)) {
              var t4 = this;
              do {
                var e3 = new ua(t4.children.splice(t4.children.length - 5, 5));
                if (t4.parent) {
                  t4.size -= e3.size, t4.height -= e3.height;
                  var n3 = V(t4.parent.children, t4);
                  t4.parent.children.splice(n3 + 1, 0, e3);
                } else {
                  var r3 = new ua(t4.children);
                  r3.parent = t4, t4.children = [r3, e3], t4 = r3;
                }
                e3.parent = t4.parent;
              } while (t4.children.length > 10);
              t4.parent.maybeSpill();
            }
          }, iterN: function(t4, e3, n3) {
            for (var r3 = 0; r3 < this.children.length; ++r3) {
              var i2 = this.children[r3], o2 = i2.chunkSize();
              if (t4 < o2) {
                var a2 = Math.min(e3, o2 - t4);
                if (i2.iterN(t4, a2, n3)) return true;
                if (0 == (e3 -= a2)) break;
                t4 = 0;
              } else t4 -= o2;
            }
          } };
          var fa = function(t4, e3, n3) {
            if (n3) for (var r3 in n3) n3.hasOwnProperty(r3) && (this[r3] = n3[r3]);
            this.doc = t4, this.node = e3;
          };
          function ha(t4, e3, n3) {
            an(e3) < (t4.curOp && t4.curOp.scrollTop || t4.doc.scrollTop) && ai(t4, n3);
          }
          function da(t4, e3, n3, r3) {
            var i2 = new fa(t4, n3, r3), o2 = t4.cm;
            return o2 && i2.noHScroll && (o2.display.alignWidgets = true), la(t4, e3, "widget", function(e4) {
              var n4 = e4.widgets || (e4.widgets = []);
              if (null == i2.insertAt ? n4.push(i2) : n4.splice(Math.min(n4.length, Math.max(0, i2.insertAt)), 0, i2), i2.line = e4, o2 && !rn(t4, e4)) {
                var r4 = an(e4) < t4.scrollTop;
                te(e4, e4.height + zn(i2)), r4 && ai(o2, i2.height), o2.curOp.forceUpdate = true;
              }
              return true;
            }), o2 && En(o2, "lineWidgetAdded", o2, i2, "number" == typeof e3 ? e3 : ee(e3)), i2;
          }
          fa.prototype.clear = function() {
            var t4 = this.doc.cm, e3 = this.line.widgets, n3 = this.line, r3 = ee(n3);
            if (null != r3 && e3) {
              for (var i2 = 0; i2 < e3.length; ++i2) e3[i2] == this && e3.splice(i2--, 1);
              e3.length || (n3.widgets = null);
              var o2 = zn(this);
              te(n3, Math.max(0, n3.height - o2)), t4 && (Ai(t4, function() {
                ha(t4, n3, -o2), Ir(t4, r3, "widget");
              }), En(t4, "lineWidgetCleared", t4, this, r3));
            }
          }, fa.prototype.changed = function() {
            var t4 = this, e3 = this.height, n3 = this.doc.cm, r3 = this.line;
            this.height = null;
            var i2 = zn(this) - e3;
            i2 && (rn(this.doc, r3) || te(r3, r3.height + i2), n3 && Ai(n3, function() {
              n3.curOp.forceUpdate = true, ha(n3, r3, i2), En(n3, "lineWidgetChanged", n3, t4, ee(r3));
            }));
          }, kt(fa);
          var pa = 0, ga = function(t4, e3) {
            this.lines = [], this.type = e3, this.doc = t4, this.id = ++pa;
          };
          function va(t4, e3, n3, r3, i2) {
            if (r3 && r3.shared) return ya(t4, e3, n3, r3, i2);
            if (t4.cm && !t4.cm.curOp) return Di(t4.cm, va)(t4, e3, n3, r3, i2);
            var o2 = new ga(t4, i2), a2 = ae(e3, n3);
            if (r3 && N(r3, o2, false), a2 > 0 || 0 == a2 && false !== o2.clearWhenEmpty) return o2;
            if (o2.replacedWith && (o2.collapsed = true, o2.widgetNode = j("span", [o2.replacedWith], "CodeMirror-widget"), r3.handleMouseEvents || o2.widgetNode.setAttribute("cm-ignore-events", "true"), r3.insertLeft && (o2.widgetNode.insertLeft = true)), o2.collapsed) {
              if (Xe(t4, e3.line, e3, n3, o2) || e3.line != n3.line && Xe(t4, n3.line, e3, n3, o2)) throw new Error("Inserting collapsed marker partially overlapping an existing one");
              De();
            }
            o2.addToHistory && _o(t4, { from: e3, to: n3, origin: "markText" }, t4.sel, NaN);
            var s2, l2 = e3.line, c2 = t4.cm;
            if (t4.iter(l2, n3.line + 1, function(r4) {
              c2 && o2.collapsed && !c2.options.lineWrapping && Je(r4) == c2.display.maxLine && (s2 = true), o2.collapsed && l2 != e3.line && te(r4, 0), Le(r4, new Me(o2, l2 == e3.line ? e3.ch : null, l2 == n3.line ? n3.ch : null), t4.cm && t4.cm.curOp), ++l2;
            }), o2.collapsed && t4.iter(e3.line, n3.line + 1, function(e4) {
              rn(t4, e4) && te(e4, 0);
            }), o2.clearOnEnter && pt(o2, "beforeCursorEnter", function() {
              return o2.clear();
            }), o2.readOnly && (Ae(), (t4.history.done.length || t4.history.undone.length) && t4.clearHistory()), o2.collapsed && (o2.id = ++pa, o2.atomic = true), c2) {
              if (s2 && (c2.curOp.updateMaxLine = true), o2.collapsed) Nr(c2, e3.line, n3.line + 1);
              else if (o2.className || o2.startStyle || o2.endStyle || o2.css || o2.attributes || o2.title) for (var u2 = e3.line; u2 <= n3.line; u2++) Ir(c2, u2, "text");
              o2.atomic && Wo(c2.doc), En(c2, "markerAdded", c2, o2);
            }
            return o2;
          }
          ga.prototype.clear = function() {
            if (!this.explicitlyCleared) {
              var t4 = this.doc.cm, e3 = t4 && !t4.curOp;
              if (e3 && Oi(t4), wt(this, "clear")) {
                var n3 = this.find();
                n3 && En(this, "clear", n3.from, n3.to);
              }
              for (var r3 = null, i2 = null, o2 = 0; o2 < this.lines.length; ++o2) {
                var a2 = this.lines[o2], s2 = Re(a2.markedSpans, this);
                t4 && !this.collapsed ? Ir(t4, ee(a2), "text") : t4 && (null != s2.to && (i2 = ee(a2)), null != s2.from && (r3 = ee(a2))), a2.markedSpans = Ze(a2.markedSpans, s2), null == s2.from && this.collapsed && !rn(this.doc, a2) && t4 && te(a2, Er(t4.display));
              }
              if (t4 && this.collapsed && !t4.options.lineWrapping) for (var l2 = 0; l2 < this.lines.length; ++l2) {
                var c2 = Je(this.lines[l2]), u2 = sn(c2);
                u2 > t4.display.maxLineLength && (t4.display.maxLine = c2, t4.display.maxLineLength = u2, t4.display.maxLineChanged = true);
              }
              null != r3 && t4 && this.collapsed && Nr(t4, r3, i2 + 1), this.lines.length = 0, this.explicitlyCleared = true, this.atomic && this.doc.cantEdit && (this.doc.cantEdit = false, t4 && Wo(t4.doc)), t4 && En(t4, "markerCleared", t4, this, r3, i2), e3 && Ci(t4), this.parent && this.parent.clear();
            }
          }, ga.prototype.find = function(t4, e3) {
            var n3, r3;
            null == t4 && "bookmark" == this.type && (t4 = 1);
            for (var i2 = 0; i2 < this.lines.length; ++i2) {
              var o2 = this.lines[i2], a2 = Re(o2.markedSpans, this);
              if (null != a2.from && (n3 = oe(e3 ? o2 : ee(o2), a2.from), -1 == t4)) return n3;
              if (null != a2.to && (r3 = oe(e3 ? o2 : ee(o2), a2.to), 1 == t4)) return r3;
            }
            return n3 && { from: n3, to: r3 };
          }, ga.prototype.changed = function() {
            var t4 = this, e3 = this.find(-1, true), n3 = this, r3 = this.doc.cm;
            e3 && r3 && Ai(r3, function() {
              var i2 = e3.line, o2 = ee(e3.line), a2 = er(r3, o2);
              if (a2 && (ur(a2), r3.curOp.selectionChanged = r3.curOp.forceUpdate = true), r3.curOp.updateMaxLine = true, !rn(n3.doc, i2) && null != n3.height) {
                var s2 = n3.height;
                n3.height = null;
                var l2 = zn(n3) - s2;
                l2 && te(i2, i2.height + l2);
              }
              En(r3, "markerChanged", r3, t4);
            });
          }, ga.prototype.attachLine = function(t4) {
            if (!this.lines.length && this.doc.cm) {
              var e3 = this.doc.cm.curOp;
              e3.maybeHiddenMarkers && -1 != V(e3.maybeHiddenMarkers, this) || (e3.maybeUnhiddenMarkers || (e3.maybeUnhiddenMarkers = [])).push(this);
            }
            this.lines.push(t4);
          }, ga.prototype.detachLine = function(t4) {
            if (this.lines.splice(V(this.lines, t4), 1), !this.lines.length && this.doc.cm) {
              var e3 = this.doc.cm.curOp;
              (e3.maybeHiddenMarkers || (e3.maybeHiddenMarkers = [])).push(this);
            }
          }, kt(ga);
          var ma = function(t4, e3) {
            this.markers = t4, this.primary = e3;
            for (var n3 = 0; n3 < t4.length; ++n3) t4[n3].parent = this;
          };
          function ya(t4, e3, n3, r3, i2) {
            (r3 = N(r3)).shared = false;
            var o2 = [va(t4, e3, n3, r3, i2)], a2 = o2[0], s2 = r3.widgetNode;
            return yo(t4, function(t5) {
              s2 && (r3.widgetNode = s2.cloneNode(true)), o2.push(va(t5, he(t5, e3), he(t5, n3), r3, i2));
              for (var l2 = 0; l2 < t5.linked.length; ++l2) if (t5.linked[l2].isParent) return;
              a2 = K(o2);
            }), new ma(o2, a2);
          }
          function ba(t4) {
            return t4.findMarks(oe(t4.first, 0), t4.clipPos(oe(t4.lastLine())), function(t5) {
              return t5.parent;
            });
          }
          function wa(t4, e3) {
            for (var n3 = 0; n3 < e3.length; n3++) {
              var r3 = e3[n3], i2 = r3.find(), o2 = t4.clipPos(i2.from), a2 = t4.clipPos(i2.to);
              if (ae(o2, a2)) {
                var s2 = va(t4, o2, a2, r3.primary, r3.primary.type);
                r3.markers.push(s2), s2.parent = r3;
              }
            }
          }
          function ka(t4) {
            for (var e3 = function(e4) {
              var n4 = t4[e4], r3 = [n4.primary.doc];
              yo(n4.primary.doc, function(t5) {
                return r3.push(t5);
              });
              for (var i2 = 0; i2 < n4.markers.length; i2++) {
                var o2 = n4.markers[i2];
                -1 == V(r3, o2.doc) && (o2.parent = null, n4.markers.splice(i2--, 1));
              }
            }, n3 = 0; n3 < t4.length; n3++) e3(n3);
          }
          ma.prototype.clear = function() {
            if (!this.explicitlyCleared) {
              this.explicitlyCleared = true;
              for (var t4 = 0; t4 < this.markers.length; ++t4) this.markers[t4].clear();
              En(this, "clear");
            }
          }, ma.prototype.find = function(t4, e3) {
            return this.primary.find(t4, e3);
          }, kt(ma);
          var xa = 0, Oa = function(t4, e3, n3, r3, i2) {
            if (!(this instanceof Oa)) return new Oa(t4, e3, n3, r3, i2);
            null == n3 && (n3 = 0), ua.call(this, [new ca([new cn("", null)])]), this.first = n3, this.scrollTop = this.scrollLeft = 0, this.cantEdit = false, this.cleanGeneration = 1, this.modeFrontier = this.highlightFrontier = n3;
            var o2 = oe(n3, 0);
            this.sel = so(o2), this.history = new xo(null), this.id = ++xa, this.modeOption = e3, this.lineSep = r3, this.direction = "rtl" == i2 ? "rtl" : "ltr", this.extend = false, "string" == typeof t4 && (t4 = this.splitLines(t4)), mo(this, { from: o2, to: o2, text: t4 }), Ho(this, so(o2), z);
          };
          Oa.prototype = Q(ua.prototype, { constructor: Oa, iter: function(t4, e3, n3) {
            n3 ? this.iterN(t4 - this.first, e3 - t4, n3) : this.iterN(this.first, this.first + this.size, t4);
          }, insert: function(t4, e3) {
            for (var n3 = 0, r3 = 0; r3 < e3.length; ++r3) n3 += e3[r3].height;
            this.insertInner(t4 - this.first, e3, n3);
          }, remove: function(t4, e3) {
            this.removeInner(t4 - this.first, e3);
          }, getValue: function(t4) {
            var e3 = Qt(this, this.first, this.first + this.size);
            return false === t4 ? e3 : e3.join(t4 || this.lineSeparator());
          }, setValue: Ri(function(t4) {
            var e3 = oe(this.first, 0), n3 = this.first + this.size - 1;
            Jo(this, { from: e3, to: oe(n3, Xt(this, n3).text.length), text: this.splitLines(t4), origin: "setValue", full: true }, true), this.cm && li(this.cm, 0, 0), Ho(this, so(e3), z);
          }), replaceRange: function(t4, e3, n3, r3) {
            ia(this, t4, e3 = he(this, e3), n3 = n3 ? he(this, n3) : e3, r3);
          }, getRange: function(t4, e3, n3) {
            var r3 = Jt(this, he(this, t4), he(this, e3));
            return false === n3 ? r3 : "" === n3 ? r3.join("") : r3.join(n3 || this.lineSeparator());
          }, getLine: function(t4) {
            var e3 = this.getLineHandle(t4);
            return e3 && e3.text;
          }, getLineHandle: function(t4) {
            if (re(this, t4)) return Xt(this, t4);
          }, getLineNumber: function(t4) {
            return ee(t4);
          }, getLineHandleVisualStart: function(t4) {
            return "number" == typeof t4 && (t4 = Xt(this, t4)), Je(t4);
          }, lineCount: function() {
            return this.size;
          }, firstLine: function() {
            return this.first;
          }, lastLine: function() {
            return this.first + this.size - 1;
          }, clipPos: function(t4) {
            return he(this, t4);
          }, getCursor: function(t4) {
            var e3 = this.sel.primary();
            return null == t4 || "head" == t4 ? e3.head : "anchor" == t4 ? e3.anchor : "end" == t4 || "to" == t4 || false === t4 ? e3.to() : e3.from();
          }, listSelections: function() {
            return this.sel.ranges;
          }, somethingSelected: function() {
            return this.sel.somethingSelected();
          }, setCursor: Ri(function(t4, e3, n3) {
            Fo(this, he(this, "number" == typeof t4 ? oe(t4, e3 || 0) : t4), null, n3);
          }), setSelection: Ri(function(t4, e3, n3) {
            Fo(this, he(this, t4), he(this, e3 || t4), n3);
          }), extendSelection: Ri(function(t4, e3, n3) {
            Lo(this, he(this, t4), e3 && he(this, e3), n3);
          }), extendSelections: Ri(function(t4, e3) {
            No(this, pe(this, t4), e3);
          }), extendSelectionsBy: Ri(function(t4, e3) {
            No(this, pe(this, Y(this.sel.ranges, t4)), e3);
          }), setSelections: Ri(function(t4, e3, n3) {
            if (t4.length) {
              for (var r3 = [], i2 = 0; i2 < t4.length; i2++) r3[i2] = new oo(he(this, t4[i2].anchor), he(this, t4[i2].head || t4[i2].anchor));
              null == e3 && (e3 = Math.min(t4.length - 1, this.sel.primIndex)), Ho(this, ao(this.cm, r3, e3), n3);
            }
          }), addSelection: Ri(function(t4, e3, n3) {
            var r3 = this.sel.ranges.slice(0);
            r3.push(new oo(he(this, t4), he(this, e3 || t4))), Ho(this, ao(this.cm, r3, r3.length - 1), n3);
          }), getSelection: function(t4) {
            for (var e3, n3 = this.sel.ranges, r3 = 0; r3 < n3.length; r3++) {
              var i2 = Jt(this, n3[r3].from(), n3[r3].to());
              e3 = e3 ? e3.concat(i2) : i2;
            }
            return false === t4 ? e3 : e3.join(t4 || this.lineSeparator());
          }, getSelections: function(t4) {
            for (var e3 = [], n3 = this.sel.ranges, r3 = 0; r3 < n3.length; r3++) {
              var i2 = Jt(this, n3[r3].from(), n3[r3].to());
              false !== t4 && (i2 = i2.join(t4 || this.lineSeparator())), e3[r3] = i2;
            }
            return e3;
          }, replaceSelection: function(t4, e3, n3) {
            for (var r3 = [], i2 = 0; i2 < this.sel.ranges.length; i2++) r3[i2] = t4;
            this.replaceSelections(r3, e3, n3 || "+input");
          }, replaceSelections: Ri(function(t4, e3, n3) {
            for (var r3 = [], i2 = this.sel, o2 = 0; o2 < i2.ranges.length; o2++) {
              var a2 = i2.ranges[o2];
              r3[o2] = { from: a2.from(), to: a2.to(), text: this.splitLines(t4[o2]), origin: n3 };
            }
            for (var s2 = e3 && "end" != e3 && ho(this, r3, e3), l2 = r3.length - 1; l2 >= 0; l2--) Jo(this, r3[l2]);
            s2 ? Bo(this, s2) : this.cm && si(this.cm);
          }), undo: Ri(function() {
            ta(this, "undo");
          }), redo: Ri(function() {
            ta(this, "redo");
          }), undoSelection: Ri(function() {
            ta(this, "undo", true);
          }), redoSelection: Ri(function() {
            ta(this, "redo", true);
          }), setExtending: function(t4) {
            this.extend = t4;
          }, getExtending: function() {
            return this.extend;
          }, historySize: function() {
            for (var t4 = this.history, e3 = 0, n3 = 0, r3 = 0; r3 < t4.done.length; r3++) t4.done[r3].ranges || ++e3;
            for (var i2 = 0; i2 < t4.undone.length; i2++) t4.undone[i2].ranges || ++n3;
            return { undo: e3, redo: n3 };
          }, clearHistory: function() {
            var t4 = this;
            this.history = new xo(this.history), yo(this, function(e3) {
              return e3.history = t4.history;
            }, true);
          }, markClean: function() {
            this.cleanGeneration = this.changeGeneration(true);
          }, changeGeneration: function(t4) {
            return t4 && (this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null), this.history.generation;
          }, isClean: function(t4) {
            return this.history.generation == (t4 || this.cleanGeneration);
          }, getHistory: function() {
            return { done: Ro(this.history.done), undone: Ro(this.history.undone) };
          }, setHistory: function(t4) {
            var e3 = this.history = new xo(this.history);
            e3.done = Ro(t4.done.slice(0), null, true), e3.undone = Ro(t4.undone.slice(0), null, true);
          }, setGutterMarker: Ri(function(t4, e3, n3) {
            return la(this, t4, "gutter", function(t5) {
              var r3 = t5.gutterMarkers || (t5.gutterMarkers = {});
              return r3[e3] = n3, !n3 && rt(r3) && (t5.gutterMarkers = null), true;
            });
          }), clearGutter: Ri(function(t4) {
            var e3 = this;
            this.iter(function(n3) {
              n3.gutterMarkers && n3.gutterMarkers[t4] && la(e3, n3, "gutter", function() {
                return n3.gutterMarkers[t4] = null, rt(n3.gutterMarkers) && (n3.gutterMarkers = null), true;
              });
            });
          }), lineInfo: function(t4) {
            var e3;
            if ("number" == typeof t4) {
              if (!re(this, t4)) return null;
              if (e3 = t4, !(t4 = Xt(this, t4))) return null;
            } else if (null == (e3 = ee(t4))) return null;
            return { line: e3, handle: t4, text: t4.text, gutterMarkers: t4.gutterMarkers, textClass: t4.textClass, bgClass: t4.bgClass, wrapClass: t4.wrapClass, widgets: t4.widgets };
          }, addLineClass: Ri(function(t4, e3, n3) {
            return la(this, t4, "gutter" == e3 ? "gutter" : "class", function(t5) {
              var r3 = "text" == e3 ? "textClass" : "background" == e3 ? "bgClass" : "gutter" == e3 ? "gutterClass" : "wrapClass";
              if (t5[r3]) {
                if (C(n3).test(t5[r3])) return false;
                t5[r3] += " " + n3;
              } else t5[r3] = n3;
              return true;
            });
          }), removeLineClass: Ri(function(t4, e3, n3) {
            return la(this, t4, "gutter" == e3 ? "gutter" : "class", function(t5) {
              var r3 = "text" == e3 ? "textClass" : "background" == e3 ? "bgClass" : "gutter" == e3 ? "gutterClass" : "wrapClass", i2 = t5[r3];
              if (!i2) return false;
              if (null == n3) t5[r3] = null;
              else {
                var o2 = i2.match(C(n3));
                if (!o2) return false;
                var a2 = o2.index + o2[0].length;
                t5[r3] = i2.slice(0, o2.index) + (o2.index && a2 != i2.length ? " " : "") + i2.slice(a2) || null;
              }
              return true;
            });
          }), addLineWidget: Ri(function(t4, e3, n3) {
            return da(this, t4, e3, n3);
          }), removeLineWidget: function(t4) {
            t4.clear();
          }, markText: function(t4, e3, n3) {
            return va(this, he(this, t4), he(this, e3), n3, n3 && n3.type || "range");
          }, setBookmark: function(t4, e3) {
            var n3 = { replacedWith: e3 && (null == e3.nodeType ? e3.widget : e3), insertLeft: e3 && e3.insertLeft, clearWhenEmpty: false, shared: e3 && e3.shared, handleMouseEvents: e3 && e3.handleMouseEvents };
            return va(this, t4 = he(this, t4), t4, n3, "bookmark");
          }, findMarksAt: function(t4) {
            var e3 = [], n3 = Xt(this, (t4 = he(this, t4)).line).markedSpans;
            if (n3) for (var r3 = 0; r3 < n3.length; ++r3) {
              var i2 = n3[r3];
              (null == i2.from || i2.from <= t4.ch) && (null == i2.to || i2.to >= t4.ch) && e3.push(i2.marker.parent || i2.marker);
            }
            return e3;
          }, findMarks: function(t4, e3, n3) {
            t4 = he(this, t4), e3 = he(this, e3);
            var r3 = [], i2 = t4.line;
            return this.iter(t4.line, e3.line + 1, function(o2) {
              var a2 = o2.markedSpans;
              if (a2) for (var s2 = 0; s2 < a2.length; s2++) {
                var l2 = a2[s2];
                null != l2.to && i2 == t4.line && t4.ch >= l2.to || null == l2.from && i2 != t4.line || null != l2.from && i2 == e3.line && l2.from >= e3.ch || n3 && !n3(l2.marker) || r3.push(l2.marker.parent || l2.marker);
              }
              ++i2;
            }), r3;
          }, getAllMarks: function() {
            var t4 = [];
            return this.iter(function(e3) {
              var n3 = e3.markedSpans;
              if (n3) for (var r3 = 0; r3 < n3.length; ++r3) null != n3[r3].from && t4.push(n3[r3].marker);
            }), t4;
          }, posFromIndex: function(t4) {
            var e3, n3 = this.first, r3 = this.lineSeparator().length;
            return this.iter(function(i2) {
              var o2 = i2.text.length + r3;
              if (o2 > t4) return e3 = t4, true;
              t4 -= o2, ++n3;
            }), he(this, oe(n3, e3));
          }, indexFromPos: function(t4) {
            var e3 = (t4 = he(this, t4)).ch;
            if (t4.line < this.first || t4.ch < 0) return 0;
            var n3 = this.lineSeparator().length;
            return this.iter(this.first, t4.line, function(t5) {
              e3 += t5.text.length + n3;
            }), e3;
          }, copy: function(t4) {
            var e3 = new Oa(Qt(this, this.first, this.first + this.size), this.modeOption, this.first, this.lineSep, this.direction);
            return e3.scrollTop = this.scrollTop, e3.scrollLeft = this.scrollLeft, e3.sel = this.sel, e3.extend = false, t4 && (e3.history.undoDepth = this.history.undoDepth, e3.setHistory(this.getHistory())), e3;
          }, linkedDoc: function(t4) {
            t4 || (t4 = {});
            var e3 = this.first, n3 = this.first + this.size;
            null != t4.from && t4.from > e3 && (e3 = t4.from), null != t4.to && t4.to < n3 && (n3 = t4.to);
            var r3 = new Oa(Qt(this, e3, n3), t4.mode || this.modeOption, e3, this.lineSep, this.direction);
            return t4.sharedHist && (r3.history = this.history), (this.linked || (this.linked = [])).push({ doc: r3, sharedHist: t4.sharedHist }), r3.linked = [{ doc: this, isParent: true, sharedHist: t4.sharedHist }], wa(r3, ba(this)), r3;
          }, unlinkDoc: function(t4) {
            if (t4 instanceof Ns && (t4 = t4.doc), this.linked) {
              for (var e3 = 0; e3 < this.linked.length; ++e3) if (this.linked[e3].doc == t4) {
                this.linked.splice(e3, 1), t4.unlinkDoc(this), ka(ba(this));
                break;
              }
            }
            if (t4.history == this.history) {
              var n3 = [t4.id];
              yo(t4, function(t5) {
                return n3.push(t5.id);
              }, true), t4.history = new xo(null), t4.history.done = Ro(this.history.done, n3), t4.history.undone = Ro(this.history.undone, n3);
            }
          }, iterLinkedDocs: function(t4) {
            yo(this, t4);
          }, getMode: function() {
            return this.mode;
          }, getEditor: function() {
            return this.cm;
          }, splitLines: function(t4) {
            return this.lineSep ? t4.split(this.lineSep) : Rt(t4);
          }, lineSeparator: function() {
            return this.lineSep || "\n";
          }, setDirection: Ri(function(t4) {
            "rtl" != t4 && (t4 = "ltr"), t4 != this.direction && (this.direction = t4, this.iter(function(t5) {
              return t5.order = null;
            }), this.cm && ko(this.cm));
          }) }), Oa.prototype.eachLine = Oa.prototype.iter;
          var Ca = 0;
          function Sa(t4) {
            var e3 = this;
            if (Ta(e3), !yt(e3, t4) && !Un(e3.display, t4)) {
              xt(t4), a && (Ca = +/* @__PURE__ */ new Date());
              var n3 = Zr(e3, t4, true), r3 = t4.dataTransfer.files;
              if (n3 && !e3.isReadOnly()) if (r3 && r3.length && window.FileReader && window.File) for (var i2 = r3.length, o2 = Array(i2), s2 = 0, l2 = function() {
                ++s2 == i2 && Di(e3, function() {
                  var t5 = { from: n3 = he(e3.doc, n3), to: n3, text: e3.doc.splitLines(o2.filter(function(t6) {
                    return null != t6;
                  }).join(e3.doc.lineSeparator())), origin: "paste" };
                  Jo(e3.doc, t5), Bo(e3.doc, so(he(e3.doc, n3), he(e3.doc, lo(t5))));
                })();
              }, c2 = function(t5, n4) {
                if (e3.options.allowDropFileTypes && -1 == V(e3.options.allowDropFileTypes, t5.type)) l2();
                else {
                  var r4 = new FileReader();
                  r4.onerror = function() {
                    return l2();
                  }, r4.onload = function() {
                    var t6 = r4.result;
                    /[\x00-\x08\x0e-\x1f]{2}/.test(t6) || (o2[n4] = t6), l2();
                  }, r4.readAsText(t5);
                }
              }, u2 = 0; u2 < r3.length; u2++) c2(r3[u2], u2);
              else {
                if (e3.state.draggingText && e3.doc.sel.contains(n3) > -1) return e3.state.draggingText(t4), void setTimeout(function() {
                  return e3.display.input.focus();
                }, 20);
                try {
                  var f2 = t4.dataTransfer.getData("Text");
                  if (f2) {
                    var h2;
                    if (e3.state.draggingText && !e3.state.draggingText.copy && (h2 = e3.listSelections()), zo(e3.doc, so(n3, n3)), h2) for (var d2 = 0; d2 < h2.length; ++d2) ia(e3.doc, "", h2[d2].anchor, h2[d2].head, "drag");
                    e3.replaceSelection(f2, "around", "paste"), e3.display.input.focus();
                  }
                } catch (t5) {
                }
              }
            }
          }
          function _a(t4, e3) {
            if (a && (!t4.state.draggingText || +/* @__PURE__ */ new Date() - Ca < 100)) St(e3);
            else if (!yt(t4, e3) && !Un(t4.display, e3) && (e3.dataTransfer.setData("Text", t4.getSelection()), e3.dataTransfer.effectAllowed = "copyMove", e3.dataTransfer.setDragImage && !h)) {
              var n3 = E("img", null, null, "position: fixed; left: 0; top: 0;");
              n3.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", f && (n3.width = n3.height = 1, t4.display.wrapper.appendChild(n3), n3._top = n3.offsetTop), e3.dataTransfer.setDragImage(n3, 0, 0), f && n3.parentNode.removeChild(n3);
            }
          }
          function Pa(t4, e3) {
            var n3 = Zr(t4, e3);
            if (n3) {
              var r3 = document.createDocumentFragment();
              Wr(t4, n3, r3), t4.display.dragCursor || (t4.display.dragCursor = E("div", null, "CodeMirror-cursors CodeMirror-dragcursors"), t4.display.lineSpace.insertBefore(t4.display.dragCursor, t4.display.cursorDiv)), T(t4.display.dragCursor, r3);
            }
          }
          function Ta(t4) {
            t4.display.dragCursor && (t4.display.lineSpace.removeChild(t4.display.dragCursor), t4.display.dragCursor = null);
          }
          function Ea(t4) {
            if (document.getElementsByClassName) {
              for (var e3 = document.getElementsByClassName("CodeMirror"), n3 = [], r3 = 0; r3 < e3.length; r3++) {
                var i2 = e3[r3].CodeMirror;
                i2 && n3.push(i2);
              }
              n3.length && n3[0].operation(function() {
                for (var e4 = 0; e4 < n3.length; e4++) t4(n3[e4]);
              });
            }
          }
          var ja = false;
          function Aa() {
            ja || (Da(), ja = true);
          }
          function Da() {
            var t4;
            pt(window, "resize", function() {
              null == t4 && (t4 = setTimeout(function() {
                t4 = null, Ea(Ma);
              }, 100));
            }), pt(window, "blur", function() {
              return Ea(Jr);
            });
          }
          function Ma(t4) {
            var e3 = t4.display;
            e3.cachedCharWidth = e3.cachedTextHeight = e3.cachedPaddingH = null, e3.scrollbarsClipped = false, t4.setSize();
          }
          for (var Ra = { 3: "Pause", 8: "Backspace", 9: "Tab", 13: "Enter", 16: "Shift", 17: "Ctrl", 18: "Alt", 19: "Pause", 20: "CapsLock", 27: "Esc", 32: "Space", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "Left", 38: "Up", 39: "Right", 40: "Down", 44: "PrintScrn", 45: "Insert", 46: "Delete", 59: ";", 61: "=", 91: "Mod", 92: "Mod", 93: "Mod", 106: "*", 107: "=", 109: "-", 110: ".", 111: "/", 145: "ScrollLock", 173: "-", 186: ";", 187: "=", 188: ",", 189: "-", 190: ".", 191: "/", 192: "`", 219: "[", 220: "\\", 221: "]", 222: "'", 224: "Mod", 63232: "Up", 63233: "Down", 63234: "Left", 63235: "Right", 63272: "Delete", 63273: "Home", 63275: "End", 63276: "PageUp", 63277: "PageDown", 63302: "Insert" }, Za = 0; Za < 10; Za++) Ra[Za + 48] = Ra[Za + 96] = String(Za);
          for (var La = 65; La <= 90; La++) Ra[La] = String.fromCharCode(La);
          for (var Na = 1; Na <= 12; Na++) Ra[Na + 111] = Ra[Na + 63235] = "F" + Na;
          var Ia = {};
          function Fa(t4) {
            var e3, n3, r3, i2, o2 = t4.split(/-(?!$)/);
            t4 = o2[o2.length - 1];
            for (var a2 = 0; a2 < o2.length - 1; a2++) {
              var s2 = o2[a2];
              if (/^(cmd|meta|m)$/i.test(s2)) i2 = true;
              else if (/^a(lt)?$/i.test(s2)) e3 = true;
              else if (/^(c|ctrl|control)$/i.test(s2)) n3 = true;
              else {
                if (!/^s(hift)?$/i.test(s2)) throw new Error("Unrecognized modifier name: " + s2);
                r3 = true;
              }
            }
            return e3 && (t4 = "Alt-" + t4), n3 && (t4 = "Ctrl-" + t4), i2 && (t4 = "Cmd-" + t4), r3 && (t4 = "Shift-" + t4), t4;
          }
          function Va(t4) {
            var e3 = {};
            for (var n3 in t4) if (t4.hasOwnProperty(n3)) {
              var r3 = t4[n3];
              if (/^(name|fallthrough|(de|at)tach)$/.test(n3)) continue;
              if ("..." == r3) {
                delete t4[n3];
                continue;
              }
              for (var i2 = Y(n3.split(" "), Fa), o2 = 0; o2 < i2.length; o2++) {
                var a2 = void 0, s2 = void 0;
                o2 == i2.length - 1 ? (s2 = i2.join(" "), a2 = r3) : (s2 = i2.slice(0, o2 + 1).join(" "), a2 = "...");
                var l2 = e3[s2];
                if (l2) {
                  if (l2 != a2) throw new Error("Inconsistent bindings for " + s2);
                } else e3[s2] = a2;
              }
              delete t4[n3];
            }
            for (var c2 in e3) t4[c2] = e3[c2];
            return t4;
          }
          function Ba(t4, e3, n3, r3) {
            var i2 = (e3 = Wa(e3)).call ? e3.call(t4, r3) : e3[t4];
            if (false === i2) return "nothing";
            if ("..." === i2) return "multi";
            if (null != i2 && n3(i2)) return "handled";
            if (e3.fallthrough) {
              if ("[object Array]" != Object.prototype.toString.call(e3.fallthrough)) return Ba(t4, e3.fallthrough, n3, r3);
              for (var o2 = 0; o2 < e3.fallthrough.length; o2++) {
                var a2 = Ba(t4, e3.fallthrough[o2], n3, r3);
                if (a2) return a2;
              }
            }
          }
          function Ha(t4) {
            var e3 = "string" == typeof t4 ? t4 : Ra[t4.keyCode];
            return "Ctrl" == e3 || "Alt" == e3 || "Shift" == e3 || "Mod" == e3;
          }
          function za(t4, e3, n3) {
            var r3 = t4;
            return e3.altKey && "Alt" != r3 && (t4 = "Alt-" + t4), (x ? e3.metaKey : e3.ctrlKey) && "Ctrl" != r3 && (t4 = "Ctrl-" + t4), (x ? e3.ctrlKey : e3.metaKey) && "Mod" != r3 && (t4 = "Cmd-" + t4), !n3 && e3.shiftKey && "Shift" != r3 && (t4 = "Shift-" + t4), t4;
          }
          function Ua(t4, e3) {
            if (f && 34 == t4.keyCode && t4["char"]) return false;
            var n3 = Ra[t4.keyCode];
            return null != n3 && !t4.altGraphKey && (3 == t4.keyCode && t4.code && (n3 = t4.code), za(n3, t4, e3));
          }
          function Wa(t4) {
            return "string" == typeof t4 ? Ia[t4] : t4;
          }
          function $a(t4, e3) {
            for (var n3 = t4.doc.sel.ranges, r3 = [], i2 = 0; i2 < n3.length; i2++) {
              for (var o2 = e3(n3[i2]); r3.length && ae(o2.from, K(r3).to) <= 0; ) {
                var a2 = r3.pop();
                if (ae(a2.from, o2.from) < 0) {
                  o2.from = a2.from;
                  break;
                }
              }
              r3.push(o2);
            }
            Ai(t4, function() {
              for (var e4 = r3.length - 1; e4 >= 0; e4--) ia(t4.doc, "", r3[e4].from, r3[e4].to, "+delete");
              si(t4);
            });
          }
          function qa(t4, e3, n3) {
            var r3 = at(t4.text, e3 + n3, n3);
            return r3 < 0 || r3 > t4.text.length ? null : r3;
          }
          function Ga(t4, e3, n3) {
            var r3 = qa(t4, e3.ch, n3);
            return null == r3 ? null : new oe(e3.line, r3, n3 < 0 ? "after" : "before");
          }
          function Ka(t4, e3, n3, r3, i2) {
            if (t4) {
              "rtl" == e3.doc.direction && (i2 = -i2);
              var o2 = ht(n3, e3.doc.direction);
              if (o2) {
                var a2, s2 = i2 < 0 ? K(o2) : o2[0], l2 = i2 < 0 == (1 == s2.level) ? "after" : "before";
                if (s2.level > 0 || "rtl" == e3.doc.direction) {
                  var c2 = nr(e3, n3);
                  a2 = i2 < 0 ? n3.text.length - 1 : 0;
                  var u2 = rr(e3, c2, a2).top;
                  a2 = st(function(t5) {
                    return rr(e3, c2, t5).top == u2;
                  }, i2 < 0 == (1 == s2.level) ? s2.from : s2.to - 1, a2), "before" == l2 && (a2 = qa(n3, a2, 1));
                } else a2 = i2 < 0 ? s2.to : s2.from;
                return new oe(r3, a2, l2);
              }
            }
            return new oe(r3, i2 < 0 ? n3.text.length : 0, i2 < 0 ? "before" : "after");
          }
          function Ya(t4, e3, n3, r3) {
            var i2 = ht(e3, t4.doc.direction);
            if (!i2) return Ga(e3, n3, r3);
            n3.ch >= e3.text.length ? (n3.ch = e3.text.length, n3.sticky = "before") : n3.ch <= 0 && (n3.ch = 0, n3.sticky = "after");
            var o2 = ut(i2, n3.ch, n3.sticky), a2 = i2[o2];
            if ("ltr" == t4.doc.direction && a2.level % 2 == 0 && (r3 > 0 ? a2.to > n3.ch : a2.from < n3.ch)) return Ga(e3, n3, r3);
            var s2, l2 = function(t5, n4) {
              return qa(e3, t5 instanceof oe ? t5.ch : t5, n4);
            }, c2 = function(n4) {
              return t4.options.lineWrapping ? (s2 = s2 || nr(t4, e3), Cr(t4, e3, s2, n4)) : { begin: 0, end: e3.text.length };
            }, u2 = c2("before" == n3.sticky ? l2(n3, -1) : n3.ch);
            if ("rtl" == t4.doc.direction || 1 == a2.level) {
              var f2 = 1 == a2.level == r3 < 0, h2 = l2(n3, f2 ? 1 : -1);
              if (null != h2 && (f2 ? h2 <= a2.to && h2 <= u2.end : h2 >= a2.from && h2 >= u2.begin)) {
                var d2 = f2 ? "before" : "after";
                return new oe(n3.line, h2, d2);
              }
            }
            var p2 = function(t5, e4, r4) {
              for (var o3 = function(t6, e5) {
                return e5 ? new oe(n3.line, l2(t6, 1), "before") : new oe(n3.line, t6, "after");
              }; t5 >= 0 && t5 < i2.length; t5 += e4) {
                var a3 = i2[t5], s3 = e4 > 0 == (1 != a3.level), c3 = s3 ? r4.begin : l2(r4.end, -1);
                if (a3.from <= c3 && c3 < a3.to) return o3(c3, s3);
                if (c3 = s3 ? a3.from : l2(a3.to, -1), r4.begin <= c3 && c3 < r4.end) return o3(c3, s3);
              }
            }, g2 = p2(o2 + r3, r3, u2);
            if (g2) return g2;
            var v2 = r3 > 0 ? u2.end : l2(u2.begin, -1);
            return null == v2 || r3 > 0 && v2 == e3.text.length || !(g2 = p2(r3 > 0 ? 0 : i2.length - 1, r3, c2(v2))) ? null : g2;
          }
          Ia.basic = { Left: "goCharLeft", Right: "goCharRight", Up: "goLineUp", Down: "goLineDown", End: "goLineEnd", Home: "goLineStartSmart", PageUp: "goPageUp", PageDown: "goPageDown", Delete: "delCharAfter", Backspace: "delCharBefore", "Shift-Backspace": "delCharBefore", Tab: "defaultTab", "Shift-Tab": "indentAuto", Enter: "newlineAndIndent", Insert: "toggleOverwrite", Esc: "singleSelection" }, Ia.pcDefault = { "Ctrl-A": "selectAll", "Ctrl-D": "deleteLine", "Ctrl-Z": "undo", "Shift-Ctrl-Z": "redo", "Ctrl-Y": "redo", "Ctrl-Home": "goDocStart", "Ctrl-End": "goDocEnd", "Ctrl-Up": "goLineUp", "Ctrl-Down": "goLineDown", "Ctrl-Left": "goGroupLeft", "Ctrl-Right": "goGroupRight", "Alt-Left": "goLineStart", "Alt-Right": "goLineEnd", "Ctrl-Backspace": "delGroupBefore", "Ctrl-Delete": "delGroupAfter", "Ctrl-S": "save", "Ctrl-F": "find", "Ctrl-G": "findNext", "Shift-Ctrl-G": "findPrev", "Shift-Ctrl-F": "replace", "Shift-Ctrl-R": "replaceAll", "Ctrl-[": "indentLess", "Ctrl-]": "indentMore", "Ctrl-U": "undoSelection", "Shift-Ctrl-U": "redoSelection", "Alt-U": "redoSelection", fallthrough: "basic" }, Ia.emacsy = { "Ctrl-F": "goCharRight", "Ctrl-B": "goCharLeft", "Ctrl-P": "goLineUp", "Ctrl-N": "goLineDown", "Ctrl-A": "goLineStart", "Ctrl-E": "goLineEnd", "Ctrl-V": "goPageDown", "Shift-Ctrl-V": "goPageUp", "Ctrl-D": "delCharAfter", "Ctrl-H": "delCharBefore", "Alt-Backspace": "delWordBefore", "Ctrl-K": "killLine", "Ctrl-T": "transposeChars", "Ctrl-O": "openLine" }, Ia.macDefault = { "Cmd-A": "selectAll", "Cmd-D": "deleteLine", "Cmd-Z": "undo", "Shift-Cmd-Z": "redo", "Cmd-Y": "redo", "Cmd-Home": "goDocStart", "Cmd-Up": "goDocStart", "Cmd-End": "goDocEnd", "Cmd-Down": "goDocEnd", "Alt-Left": "goGroupLeft", "Alt-Right": "goGroupRight", "Cmd-Left": "goLineLeft", "Cmd-Right": "goLineRight", "Alt-Backspace": "delGroupBefore", "Ctrl-Alt-Backspace": "delGroupAfter", "Alt-Delete": "delGroupAfter", "Cmd-S": "save", "Cmd-F": "find", "Cmd-G": "findNext", "Shift-Cmd-G": "findPrev", "Cmd-Alt-F": "replace", "Shift-Cmd-Alt-F": "replaceAll", "Cmd-[": "indentLess", "Cmd-]": "indentMore", "Cmd-Backspace": "delWrappedLineLeft", "Cmd-Delete": "delWrappedLineRight", "Cmd-U": "undoSelection", "Shift-Cmd-U": "redoSelection", "Ctrl-Up": "goDocStart", "Ctrl-Down": "goDocEnd", fallthrough: ["basic", "emacsy"] }, Ia["default"] = y ? Ia.macDefault : Ia.pcDefault;
          var Xa = { selectAll: Yo, singleSelection: function(t4) {
            return t4.setSelection(t4.getCursor("anchor"), t4.getCursor("head"), z);
          }, killLine: function(t4) {
            return $a(t4, function(e3) {
              if (e3.empty()) {
                var n3 = Xt(t4.doc, e3.head.line).text.length;
                return e3.head.ch == n3 && e3.head.line < t4.lastLine() ? { from: e3.head, to: oe(e3.head.line + 1, 0) } : { from: e3.head, to: oe(e3.head.line, n3) };
              }
              return { from: e3.from(), to: e3.to() };
            });
          }, deleteLine: function(t4) {
            return $a(t4, function(e3) {
              return { from: oe(e3.from().line, 0), to: he(t4.doc, oe(e3.to().line + 1, 0)) };
            });
          }, delLineLeft: function(t4) {
            return $a(t4, function(t5) {
              return { from: oe(t5.from().line, 0), to: t5.from() };
            });
          }, delWrappedLineLeft: function(t4) {
            return $a(t4, function(e3) {
              var n3 = t4.charCoords(e3.head, "div").top + 5;
              return { from: t4.coordsChar({ left: 0, top: n3 }, "div"), to: e3.from() };
            });
          }, delWrappedLineRight: function(t4) {
            return $a(t4, function(e3) {
              var n3 = t4.charCoords(e3.head, "div").top + 5, r3 = t4.coordsChar({ left: t4.display.lineDiv.offsetWidth + 100, top: n3 }, "div");
              return { from: e3.from(), to: r3 };
            });
          }, undo: function(t4) {
            return t4.undo();
          }, redo: function(t4) {
            return t4.redo();
          }, undoSelection: function(t4) {
            return t4.undoSelection();
          }, redoSelection: function(t4) {
            return t4.redoSelection();
          }, goDocStart: function(t4) {
            return t4.extendSelection(oe(t4.firstLine(), 0));
          }, goDocEnd: function(t4) {
            return t4.extendSelection(oe(t4.lastLine()));
          }, goLineStart: function(t4) {
            return t4.extendSelectionsBy(function(e3) {
              return Ja(t4, e3.head.line);
            }, { origin: "+move", bias: 1 });
          }, goLineStartSmart: function(t4) {
            return t4.extendSelectionsBy(function(e3) {
              return ts(t4, e3.head);
            }, { origin: "+move", bias: 1 });
          }, goLineEnd: function(t4) {
            return t4.extendSelectionsBy(function(e3) {
              return Qa(t4, e3.head.line);
            }, { origin: "+move", bias: -1 });
          }, goLineRight: function(t4) {
            return t4.extendSelectionsBy(function(e3) {
              var n3 = t4.cursorCoords(e3.head, "div").top + 5;
              return t4.coordsChar({ left: t4.display.lineDiv.offsetWidth + 100, top: n3 }, "div");
            }, W);
          }, goLineLeft: function(t4) {
            return t4.extendSelectionsBy(function(e3) {
              var n3 = t4.cursorCoords(e3.head, "div").top + 5;
              return t4.coordsChar({ left: 0, top: n3 }, "div");
            }, W);
          }, goLineLeftSmart: function(t4) {
            return t4.extendSelectionsBy(function(e3) {
              var n3 = t4.cursorCoords(e3.head, "div").top + 5, r3 = t4.coordsChar({ left: 0, top: n3 }, "div");
              return r3.ch < t4.getLine(r3.line).search(/\S/) ? ts(t4, e3.head) : r3;
            }, W);
          }, goLineUp: function(t4) {
            return t4.moveV(-1, "line");
          }, goLineDown: function(t4) {
            return t4.moveV(1, "line");
          }, goPageUp: function(t4) {
            return t4.moveV(-1, "page");
          }, goPageDown: function(t4) {
            return t4.moveV(1, "page");
          }, goCharLeft: function(t4) {
            return t4.moveH(-1, "char");
          }, goCharRight: function(t4) {
            return t4.moveH(1, "char");
          }, goColumnLeft: function(t4) {
            return t4.moveH(-1, "column");
          }, goColumnRight: function(t4) {
            return t4.moveH(1, "column");
          }, goWordLeft: function(t4) {
            return t4.moveH(-1, "word");
          }, goGroupRight: function(t4) {
            return t4.moveH(1, "group");
          }, goGroupLeft: function(t4) {
            return t4.moveH(-1, "group");
          }, goWordRight: function(t4) {
            return t4.moveH(1, "word");
          }, delCharBefore: function(t4) {
            return t4.deleteH(-1, "codepoint");
          }, delCharAfter: function(t4) {
            return t4.deleteH(1, "char");
          }, delWordBefore: function(t4) {
            return t4.deleteH(-1, "word");
          }, delWordAfter: function(t4) {
            return t4.deleteH(1, "word");
          }, delGroupBefore: function(t4) {
            return t4.deleteH(-1, "group");
          }, delGroupAfter: function(t4) {
            return t4.deleteH(1, "group");
          }, indentAuto: function(t4) {
            return t4.indentSelection("smart");
          }, indentMore: function(t4) {
            return t4.indentSelection("add");
          }, indentLess: function(t4) {
            return t4.indentSelection("subtract");
          }, insertTab: function(t4) {
            return t4.replaceSelection("	");
          }, insertSoftTab: function(t4) {
            for (var e3 = [], n3 = t4.listSelections(), r3 = t4.options.tabSize, i2 = 0; i2 < n3.length; i2++) {
              var o2 = n3[i2].from(), a2 = I(t4.getLine(o2.line), o2.ch, r3);
              e3.push(G(r3 - a2 % r3));
            }
            t4.replaceSelections(e3);
          }, defaultTab: function(t4) {
            t4.somethingSelected() ? t4.indentSelection("add") : t4.execCommand("insertTab");
          }, transposeChars: function(t4) {
            return Ai(t4, function() {
              for (var e3 = t4.listSelections(), n3 = [], r3 = 0; r3 < e3.length; r3++) if (e3[r3].empty()) {
                var i2 = e3[r3].head, o2 = Xt(t4.doc, i2.line).text;
                if (o2) {
                  if (i2.ch == o2.length && (i2 = new oe(i2.line, i2.ch - 1)), i2.ch > 0) i2 = new oe(i2.line, i2.ch + 1), t4.replaceRange(o2.charAt(i2.ch - 1) + o2.charAt(i2.ch - 2), oe(i2.line, i2.ch - 2), i2, "+transpose");
                  else if (i2.line > t4.doc.first) {
                    var a2 = Xt(t4.doc, i2.line - 1).text;
                    a2 && (i2 = new oe(i2.line, 1), t4.replaceRange(o2.charAt(0) + t4.doc.lineSeparator() + a2.charAt(a2.length - 1), oe(i2.line - 1, a2.length - 1), i2, "+transpose"));
                  }
                }
                n3.push(new oo(i2, i2));
              }
              t4.setSelections(n3);
            });
          }, newlineAndIndent: function(t4) {
            return Ai(t4, function() {
              for (var e3 = t4.listSelections(), n3 = e3.length - 1; n3 >= 0; n3--) t4.replaceRange(t4.doc.lineSeparator(), e3[n3].anchor, e3[n3].head, "+input");
              e3 = t4.listSelections();
              for (var r3 = 0; r3 < e3.length; r3++) t4.indentLine(e3[r3].from().line, null, true);
              si(t4);
            });
          }, openLine: function(t4) {
            return t4.replaceSelection("\n", "start");
          }, toggleOverwrite: function(t4) {
            return t4.toggleOverwrite();
          } };
          function Ja(t4, e3) {
            var n3 = Xt(t4.doc, e3), r3 = Je(n3);
            return r3 != n3 && (e3 = ee(r3)), Ka(true, t4, r3, e3, 1);
          }
          function Qa(t4, e3) {
            var n3 = Xt(t4.doc, e3), r3 = Qe(n3);
            return r3 != n3 && (e3 = ee(r3)), Ka(true, t4, n3, e3, -1);
          }
          function ts(t4, e3) {
            var n3 = Ja(t4, e3.line), r3 = Xt(t4.doc, n3.line), i2 = ht(r3, t4.doc.direction);
            if (!i2 || 0 == i2[0].level) {
              var o2 = Math.max(n3.ch, r3.text.search(/\S/)), a2 = e3.line == n3.line && e3.ch <= o2 && e3.ch;
              return oe(n3.line, a2 ? 0 : o2, n3.sticky);
            }
            return n3;
          }
          function es(t4, e3, n3) {
            if ("string" == typeof e3 && !(e3 = Xa[e3])) return false;
            t4.display.input.ensurePolled();
            var r3 = t4.display.shift, i2 = false;
            try {
              t4.isReadOnly() && (t4.state.suppressEdits = true), n3 && (t4.display.shift = false), i2 = e3(t4) != H;
            } finally {
              t4.display.shift = r3, t4.state.suppressEdits = false;
            }
            return i2;
          }
          function ns(t4, e3, n3) {
            for (var r3 = 0; r3 < t4.state.keyMaps.length; r3++) {
              var i2 = Ba(e3, t4.state.keyMaps[r3], n3, t4);
              if (i2) return i2;
            }
            return t4.options.extraKeys && Ba(e3, t4.options.extraKeys, n3, t4) || Ba(e3, t4.options.keyMap, n3, t4);
          }
          var rs = new F();
          function is(t4, e3, n3, r3) {
            var i2 = t4.state.keySeq;
            if (i2) {
              if (Ha(e3)) return "handled";
              if (/\'$/.test(e3) ? t4.state.keySeq = null : rs.set(50, function() {
                t4.state.keySeq == i2 && (t4.state.keySeq = null, t4.display.input.reset());
              }), os(t4, i2 + " " + e3, n3, r3)) return true;
            }
            return os(t4, e3, n3, r3);
          }
          function os(t4, e3, n3, r3) {
            var i2 = ns(t4, e3, r3);
            return "multi" == i2 && (t4.state.keySeq = e3), "handled" == i2 && En(t4, "keyHandled", t4, e3, n3), "handled" != i2 && "multi" != i2 || (xt(n3), Gr(t4)), !!i2;
          }
          function as(t4, e3) {
            var n3 = Ua(e3, true);
            return !!n3 && (e3.shiftKey && !t4.state.keySeq ? is(t4, "Shift-" + n3, e3, function(e4) {
              return es(t4, e4, true);
            }) || is(t4, n3, e3, function(e4) {
              if ("string" == typeof e4 ? /^go[A-Z]/.test(e4) : e4.motion) return es(t4, e4);
            }) : is(t4, n3, e3, function(e4) {
              return es(t4, e4);
            }));
          }
          function ss(t4, e3, n3) {
            return is(t4, "'" + n3 + "'", e3, function(e4) {
              return es(t4, e4, true);
            });
          }
          var ls = null;
          function cs(t4) {
            var e3 = this;
            if (!(t4.target && t4.target != e3.display.input.getField() || (e3.curOp.focus = D(), yt(e3, t4)))) {
              a && s < 11 && 27 == t4.keyCode && (t4.returnValue = false);
              var r3 = t4.keyCode;
              e3.display.shift = 16 == r3 || t4.shiftKey;
              var i2 = as(e3, t4);
              f && (ls = i2 ? r3 : null, i2 || 88 != r3 || Lt || !(y ? t4.metaKey : t4.ctrlKey) || e3.replaceSelection("", null, "cut")), n2 && !y && !i2 && 46 == r3 && t4.shiftKey && !t4.ctrlKey && document.execCommand && document.execCommand("cut"), 18 != r3 || /\bCodeMirror-crosshair\b/.test(e3.display.lineDiv.className) || us(e3);
            }
          }
          function us(t4) {
            var e3 = t4.display.lineDiv;
            function n3(t5) {
              18 != t5.keyCode && t5.altKey || (_(e3, "CodeMirror-crosshair"), vt(document, "keyup", n3), vt(document, "mouseover", n3));
            }
            M(e3, "CodeMirror-crosshair"), pt(document, "keyup", n3), pt(document, "mouseover", n3);
          }
          function fs(t4) {
            16 == t4.keyCode && (this.doc.sel.shift = false), yt(this, t4);
          }
          function hs(t4) {
            var e3 = this;
            if (!(t4.target && t4.target != e3.display.input.getField() || Un(e3.display, t4) || yt(e3, t4) || t4.ctrlKey && !t4.altKey || y && t4.metaKey)) {
              var n3 = t4.keyCode, r3 = t4.charCode;
              if (f && n3 == ls) return ls = null, void xt(t4);
              if (!f || t4.which && !(t4.which < 10) || !as(e3, t4)) {
                var i2 = String.fromCharCode(null == r3 ? n3 : r3);
                "\b" != i2 && (ss(e3, t4, i2) || e3.display.input.onKeyPress(t4));
              }
            }
          }
          var ds, ps, gs = 400, vs = function(t4, e3, n3) {
            this.time = t4, this.pos = e3, this.button = n3;
          };
          function ms(t4, e3) {
            var n3 = +/* @__PURE__ */ new Date();
            return ps && ps.compare(n3, t4, e3) ? (ds = ps = null, "triple") : ds && ds.compare(n3, t4, e3) ? (ps = new vs(n3, t4, e3), ds = null, "double") : (ds = new vs(n3, t4, e3), ps = null, "single");
          }
          function ys(t4) {
            var e3 = this, n3 = e3.display;
            if (!(yt(e3, t4) || n3.activeTouch && n3.input.supportsTouch())) {
              if (n3.input.ensurePolled(), n3.shift = t4.shiftKey, Un(n3, t4)) l || (n3.scroller.draggable = false, setTimeout(function() {
                return n3.scroller.draggable = true;
              }, 100));
              else if (!Ps(e3, t4)) {
                var r3 = Zr(e3, t4), i2 = Pt(t4), o2 = r3 ? ms(r3, i2) : "single";
                window.focus(), 1 == i2 && e3.state.selectingText && e3.state.selectingText(t4), r3 && bs(e3, i2, r3, o2, t4) || (1 == i2 ? r3 ? ks(e3, r3, o2, t4) : _t(t4) == n3.scroller && xt(t4) : 2 == i2 ? (r3 && Lo(e3.doc, r3), setTimeout(function() {
                  return n3.input.focus();
                }, 20)) : 3 == i2 && (O ? e3.display.input.onContextMenu(t4) : Yr(e3)));
              }
            }
          }
          function bs(t4, e3, n3, r3, i2) {
            var o2 = "Click";
            return "double" == r3 ? o2 = "Double" + o2 : "triple" == r3 && (o2 = "Triple" + o2), is(t4, za(o2 = (1 == e3 ? "Left" : 2 == e3 ? "Middle" : "Right") + o2, i2), i2, function(e4) {
              if ("string" == typeof e4 && (e4 = Xa[e4]), !e4) return false;
              var r4 = false;
              try {
                t4.isReadOnly() && (t4.state.suppressEdits = true), r4 = e4(t4, n3) != H;
              } finally {
                t4.state.suppressEdits = false;
              }
              return r4;
            });
          }
          function ws(t4, e3, n3) {
            var r3 = t4.getOption("configureMouse"), i2 = r3 ? r3(t4, e3, n3) : {};
            if (null == i2.unit) {
              var o2 = b ? n3.shiftKey && n3.metaKey : n3.altKey;
              i2.unit = o2 ? "rectangle" : "single" == e3 ? "char" : "double" == e3 ? "word" : "line";
            }
            return (null == i2.extend || t4.doc.extend) && (i2.extend = t4.doc.extend || n3.shiftKey), null == i2.addNew && (i2.addNew = y ? n3.metaKey : n3.ctrlKey), null == i2.moveOnDrag && (i2.moveOnDrag = !(y ? n3.altKey : n3.ctrlKey)), i2;
          }
          function ks(t4, e3, n3, r3) {
            a ? setTimeout(L(Kr, t4), 0) : t4.curOp.focus = D();
            var i2, o2 = ws(t4, n3, r3), s2 = t4.doc.sel;
            t4.options.dragDrop && jt && !t4.isReadOnly() && "single" == n3 && (i2 = s2.contains(e3)) > -1 && (ae((i2 = s2.ranges[i2]).from(), e3) < 0 || e3.xRel > 0) && (ae(i2.to(), e3) > 0 || e3.xRel < 0) ? xs(t4, r3, e3, o2) : Cs(t4, r3, e3, o2);
          }
          function xs(t4, e3, n3, r3) {
            var i2 = t4.display, o2 = false, c2 = Di(t4, function(e4) {
              l && (i2.scroller.draggable = false), t4.state.draggingText = false, t4.state.delayingBlurEvent && (t4.hasFocus() ? t4.state.delayingBlurEvent = false : Yr(t4)), vt(i2.wrapper.ownerDocument, "mouseup", c2), vt(i2.wrapper.ownerDocument, "mousemove", u2), vt(i2.scroller, "dragstart", f2), vt(i2.scroller, "drop", c2), o2 || (xt(e4), r3.addNew || Lo(t4.doc, n3, null, null, r3.extend), l && !h || a && 9 == s ? setTimeout(function() {
                i2.wrapper.ownerDocument.body.focus({ preventScroll: true }), i2.input.focus();
              }, 20) : i2.input.focus());
            }), u2 = function(t5) {
              o2 = o2 || Math.abs(e3.clientX - t5.clientX) + Math.abs(e3.clientY - t5.clientY) >= 10;
            }, f2 = function() {
              return o2 = true;
            };
            l && (i2.scroller.draggable = true), t4.state.draggingText = c2, c2.copy = !r3.moveOnDrag, pt(i2.wrapper.ownerDocument, "mouseup", c2), pt(i2.wrapper.ownerDocument, "mousemove", u2), pt(i2.scroller, "dragstart", f2), pt(i2.scroller, "drop", c2), t4.state.delayingBlurEvent = true, setTimeout(function() {
              return i2.input.focus();
            }, 20), i2.scroller.dragDrop && i2.scroller.dragDrop();
          }
          function Os(t4, e3, n3) {
            if ("char" == n3) return new oo(e3, e3);
            if ("word" == n3) return t4.findWordAt(e3);
            if ("line" == n3) return new oo(oe(e3.line, 0), he(t4.doc, oe(e3.line + 1, 0)));
            var r3 = n3(t4, e3);
            return new oo(r3.from, r3.to);
          }
          function Cs(t4, e3, n3, r3) {
            a && Yr(t4);
            var i2 = t4.display, o2 = t4.doc;
            xt(e3);
            var s2, l2, c2 = o2.sel, u2 = c2.ranges;
            if (r3.addNew && !r3.extend ? (l2 = o2.sel.contains(n3), s2 = l2 > -1 ? u2[l2] : new oo(n3, n3)) : (s2 = o2.sel.primary(), l2 = o2.sel.primIndex), "rectangle" == r3.unit) r3.addNew || (s2 = new oo(n3, n3)), n3 = Zr(t4, e3, true, true), l2 = -1;
            else {
              var f2 = Os(t4, n3, r3.unit);
              s2 = r3.extend ? Zo(s2, f2.anchor, f2.head, r3.extend) : f2;
            }
            r3.addNew ? -1 == l2 ? (l2 = u2.length, Ho(o2, ao(t4, u2.concat([s2]), l2), { scroll: false, origin: "*mouse" })) : u2.length > 1 && u2[l2].empty() && "char" == r3.unit && !r3.extend ? (Ho(o2, ao(t4, u2.slice(0, l2).concat(u2.slice(l2 + 1)), 0), { scroll: false, origin: "*mouse" }), c2 = o2.sel) : Io(o2, l2, s2, U) : (l2 = 0, Ho(o2, new io([s2], 0), U), c2 = o2.sel);
            var h2 = n3;
            function d2(e4) {
              if (0 != ae(h2, e4)) if (h2 = e4, "rectangle" == r3.unit) {
                for (var i3 = [], a2 = t4.options.tabSize, u3 = I(Xt(o2, n3.line).text, n3.ch, a2), f3 = I(Xt(o2, e4.line).text, e4.ch, a2), d3 = Math.min(u3, f3), p3 = Math.max(u3, f3), g3 = Math.min(n3.line, e4.line), v3 = Math.min(t4.lastLine(), Math.max(n3.line, e4.line)); g3 <= v3; g3++) {
                  var m3 = Xt(o2, g3).text, y3 = $(m3, d3, a2);
                  d3 == p3 ? i3.push(new oo(oe(g3, y3), oe(g3, y3))) : m3.length > y3 && i3.push(new oo(oe(g3, y3), oe(g3, $(m3, p3, a2))));
                }
                i3.length || i3.push(new oo(n3, n3)), Ho(o2, ao(t4, c2.ranges.slice(0, l2).concat(i3), l2), { origin: "*mouse", scroll: false }), t4.scrollIntoView(e4);
              } else {
                var b3, w2 = s2, k2 = Os(t4, e4, r3.unit), x2 = w2.anchor;
                ae(k2.anchor, x2) > 0 ? (b3 = k2.head, x2 = ue(w2.from(), k2.anchor)) : (b3 = k2.anchor, x2 = ce(w2.to(), k2.head));
                var O2 = c2.ranges.slice(0);
                O2[l2] = Ss(t4, new oo(he(o2, x2), b3)), Ho(o2, ao(t4, O2, l2), U);
              }
            }
            var p2 = i2.wrapper.getBoundingClientRect(), g2 = 0;
            function v2(e4) {
              var n4 = ++g2, a2 = Zr(t4, e4, true, "rectangle" == r3.unit);
              if (a2) if (0 != ae(a2, h2)) {
                t4.curOp.focus = D(), d2(a2);
                var s3 = ei(i2, o2);
                (a2.line >= s3.to || a2.line < s3.from) && setTimeout(Di(t4, function() {
                  g2 == n4 && v2(e4);
                }), 150);
              } else {
                var l3 = e4.clientY < p2.top ? -20 : e4.clientY > p2.bottom ? 20 : 0;
                l3 && setTimeout(Di(t4, function() {
                  g2 == n4 && (i2.scroller.scrollTop += l3, v2(e4));
                }), 50);
              }
            }
            function m2(e4) {
              t4.state.selectingText = false, g2 = 1 / 0, e4 && (xt(e4), i2.input.focus()), vt(i2.wrapper.ownerDocument, "mousemove", y2), vt(i2.wrapper.ownerDocument, "mouseup", b2), o2.history.lastSelOrigin = null;
            }
            var y2 = Di(t4, function(t5) {
              0 !== t5.buttons && Pt(t5) ? v2(t5) : m2(t5);
            }), b2 = Di(t4, m2);
            t4.state.selectingText = b2, pt(i2.wrapper.ownerDocument, "mousemove", y2), pt(i2.wrapper.ownerDocument, "mouseup", b2);
          }
          function Ss(t4, e3) {
            var n3 = e3.anchor, r3 = e3.head, i2 = Xt(t4.doc, n3.line);
            if (0 == ae(n3, r3) && n3.sticky == r3.sticky) return e3;
            var o2 = ht(i2);
            if (!o2) return e3;
            var a2 = ut(o2, n3.ch, n3.sticky), s2 = o2[a2];
            if (s2.from != n3.ch && s2.to != n3.ch) return e3;
            var l2, c2 = a2 + (s2.from == n3.ch == (1 != s2.level) ? 0 : 1);
            if (0 == c2 || c2 == o2.length) return e3;
            if (r3.line != n3.line) l2 = (r3.line - n3.line) * ("ltr" == t4.doc.direction ? 1 : -1) > 0;
            else {
              var u2 = ut(o2, r3.ch, r3.sticky), f2 = u2 - a2 || (r3.ch - n3.ch) * (1 == s2.level ? -1 : 1);
              l2 = u2 == c2 - 1 || u2 == c2 ? f2 < 0 : f2 > 0;
            }
            var h2 = o2[c2 + (l2 ? -1 : 0)], d2 = l2 == (1 == h2.level), p2 = d2 ? h2.from : h2.to, g2 = d2 ? "after" : "before";
            return n3.ch == p2 && n3.sticky == g2 ? e3 : new oo(new oe(n3.line, p2, g2), r3);
          }
          function _s(t4, e3, n3, r3) {
            var i2, o2;
            if (e3.touches) i2 = e3.touches[0].clientX, o2 = e3.touches[0].clientY;
            else try {
              i2 = e3.clientX, o2 = e3.clientY;
            } catch (t5) {
              return false;
            }
            if (i2 >= Math.floor(t4.display.gutters.getBoundingClientRect().right)) return false;
            r3 && xt(e3);
            var a2 = t4.display, s2 = a2.lineDiv.getBoundingClientRect();
            if (o2 > s2.bottom || !wt(t4, n3)) return Ct(e3);
            o2 -= s2.top - a2.viewOffset;
            for (var l2 = 0; l2 < t4.display.gutterSpecs.length; ++l2) {
              var c2 = a2.gutters.childNodes[l2];
              if (c2 && c2.getBoundingClientRect().right >= i2) return mt(t4, n3, t4, ne(t4.doc, o2), t4.display.gutterSpecs[l2].className, e3), Ct(e3);
            }
          }
          function Ps(t4, e3) {
            return _s(t4, e3, "gutterClick", true);
          }
          function Ts(t4, e3) {
            Un(t4.display, e3) || Es(t4, e3) || yt(t4, e3, "contextmenu") || O || t4.display.input.onContextMenu(e3);
          }
          function Es(t4, e3) {
            return !!wt(t4, "gutterContextMenu") && _s(t4, e3, "gutterContextMenu", false);
          }
          function js(t4) {
            t4.display.wrapper.className = t4.display.wrapper.className.replace(/\s*cm-s-\S+/g, "") + t4.options.theme.replace(/(^|\s)\s*/g, " cm-s-"), hr(t4);
          }
          vs.prototype.compare = function(t4, e3, n3) {
            return this.time + gs > t4 && 0 == ae(e3, this.pos) && n3 == this.button;
          };
          var As = { toString: function() {
            return "CodeMirror.Init";
          } }, Ds = {}, Ms = {};
          function Rs(t4) {
            var e3 = t4.optionHandlers;
            function n3(n4, r3, i2, o2) {
              t4.defaults[n4] = r3, i2 && (e3[n4] = o2 ? function(t5, e4, n5) {
                n5 != As && i2(t5, e4, n5);
              } : i2);
            }
            t4.defineOption = n3, t4.Init = As, n3("value", "", function(t5, e4) {
              return t5.setValue(e4);
            }, true), n3("mode", null, function(t5, e4) {
              t5.doc.modeOption = e4, po(t5);
            }, true), n3("indentUnit", 2, po, true), n3("indentWithTabs", false), n3("smartIndent", true), n3("tabSize", 4, function(t5) {
              go(t5), hr(t5), Nr(t5);
            }, true), n3("lineSeparator", null, function(t5, e4) {
              if (t5.doc.lineSep = e4, e4) {
                var n4 = [], r3 = t5.doc.first;
                t5.doc.iter(function(t6) {
                  for (var i3 = 0; ; ) {
                    var o2 = t6.text.indexOf(e4, i3);
                    if (-1 == o2) break;
                    i3 = o2 + e4.length, n4.push(oe(r3, o2));
                  }
                  r3++;
                });
                for (var i2 = n4.length - 1; i2 >= 0; i2--) ia(t5.doc, e4, n4[i2], oe(n4[i2].line, n4[i2].ch + e4.length));
              }
            }), n3("specialChars", /[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g, function(t5, e4, n4) {
              t5.state.specialChars = new RegExp(e4.source + (e4.test("	") ? "" : "|	"), "g"), n4 != As && t5.refresh();
            }), n3("specialCharPlaceholder", vn, function(t5) {
              return t5.refresh();
            }, true), n3("electricChars", true), n3("inputStyle", m ? "contenteditable" : "textarea", function() {
              throw new Error("inputStyle can not (yet) be changed in a running editor");
            }, true), n3("spellcheck", false, function(t5, e4) {
              return t5.getInputField().spellcheck = e4;
            }, true), n3("autocorrect", false, function(t5, e4) {
              return t5.getInputField().autocorrect = e4;
            }, true), n3("autocapitalize", false, function(t5, e4) {
              return t5.getInputField().autocapitalize = e4;
            }, true), n3("rtlMoveVisually", !w), n3("wholeLineUpdateBefore", true), n3("theme", "default", function(t5) {
              js(t5), Xi(t5);
            }, true), n3("keyMap", "default", function(t5, e4, n4) {
              var r3 = Wa(e4), i2 = n4 != As && Wa(n4);
              i2 && i2.detach && i2.detach(t5, r3), r3.attach && r3.attach(t5, i2 || null);
            }), n3("extraKeys", null), n3("configureMouse", null), n3("lineWrapping", false, Ls, true), n3("gutters", [], function(t5, e4) {
              t5.display.gutterSpecs = Ki(e4, t5.options.lineNumbers), Xi(t5);
            }, true), n3("fixedGutter", true, function(t5, e4) {
              t5.display.gutters.style.left = e4 ? Dr(t5.display) + "px" : "0", t5.refresh();
            }, true), n3("coverGutterNextToScrollbar", false, function(t5) {
              return yi(t5);
            }, true), n3("scrollbarStyle", "native", function(t5) {
              ki(t5), yi(t5), t5.display.scrollbars.setScrollTop(t5.doc.scrollTop), t5.display.scrollbars.setScrollLeft(t5.doc.scrollLeft);
            }, true), n3("lineNumbers", false, function(t5, e4) {
              t5.display.gutterSpecs = Ki(t5.options.gutters, e4), Xi(t5);
            }, true), n3("firstLineNumber", 1, Xi, true), n3("lineNumberFormatter", function(t5) {
              return t5;
            }, Xi, true), n3("showCursorWhenSelecting", false, zr, true), n3("resetSelectionOnContextMenu", true), n3("lineWiseCopyCut", true), n3("pasteLinesPerSelection", true), n3("selectionsMayTouch", false), n3("readOnly", false, function(t5, e4) {
              "nocursor" == e4 && (Jr(t5), t5.display.input.blur()), t5.display.input.readOnlyChanged(e4);
            }), n3("screenReaderLabel", null, function(t5, e4) {
              e4 = "" === e4 ? null : e4, t5.display.input.screenReaderLabelChanged(e4);
            }), n3("disableInput", false, function(t5, e4) {
              e4 || t5.display.input.reset();
            }, true), n3("dragDrop", true, Zs), n3("allowDropFileTypes", null), n3("cursorBlinkRate", 530), n3("cursorScrollMargin", 0), n3("cursorHeight", 1, zr, true), n3("singleCursorHeightPerLine", true, zr, true), n3("workTime", 100), n3("workDelay", 100), n3("flattenSpans", true, go, true), n3("addModeClass", false, go, true), n3("pollInterval", 100), n3("undoDepth", 200, function(t5, e4) {
              return t5.doc.history.undoDepth = e4;
            }), n3("historyEventDelay", 1250), n3("viewportMargin", 10, function(t5) {
              return t5.refresh();
            }, true), n3("maxHighlightLength", 1e4, go, true), n3("moveInputWithCursor", true, function(t5, e4) {
              e4 || t5.display.input.resetPosition();
            }), n3("tabindex", null, function(t5, e4) {
              return t5.display.input.getField().tabIndex = e4 || "";
            }), n3("autofocus", null), n3("direction", "ltr", function(t5, e4) {
              return t5.doc.setDirection(e4);
            }, true), n3("phrases", null);
          }
          function Zs(t4, e3, n3) {
            if (!e3 != !(n3 && n3 != As)) {
              var r3 = t4.display.dragFunctions, i2 = e3 ? pt : vt;
              i2(t4.display.scroller, "dragstart", r3.start), i2(t4.display.scroller, "dragenter", r3.enter), i2(t4.display.scroller, "dragover", r3.over), i2(t4.display.scroller, "dragleave", r3.leave), i2(t4.display.scroller, "drop", r3.drop);
            }
          }
          function Ls(t4) {
            t4.options.lineWrapping ? (M(t4.display.wrapper, "CodeMirror-wrap"), t4.display.sizer.style.minWidth = "", t4.display.sizerWidth = null) : (_(t4.display.wrapper, "CodeMirror-wrap"), ln(t4)), Rr(t4), Nr(t4), hr(t4), setTimeout(function() {
              return yi(t4);
            }, 100);
          }
          function Ns(t4, e3) {
            var n3 = this;
            if (!(this instanceof Ns)) return new Ns(t4, e3);
            this.options = e3 = e3 ? N(e3) : {}, N(Ds, e3, false);
            var r3 = e3.value;
            "string" == typeof r3 ? r3 = new Oa(r3, e3.mode, null, e3.lineSeparator, e3.direction) : e3.mode && (r3.modeOption = e3.mode), this.doc = r3;
            var i2 = new Ns.inputStyles[e3.inputStyle](this), o2 = this.display = new Ji(t4, r3, i2, e3);
            for (var c2 in o2.wrapper.CodeMirror = this, js(this), e3.lineWrapping && (this.display.wrapper.className += " CodeMirror-wrap"), ki(this), this.state = { keyMaps: [], overlays: [], modeGen: 0, overwrite: false, delayingBlurEvent: false, focused: false, suppressEdits: false, pasteIncoming: -1, cutIncoming: -1, selectingText: false, draggingText: false, highlight: new F(), keySeq: null, specialChars: null }, e3.autofocus && !m && o2.input.focus(), a && s < 11 && setTimeout(function() {
              return n3.display.input.reset(true);
            }, 20), Is(this), Aa(), Oi(this), this.curOp.forceUpdate = true, bo(this, r3), e3.autofocus && !m || this.hasFocus() ? setTimeout(function() {
              n3.hasFocus() && !n3.state.focused && Xr(n3);
            }, 20) : Jr(this), Ms) Ms.hasOwnProperty(c2) && Ms[c2](this, e3[c2], As);
            Gi(this), e3.finishInit && e3.finishInit(this);
            for (var u2 = 0; u2 < Fs.length; ++u2) Fs[u2](this);
            Ci(this), l && e3.lineWrapping && "optimizelegibility" == getComputedStyle(o2.lineDiv).textRendering && (o2.lineDiv.style.textRendering = "auto");
          }
          function Is(t4) {
            var e3 = t4.display;
            pt(e3.scroller, "mousedown", Di(t4, ys)), pt(e3.scroller, "dblclick", a && s < 11 ? Di(t4, function(e4) {
              if (!yt(t4, e4)) {
                var n4 = Zr(t4, e4);
                if (n4 && !Ps(t4, e4) && !Un(t4.display, e4)) {
                  xt(e4);
                  var r4 = t4.findWordAt(n4);
                  Lo(t4.doc, r4.anchor, r4.head);
                }
              }
            }) : function(e4) {
              return yt(t4, e4) || xt(e4);
            }), pt(e3.scroller, "contextmenu", function(e4) {
              return Ts(t4, e4);
            }), pt(e3.input.getField(), "contextmenu", function(n4) {
              e3.scroller.contains(n4.target) || Ts(t4, n4);
            });
            var n3, r3 = { end: 0 };
            function i2() {
              e3.activeTouch && (n3 = setTimeout(function() {
                return e3.activeTouch = null;
              }, 1e3), (r3 = e3.activeTouch).end = +/* @__PURE__ */ new Date());
            }
            function o2(t5) {
              if (1 != t5.touches.length) return false;
              var e4 = t5.touches[0];
              return e4.radiusX <= 1 && e4.radiusY <= 1;
            }
            function l2(t5, e4) {
              if (null == e4.left) return true;
              var n4 = e4.left - t5.left, r4 = e4.top - t5.top;
              return n4 * n4 + r4 * r4 > 20 * 20;
            }
            pt(e3.scroller, "touchstart", function(i3) {
              if (!yt(t4, i3) && !o2(i3) && !Ps(t4, i3)) {
                e3.input.ensurePolled(), clearTimeout(n3);
                var a2 = +/* @__PURE__ */ new Date();
                e3.activeTouch = { start: a2, moved: false, prev: a2 - r3.end <= 300 ? r3 : null }, 1 == i3.touches.length && (e3.activeTouch.left = i3.touches[0].pageX, e3.activeTouch.top = i3.touches[0].pageY);
              }
            }), pt(e3.scroller, "touchmove", function() {
              e3.activeTouch && (e3.activeTouch.moved = true);
            }), pt(e3.scroller, "touchend", function(n4) {
              var r4 = e3.activeTouch;
              if (r4 && !Un(e3, n4) && null != r4.left && !r4.moved && /* @__PURE__ */ new Date() - r4.start < 300) {
                var o3, a2 = t4.coordsChar(e3.activeTouch, "page");
                o3 = !r4.prev || l2(r4, r4.prev) ? new oo(a2, a2) : !r4.prev.prev || l2(r4, r4.prev.prev) ? t4.findWordAt(a2) : new oo(oe(a2.line, 0), he(t4.doc, oe(a2.line + 1, 0))), t4.setSelection(o3.anchor, o3.head), t4.focus(), xt(n4);
              }
              i2();
            }), pt(e3.scroller, "touchcancel", i2), pt(e3.scroller, "scroll", function() {
              e3.scroller.clientHeight && (hi(t4, e3.scroller.scrollTop), pi(t4, e3.scroller.scrollLeft, true), mt(t4, "scroll", t4));
            }), pt(e3.scroller, "mousewheel", function(e4) {
              return ro(t4, e4);
            }), pt(e3.scroller, "DOMMouseScroll", function(e4) {
              return ro(t4, e4);
            }), pt(e3.wrapper, "scroll", function() {
              return e3.wrapper.scrollTop = e3.wrapper.scrollLeft = 0;
            }), e3.dragFunctions = { enter: function(e4) {
              yt(t4, e4) || St(e4);
            }, over: function(e4) {
              yt(t4, e4) || (Pa(t4, e4), St(e4));
            }, start: function(e4) {
              return _a(t4, e4);
            }, drop: Di(t4, Sa), leave: function(e4) {
              yt(t4, e4) || Ta(t4);
            } };
            var c2 = e3.input.getField();
            pt(c2, "keyup", function(e4) {
              return fs.call(t4, e4);
            }), pt(c2, "keydown", Di(t4, cs)), pt(c2, "keypress", Di(t4, hs)), pt(c2, "focus", function(e4) {
              return Xr(t4, e4);
            }), pt(c2, "blur", function(e4) {
              return Jr(t4, e4);
            });
          }
          Ns.defaults = Ds, Ns.optionHandlers = Ms;
          var Fs = [];
          function Vs(t4, e3, n3, r3) {
            var i2, o2 = t4.doc;
            null == n3 && (n3 = "add"), "smart" == n3 && (o2.mode.indent ? i2 = be(t4, e3).state : n3 = "prev");
            var a2 = t4.options.tabSize, s2 = Xt(o2, e3), l2 = I(s2.text, null, a2);
            s2.stateAfter && (s2.stateAfter = null);
            var c2, u2 = s2.text.match(/^\s*/)[0];
            if (r3 || /\S/.test(s2.text)) {
              if ("smart" == n3 && ((c2 = o2.mode.indent(i2, s2.text.slice(u2.length), s2.text)) == H || c2 > 150)) {
                if (!r3) return;
                n3 = "prev";
              }
            } else c2 = 0, n3 = "not";
            "prev" == n3 ? c2 = e3 > o2.first ? I(Xt(o2, e3 - 1).text, null, a2) : 0 : "add" == n3 ? c2 = l2 + t4.options.indentUnit : "subtract" == n3 ? c2 = l2 - t4.options.indentUnit : "number" == typeof n3 && (c2 = l2 + n3), c2 = Math.max(0, c2);
            var f2 = "", h2 = 0;
            if (t4.options.indentWithTabs) for (var d2 = Math.floor(c2 / a2); d2; --d2) h2 += a2, f2 += "	";
            if (h2 < c2 && (f2 += G(c2 - h2)), f2 != u2) return ia(o2, f2, oe(e3, 0), oe(e3, u2.length), "+input"), s2.stateAfter = null, true;
            for (var p2 = 0; p2 < o2.sel.ranges.length; p2++) {
              var g2 = o2.sel.ranges[p2];
              if (g2.head.line == e3 && g2.head.ch < u2.length) {
                var v2 = oe(e3, u2.length);
                Io(o2, p2, new oo(v2, v2));
                break;
              }
            }
          }
          Ns.defineInitHook = function(t4) {
            return Fs.push(t4);
          };
          var Bs = null;
          function Hs(t4) {
            Bs = t4;
          }
          function zs(t4, e3, n3, r3, i2) {
            var o2 = t4.doc;
            t4.display.shift = false, r3 || (r3 = o2.sel);
            var a2 = +/* @__PURE__ */ new Date() - 200, s2 = "paste" == i2 || t4.state.pasteIncoming > a2, l2 = Rt(e3), c2 = null;
            if (s2 && r3.ranges.length > 1) if (Bs && Bs.text.join("\n") == e3) {
              if (r3.ranges.length % Bs.text.length == 0) {
                c2 = [];
                for (var u2 = 0; u2 < Bs.text.length; u2++) c2.push(o2.splitLines(Bs.text[u2]));
              }
            } else l2.length == r3.ranges.length && t4.options.pasteLinesPerSelection && (c2 = Y(l2, function(t5) {
              return [t5];
            }));
            for (var f2 = t4.curOp.updateInput, h2 = r3.ranges.length - 1; h2 >= 0; h2--) {
              var d2 = r3.ranges[h2], p2 = d2.from(), g2 = d2.to();
              d2.empty() && (n3 && n3 > 0 ? p2 = oe(p2.line, p2.ch - n3) : t4.state.overwrite && !s2 ? g2 = oe(g2.line, Math.min(Xt(o2, g2.line).text.length, g2.ch + K(l2).length)) : s2 && Bs && Bs.lineWise && Bs.text.join("\n") == l2.join("\n") && (p2 = g2 = oe(p2.line, 0)));
              var v2 = { from: p2, to: g2, text: c2 ? c2[h2 % c2.length] : l2, origin: i2 || (s2 ? "paste" : t4.state.cutIncoming > a2 ? "cut" : "+input") };
              Jo(t4.doc, v2), En(t4, "inputRead", t4, v2);
            }
            e3 && !s2 && Ws(t4, e3), si(t4), t4.curOp.updateInput < 2 && (t4.curOp.updateInput = f2), t4.curOp.typing = true, t4.state.pasteIncoming = t4.state.cutIncoming = -1;
          }
          function Us(t4, e3) {
            var n3 = t4.clipboardData && t4.clipboardData.getData("Text");
            if (n3) return t4.preventDefault(), e3.isReadOnly() || e3.options.disableInput || Ai(e3, function() {
              return zs(e3, n3, 0, null, "paste");
            }), true;
          }
          function Ws(t4, e3) {
            if (t4.options.electricChars && t4.options.smartIndent) for (var n3 = t4.doc.sel, r3 = n3.ranges.length - 1; r3 >= 0; r3--) {
              var i2 = n3.ranges[r3];
              if (!(i2.head.ch > 100 || r3 && n3.ranges[r3 - 1].head.line == i2.head.line)) {
                var o2 = t4.getModeAt(i2.head), a2 = false;
                if (o2.electricChars) {
                  for (var s2 = 0; s2 < o2.electricChars.length; s2++) if (e3.indexOf(o2.electricChars.charAt(s2)) > -1) {
                    a2 = Vs(t4, i2.head.line, "smart");
                    break;
                  }
                } else o2.electricInput && o2.electricInput.test(Xt(t4.doc, i2.head.line).text.slice(0, i2.head.ch)) && (a2 = Vs(t4, i2.head.line, "smart"));
                a2 && En(t4, "electricInput", t4, i2.head.line);
              }
            }
          }
          function $s(t4) {
            for (var e3 = [], n3 = [], r3 = 0; r3 < t4.doc.sel.ranges.length; r3++) {
              var i2 = t4.doc.sel.ranges[r3].head.line, o2 = { anchor: oe(i2, 0), head: oe(i2 + 1, 0) };
              n3.push(o2), e3.push(t4.getRange(o2.anchor, o2.head));
            }
            return { text: e3, ranges: n3 };
          }
          function qs(t4, e3, n3, r3) {
            t4.setAttribute("autocorrect", n3 ? "" : "off"), t4.setAttribute("autocapitalize", r3 ? "" : "off"), t4.setAttribute("spellcheck", !!e3);
          }
          function Gs() {
            var t4 = E("textarea", null, null, "position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"), e3 = E("div", [t4], null, "overflow: hidden; position: relative; width: 3px; height: 0px;");
            return l ? t4.style.width = "1000px" : t4.setAttribute("wrap", "off"), g && (t4.style.border = "1px solid black"), qs(t4), e3;
          }
          function Ks(t4) {
            var e3 = t4.optionHandlers, n3 = t4.helpers = {};
            t4.prototype = { constructor: t4, focus: function() {
              window.focus(), this.display.input.focus();
            }, setOption: function(t5, n4) {
              var r3 = this.options, i2 = r3[t5];
              r3[t5] == n4 && "mode" != t5 || (r3[t5] = n4, e3.hasOwnProperty(t5) && Di(this, e3[t5])(this, n4, i2), mt(this, "optionChange", this, t5));
            }, getOption: function(t5) {
              return this.options[t5];
            }, getDoc: function() {
              return this.doc;
            }, addKeyMap: function(t5, e4) {
              this.state.keyMaps[e4 ? "push" : "unshift"](Wa(t5));
            }, removeKeyMap: function(t5) {
              for (var e4 = this.state.keyMaps, n4 = 0; n4 < e4.length; ++n4) if (e4[n4] == t5 || e4[n4].name == t5) return e4.splice(n4, 1), true;
            }, addOverlay: Mi(function(e4, n4) {
              var r3 = e4.token ? e4 : t4.getMode(this.options, e4);
              if (r3.startState) throw new Error("Overlays may not be stateful.");
              X(this.state.overlays, { mode: r3, modeSpec: e4, opaque: n4 && n4.opaque, priority: n4 && n4.priority || 0 }, function(t5) {
                return t5.priority;
              }), this.state.modeGen++, Nr(this);
            }), removeOverlay: Mi(function(t5) {
              for (var e4 = this.state.overlays, n4 = 0; n4 < e4.length; ++n4) {
                var r3 = e4[n4].modeSpec;
                if (r3 == t5 || "string" == typeof t5 && r3.name == t5) return e4.splice(n4, 1), this.state.modeGen++, void Nr(this);
              }
            }), indentLine: Mi(function(t5, e4, n4) {
              "string" != typeof e4 && "number" != typeof e4 && (e4 = null == e4 ? this.options.smartIndent ? "smart" : "prev" : e4 ? "add" : "subtract"), re(this.doc, t5) && Vs(this, t5, e4, n4);
            }), indentSelection: Mi(function(t5) {
              for (var e4 = this.doc.sel.ranges, n4 = -1, r3 = 0; r3 < e4.length; r3++) {
                var i2 = e4[r3];
                if (i2.empty()) i2.head.line > n4 && (Vs(this, i2.head.line, t5, true), n4 = i2.head.line, r3 == this.doc.sel.primIndex && si(this));
                else {
                  var o2 = i2.from(), a2 = i2.to(), s2 = Math.max(n4, o2.line);
                  n4 = Math.min(this.lastLine(), a2.line - (a2.ch ? 0 : 1)) + 1;
                  for (var l2 = s2; l2 < n4; ++l2) Vs(this, l2, t5);
                  var c2 = this.doc.sel.ranges;
                  0 == o2.ch && e4.length == c2.length && c2[r3].from().ch > 0 && Io(this.doc, r3, new oo(o2, c2[r3].to()), z);
                }
              }
            }), getTokenAt: function(t5, e4) {
              return Ce(this, t5, e4);
            }, getLineTokens: function(t5, e4) {
              return Ce(this, oe(t5), e4, true);
            }, getTokenTypeAt: function(t5) {
              t5 = he(this.doc, t5);
              var e4, n4 = ye(this, Xt(this.doc, t5.line)), r3 = 0, i2 = (n4.length - 1) / 2, o2 = t5.ch;
              if (0 == o2) e4 = n4[2];
              else for (; ; ) {
                var a2 = r3 + i2 >> 1;
                if ((a2 ? n4[2 * a2 - 1] : 0) >= o2) i2 = a2;
                else {
                  if (!(n4[2 * a2 + 1] < o2)) {
                    e4 = n4[2 * a2 + 2];
                    break;
                  }
                  r3 = a2 + 1;
                }
              }
              var s2 = e4 ? e4.indexOf("overlay ") : -1;
              return s2 < 0 ? e4 : 0 == s2 ? null : e4.slice(0, s2 - 1);
            }, getModeAt: function(e4) {
              var n4 = this.doc.mode;
              return n4.innerMode ? t4.innerMode(n4, this.getTokenAt(e4).state).mode : n4;
            }, getHelper: function(t5, e4) {
              return this.getHelpers(t5, e4)[0];
            }, getHelpers: function(t5, e4) {
              var r3 = [];
              if (!n3.hasOwnProperty(e4)) return r3;
              var i2 = n3[e4], o2 = this.getModeAt(t5);
              if ("string" == typeof o2[e4]) i2[o2[e4]] && r3.push(i2[o2[e4]]);
              else if (o2[e4]) for (var a2 = 0; a2 < o2[e4].length; a2++) {
                var s2 = i2[o2[e4][a2]];
                s2 && r3.push(s2);
              }
              else o2.helperType && i2[o2.helperType] ? r3.push(i2[o2.helperType]) : i2[o2.name] && r3.push(i2[o2.name]);
              for (var l2 = 0; l2 < i2._global.length; l2++) {
                var c2 = i2._global[l2];
                c2.pred(o2, this) && -1 == V(r3, c2.val) && r3.push(c2.val);
              }
              return r3;
            }, getStateAfter: function(t5, e4) {
              var n4 = this.doc;
              return be(this, (t5 = fe(n4, null == t5 ? n4.first + n4.size - 1 : t5)) + 1, e4).state;
            }, cursorCoords: function(t5, e4) {
              var n4 = this.doc.sel.primary();
              return br(this, null == t5 ? n4.head : "object" == typeof t5 ? he(this.doc, t5) : t5 ? n4.from() : n4.to(), e4 || "page");
            }, charCoords: function(t5, e4) {
              return yr(this, he(this.doc, t5), e4 || "page");
            }, coordsChar: function(t5, e4) {
              return xr(this, (t5 = mr(this, t5, e4 || "page")).left, t5.top);
            }, lineAtHeight: function(t5, e4) {
              return t5 = mr(this, { top: t5, left: 0 }, e4 || "page").top, ne(this.doc, t5 + this.display.viewOffset);
            }, heightAtLine: function(t5, e4, n4) {
              var r3, i2 = false;
              if ("number" == typeof t5) {
                var o2 = this.doc.first + this.doc.size - 1;
                t5 < this.doc.first ? t5 = this.doc.first : t5 > o2 && (t5 = o2, i2 = true), r3 = Xt(this.doc, t5);
              } else r3 = t5;
              return vr(this, r3, { top: 0, left: 0 }, e4 || "page", n4 || i2).top + (i2 ? this.doc.height - an(r3) : 0);
            }, defaultTextHeight: function() {
              return Er(this.display);
            }, defaultCharWidth: function() {
              return jr(this.display);
            }, getViewport: function() {
              return { from: this.display.viewFrom, to: this.display.viewTo };
            }, addWidget: function(t5, e4, n4, r3, i2) {
              var o2 = this.display, a2 = (t5 = br(this, he(this.doc, t5))).bottom, s2 = t5.left;
              if (e4.style.position = "absolute", e4.setAttribute("cm-ignore-events", "true"), this.display.input.setUneditable(e4), o2.sizer.appendChild(e4), "over" == r3) a2 = t5.top;
              else if ("above" == r3 || "near" == r3) {
                var l2 = Math.max(o2.wrapper.clientHeight, this.doc.height), c2 = Math.max(o2.sizer.clientWidth, o2.lineSpace.clientWidth);
                ("above" == r3 || t5.bottom + e4.offsetHeight > l2) && t5.top > e4.offsetHeight ? a2 = t5.top - e4.offsetHeight : t5.bottom + e4.offsetHeight <= l2 && (a2 = t5.bottom), s2 + e4.offsetWidth > c2 && (s2 = c2 - e4.offsetWidth);
              }
              e4.style.top = a2 + "px", e4.style.left = e4.style.right = "", "right" == i2 ? (s2 = o2.sizer.clientWidth - e4.offsetWidth, e4.style.right = "0px") : ("left" == i2 ? s2 = 0 : "middle" == i2 && (s2 = (o2.sizer.clientWidth - e4.offsetWidth) / 2), e4.style.left = s2 + "px"), n4 && ii(this, { left: s2, top: a2, right: s2 + e4.offsetWidth, bottom: a2 + e4.offsetHeight });
            }, triggerOnKeyDown: Mi(cs), triggerOnKeyPress: Mi(hs), triggerOnKeyUp: fs, triggerOnMouseDown: Mi(ys), execCommand: function(t5) {
              if (Xa.hasOwnProperty(t5)) return Xa[t5].call(null, this);
            }, triggerElectric: Mi(function(t5) {
              Ws(this, t5);
            }), findPosH: function(t5, e4, n4, r3) {
              var i2 = 1;
              e4 < 0 && (i2 = -1, e4 = -e4);
              for (var o2 = he(this.doc, t5), a2 = 0; a2 < e4 && !(o2 = Ys(this.doc, o2, i2, n4, r3)).hitSide; ++a2) ;
              return o2;
            }, moveH: Mi(function(t5, e4) {
              var n4 = this;
              this.extendSelectionsBy(function(r3) {
                return n4.display.shift || n4.doc.extend || r3.empty() ? Ys(n4.doc, r3.head, t5, e4, n4.options.rtlMoveVisually) : t5 < 0 ? r3.from() : r3.to();
              }, W);
            }), deleteH: Mi(function(t5, e4) {
              var n4 = this.doc.sel, r3 = this.doc;
              n4.somethingSelected() ? r3.replaceSelection("", null, "+delete") : $a(this, function(n5) {
                var i2 = Ys(r3, n5.head, t5, e4, false);
                return t5 < 0 ? { from: i2, to: n5.head } : { from: n5.head, to: i2 };
              });
            }), findPosV: function(t5, e4, n4, r3) {
              var i2 = 1, o2 = r3;
              e4 < 0 && (i2 = -1, e4 = -e4);
              for (var a2 = he(this.doc, t5), s2 = 0; s2 < e4; ++s2) {
                var l2 = br(this, a2, "div");
                if (null == o2 ? o2 = l2.left : l2.left = o2, (a2 = Xs(this, l2, i2, n4)).hitSide) break;
              }
              return a2;
            }, moveV: Mi(function(t5, e4) {
              var n4 = this, r3 = this.doc, i2 = [], o2 = !this.display.shift && !r3.extend && r3.sel.somethingSelected();
              if (r3.extendSelectionsBy(function(a3) {
                if (o2) return t5 < 0 ? a3.from() : a3.to();
                var s2 = br(n4, a3.head, "div");
                null != a3.goalColumn && (s2.left = a3.goalColumn), i2.push(s2.left);
                var l2 = Xs(n4, s2, t5, e4);
                return "page" == e4 && a3 == r3.sel.primary() && ai(n4, yr(n4, l2, "div").top - s2.top), l2;
              }, W), i2.length) for (var a2 = 0; a2 < r3.sel.ranges.length; a2++) r3.sel.ranges[a2].goalColumn = i2[a2];
            }), findWordAt: function(t5) {
              var e4 = Xt(this.doc, t5.line).text, n4 = t5.ch, r3 = t5.ch;
              if (e4) {
                var i2 = this.getHelper(t5, "wordChars");
                "before" != t5.sticky && r3 != e4.length || !n4 ? ++r3 : --n4;
                for (var o2 = e4.charAt(n4), a2 = nt(o2, i2) ? function(t6) {
                  return nt(t6, i2);
                } : /\s/.test(o2) ? function(t6) {
                  return /\s/.test(t6);
                } : function(t6) {
                  return !/\s/.test(t6) && !nt(t6);
                }; n4 > 0 && a2(e4.charAt(n4 - 1)); ) --n4;
                for (; r3 < e4.length && a2(e4.charAt(r3)); ) ++r3;
              }
              return new oo(oe(t5.line, n4), oe(t5.line, r3));
            }, toggleOverwrite: function(t5) {
              null != t5 && t5 == this.state.overwrite || ((this.state.overwrite = !this.state.overwrite) ? M(this.display.cursorDiv, "CodeMirror-overwrite") : _(this.display.cursorDiv, "CodeMirror-overwrite"), mt(this, "overwriteToggle", this, this.state.overwrite));
            }, hasFocus: function() {
              return this.display.input.getField() == D();
            }, isReadOnly: function() {
              return !(!this.options.readOnly && !this.doc.cantEdit);
            }, scrollTo: Mi(function(t5, e4) {
              li(this, t5, e4);
            }), getScrollInfo: function() {
              var t5 = this.display.scroller;
              return { left: t5.scrollLeft, top: t5.scrollTop, height: t5.scrollHeight - Gn(this) - this.display.barHeight, width: t5.scrollWidth - Gn(this) - this.display.barWidth, clientHeight: Yn(this), clientWidth: Kn(this) };
            }, scrollIntoView: Mi(function(t5, e4) {
              null == t5 ? (t5 = { from: this.doc.sel.primary().head, to: null }, null == e4 && (e4 = this.options.cursorScrollMargin)) : "number" == typeof t5 ? t5 = { from: oe(t5, 0), to: null } : null == t5.from && (t5 = { from: t5, to: null }), t5.to || (t5.to = t5.from), t5.margin = e4 || 0, null != t5.from.line ? ci(this, t5) : fi(this, t5.from, t5.to, t5.margin);
            }), setSize: Mi(function(t5, e4) {
              var n4 = this, r3 = function(t6) {
                return "number" == typeof t6 || /^\d+$/.test(String(t6)) ? t6 + "px" : t6;
              };
              null != t5 && (this.display.wrapper.style.width = r3(t5)), null != e4 && (this.display.wrapper.style.height = r3(e4)), this.options.lineWrapping && fr(this);
              var i2 = this.display.viewFrom;
              this.doc.iter(i2, this.display.viewTo, function(t6) {
                if (t6.widgets) {
                  for (var e5 = 0; e5 < t6.widgets.length; e5++) if (t6.widgets[e5].noHScroll) {
                    Ir(n4, i2, "widget");
                    break;
                  }
                }
                ++i2;
              }), this.curOp.forceUpdate = true, mt(this, "refresh", this);
            }), operation: function(t5) {
              return Ai(this, t5);
            }, startOperation: function() {
              return Oi(this);
            }, endOperation: function() {
              return Ci(this);
            }, refresh: Mi(function() {
              var t5 = this.display.cachedTextHeight;
              Nr(this), this.curOp.forceUpdate = true, hr(this), li(this, this.doc.scrollLeft, this.doc.scrollTop), Wi(this.display), (null == t5 || Math.abs(t5 - Er(this.display)) > 0.5 || this.options.lineWrapping) && Rr(this), mt(this, "refresh", this);
            }), swapDoc: Mi(function(t5) {
              var e4 = this.doc;
              return e4.cm = null, this.state.selectingText && this.state.selectingText(), bo(this, t5), hr(this), this.display.input.reset(), li(this, t5.scrollLeft, t5.scrollTop), this.curOp.forceScroll = true, En(this, "swapDoc", this, e4), e4;
            }), phrase: function(t5) {
              var e4 = this.options.phrases;
              return e4 && Object.prototype.hasOwnProperty.call(e4, t5) ? e4[t5] : t5;
            }, getInputField: function() {
              return this.display.input.getField();
            }, getWrapperElement: function() {
              return this.display.wrapper;
            }, getScrollerElement: function() {
              return this.display.scroller;
            }, getGutterElement: function() {
              return this.display.gutters;
            } }, kt(t4), t4.registerHelper = function(e4, r3, i2) {
              n3.hasOwnProperty(e4) || (n3[e4] = t4[e4] = { _global: [] }), n3[e4][r3] = i2;
            }, t4.registerGlobalHelper = function(e4, r3, i2, o2) {
              t4.registerHelper(e4, r3, o2), n3[e4]._global.push({ pred: i2, val: o2 });
            };
          }
          function Ys(t4, e3, n3, r3, i2) {
            var o2 = e3, a2 = n3, s2 = Xt(t4, e3.line), l2 = i2 && "rtl" == t4.direction ? -n3 : n3;
            function c2() {
              var n4 = e3.line + l2;
              return !(n4 < t4.first || n4 >= t4.first + t4.size) && (e3 = new oe(n4, e3.ch, e3.sticky), s2 = Xt(t4, n4));
            }
            function u2(o3) {
              var a3;
              if ("codepoint" == r3) {
                var u3 = s2.text.charCodeAt(e3.ch + (n3 > 0 ? 0 : -1));
                if (isNaN(u3)) a3 = null;
                else {
                  var f3 = n3 > 0 ? u3 >= 55296 && u3 < 56320 : u3 >= 56320 && u3 < 57343;
                  a3 = new oe(e3.line, Math.max(0, Math.min(s2.text.length, e3.ch + n3 * (f3 ? 2 : 1))), -n3);
                }
              } else a3 = i2 ? Ya(t4.cm, s2, e3, n3) : Ga(s2, e3, n3);
              if (null == a3) {
                if (o3 || !c2()) return false;
                e3 = Ka(i2, t4.cm, s2, e3.line, l2);
              } else e3 = a3;
              return true;
            }
            if ("char" == r3 || "codepoint" == r3) u2();
            else if ("column" == r3) u2(true);
            else if ("word" == r3 || "group" == r3) for (var f2 = null, h2 = "group" == r3, d2 = t4.cm && t4.cm.getHelper(e3, "wordChars"), p2 = true; !(n3 < 0) || u2(!p2); p2 = false) {
              var g2 = s2.text.charAt(e3.ch) || "\n", v2 = nt(g2, d2) ? "w" : h2 && "\n" == g2 ? "n" : !h2 || /\s/.test(g2) ? null : "p";
              if (!h2 || p2 || v2 || (v2 = "s"), f2 && f2 != v2) {
                n3 < 0 && (n3 = 1, u2(), e3.sticky = "after");
                break;
              }
              if (v2 && (f2 = v2), n3 > 0 && !u2(!p2)) break;
            }
            var m2 = Go(t4, e3, o2, a2, true);
            return se(o2, m2) && (m2.hitSide = true), m2;
          }
          function Xs(t4, e3, n3, r3) {
            var i2, o2, a2 = t4.doc, s2 = e3.left;
            if ("page" == r3) {
              var l2 = Math.min(t4.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight), c2 = Math.max(l2 - 0.5 * Er(t4.display), 3);
              i2 = (n3 > 0 ? e3.bottom : e3.top) + n3 * c2;
            } else "line" == r3 && (i2 = n3 > 0 ? e3.bottom + 3 : e3.top - 3);
            for (; (o2 = xr(t4, s2, i2)).outside; ) {
              if (n3 < 0 ? i2 <= 0 : i2 >= a2.height) {
                o2.hitSide = true;
                break;
              }
              i2 += 5 * n3;
            }
            return o2;
          }
          var Js = function(t4) {
            this.cm = t4, this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null, this.polling = new F(), this.composing = null, this.gracePeriod = false, this.readDOMTimeout = null;
          };
          function Qs(t4, e3) {
            var n3 = er(t4, e3.line);
            if (!n3 || n3.hidden) return null;
            var r3 = Xt(t4.doc, e3.line), i2 = Jn(n3, r3, e3.line), o2 = ht(r3, t4.doc.direction), a2 = "left";
            o2 && (a2 = ut(o2, e3.ch) % 2 ? "right" : "left");
            var s2 = ar(i2.map, e3.ch, a2);
            return s2.offset = "right" == s2.collapse ? s2.end : s2.start, s2;
          }
          function tl(t4) {
            for (var e3 = t4; e3; e3 = e3.parentNode) if (/CodeMirror-gutter-wrapper/.test(e3.className)) return true;
            return false;
          }
          function el(t4, e3) {
            return e3 && (t4.bad = true), t4;
          }
          function nl(t4, e3, n3, r3, i2) {
            var o2 = "", a2 = false, s2 = t4.doc.lineSeparator(), l2 = false;
            function c2(t5) {
              return function(e4) {
                return e4.id == t5;
              };
            }
            function u2() {
              a2 && (o2 += s2, l2 && (o2 += s2), a2 = l2 = false);
            }
            function f2(t5) {
              t5 && (u2(), o2 += t5);
            }
            function h2(e4) {
              if (1 == e4.nodeType) {
                var n4 = e4.getAttribute("cm-text");
                if (n4) return void f2(n4);
                var o3, d2 = e4.getAttribute("cm-marker");
                if (d2) {
                  var p2 = t4.findMarks(oe(r3, 0), oe(i2 + 1, 0), c2(+d2));
                  return void (p2.length && (o3 = p2[0].find(0)) && f2(Jt(t4.doc, o3.from, o3.to).join(s2)));
                }
                if ("false" == e4.getAttribute("contenteditable")) return;
                var g2 = /^(pre|div|p|li|table|br)$/i.test(e4.nodeName);
                if (!/^br$/i.test(e4.nodeName) && 0 == e4.textContent.length) return;
                g2 && u2();
                for (var v2 = 0; v2 < e4.childNodes.length; v2++) h2(e4.childNodes[v2]);
                /^(pre|p)$/i.test(e4.nodeName) && (l2 = true), g2 && (a2 = true);
              } else 3 == e4.nodeType && f2(e4.nodeValue.replace(/\u200b/g, "").replace(/\u00a0/g, " "));
            }
            for (; h2(e3), e3 != n3; ) e3 = e3.nextSibling, l2 = false;
            return o2;
          }
          function rl(t4, e3, n3) {
            var r3;
            if (e3 == t4.display.lineDiv) {
              if (!(r3 = t4.display.lineDiv.childNodes[n3])) return el(t4.clipPos(oe(t4.display.viewTo - 1)), true);
              e3 = null, n3 = 0;
            } else for (r3 = e3; ; r3 = r3.parentNode) {
              if (!r3 || r3 == t4.display.lineDiv) return null;
              if (r3.parentNode && r3.parentNode == t4.display.lineDiv) break;
            }
            for (var i2 = 0; i2 < t4.display.view.length; i2++) {
              var o2 = t4.display.view[i2];
              if (o2.node == r3) return il(o2, e3, n3);
            }
          }
          function il(t4, e3, n3) {
            var r3 = t4.text.firstChild, i2 = false;
            if (!e3 || !A(r3, e3)) return el(oe(ee(t4.line), 0), true);
            if (e3 == r3 && (i2 = true, e3 = r3.childNodes[n3], n3 = 0, !e3)) {
              var o2 = t4.rest ? K(t4.rest) : t4.line;
              return el(oe(ee(o2), o2.text.length), i2);
            }
            var a2 = 3 == e3.nodeType ? e3 : null, s2 = e3;
            for (a2 || 1 != e3.childNodes.length || 3 != e3.firstChild.nodeType || (a2 = e3.firstChild, n3 && (n3 = a2.nodeValue.length)); s2.parentNode != r3; ) s2 = s2.parentNode;
            var l2 = t4.measure, c2 = l2.maps;
            function u2(e4, n4, r4) {
              for (var i3 = -1; i3 < (c2 ? c2.length : 0); i3++) for (var o3 = i3 < 0 ? l2.map : c2[i3], a3 = 0; a3 < o3.length; a3 += 3) {
                var s3 = o3[a3 + 2];
                if (s3 == e4 || s3 == n4) {
                  var u3 = ee(i3 < 0 ? t4.line : t4.rest[i3]), f3 = o3[a3] + r4;
                  return (r4 < 0 || s3 != e4) && (f3 = o3[a3 + (r4 ? 1 : 0)]), oe(u3, f3);
                }
              }
            }
            var f2 = u2(a2, s2, n3);
            if (f2) return el(f2, i2);
            for (var h2 = s2.nextSibling, d2 = a2 ? a2.nodeValue.length - n3 : 0; h2; h2 = h2.nextSibling) {
              if (f2 = u2(h2, h2.firstChild, 0)) return el(oe(f2.line, f2.ch - d2), i2);
              d2 += h2.textContent.length;
            }
            for (var p2 = s2.previousSibling, g2 = n3; p2; p2 = p2.previousSibling) {
              if (f2 = u2(p2, p2.firstChild, -1)) return el(oe(f2.line, f2.ch + g2), i2);
              g2 += p2.textContent.length;
            }
          }
          Js.prototype.init = function(t4) {
            var e3 = this, n3 = this, r3 = n3.cm, i2 = n3.div = t4.lineDiv;
            function o2(t5) {
              for (var e4 = t5.target; e4; e4 = e4.parentNode) {
                if (e4 == i2) return true;
                if (/\bCodeMirror-(?:line)?widget\b/.test(e4.className)) break;
              }
              return false;
            }
            function a2(t5) {
              if (o2(t5) && !yt(r3, t5)) {
                if (r3.somethingSelected()) Hs({ lineWise: false, text: r3.getSelections() }), "cut" == t5.type && r3.replaceSelection("", null, "cut");
                else {
                  if (!r3.options.lineWiseCopyCut) return;
                  var e4 = $s(r3);
                  Hs({ lineWise: true, text: e4.text }), "cut" == t5.type && r3.operation(function() {
                    r3.setSelections(e4.ranges, 0, z), r3.replaceSelection("", null, "cut");
                  });
                }
                if (t5.clipboardData) {
                  t5.clipboardData.clearData();
                  var a3 = Bs.text.join("\n");
                  if (t5.clipboardData.setData("Text", a3), t5.clipboardData.getData("Text") == a3) return void t5.preventDefault();
                }
                var s2 = Gs(), l2 = s2.firstChild;
                r3.display.lineSpace.insertBefore(s2, r3.display.lineSpace.firstChild), l2.value = Bs.text.join("\n");
                var c2 = D();
                Z(l2), setTimeout(function() {
                  r3.display.lineSpace.removeChild(s2), c2.focus(), c2 == i2 && n3.showPrimarySelection();
                }, 50);
              }
            }
            i2.contentEditable = true, qs(i2, r3.options.spellcheck, r3.options.autocorrect, r3.options.autocapitalize), pt(i2, "paste", function(t5) {
              !o2(t5) || yt(r3, t5) || Us(t5, r3) || s <= 11 && setTimeout(Di(r3, function() {
                return e3.updateFromDOM();
              }), 20);
            }), pt(i2, "compositionstart", function(t5) {
              e3.composing = { data: t5.data, done: false };
            }), pt(i2, "compositionupdate", function(t5) {
              e3.composing || (e3.composing = { data: t5.data, done: false });
            }), pt(i2, "compositionend", function(t5) {
              e3.composing && (t5.data != e3.composing.data && e3.readFromDOMSoon(), e3.composing.done = true);
            }), pt(i2, "touchstart", function() {
              return n3.forceCompositionEnd();
            }), pt(i2, "input", function() {
              e3.composing || e3.readFromDOMSoon();
            }), pt(i2, "copy", a2), pt(i2, "cut", a2);
          }, Js.prototype.screenReaderLabelChanged = function(t4) {
            t4 ? this.div.setAttribute("aria-label", t4) : this.div.removeAttribute("aria-label");
          }, Js.prototype.prepareSelection = function() {
            var t4 = Ur(this.cm, false);
            return t4.focus = D() == this.div, t4;
          }, Js.prototype.showSelection = function(t4, e3) {
            t4 && this.cm.display.view.length && ((t4.focus || e3) && this.showPrimarySelection(), this.showMultipleSelections(t4));
          }, Js.prototype.getSelection = function() {
            return this.cm.display.wrapper.ownerDocument.getSelection();
          }, Js.prototype.showPrimarySelection = function() {
            var t4 = this.getSelection(), e3 = this.cm, r3 = e3.doc.sel.primary(), i2 = r3.from(), o2 = r3.to();
            if (e3.display.viewTo == e3.display.viewFrom || i2.line >= e3.display.viewTo || o2.line < e3.display.viewFrom) t4.removeAllRanges();
            else {
              var a2 = rl(e3, t4.anchorNode, t4.anchorOffset), s2 = rl(e3, t4.focusNode, t4.focusOffset);
              if (!a2 || a2.bad || !s2 || s2.bad || 0 != ae(ue(a2, s2), i2) || 0 != ae(ce(a2, s2), o2)) {
                var l2 = e3.display.view, c2 = i2.line >= e3.display.viewFrom && Qs(e3, i2) || { node: l2[0].measure.map[2], offset: 0 }, u2 = o2.line < e3.display.viewTo && Qs(e3, o2);
                if (!u2) {
                  var f2 = l2[l2.length - 1].measure, h2 = f2.maps ? f2.maps[f2.maps.length - 1] : f2.map;
                  u2 = { node: h2[h2.length - 1], offset: h2[h2.length - 2] - h2[h2.length - 3] };
                }
                if (c2 && u2) {
                  var d2, p2 = t4.rangeCount && t4.getRangeAt(0);
                  try {
                    d2 = S(c2.node, c2.offset, u2.offset, u2.node);
                  } catch (t5) {
                  }
                  d2 && (!n2 && e3.state.focused ? (t4.collapse(c2.node, c2.offset), d2.collapsed || (t4.removeAllRanges(), t4.addRange(d2))) : (t4.removeAllRanges(), t4.addRange(d2)), p2 && null == t4.anchorNode ? t4.addRange(p2) : n2 && this.startGracePeriod()), this.rememberSelection();
                } else t4.removeAllRanges();
              }
            }
          }, Js.prototype.startGracePeriod = function() {
            var t4 = this;
            clearTimeout(this.gracePeriod), this.gracePeriod = setTimeout(function() {
              t4.gracePeriod = false, t4.selectionChanged() && t4.cm.operation(function() {
                return t4.cm.curOp.selectionChanged = true;
              });
            }, 20);
          }, Js.prototype.showMultipleSelections = function(t4) {
            T(this.cm.display.cursorDiv, t4.cursors), T(this.cm.display.selectionDiv, t4.selection);
          }, Js.prototype.rememberSelection = function() {
            var t4 = this.getSelection();
            this.lastAnchorNode = t4.anchorNode, this.lastAnchorOffset = t4.anchorOffset, this.lastFocusNode = t4.focusNode, this.lastFocusOffset = t4.focusOffset;
          }, Js.prototype.selectionInEditor = function() {
            var t4 = this.getSelection();
            if (!t4.rangeCount) return false;
            var e3 = t4.getRangeAt(0).commonAncestorContainer;
            return A(this.div, e3);
          }, Js.prototype.focus = function() {
            "nocursor" != this.cm.options.readOnly && (this.selectionInEditor() && D() == this.div || this.showSelection(this.prepareSelection(), true), this.div.focus());
          }, Js.prototype.blur = function() {
            this.div.blur();
          }, Js.prototype.getField = function() {
            return this.div;
          }, Js.prototype.supportsTouch = function() {
            return true;
          }, Js.prototype.receivedFocus = function() {
            var t4 = this, e3 = this;
            function n3() {
              e3.cm.state.focused && (e3.pollSelection(), e3.polling.set(e3.cm.options.pollInterval, n3));
            }
            this.selectionInEditor() ? setTimeout(function() {
              return t4.pollSelection();
            }, 20) : Ai(this.cm, function() {
              return e3.cm.curOp.selectionChanged = true;
            }), this.polling.set(this.cm.options.pollInterval, n3);
          }, Js.prototype.selectionChanged = function() {
            var t4 = this.getSelection();
            return t4.anchorNode != this.lastAnchorNode || t4.anchorOffset != this.lastAnchorOffset || t4.focusNode != this.lastFocusNode || t4.focusOffset != this.lastFocusOffset;
          }, Js.prototype.pollSelection = function() {
            if (null == this.readDOMTimeout && !this.gracePeriod && this.selectionChanged()) {
              var t4 = this.getSelection(), e3 = this.cm;
              if (v && u && this.cm.display.gutterSpecs.length && tl(t4.anchorNode)) return this.cm.triggerOnKeyDown({ type: "keydown", keyCode: 8, preventDefault: Math.abs }), this.blur(), void this.focus();
              if (!this.composing) {
                this.rememberSelection();
                var n3 = rl(e3, t4.anchorNode, t4.anchorOffset), r3 = rl(e3, t4.focusNode, t4.focusOffset);
                n3 && r3 && Ai(e3, function() {
                  Ho(e3.doc, so(n3, r3), z), (n3.bad || r3.bad) && (e3.curOp.selectionChanged = true);
                });
              }
            }
          }, Js.prototype.pollContent = function() {
            null != this.readDOMTimeout && (clearTimeout(this.readDOMTimeout), this.readDOMTimeout = null);
            var t4, e3, n3, r3 = this.cm, i2 = r3.display, o2 = r3.doc.sel.primary(), a2 = o2.from(), s2 = o2.to();
            if (0 == a2.ch && a2.line > r3.firstLine() && (a2 = oe(a2.line - 1, Xt(r3.doc, a2.line - 1).length)), s2.ch == Xt(r3.doc, s2.line).text.length && s2.line < r3.lastLine() && (s2 = oe(s2.line + 1, 0)), a2.line < i2.viewFrom || s2.line > i2.viewTo - 1) return false;
            a2.line == i2.viewFrom || 0 == (t4 = Lr(r3, a2.line)) ? (e3 = ee(i2.view[0].line), n3 = i2.view[0].node) : (e3 = ee(i2.view[t4].line), n3 = i2.view[t4 - 1].node.nextSibling);
            var l2, c2, u2 = Lr(r3, s2.line);
            if (u2 == i2.view.length - 1 ? (l2 = i2.viewTo - 1, c2 = i2.lineDiv.lastChild) : (l2 = ee(i2.view[u2 + 1].line) - 1, c2 = i2.view[u2 + 1].node.previousSibling), !n3) return false;
            for (var f2 = r3.doc.splitLines(nl(r3, n3, c2, e3, l2)), h2 = Jt(r3.doc, oe(e3, 0), oe(l2, Xt(r3.doc, l2).text.length)); f2.length > 1 && h2.length > 1; ) if (K(f2) == K(h2)) f2.pop(), h2.pop(), l2--;
            else {
              if (f2[0] != h2[0]) break;
              f2.shift(), h2.shift(), e3++;
            }
            for (var d2 = 0, p2 = 0, g2 = f2[0], v2 = h2[0], m2 = Math.min(g2.length, v2.length); d2 < m2 && g2.charCodeAt(d2) == v2.charCodeAt(d2); ) ++d2;
            for (var y2 = K(f2), b2 = K(h2), w2 = Math.min(y2.length - (1 == f2.length ? d2 : 0), b2.length - (1 == h2.length ? d2 : 0)); p2 < w2 && y2.charCodeAt(y2.length - p2 - 1) == b2.charCodeAt(b2.length - p2 - 1); ) ++p2;
            if (1 == f2.length && 1 == h2.length && e3 == a2.line) for (; d2 && d2 > a2.ch && y2.charCodeAt(y2.length - p2 - 1) == b2.charCodeAt(b2.length - p2 - 1); ) d2--, p2++;
            f2[f2.length - 1] = y2.slice(0, y2.length - p2).replace(/^\u200b+/, ""), f2[0] = f2[0].slice(d2).replace(/\u200b+$/, "");
            var k2 = oe(e3, d2), x2 = oe(l2, h2.length ? K(h2).length - p2 : 0);
            return f2.length > 1 || f2[0] || ae(k2, x2) ? (ia(r3.doc, f2, k2, x2, "+input"), true) : void 0;
          }, Js.prototype.ensurePolled = function() {
            this.forceCompositionEnd();
          }, Js.prototype.reset = function() {
            this.forceCompositionEnd();
          }, Js.prototype.forceCompositionEnd = function() {
            this.composing && (clearTimeout(this.readDOMTimeout), this.composing = null, this.updateFromDOM(), this.div.blur(), this.div.focus());
          }, Js.prototype.readFromDOMSoon = function() {
            var t4 = this;
            null == this.readDOMTimeout && (this.readDOMTimeout = setTimeout(function() {
              if (t4.readDOMTimeout = null, t4.composing) {
                if (!t4.composing.done) return;
                t4.composing = null;
              }
              t4.updateFromDOM();
            }, 80));
          }, Js.prototype.updateFromDOM = function() {
            var t4 = this;
            !this.cm.isReadOnly() && this.pollContent() || Ai(this.cm, function() {
              return Nr(t4.cm);
            });
          }, Js.prototype.setUneditable = function(t4) {
            t4.contentEditable = "false";
          }, Js.prototype.onKeyPress = function(t4) {
            0 == t4.charCode || this.composing || (t4.preventDefault(), this.cm.isReadOnly() || Di(this.cm, zs)(this.cm, String.fromCharCode(null == t4.charCode ? t4.keyCode : t4.charCode), 0));
          }, Js.prototype.readOnlyChanged = function(t4) {
            this.div.contentEditable = String("nocursor" != t4);
          }, Js.prototype.onContextMenu = function() {
          }, Js.prototype.resetPosition = function() {
          }, Js.prototype.needsContentAttribute = true;
          var ol = function(t4) {
            this.cm = t4, this.prevInput = "", this.pollingFast = false, this.polling = new F(), this.hasSelection = false, this.composing = null;
          };
          function al(t4, e3) {
            if ((e3 = e3 ? N(e3) : {}).value = t4.value, !e3.tabindex && t4.tabIndex && (e3.tabindex = t4.tabIndex), !e3.placeholder && t4.placeholder && (e3.placeholder = t4.placeholder), null == e3.autofocus) {
              var n3 = D();
              e3.autofocus = n3 == t4 || null != t4.getAttribute("autofocus") && n3 == document.body;
            }
            function r3() {
              t4.value = s2.getValue();
            }
            var i2;
            if (t4.form && (pt(t4.form, "submit", r3), !e3.leaveSubmitMethodAlone)) {
              var o2 = t4.form;
              i2 = o2.submit;
              try {
                var a2 = o2.submit = function() {
                  r3(), o2.submit = i2, o2.submit(), o2.submit = a2;
                };
              } catch (t5) {
              }
            }
            e3.finishInit = function(n4) {
              n4.save = r3, n4.getTextArea = function() {
                return t4;
              }, n4.toTextArea = function() {
                n4.toTextArea = isNaN, r3(), t4.parentNode.removeChild(n4.getWrapperElement()), t4.style.display = "", t4.form && (vt(t4.form, "submit", r3), e3.leaveSubmitMethodAlone || "function" != typeof t4.form.submit || (t4.form.submit = i2));
              };
            }, t4.style.display = "none";
            var s2 = Ns(function(e4) {
              return t4.parentNode.insertBefore(e4, t4.nextSibling);
            }, e3);
            return s2;
          }
          function sl(t4) {
            t4.off = vt, t4.on = pt, t4.wheelEventPixels = no, t4.Doc = Oa, t4.splitLines = Rt, t4.countColumn = I, t4.findColumn = $, t4.isWordChar = et, t4.Pass = H, t4.signal = mt, t4.Line = cn, t4.changeEnd = lo, t4.scrollbarModel = wi, t4.Pos = oe, t4.cmpPos = ae, t4.modes = Ft, t4.mimeModes = Vt, t4.resolveMode = zt, t4.getMode = Ut, t4.modeExtensions = Wt, t4.extendMode = $t, t4.copyState = qt, t4.startState = Kt, t4.innerMode = Gt, t4.commands = Xa, t4.keyMap = Ia, t4.keyName = Ua, t4.isModifierKey = Ha, t4.lookupKey = Ba, t4.normalizeKeyMap = Va, t4.StringStream = Yt, t4.SharedTextMarker = ma, t4.TextMarker = ga, t4.LineWidget = fa, t4.e_preventDefault = xt, t4.e_stopPropagation = Ot, t4.e_stop = St, t4.addClass = M, t4.contains = A, t4.rmClass = _, t4.keyNames = Ra;
          }
          ol.prototype.init = function(t4) {
            var e3 = this, n3 = this, r3 = this.cm;
            this.createField(t4);
            var i2 = this.textarea;
            function o2(t5) {
              if (!yt(r3, t5)) {
                if (r3.somethingSelected()) Hs({ lineWise: false, text: r3.getSelections() });
                else {
                  if (!r3.options.lineWiseCopyCut) return;
                  var e4 = $s(r3);
                  Hs({ lineWise: true, text: e4.text }), "cut" == t5.type ? r3.setSelections(e4.ranges, null, z) : (n3.prevInput = "", i2.value = e4.text.join("\n"), Z(i2));
                }
                "cut" == t5.type && (r3.state.cutIncoming = +/* @__PURE__ */ new Date());
              }
            }
            t4.wrapper.insertBefore(this.wrapper, t4.wrapper.firstChild), g && (i2.style.width = "0px"), pt(i2, "input", function() {
              a && s >= 9 && e3.hasSelection && (e3.hasSelection = null), n3.poll();
            }), pt(i2, "paste", function(t5) {
              yt(r3, t5) || Us(t5, r3) || (r3.state.pasteIncoming = +/* @__PURE__ */ new Date(), n3.fastPoll());
            }), pt(i2, "cut", o2), pt(i2, "copy", o2), pt(t4.scroller, "paste", function(e4) {
              if (!Un(t4, e4) && !yt(r3, e4)) {
                if (!i2.dispatchEvent) return r3.state.pasteIncoming = +/* @__PURE__ */ new Date(), void n3.focus();
                var o3 = new Event("paste");
                o3.clipboardData = e4.clipboardData, i2.dispatchEvent(o3);
              }
            }), pt(t4.lineSpace, "selectstart", function(e4) {
              Un(t4, e4) || xt(e4);
            }), pt(i2, "compositionstart", function() {
              var t5 = r3.getCursor("from");
              n3.composing && n3.composing.range.clear(), n3.composing = { start: t5, range: r3.markText(t5, r3.getCursor("to"), { className: "CodeMirror-composing" }) };
            }), pt(i2, "compositionend", function() {
              n3.composing && (n3.poll(), n3.composing.range.clear(), n3.composing = null);
            });
          }, ol.prototype.createField = function(t4) {
            this.wrapper = Gs(), this.textarea = this.wrapper.firstChild;
          }, ol.prototype.screenReaderLabelChanged = function(t4) {
            t4 ? this.textarea.setAttribute("aria-label", t4) : this.textarea.removeAttribute("aria-label");
          }, ol.prototype.prepareSelection = function() {
            var t4 = this.cm, e3 = t4.display, n3 = t4.doc, r3 = Ur(t4);
            if (t4.options.moveInputWithCursor) {
              var i2 = br(t4, n3.sel.primary().head, "div"), o2 = e3.wrapper.getBoundingClientRect(), a2 = e3.lineDiv.getBoundingClientRect();
              r3.teTop = Math.max(0, Math.min(e3.wrapper.clientHeight - 10, i2.top + a2.top - o2.top)), r3.teLeft = Math.max(0, Math.min(e3.wrapper.clientWidth - 10, i2.left + a2.left - o2.left));
            }
            return r3;
          }, ol.prototype.showSelection = function(t4) {
            var e3 = this.cm.display;
            T(e3.cursorDiv, t4.cursors), T(e3.selectionDiv, t4.selection), null != t4.teTop && (this.wrapper.style.top = t4.teTop + "px", this.wrapper.style.left = t4.teLeft + "px");
          }, ol.prototype.reset = function(t4) {
            if (!this.contextMenuPending && !this.composing) {
              var e3 = this.cm;
              if (e3.somethingSelected()) {
                this.prevInput = "";
                var n3 = e3.getSelection();
                this.textarea.value = n3, e3.state.focused && Z(this.textarea), a && s >= 9 && (this.hasSelection = n3);
              } else t4 || (this.prevInput = this.textarea.value = "", a && s >= 9 && (this.hasSelection = null));
            }
          }, ol.prototype.getField = function() {
            return this.textarea;
          }, ol.prototype.supportsTouch = function() {
            return false;
          }, ol.prototype.focus = function() {
            if ("nocursor" != this.cm.options.readOnly && (!m || D() != this.textarea)) try {
              this.textarea.focus();
            } catch (t4) {
            }
          }, ol.prototype.blur = function() {
            this.textarea.blur();
          }, ol.prototype.resetPosition = function() {
            this.wrapper.style.top = this.wrapper.style.left = 0;
          }, ol.prototype.receivedFocus = function() {
            this.slowPoll();
          }, ol.prototype.slowPoll = function() {
            var t4 = this;
            this.pollingFast || this.polling.set(this.cm.options.pollInterval, function() {
              t4.poll(), t4.cm.state.focused && t4.slowPoll();
            });
          }, ol.prototype.fastPoll = function() {
            var t4 = false, e3 = this;
            function n3() {
              e3.poll() || t4 ? (e3.pollingFast = false, e3.slowPoll()) : (t4 = true, e3.polling.set(60, n3));
            }
            e3.pollingFast = true, e3.polling.set(20, n3);
          }, ol.prototype.poll = function() {
            var t4 = this, e3 = this.cm, n3 = this.textarea, r3 = this.prevInput;
            if (this.contextMenuPending || !e3.state.focused || Zt(n3) && !r3 && !this.composing || e3.isReadOnly() || e3.options.disableInput || e3.state.keySeq) return false;
            var i2 = n3.value;
            if (i2 == r3 && !e3.somethingSelected()) return false;
            if (a && s >= 9 && this.hasSelection === i2 || y && /[\uf700-\uf7ff]/.test(i2)) return e3.display.input.reset(), false;
            if (e3.doc.sel == e3.display.selForContextMenu) {
              var o2 = i2.charCodeAt(0);
              if (8203 != o2 || r3 || (r3 = "​"), 8666 == o2) return this.reset(), this.cm.execCommand("undo");
            }
            for (var l2 = 0, c2 = Math.min(r3.length, i2.length); l2 < c2 && r3.charCodeAt(l2) == i2.charCodeAt(l2); ) ++l2;
            return Ai(e3, function() {
              zs(e3, i2.slice(l2), r3.length - l2, null, t4.composing ? "*compose" : null), i2.length > 1e3 || i2.indexOf("\n") > -1 ? n3.value = t4.prevInput = "" : t4.prevInput = i2, t4.composing && (t4.composing.range.clear(), t4.composing.range = e3.markText(t4.composing.start, e3.getCursor("to"), { className: "CodeMirror-composing" }));
            }), true;
          }, ol.prototype.ensurePolled = function() {
            this.pollingFast && this.poll() && (this.pollingFast = false);
          }, ol.prototype.onKeyPress = function() {
            a && s >= 9 && (this.hasSelection = null), this.fastPoll();
          }, ol.prototype.onContextMenu = function(t4) {
            var e3 = this, n3 = e3.cm, r3 = n3.display, i2 = e3.textarea;
            e3.contextMenuPending && e3.contextMenuPending();
            var o2 = Zr(n3, t4), c2 = r3.scroller.scrollTop;
            if (o2 && !f) {
              n3.options.resetSelectionOnContextMenu && -1 == n3.doc.sel.contains(o2) && Di(n3, Ho)(n3.doc, so(o2), z);
              var u2, h2 = i2.style.cssText, d2 = e3.wrapper.style.cssText, p2 = e3.wrapper.offsetParent.getBoundingClientRect();
              if (e3.wrapper.style.cssText = "position: static", i2.style.cssText = "position: absolute; width: 30px; height: 30px;\n      top: " + (t4.clientY - p2.top - 5) + "px; left: " + (t4.clientX - p2.left - 5) + "px;\n      z-index: 1000; background: " + (a ? "rgba(255, 255, 255, .05)" : "transparent") + ";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);", l && (u2 = window.scrollY), r3.input.focus(), l && window.scrollTo(null, u2), r3.input.reset(), n3.somethingSelected() || (i2.value = e3.prevInput = " "), e3.contextMenuPending = m2, r3.selForContextMenu = n3.doc.sel, clearTimeout(r3.detectingSelectAll), a && s >= 9 && v2(), O) {
                St(t4);
                var g2 = function() {
                  vt(window, "mouseup", g2), setTimeout(m2, 20);
                };
                pt(window, "mouseup", g2);
              } else setTimeout(m2, 50);
            }
            function v2() {
              if (null != i2.selectionStart) {
                var t5 = n3.somethingSelected(), o3 = "​" + (t5 ? i2.value : "");
                i2.value = "⇚", i2.value = o3, e3.prevInput = t5 ? "" : "​", i2.selectionStart = 1, i2.selectionEnd = o3.length, r3.selForContextMenu = n3.doc.sel;
              }
            }
            function m2() {
              if (e3.contextMenuPending == m2 && (e3.contextMenuPending = false, e3.wrapper.style.cssText = d2, i2.style.cssText = h2, a && s < 9 && r3.scrollbars.setScrollTop(r3.scroller.scrollTop = c2), null != i2.selectionStart)) {
                (!a || a && s < 9) && v2();
                var t5 = 0, o3 = function() {
                  r3.selForContextMenu == n3.doc.sel && 0 == i2.selectionStart && i2.selectionEnd > 0 && "​" == e3.prevInput ? Di(n3, Yo)(n3) : t5++ < 10 ? r3.detectingSelectAll = setTimeout(o3, 500) : (r3.selForContextMenu = null, r3.input.reset());
                };
                r3.detectingSelectAll = setTimeout(o3, 200);
              }
            }
          }, ol.prototype.readOnlyChanged = function(t4) {
            t4 || this.reset(), this.textarea.disabled = "nocursor" == t4, this.textarea.readOnly = !!t4;
          }, ol.prototype.setUneditable = function() {
          }, ol.prototype.needsContentAttribute = false, Rs(Ns), Ks(Ns);
          var ll = "iter insert remove copy getEditor constructor".split(" ");
          for (var cl in Oa.prototype) Oa.prototype.hasOwnProperty(cl) && V(ll, cl) < 0 && (Ns.prototype[cl] = /* @__PURE__ */ function(t4) {
            return function() {
              return t4.apply(this.doc, arguments);
            };
          }(Oa.prototype[cl]));
          return kt(Oa), Ns.inputStyles = { textarea: ol, contenteditable: Js }, Ns.defineMode = function(t4) {
            Ns.defaults.mode || "null" == t4 || (Ns.defaults.mode = t4), Bt.apply(this, arguments);
          }, Ns.defineMIME = Ht, Ns.defineMode("null", function() {
            return { token: function(t4) {
              return t4.skipToEnd();
            } };
          }), Ns.defineMIME("text/plain", "null"), Ns.defineExtension = function(t4, e3) {
            Ns.prototype[t4] = e3;
          }, Ns.defineDocExtension = function(t4, e3) {
            Oa.prototype[t4] = e3;
          }, Ns.fromTextArea = al, sl(Ns), Ns.version = "5.63.0", Ns;
        }();
      }, 6629: (t2, e2, n2) => {
        (function(t3) {
          "use strict";
          function e3(t4) {
            for (var e4 = {}, n4 = 0; n4 < t4.length; ++n4) e4[t4[n4].toLowerCase()] = true;
            return e4;
          }
          t3.defineMode("css", function(e4, n4) {
            var r3 = n4.inline;
            n4.propertyKeywords || (n4 = t3.resolveMode("text/css"));
            var i2, o2, a2 = e4.indentUnit, s2 = n4.tokenHooks, l2 = n4.documentTypes || {}, c2 = n4.mediaTypes || {}, u2 = n4.mediaFeatures || {}, f2 = n4.mediaValueKeywords || {}, h2 = n4.propertyKeywords || {}, d2 = n4.nonStandardPropertyKeywords || {}, p2 = n4.fontProperties || {}, g2 = n4.counterDescriptors || {}, v2 = n4.colorKeywords || {}, m2 = n4.valueKeywords || {}, y2 = n4.allowNested, b2 = n4.lineComment, w2 = true === n4.supportsAtComponent, k2 = false !== e4.highlightNonStandardPropertyKeywords;
            function x(t4, e5) {
              return i2 = e5, t4;
            }
            function O(t4, e5) {
              var n5 = t4.next();
              if (s2[n5]) {
                var r4 = s2[n5](t4, e5);
                if (false !== r4) return r4;
              }
              return "@" == n5 ? (t4.eatWhile(/[\w\\\-]/), x("def", t4.current())) : "=" == n5 || ("~" == n5 || "|" == n5) && t4.eat("=") ? x(null, "compare") : '"' == n5 || "'" == n5 ? (e5.tokenize = C(n5), e5.tokenize(t4, e5)) : "#" == n5 ? (t4.eatWhile(/[\w\\\-]/), x("atom", "hash")) : "!" == n5 ? (t4.match(/^\s*\w*/), x("keyword", "important")) : /\d/.test(n5) || "." == n5 && t4.eat(/\d/) ? (t4.eatWhile(/[\w.%]/), x("number", "unit")) : "-" !== n5 ? /[,+>*\/]/.test(n5) ? x(null, "select-op") : "." == n5 && t4.match(/^-?[_a-z][_a-z0-9-]*/i) ? x("qualifier", "qualifier") : /[:;{}\[\]\(\)]/.test(n5) ? x(null, n5) : t4.match(/^[\w-.]+(?=\()/) ? (/^(url(-prefix)?|domain|regexp)$/i.test(t4.current()) && (e5.tokenize = S), x("variable callee", "variable")) : /[\w\\\-]/.test(n5) ? (t4.eatWhile(/[\w\\\-]/), x("property", "word")) : x(null, null) : /[\d.]/.test(t4.peek()) ? (t4.eatWhile(/[\w.%]/), x("number", "unit")) : t4.match(/^-[\w\\\-]*/) ? (t4.eatWhile(/[\w\\\-]/), t4.match(/^\s*:/, false) ? x("variable-2", "variable-definition") : x("variable-2", "variable")) : t4.match(/^\w+-/) ? x("meta", "meta") : void 0;
            }
            function C(t4) {
              return function(e5, n5) {
                for (var r4, i3 = false; null != (r4 = e5.next()); ) {
                  if (r4 == t4 && !i3) {
                    ")" == t4 && e5.backUp(1);
                    break;
                  }
                  i3 = !i3 && "\\" == r4;
                }
                return (r4 == t4 || !i3 && ")" != t4) && (n5.tokenize = null), x("string", "string");
              };
            }
            function S(t4, e5) {
              return t4.next(), t4.match(/^\s*[\"\')]/, false) ? e5.tokenize = null : e5.tokenize = C(")"), x(null, "(");
            }
            function _(t4, e5, n5) {
              this.type = t4, this.indent = e5, this.prev = n5;
            }
            function P(t4, e5, n5, r4) {
              return t4.context = new _(n5, e5.indentation() + (false === r4 ? 0 : a2), t4.context), n5;
            }
            function T(t4) {
              return t4.context.prev && (t4.context = t4.context.prev), t4.context.type;
            }
            function E(t4, e5, n5) {
              return D[n5.context.type](t4, e5, n5);
            }
            function j(t4, e5, n5, r4) {
              for (var i3 = r4 || 1; i3 > 0; i3--) n5.context = n5.context.prev;
              return E(t4, e5, n5);
            }
            function A(t4) {
              var e5 = t4.current().toLowerCase();
              o2 = m2.hasOwnProperty(e5) ? "atom" : v2.hasOwnProperty(e5) ? "keyword" : "variable";
            }
            var D = { top: function(t4, e5, n5) {
              if ("{" == t4) return P(n5, e5, "block");
              if ("}" == t4 && n5.context.prev) return T(n5);
              if (w2 && /@component/i.test(t4)) return P(n5, e5, "atComponentBlock");
              if (/^@(-moz-)?document$/i.test(t4)) return P(n5, e5, "documentTypes");
              if (/^@(media|supports|(-moz-)?document|import)$/i.test(t4)) return P(n5, e5, "atBlock");
              if (/^@(font-face|counter-style)/i.test(t4)) return n5.stateArg = t4, "restricted_atBlock_before";
              if (/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(t4)) return "keyframes";
              if (t4 && "@" == t4.charAt(0)) return P(n5, e5, "at");
              if ("hash" == t4) o2 = "builtin";
              else if ("word" == t4) o2 = "tag";
              else {
                if ("variable-definition" == t4) return "maybeprop";
                if ("interpolation" == t4) return P(n5, e5, "interpolation");
                if (":" == t4) return "pseudo";
                if (y2 && "(" == t4) return P(n5, e5, "parens");
              }
              return n5.context.type;
            }, block: function(t4, e5, n5) {
              if ("word" == t4) {
                var r4 = e5.current().toLowerCase();
                return h2.hasOwnProperty(r4) ? (o2 = "property", "maybeprop") : d2.hasOwnProperty(r4) ? (o2 = k2 ? "string-2" : "property", "maybeprop") : y2 ? (o2 = e5.match(/^\s*:(?:\s|$)/, false) ? "property" : "tag", "block") : (o2 += " error", "maybeprop");
              }
              return "meta" == t4 ? "block" : y2 || "hash" != t4 && "qualifier" != t4 ? D.top(t4, e5, n5) : (o2 = "error", "block");
            }, maybeprop: function(t4, e5, n5) {
              return ":" == t4 ? P(n5, e5, "prop") : E(t4, e5, n5);
            }, prop: function(t4, e5, n5) {
              if (";" == t4) return T(n5);
              if ("{" == t4 && y2) return P(n5, e5, "propBlock");
              if ("}" == t4 || "{" == t4) return j(t4, e5, n5);
              if ("(" == t4) return P(n5, e5, "parens");
              if ("hash" != t4 || /^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(e5.current())) {
                if ("word" == t4) A(e5);
                else if ("interpolation" == t4) return P(n5, e5, "interpolation");
              } else o2 += " error";
              return "prop";
            }, propBlock: function(t4, e5, n5) {
              return "}" == t4 ? T(n5) : "word" == t4 ? (o2 = "property", "maybeprop") : n5.context.type;
            }, parens: function(t4, e5, n5) {
              return "{" == t4 || "}" == t4 ? j(t4, e5, n5) : ")" == t4 ? T(n5) : "(" == t4 ? P(n5, e5, "parens") : "interpolation" == t4 ? P(n5, e5, "interpolation") : ("word" == t4 && A(e5), "parens");
            }, pseudo: function(t4, e5, n5) {
              return "meta" == t4 ? "pseudo" : "word" == t4 ? (o2 = "variable-3", n5.context.type) : E(t4, e5, n5);
            }, documentTypes: function(t4, e5, n5) {
              return "word" == t4 && l2.hasOwnProperty(e5.current()) ? (o2 = "tag", n5.context.type) : D.atBlock(t4, e5, n5);
            }, atBlock: function(t4, e5, n5) {
              if ("(" == t4) return P(n5, e5, "atBlock_parens");
              if ("}" == t4 || ";" == t4) return j(t4, e5, n5);
              if ("{" == t4) return T(n5) && P(n5, e5, y2 ? "block" : "top");
              if ("interpolation" == t4) return P(n5, e5, "interpolation");
              if ("word" == t4) {
                var r4 = e5.current().toLowerCase();
                o2 = "only" == r4 || "not" == r4 || "and" == r4 || "or" == r4 ? "keyword" : c2.hasOwnProperty(r4) ? "attribute" : u2.hasOwnProperty(r4) ? "property" : f2.hasOwnProperty(r4) ? "keyword" : h2.hasOwnProperty(r4) ? "property" : d2.hasOwnProperty(r4) ? k2 ? "string-2" : "property" : m2.hasOwnProperty(r4) ? "atom" : v2.hasOwnProperty(r4) ? "keyword" : "error";
              }
              return n5.context.type;
            }, atComponentBlock: function(t4, e5, n5) {
              return "}" == t4 ? j(t4, e5, n5) : "{" == t4 ? T(n5) && P(n5, e5, y2 ? "block" : "top", false) : ("word" == t4 && (o2 = "error"), n5.context.type);
            }, atBlock_parens: function(t4, e5, n5) {
              return ")" == t4 ? T(n5) : "{" == t4 || "}" == t4 ? j(t4, e5, n5, 2) : D.atBlock(t4, e5, n5);
            }, restricted_atBlock_before: function(t4, e5, n5) {
              return "{" == t4 ? P(n5, e5, "restricted_atBlock") : "word" == t4 && "@counter-style" == n5.stateArg ? (o2 = "variable", "restricted_atBlock_before") : E(t4, e5, n5);
            }, restricted_atBlock: function(t4, e5, n5) {
              return "}" == t4 ? (n5.stateArg = null, T(n5)) : "word" == t4 ? (o2 = "@font-face" == n5.stateArg && !p2.hasOwnProperty(e5.current().toLowerCase()) || "@counter-style" == n5.stateArg && !g2.hasOwnProperty(e5.current().toLowerCase()) ? "error" : "property", "maybeprop") : "restricted_atBlock";
            }, keyframes: function(t4, e5, n5) {
              return "word" == t4 ? (o2 = "variable", "keyframes") : "{" == t4 ? P(n5, e5, "top") : E(t4, e5, n5);
            }, at: function(t4, e5, n5) {
              return ";" == t4 ? T(n5) : "{" == t4 || "}" == t4 ? j(t4, e5, n5) : ("word" == t4 ? o2 = "tag" : "hash" == t4 && (o2 = "builtin"), "at");
            }, interpolation: function(t4, e5, n5) {
              return "}" == t4 ? T(n5) : "{" == t4 || ";" == t4 ? j(t4, e5, n5) : ("word" == t4 ? o2 = "variable" : "variable" != t4 && "(" != t4 && ")" != t4 && (o2 = "error"), "interpolation");
            } };
            return { startState: function(t4) {
              return { tokenize: null, state: r3 ? "block" : "top", stateArg: null, context: new _(r3 ? "block" : "top", t4 || 0, null) };
            }, token: function(t4, e5) {
              if (!e5.tokenize && t4.eatSpace()) return null;
              var n5 = (e5.tokenize || O)(t4, e5);
              return n5 && "object" == typeof n5 && (i2 = n5[1], n5 = n5[0]), o2 = n5, "comment" != i2 && (e5.state = D[e5.state](i2, t4, e5)), o2;
            }, indent: function(t4, e5) {
              var n5 = t4.context, r4 = e5 && e5.charAt(0), i3 = n5.indent;
              return "prop" != n5.type || "}" != r4 && ")" != r4 || (n5 = n5.prev), n5.prev && ("}" != r4 || "block" != n5.type && "top" != n5.type && "interpolation" != n5.type && "restricted_atBlock" != n5.type ? (")" != r4 || "parens" != n5.type && "atBlock_parens" != n5.type) && ("{" != r4 || "at" != n5.type && "atBlock" != n5.type) || (i3 = Math.max(0, n5.indent - a2)) : i3 = (n5 = n5.prev).indent), i3;
            }, electricChars: "}", blockCommentStart: "/*", blockCommentEnd: "*/", blockCommentContinue: " * ", lineComment: b2, fold: "brace" };
          });
          var n3 = ["domain", "regexp", "url", "url-prefix"], r2 = e3(n3), i = ["all", "aural", "braille", "handheld", "print", "projection", "screen", "tty", "tv", "embossed"], o = e3(i), a = ["width", "min-width", "max-width", "height", "min-height", "max-height", "device-width", "min-device-width", "max-device-width", "device-height", "min-device-height", "max-device-height", "aspect-ratio", "min-aspect-ratio", "max-aspect-ratio", "device-aspect-ratio", "min-device-aspect-ratio", "max-device-aspect-ratio", "color", "min-color", "max-color", "color-index", "min-color-index", "max-color-index", "monochrome", "min-monochrome", "max-monochrome", "resolution", "min-resolution", "max-resolution", "scan", "grid", "orientation", "device-pixel-ratio", "min-device-pixel-ratio", "max-device-pixel-ratio", "pointer", "any-pointer", "hover", "any-hover", "prefers-color-scheme"], s = e3(a), l = ["landscape", "portrait", "none", "coarse", "fine", "on-demand", "hover", "interlace", "progressive", "dark", "light"], c = e3(l), u = ["align-content", "align-items", "align-self", "alignment-adjust", "alignment-baseline", "all", "anchor-point", "animation", "animation-delay", "animation-direction", "animation-duration", "animation-fill-mode", "animation-iteration-count", "animation-name", "animation-play-state", "animation-timing-function", "appearance", "azimuth", "backdrop-filter", "backface-visibility", "background", "background-attachment", "background-blend-mode", "background-clip", "background-color", "background-image", "background-origin", "background-position", "background-position-x", "background-position-y", "background-repeat", "background-size", "baseline-shift", "binding", "bleed", "block-size", "bookmark-label", "bookmark-level", "bookmark-state", "bookmark-target", "border", "border-bottom", "border-bottom-color", "border-bottom-left-radius", "border-bottom-right-radius", "border-bottom-style", "border-bottom-width", "border-collapse", "border-color", "border-image", "border-image-outset", "border-image-repeat", "border-image-slice", "border-image-source", "border-image-width", "border-left", "border-left-color", "border-left-style", "border-left-width", "border-radius", "border-right", "border-right-color", "border-right-style", "border-right-width", "border-spacing", "border-style", "border-top", "border-top-color", "border-top-left-radius", "border-top-right-radius", "border-top-style", "border-top-width", "border-width", "bottom", "box-decoration-break", "box-shadow", "box-sizing", "break-after", "break-before", "break-inside", "caption-side", "caret-color", "clear", "clip", "color", "color-profile", "column-count", "column-fill", "column-gap", "column-rule", "column-rule-color", "column-rule-style", "column-rule-width", "column-span", "column-width", "columns", "contain", "content", "counter-increment", "counter-reset", "crop", "cue", "cue-after", "cue-before", "cursor", "direction", "display", "dominant-baseline", "drop-initial-after-adjust", "drop-initial-after-align", "drop-initial-before-adjust", "drop-initial-before-align", "drop-initial-size", "drop-initial-value", "elevation", "empty-cells", "fit", "fit-content", "fit-position", "flex", "flex-basis", "flex-direction", "flex-flow", "flex-grow", "flex-shrink", "flex-wrap", "float", "float-offset", "flow-from", "flow-into", "font", "font-family", "font-feature-settings", "font-kerning", "font-language-override", "font-optical-sizing", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-synthesis", "font-variant", "font-variant-alternates", "font-variant-caps", "font-variant-east-asian", "font-variant-ligatures", "font-variant-numeric", "font-variant-position", "font-variation-settings", "font-weight", "gap", "grid", "grid-area", "grid-auto-columns", "grid-auto-flow", "grid-auto-rows", "grid-column", "grid-column-end", "grid-column-gap", "grid-column-start", "grid-gap", "grid-row", "grid-row-end", "grid-row-gap", "grid-row-start", "grid-template", "grid-template-areas", "grid-template-columns", "grid-template-rows", "hanging-punctuation", "height", "hyphens", "icon", "image-orientation", "image-rendering", "image-resolution", "inline-box-align", "inset", "inset-block", "inset-block-end", "inset-block-start", "inset-inline", "inset-inline-end", "inset-inline-start", "isolation", "justify-content", "justify-items", "justify-self", "left", "letter-spacing", "line-break", "line-height", "line-height-step", "line-stacking", "line-stacking-ruby", "line-stacking-shift", "line-stacking-strategy", "list-style", "list-style-image", "list-style-position", "list-style-type", "margin", "margin-bottom", "margin-left", "margin-right", "margin-top", "marks", "marquee-direction", "marquee-loop", "marquee-play-count", "marquee-speed", "marquee-style", "mask-clip", "mask-composite", "mask-image", "mask-mode", "mask-origin", "mask-position", "mask-repeat", "mask-size", "mask-type", "max-block-size", "max-height", "max-inline-size", "max-width", "min-block-size", "min-height", "min-inline-size", "min-width", "mix-blend-mode", "move-to", "nav-down", "nav-index", "nav-left", "nav-right", "nav-up", "object-fit", "object-position", "offset", "offset-anchor", "offset-distance", "offset-path", "offset-position", "offset-rotate", "opacity", "order", "orphans", "outline", "outline-color", "outline-offset", "outline-style", "outline-width", "overflow", "overflow-style", "overflow-wrap", "overflow-x", "overflow-y", "padding", "padding-bottom", "padding-left", "padding-right", "padding-top", "page", "page-break-after", "page-break-before", "page-break-inside", "page-policy", "pause", "pause-after", "pause-before", "perspective", "perspective-origin", "pitch", "pitch-range", "place-content", "place-items", "place-self", "play-during", "position", "presentation-level", "punctuation-trim", "quotes", "region-break-after", "region-break-before", "region-break-inside", "region-fragment", "rendering-intent", "resize", "rest", "rest-after", "rest-before", "richness", "right", "rotate", "rotation", "rotation-point", "row-gap", "ruby-align", "ruby-overhang", "ruby-position", "ruby-span", "scale", "scroll-behavior", "scroll-margin", "scroll-margin-block", "scroll-margin-block-end", "scroll-margin-block-start", "scroll-margin-bottom", "scroll-margin-inline", "scroll-margin-inline-end", "scroll-margin-inline-start", "scroll-margin-left", "scroll-margin-right", "scroll-margin-top", "scroll-padding", "scroll-padding-block", "scroll-padding-block-end", "scroll-padding-block-start", "scroll-padding-bottom", "scroll-padding-inline", "scroll-padding-inline-end", "scroll-padding-inline-start", "scroll-padding-left", "scroll-padding-right", "scroll-padding-top", "scroll-snap-align", "scroll-snap-type", "shape-image-threshold", "shape-inside", "shape-margin", "shape-outside", "size", "speak", "speak-as", "speak-header", "speak-numeral", "speak-punctuation", "speech-rate", "stress", "string-set", "tab-size", "table-layout", "target", "target-name", "target-new", "target-position", "text-align", "text-align-last", "text-combine-upright", "text-decoration", "text-decoration-color", "text-decoration-line", "text-decoration-skip", "text-decoration-skip-ink", "text-decoration-style", "text-emphasis", "text-emphasis-color", "text-emphasis-position", "text-emphasis-style", "text-height", "text-indent", "text-justify", "text-orientation", "text-outline", "text-overflow", "text-rendering", "text-shadow", "text-size-adjust", "text-space-collapse", "text-transform", "text-underline-position", "text-wrap", "top", "touch-action", "transform", "transform-origin", "transform-style", "transition", "transition-delay", "transition-duration", "transition-property", "transition-timing-function", "translate", "unicode-bidi", "user-select", "vertical-align", "visibility", "voice-balance", "voice-duration", "voice-family", "voice-pitch", "voice-range", "voice-rate", "voice-stress", "voice-volume", "volume", "white-space", "widows", "width", "will-change", "word-break", "word-spacing", "word-wrap", "writing-mode", "z-index", "clip-path", "clip-rule", "mask", "enable-background", "filter", "flood-color", "flood-opacity", "lighting-color", "stop-color", "stop-opacity", "pointer-events", "color-interpolation", "color-interpolation-filters", "color-rendering", "fill", "fill-opacity", "fill-rule", "image-rendering", "marker", "marker-end", "marker-mid", "marker-start", "paint-order", "shape-rendering", "stroke", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "text-rendering", "baseline-shift", "dominant-baseline", "glyph-orientation-horizontal", "glyph-orientation-vertical", "text-anchor", "writing-mode"], f = e3(u), h = ["accent-color", "aspect-ratio", "border-block", "border-block-color", "border-block-end", "border-block-end-color", "border-block-end-style", "border-block-end-width", "border-block-start", "border-block-start-color", "border-block-start-style", "border-block-start-width", "border-block-style", "border-block-width", "border-inline", "border-inline-color", "border-inline-end", "border-inline-end-color", "border-inline-end-style", "border-inline-end-width", "border-inline-start", "border-inline-start-color", "border-inline-start-style", "border-inline-start-width", "border-inline-style", "border-inline-width", "content-visibility", "margin-block", "margin-block-end", "margin-block-start", "margin-inline", "margin-inline-end", "margin-inline-start", "overflow-anchor", "overscroll-behavior", "padding-block", "padding-block-end", "padding-block-start", "padding-inline", "padding-inline-end", "padding-inline-start", "scroll-snap-stop", "scrollbar-3d-light-color", "scrollbar-arrow-color", "scrollbar-base-color", "scrollbar-dark-shadow-color", "scrollbar-face-color", "scrollbar-highlight-color", "scrollbar-shadow-color", "scrollbar-track-color", "searchfield-cancel-button", "searchfield-decoration", "searchfield-results-button", "searchfield-results-decoration", "shape-inside", "zoom"], d = e3(h), p = e3(["font-display", "font-family", "src", "unicode-range", "font-variant", "font-feature-settings", "font-stretch", "font-weight", "font-style"]), g = e3(["additive-symbols", "fallback", "negative", "pad", "prefix", "range", "speak-as", "suffix", "symbols", "system"]), v = ["aliceblue", "antiquewhite", "aqua", "aquamarine", "azure", "beige", "bisque", "black", "blanchedalmond", "blue", "blueviolet", "brown", "burlywood", "cadetblue", "chartreuse", "chocolate", "coral", "cornflowerblue", "cornsilk", "crimson", "cyan", "darkblue", "darkcyan", "darkgoldenrod", "darkgray", "darkgreen", "darkgrey", "darkkhaki", "darkmagenta", "darkolivegreen", "darkorange", "darkorchid", "darkred", "darksalmon", "darkseagreen", "darkslateblue", "darkslategray", "darkslategrey", "darkturquoise", "darkviolet", "deeppink", "deepskyblue", "dimgray", "dimgrey", "dodgerblue", "firebrick", "floralwhite", "forestgreen", "fuchsia", "gainsboro", "ghostwhite", "gold", "goldenrod", "gray", "grey", "green", "greenyellow", "honeydew", "hotpink", "indianred", "indigo", "ivory", "khaki", "lavender", "lavenderblush", "lawngreen", "lemonchiffon", "lightblue", "lightcoral", "lightcyan", "lightgoldenrodyellow", "lightgray", "lightgreen", "lightgrey", "lightpink", "lightsalmon", "lightseagreen", "lightskyblue", "lightslategray", "lightslategrey", "lightsteelblue", "lightyellow", "lime", "limegreen", "linen", "magenta", "maroon", "mediumaquamarine", "mediumblue", "mediumorchid", "mediumpurple", "mediumseagreen", "mediumslateblue", "mediumspringgreen", "mediumturquoise", "mediumvioletred", "midnightblue", "mintcream", "mistyrose", "moccasin", "navajowhite", "navy", "oldlace", "olive", "olivedrab", "orange", "orangered", "orchid", "palegoldenrod", "palegreen", "paleturquoise", "palevioletred", "papayawhip", "peachpuff", "peru", "pink", "plum", "powderblue", "purple", "rebeccapurple", "red", "rosybrown", "royalblue", "saddlebrown", "salmon", "sandybrown", "seagreen", "seashell", "sienna", "silver", "skyblue", "slateblue", "slategray", "slategrey", "snow", "springgreen", "steelblue", "tan", "teal", "thistle", "tomato", "turquoise", "violet", "wheat", "white", "whitesmoke", "yellow", "yellowgreen"], m = e3(v), y = ["above", "absolute", "activeborder", "additive", "activecaption", "afar", "after-white-space", "ahead", "alias", "all", "all-scroll", "alphabetic", "alternate", "always", "amharic", "amharic-abegede", "antialiased", "appworkspace", "arabic-indic", "armenian", "asterisks", "attr", "auto", "auto-flow", "avoid", "avoid-column", "avoid-page", "avoid-region", "axis-pan", "background", "backwards", "baseline", "below", "bidi-override", "binary", "bengali", "blink", "block", "block-axis", "blur", "bold", "bolder", "border", "border-box", "both", "bottom", "break", "break-all", "break-word", "brightness", "bullets", "button", "button-bevel", "buttonface", "buttonhighlight", "buttonshadow", "buttontext", "calc", "cambodian", "capitalize", "caps-lock-indicator", "caption", "captiontext", "caret", "cell", "center", "checkbox", "circle", "cjk-decimal", "cjk-earthly-branch", "cjk-heavenly-stem", "cjk-ideographic", "clear", "clip", "close-quote", "col-resize", "collapse", "color", "color-burn", "color-dodge", "column", "column-reverse", "compact", "condensed", "contain", "content", "contents", "content-box", "context-menu", "continuous", "contrast", "copy", "counter", "counters", "cover", "crop", "cross", "crosshair", "cubic-bezier", "currentcolor", "cursive", "cyclic", "darken", "dashed", "decimal", "decimal-leading-zero", "default", "default-button", "dense", "destination-atop", "destination-in", "destination-out", "destination-over", "devanagari", "difference", "disc", "discard", "disclosure-closed", "disclosure-open", "document", "dot-dash", "dot-dot-dash", "dotted", "double", "down", "drop-shadow", "e-resize", "ease", "ease-in", "ease-in-out", "ease-out", "element", "ellipse", "ellipsis", "embed", "end", "ethiopic", "ethiopic-abegede", "ethiopic-abegede-am-et", "ethiopic-abegede-gez", "ethiopic-abegede-ti-er", "ethiopic-abegede-ti-et", "ethiopic-halehame-aa-er", "ethiopic-halehame-aa-et", "ethiopic-halehame-am-et", "ethiopic-halehame-gez", "ethiopic-halehame-om-et", "ethiopic-halehame-sid-et", "ethiopic-halehame-so-et", "ethiopic-halehame-ti-er", "ethiopic-halehame-ti-et", "ethiopic-halehame-tig", "ethiopic-numeric", "ew-resize", "exclusion", "expanded", "extends", "extra-condensed", "extra-expanded", "fantasy", "fast", "fill", "fill-box", "fixed", "flat", "flex", "flex-end", "flex-start", "footnotes", "forwards", "from", "geometricPrecision", "georgian", "grayscale", "graytext", "grid", "groove", "gujarati", "gurmukhi", "hand", "hangul", "hangul-consonant", "hard-light", "hebrew", "help", "hidden", "hide", "higher", "highlight", "highlighttext", "hiragana", "hiragana-iroha", "horizontal", "hsl", "hsla", "hue", "hue-rotate", "icon", "ignore", "inactiveborder", "inactivecaption", "inactivecaptiontext", "infinite", "infobackground", "infotext", "inherit", "initial", "inline", "inline-axis", "inline-block", "inline-flex", "inline-grid", "inline-table", "inset", "inside", "intrinsic", "invert", "italic", "japanese-formal", "japanese-informal", "justify", "kannada", "katakana", "katakana-iroha", "keep-all", "khmer", "korean-hangul-formal", "korean-hanja-formal", "korean-hanja-informal", "landscape", "lao", "large", "larger", "left", "level", "lighter", "lighten", "line-through", "linear", "linear-gradient", "lines", "list-item", "listbox", "listitem", "local", "logical", "loud", "lower", "lower-alpha", "lower-armenian", "lower-greek", "lower-hexadecimal", "lower-latin", "lower-norwegian", "lower-roman", "lowercase", "ltr", "luminosity", "malayalam", "manipulation", "match", "matrix", "matrix3d", "media-controls-background", "media-current-time-display", "media-fullscreen-button", "media-mute-button", "media-play-button", "media-return-to-realtime-button", "media-rewind-button", "media-seek-back-button", "media-seek-forward-button", "media-slider", "media-sliderthumb", "media-time-remaining-display", "media-volume-slider", "media-volume-slider-container", "media-volume-sliderthumb", "medium", "menu", "menulist", "menulist-button", "menulist-text", "menulist-textfield", "menutext", "message-box", "middle", "min-intrinsic", "mix", "mongolian", "monospace", "move", "multiple", "multiple_mask_images", "multiply", "myanmar", "n-resize", "narrower", "ne-resize", "nesw-resize", "no-close-quote", "no-drop", "no-open-quote", "no-repeat", "none", "normal", "not-allowed", "nowrap", "ns-resize", "numbers", "numeric", "nw-resize", "nwse-resize", "oblique", "octal", "opacity", "open-quote", "optimizeLegibility", "optimizeSpeed", "oriya", "oromo", "outset", "outside", "outside-shape", "overlay", "overline", "padding", "padding-box", "painted", "page", "paused", "persian", "perspective", "pinch-zoom", "plus-darker", "plus-lighter", "pointer", "polygon", "portrait", "pre", "pre-line", "pre-wrap", "preserve-3d", "progress", "push-button", "radial-gradient", "radio", "read-only", "read-write", "read-write-plaintext-only", "rectangle", "region", "relative", "repeat", "repeating-linear-gradient", "repeating-radial-gradient", "repeat-x", "repeat-y", "reset", "reverse", "rgb", "rgba", "ridge", "right", "rotate", "rotate3d", "rotateX", "rotateY", "rotateZ", "round", "row", "row-resize", "row-reverse", "rtl", "run-in", "running", "s-resize", "sans-serif", "saturate", "saturation", "scale", "scale3d", "scaleX", "scaleY", "scaleZ", "screen", "scroll", "scrollbar", "scroll-position", "se-resize", "searchfield", "searchfield-cancel-button", "searchfield-decoration", "searchfield-results-button", "searchfield-results-decoration", "self-start", "self-end", "semi-condensed", "semi-expanded", "separate", "sepia", "serif", "show", "sidama", "simp-chinese-formal", "simp-chinese-informal", "single", "skew", "skewX", "skewY", "skip-white-space", "slide", "slider-horizontal", "slider-vertical", "sliderthumb-horizontal", "sliderthumb-vertical", "slow", "small", "small-caps", "small-caption", "smaller", "soft-light", "solid", "somali", "source-atop", "source-in", "source-out", "source-over", "space", "space-around", "space-between", "space-evenly", "spell-out", "square", "square-button", "start", "static", "status-bar", "stretch", "stroke", "stroke-box", "sub", "subpixel-antialiased", "svg_masks", "super", "sw-resize", "symbolic", "symbols", "system-ui", "table", "table-caption", "table-cell", "table-column", "table-column-group", "table-footer-group", "table-header-group", "table-row", "table-row-group", "tamil", "telugu", "text", "text-bottom", "text-top", "textarea", "textfield", "thai", "thick", "thin", "threeddarkshadow", "threedface", "threedhighlight", "threedlightshadow", "threedshadow", "tibetan", "tigre", "tigrinya-er", "tigrinya-er-abegede", "tigrinya-et", "tigrinya-et-abegede", "to", "top", "trad-chinese-formal", "trad-chinese-informal", "transform", "translate", "translate3d", "translateX", "translateY", "translateZ", "transparent", "ultra-condensed", "ultra-expanded", "underline", "unidirectional-pan", "unset", "up", "upper-alpha", "upper-armenian", "upper-greek", "upper-hexadecimal", "upper-latin", "upper-norwegian", "upper-roman", "uppercase", "urdu", "url", "var", "vertical", "vertical-text", "view-box", "visible", "visibleFill", "visiblePainted", "visibleStroke", "visual", "w-resize", "wait", "wave", "wider", "window", "windowframe", "windowtext", "words", "wrap", "wrap-reverse", "x-large", "x-small", "xor", "xx-large", "xx-small"], b = e3(y), w = n3.concat(i).concat(a).concat(l).concat(u).concat(h).concat(v).concat(y);
          function k(t4, e4) {
            for (var n4, r3 = false; null != (n4 = t4.next()); ) {
              if (r3 && "/" == n4) {
                e4.tokenize = null;
                break;
              }
              r3 = "*" == n4;
            }
            return ["comment", "comment"];
          }
          t3.registerHelper("hintWords", "css", w), t3.defineMIME("text/css", { documentTypes: r2, mediaTypes: o, mediaFeatures: s, mediaValueKeywords: c, propertyKeywords: f, nonStandardPropertyKeywords: d, fontProperties: p, counterDescriptors: g, colorKeywords: m, valueKeywords: b, tokenHooks: { "/": function(t4, e4) {
            return !!t4.eat("*") && (e4.tokenize = k, k(t4, e4));
          } }, name: "css" }), t3.defineMIME("text/x-scss", { mediaTypes: o, mediaFeatures: s, mediaValueKeywords: c, propertyKeywords: f, nonStandardPropertyKeywords: d, colorKeywords: m, valueKeywords: b, fontProperties: p, allowNested: true, lineComment: "//", tokenHooks: { "/": function(t4, e4) {
            return t4.eat("/") ? (t4.skipToEnd(), ["comment", "comment"]) : t4.eat("*") ? (e4.tokenize = k, k(t4, e4)) : ["operator", "operator"];
          }, ":": function(t4) {
            return !!t4.match(/^\s*\{/, false) && [null, null];
          }, $: function(t4) {
            return t4.match(/^[\w-]+/), t4.match(/^\s*:/, false) ? ["variable-2", "variable-definition"] : ["variable-2", "variable"];
          }, "#": function(t4) {
            return !!t4.eat("{") && [null, "interpolation"];
          } }, name: "css", helperType: "scss" }), t3.defineMIME("text/x-less", { mediaTypes: o, mediaFeatures: s, mediaValueKeywords: c, propertyKeywords: f, nonStandardPropertyKeywords: d, colorKeywords: m, valueKeywords: b, fontProperties: p, allowNested: true, lineComment: "//", tokenHooks: { "/": function(t4, e4) {
            return t4.eat("/") ? (t4.skipToEnd(), ["comment", "comment"]) : t4.eat("*") ? (e4.tokenize = k, k(t4, e4)) : ["operator", "operator"];
          }, "@": function(t4) {
            return t4.eat("{") ? [null, "interpolation"] : !t4.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i, false) && (t4.eatWhile(/[\w\\\-]/), t4.match(/^\s*:/, false) ? ["variable-2", "variable-definition"] : ["variable-2", "variable"]);
          }, "&": function() {
            return ["atom", "atom"];
          } }, name: "css", helperType: "less" }), t3.defineMIME("text/x-gss", { documentTypes: r2, mediaTypes: o, mediaFeatures: s, propertyKeywords: f, nonStandardPropertyKeywords: d, fontProperties: p, counterDescriptors: g, colorKeywords: m, valueKeywords: b, supportsAtComponent: true, tokenHooks: { "/": function(t4, e4) {
            return !!t4.eat("*") && (e4.tokenize = k, k(t4, e4));
          } }, name: "css", helperType: "gss" });
        })(n2(4631));
      }, 6531: (t2, e2, n2) => {
        (function(t3) {
          "use strict";
          var e3 = { script: [["lang", /(javascript|babel)/i, "javascript"], ["type", /^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i, "javascript"], ["type", /./, "text/plain"], [null, null, "javascript"]], style: [["lang", /^css$/i, "css"], ["type", /^(text\/)?(x-)?(stylesheet|css)$/i, "css"], ["type", /./, "text/plain"], [null, null, "css"]] };
          function n3(t4, e4, n4) {
            var r3 = t4.current(), i2 = r3.search(e4);
            return i2 > -1 ? t4.backUp(r3.length - i2) : r3.match(/<\/?$/) && (t4.backUp(r3.length), t4.match(e4, false) || t4.match(r3)), n4;
          }
          var r2 = {};
          function i(t4) {
            var e4 = r2[t4];
            return e4 || (r2[t4] = new RegExp("\\s+" + t4 + `\\s*=\\s*('|")?([^'"]+)('|")?\\s*`));
          }
          function o(t4, e4) {
            var n4 = t4.match(i(e4));
            return n4 ? /^\s*(.*?)\s*$/.exec(n4[2])[1] : "";
          }
          function a(t4, e4) {
            return new RegExp((e4 ? "^" : "") + "</s*" + t4 + "s*>", "i");
          }
          function s(t4, e4) {
            for (var n4 in t4) for (var r3 = e4[n4] || (e4[n4] = []), i2 = t4[n4], o2 = i2.length - 1; o2 >= 0; o2--) r3.unshift(i2[o2]);
          }
          function l(t4, e4) {
            for (var n4 = 0; n4 < t4.length; n4++) {
              var r3 = t4[n4];
              if (!r3[0] || r3[1].test(o(e4, r3[0]))) return r3[2];
            }
          }
          t3.defineMode("htmlmixed", function(r3, i2) {
            var o2 = t3.getMode(r3, { name: "xml", htmlMode: true, multilineTagIndentFactor: i2.multilineTagIndentFactor, multilineTagIndentPastTag: i2.multilineTagIndentPastTag, allowMissingTagName: i2.allowMissingTagName }), c = {}, u = i2 && i2.tags, f = i2 && i2.scriptTypes;
            if (s(e3, c), u && s(u, c), f) for (var h = f.length - 1; h >= 0; h--) c.script.unshift(["type", f[h].matches, f[h].mode]);
            function d(e4, i3) {
              var s2, u2 = o2.token(e4, i3.htmlState), f2 = /\btag\b/.test(u2);
              if (f2 && !/[<>\s\/]/.test(e4.current()) && (s2 = i3.htmlState.tagName && i3.htmlState.tagName.toLowerCase()) && c.hasOwnProperty(s2)) i3.inTag = s2 + " ";
              else if (i3.inTag && f2 && />$/.test(e4.current())) {
                var h2 = /^([\S]+) (.*)/.exec(i3.inTag);
                i3.inTag = null;
                var p = ">" == e4.current() && l(c[h2[1]], h2[2]), g = t3.getMode(r3, p), v = a(h2[1], true), m = a(h2[1], false);
                i3.token = function(t4, e5) {
                  return t4.match(v, false) ? (e5.token = d, e5.localState = e5.localMode = null, null) : n3(t4, m, e5.localMode.token(t4, e5.localState));
                }, i3.localMode = g, i3.localState = t3.startState(g, o2.indent(i3.htmlState, "", ""));
              } else i3.inTag && (i3.inTag += e4.current(), e4.eol() && (i3.inTag += " "));
              return u2;
            }
            return { startState: function() {
              return { token: d, inTag: null, localMode: null, localState: null, htmlState: t3.startState(o2) };
            }, copyState: function(e4) {
              var n4;
              return e4.localState && (n4 = t3.copyState(e4.localMode, e4.localState)), { token: e4.token, inTag: e4.inTag, localMode: e4.localMode, localState: n4, htmlState: t3.copyState(o2, e4.htmlState) };
            }, token: function(t4, e4) {
              return e4.token(t4, e4);
            }, indent: function(e4, n4, r4) {
              return !e4.localMode || /^\s*<\//.test(n4) ? o2.indent(e4.htmlState, n4, r4) : e4.localMode.indent ? e4.localMode.indent(e4.localState, n4, r4) : t3.Pass;
            }, innerMode: function(t4) {
              return { state: t4.localState || t4.htmlState, mode: t4.localMode || o2 };
            } };
          }, "xml", "javascript", "css"), t3.defineMIME("text/html", "htmlmixed");
        })(n2(4631), n2(9589), n2(6876), n2(6629));
      }, 6876: (t2, e2, n2) => {
        (function(t3) {
          "use strict";
          t3.defineMode("javascript", function(e3, n3) {
            var r2, i, o = e3.indentUnit, a = n3.statementIndent, s = n3.jsonld, l = n3.json || s, c = false !== n3.trackScope, u = n3.typescript, f = n3.wordCharacters || /[\w$\xa1-\uffff]/, h = function() {
              function t4(t5) {
                return { type: t5, style: "keyword" };
              }
              var e4 = t4("keyword a"), n4 = t4("keyword b"), r3 = t4("keyword c"), i2 = t4("keyword d"), o2 = t4("operator"), a2 = { type: "atom", style: "atom" };
              return { if: t4("if"), while: e4, with: e4, else: n4, do: n4, try: n4, finally: n4, return: i2, break: i2, continue: i2, new: t4("new"), delete: r3, void: r3, throw: r3, debugger: t4("debugger"), var: t4("var"), const: t4("var"), let: t4("var"), function: t4("function"), catch: t4("catch"), for: t4("for"), switch: t4("switch"), case: t4("case"), default: t4("default"), in: o2, typeof: o2, instanceof: o2, true: a2, false: a2, null: a2, undefined: a2, NaN: a2, Infinity: a2, this: t4("this"), class: t4("class"), super: t4("atom"), yield: r3, export: t4("export"), import: t4("import"), extends: r3, await: r3 };
            }(), d = /[+\-*&%=<>!?|~^@]/, p = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;
            function g(t4) {
              for (var e4, n4 = false, r3 = false; null != (e4 = t4.next()); ) {
                if (!n4) {
                  if ("/" == e4 && !r3) return;
                  "[" == e4 ? r3 = true : r3 && "]" == e4 && (r3 = false);
                }
                n4 = !n4 && "\\" == e4;
              }
            }
            function v(t4, e4, n4) {
              return r2 = t4, i = n4, e4;
            }
            function m(t4, e4) {
              var n4 = t4.next();
              if ('"' == n4 || "'" == n4) return e4.tokenize = y(n4), e4.tokenize(t4, e4);
              if ("." == n4 && t4.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/)) return v("number", "number");
              if ("." == n4 && t4.match("..")) return v("spread", "meta");
              if (/[\[\]{}\(\),;\:\.]/.test(n4)) return v(n4);
              if ("=" == n4 && t4.eat(">")) return v("=>", "operator");
              if ("0" == n4 && t4.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/)) return v("number", "number");
              if (/\d/.test(n4)) return t4.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/), v("number", "number");
              if ("/" == n4) return t4.eat("*") ? (e4.tokenize = b, b(t4, e4)) : t4.eat("/") ? (t4.skipToEnd(), v("comment", "comment")) : ie(t4, e4, 1) ? (g(t4), t4.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/), v("regexp", "string-2")) : (t4.eat("="), v("operator", "operator", t4.current()));
              if ("`" == n4) return e4.tokenize = w, w(t4, e4);
              if ("#" == n4 && "!" == t4.peek()) return t4.skipToEnd(), v("meta", "meta");
              if ("#" == n4 && t4.eatWhile(f)) return v("variable", "property");
              if ("<" == n4 && t4.match("!--") || "-" == n4 && t4.match("->") && !/\S/.test(t4.string.slice(0, t4.start))) return t4.skipToEnd(), v("comment", "comment");
              if (d.test(n4)) return ">" == n4 && e4.lexical && ">" == e4.lexical.type || (t4.eat("=") ? "!" != n4 && "=" != n4 || t4.eat("=") : /[<>*+\-|&?]/.test(n4) && (t4.eat(n4), ">" == n4 && t4.eat(n4))), "?" == n4 && t4.eat(".") ? v(".") : v("operator", "operator", t4.current());
              if (f.test(n4)) {
                t4.eatWhile(f);
                var r3 = t4.current();
                if ("." != e4.lastType) {
                  if (h.propertyIsEnumerable(r3)) {
                    var i2 = h[r3];
                    return v(i2.type, i2.style, r3);
                  }
                  if ("async" == r3 && t4.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/, false)) return v("async", "keyword", r3);
                }
                return v("variable", "variable", r3);
              }
            }
            function y(t4) {
              return function(e4, n4) {
                var r3, i2 = false;
                if (s && "@" == e4.peek() && e4.match(p)) return n4.tokenize = m, v("jsonld-keyword", "meta");
                for (; null != (r3 = e4.next()) && (r3 != t4 || i2); ) i2 = !i2 && "\\" == r3;
                return i2 || (n4.tokenize = m), v("string", "string");
              };
            }
            function b(t4, e4) {
              for (var n4, r3 = false; n4 = t4.next(); ) {
                if ("/" == n4 && r3) {
                  e4.tokenize = m;
                  break;
                }
                r3 = "*" == n4;
              }
              return v("comment", "comment");
            }
            function w(t4, e4) {
              for (var n4, r3 = false; null != (n4 = t4.next()); ) {
                if (!r3 && ("`" == n4 || "$" == n4 && t4.eat("{"))) {
                  e4.tokenize = m;
                  break;
                }
                r3 = !r3 && "\\" == n4;
              }
              return v("quasi", "string-2", t4.current());
            }
            var k = "([{}])";
            function x(t4, e4) {
              e4.fatArrowAt && (e4.fatArrowAt = null);
              var n4 = t4.string.indexOf("=>", t4.start);
              if (!(n4 < 0)) {
                if (u) {
                  var r3 = /:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(t4.string.slice(t4.start, n4));
                  r3 && (n4 = r3.index);
                }
                for (var i2 = 0, o2 = false, a2 = n4 - 1; a2 >= 0; --a2) {
                  var s2 = t4.string.charAt(a2), l2 = k.indexOf(s2);
                  if (l2 >= 0 && l2 < 3) {
                    if (!i2) {
                      ++a2;
                      break;
                    }
                    if (0 == --i2) {
                      "(" == s2 && (o2 = true);
                      break;
                    }
                  } else if (l2 >= 3 && l2 < 6) ++i2;
                  else if (f.test(s2)) o2 = true;
                  else if (/["'\/`]/.test(s2)) for (; ; --a2) {
                    if (0 == a2) return;
                    if (t4.string.charAt(a2 - 1) == s2 && "\\" != t4.string.charAt(a2 - 2)) {
                      a2--;
                      break;
                    }
                  }
                  else if (o2 && !i2) {
                    ++a2;
                    break;
                  }
                }
                o2 && !i2 && (e4.fatArrowAt = a2);
              }
            }
            var O = { atom: true, number: true, variable: true, string: true, regexp: true, this: true, import: true, "jsonld-keyword": true };
            function C(t4, e4, n4, r3, i2, o2) {
              this.indented = t4, this.column = e4, this.type = n4, this.prev = i2, this.info = o2, null != r3 && (this.align = r3);
            }
            function S(t4, e4) {
              if (!c) return false;
              for (var n4 = t4.localVars; n4; n4 = n4.next) if (n4.name == e4) return true;
              for (var r3 = t4.context; r3; r3 = r3.prev) for (n4 = r3.vars; n4; n4 = n4.next) if (n4.name == e4) return true;
            }
            function _(t4, e4, n4, r3, i2) {
              var o2 = t4.cc;
              for (P.state = t4, P.stream = i2, P.marked = null, P.cc = o2, P.style = e4, t4.lexical.hasOwnProperty("align") || (t4.lexical.align = true); 1; ) if ((o2.length ? o2.pop() : l ? W : z)(n4, r3)) {
                for (; o2.length && o2[o2.length - 1].lex; ) o2.pop()();
                return P.marked ? P.marked : "variable" == n4 && S(t4, r3) ? "variable-2" : e4;
              }
            }
            var P = { state: null, column: null, marked: null, cc: null };
            function T() {
              for (var t4 = arguments.length - 1; t4 >= 0; t4--) P.cc.push(arguments[t4]);
            }
            function E() {
              return T.apply(null, arguments), true;
            }
            function j(t4, e4) {
              for (var n4 = e4; n4; n4 = n4.next) if (n4.name == t4) return true;
              return false;
            }
            function A(t4) {
              var e4 = P.state;
              if (P.marked = "def", c) {
                if (e4.context) {
                  if ("var" == e4.lexical.info && e4.context && e4.context.block) {
                    var r3 = D(t4, e4.context);
                    if (null != r3) return void (e4.context = r3);
                  } else if (!j(t4, e4.localVars)) return void (e4.localVars = new Z(t4, e4.localVars));
                }
                n3.globalVars && !j(t4, e4.globalVars) && (e4.globalVars = new Z(t4, e4.globalVars));
              }
            }
            function D(t4, e4) {
              if (e4) {
                if (e4.block) {
                  var n4 = D(t4, e4.prev);
                  return n4 ? n4 == e4.prev ? e4 : new R(n4, e4.vars, true) : null;
                }
                return j(t4, e4.vars) ? e4 : new R(e4.prev, new Z(t4, e4.vars), false);
              }
              return null;
            }
            function M(t4) {
              return "public" == t4 || "private" == t4 || "protected" == t4 || "abstract" == t4 || "readonly" == t4;
            }
            function R(t4, e4, n4) {
              this.prev = t4, this.vars = e4, this.block = n4;
            }
            function Z(t4, e4) {
              this.name = t4, this.next = e4;
            }
            var L = new Z("this", new Z("arguments", null));
            function N() {
              P.state.context = new R(P.state.context, P.state.localVars, false), P.state.localVars = L;
            }
            function I() {
              P.state.context = new R(P.state.context, P.state.localVars, true), P.state.localVars = null;
            }
            function F() {
              P.state.localVars = P.state.context.vars, P.state.context = P.state.context.prev;
            }
            function V(t4, e4) {
              var n4 = function() {
                var n5 = P.state, r3 = n5.indented;
                if ("stat" == n5.lexical.type) r3 = n5.lexical.indented;
                else for (var i2 = n5.lexical; i2 && ")" == i2.type && i2.align; i2 = i2.prev) r3 = i2.indented;
                n5.lexical = new C(r3, P.stream.column(), t4, null, n5.lexical, e4);
              };
              return n4.lex = true, n4;
            }
            function B() {
              var t4 = P.state;
              t4.lexical.prev && (")" == t4.lexical.type && (t4.indented = t4.lexical.indented), t4.lexical = t4.lexical.prev);
            }
            function H(t4) {
              function e4(n4) {
                return n4 == t4 ? E() : ";" == t4 || "}" == n4 || ")" == n4 || "]" == n4 ? T() : E(e4);
              }
              return e4;
            }
            function z(t4, e4) {
              return "var" == t4 ? E(V("vardef", e4), Tt, H(";"), B) : "keyword a" == t4 ? E(V("form"), q, z, B) : "keyword b" == t4 ? E(V("form"), z, B) : "keyword d" == t4 ? P.stream.match(/^\s*$/, false) ? E() : E(V("stat"), K, H(";"), B) : "debugger" == t4 ? E(H(";")) : "{" == t4 ? E(V("}"), I, ht, B, F) : ";" == t4 ? E() : "if" == t4 ? ("else" == P.state.lexical.info && P.state.cc[P.state.cc.length - 1] == B && P.state.cc.pop()(), E(V("form"), q, z, B, Rt)) : "function" == t4 ? E(It) : "for" == t4 ? E(V("form"), I, Zt, z, F, B) : "class" == t4 || u && "interface" == e4 ? (P.marked = "keyword", E(V("form", "class" == t4 ? t4 : e4), zt, B)) : "variable" == t4 ? u && "declare" == e4 ? (P.marked = "keyword", E(z)) : u && ("module" == e4 || "enum" == e4 || "type" == e4) && P.stream.match(/^\s*\w/, false) ? (P.marked = "keyword", "enum" == e4 ? E(ee) : "type" == e4 ? E(Vt, H("operator"), mt, H(";")) : E(V("form"), Et, H("{"), V("}"), ht, B, B)) : u && "namespace" == e4 ? (P.marked = "keyword", E(V("form"), W, z, B)) : u && "abstract" == e4 ? (P.marked = "keyword", E(z)) : E(V("stat"), ot) : "switch" == t4 ? E(V("form"), q, H("{"), V("}", "switch"), I, ht, B, B, F) : "case" == t4 ? E(W, H(":")) : "default" == t4 ? E(H(":")) : "catch" == t4 ? E(V("form"), N, U, z, B, F) : "export" == t4 ? E(V("stat"), qt, B) : "import" == t4 ? E(V("stat"), Kt, B) : "async" == t4 ? E(z) : "@" == e4 ? E(W, z) : T(V("stat"), W, H(";"), B);
            }
            function U(t4) {
              if ("(" == t4) return E(Bt, H(")"));
            }
            function W(t4, e4) {
              return G(t4, e4, false);
            }
            function $(t4, e4) {
              return G(t4, e4, true);
            }
            function q(t4) {
              return "(" != t4 ? T() : E(V(")"), K, H(")"), B);
            }
            function G(t4, e4, n4) {
              if (P.state.fatArrowAt == P.stream.start) {
                var r3 = n4 ? et : tt;
                if ("(" == t4) return E(N, V(")"), ut(Bt, ")"), B, H("=>"), r3, F);
                if ("variable" == t4) return T(N, Et, H("=>"), r3, F);
              }
              var i2 = n4 ? X : Y;
              return O.hasOwnProperty(t4) ? E(i2) : "function" == t4 ? E(It, i2) : "class" == t4 || u && "interface" == e4 ? (P.marked = "keyword", E(V("form"), Ht, B)) : "keyword c" == t4 || "async" == t4 ? E(n4 ? $ : W) : "(" == t4 ? E(V(")"), K, H(")"), B, i2) : "operator" == t4 || "spread" == t4 ? E(n4 ? $ : W) : "[" == t4 ? E(V("]"), te, B, i2) : "{" == t4 ? ft(st, "}", null, i2) : "quasi" == t4 ? T(J, i2) : "new" == t4 ? E(nt(n4)) : E();
            }
            function K(t4) {
              return t4.match(/[;\}\)\],]/) ? T() : T(W);
            }
            function Y(t4, e4) {
              return "," == t4 ? E(K) : X(t4, e4, false);
            }
            function X(t4, e4, n4) {
              var r3 = 0 == n4 ? Y : X, i2 = 0 == n4 ? W : $;
              return "=>" == t4 ? E(N, n4 ? et : tt, F) : "operator" == t4 ? /\+\+|--/.test(e4) || u && "!" == e4 ? E(r3) : u && "<" == e4 && P.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/, false) ? E(V(">"), ut(mt, ">"), B, r3) : "?" == e4 ? E(W, H(":"), i2) : E(i2) : "quasi" == t4 ? T(J, r3) : ";" != t4 ? "(" == t4 ? ft($, ")", "call", r3) : "." == t4 ? E(at, r3) : "[" == t4 ? E(V("]"), K, H("]"), B, r3) : u && "as" == e4 ? (P.marked = "keyword", E(mt, r3)) : "regexp" == t4 ? (P.state.lastType = P.marked = "operator", P.stream.backUp(P.stream.pos - P.stream.start - 1), E(i2)) : void 0 : void 0;
            }
            function J(t4, e4) {
              return "quasi" != t4 ? T() : "${" != e4.slice(e4.length - 2) ? E(J) : E(K, Q);
            }
            function Q(t4) {
              if ("}" == t4) return P.marked = "string-2", P.state.tokenize = w, E(J);
            }
            function tt(t4) {
              return x(P.stream, P.state), T("{" == t4 ? z : W);
            }
            function et(t4) {
              return x(P.stream, P.state), T("{" == t4 ? z : $);
            }
            function nt(t4) {
              return function(e4) {
                return "." == e4 ? E(t4 ? it : rt) : "variable" == e4 && u ? E(St, t4 ? X : Y) : T(t4 ? $ : W);
              };
            }
            function rt(t4, e4) {
              if ("target" == e4) return P.marked = "keyword", E(Y);
            }
            function it(t4, e4) {
              if ("target" == e4) return P.marked = "keyword", E(X);
            }
            function ot(t4) {
              return ":" == t4 ? E(B, z) : T(Y, H(";"), B);
            }
            function at(t4) {
              if ("variable" == t4) return P.marked = "property", E();
            }
            function st(t4, e4) {
              return "async" == t4 ? (P.marked = "property", E(st)) : "variable" == t4 || "keyword" == P.style ? (P.marked = "property", "get" == e4 || "set" == e4 ? E(lt) : (u && P.state.fatArrowAt == P.stream.start && (n4 = P.stream.match(/^\s*:\s*/, false)) && (P.state.fatArrowAt = P.stream.pos + n4[0].length), E(ct))) : "number" == t4 || "string" == t4 ? (P.marked = s ? "property" : P.style + " property", E(ct)) : "jsonld-keyword" == t4 ? E(ct) : u && M(e4) ? (P.marked = "keyword", E(st)) : "[" == t4 ? E(W, dt, H("]"), ct) : "spread" == t4 ? E($, ct) : "*" == e4 ? (P.marked = "keyword", E(st)) : ":" == t4 ? T(ct) : void 0;
              var n4;
            }
            function lt(t4) {
              return "variable" != t4 ? T(ct) : (P.marked = "property", E(It));
            }
            function ct(t4) {
              return ":" == t4 ? E($) : "(" == t4 ? T(It) : void 0;
            }
            function ut(t4, e4, n4) {
              function r3(i2, o2) {
                if (n4 ? n4.indexOf(i2) > -1 : "," == i2) {
                  var a2 = P.state.lexical;
                  return "call" == a2.info && (a2.pos = (a2.pos || 0) + 1), E(function(n5, r4) {
                    return n5 == e4 || r4 == e4 ? T() : T(t4);
                  }, r3);
                }
                return i2 == e4 || o2 == e4 ? E() : n4 && n4.indexOf(";") > -1 ? T(t4) : E(H(e4));
              }
              return function(n5, i2) {
                return n5 == e4 || i2 == e4 ? E() : T(t4, r3);
              };
            }
            function ft(t4, e4, n4) {
              for (var r3 = 3; r3 < arguments.length; r3++) P.cc.push(arguments[r3]);
              return E(V(e4, n4), ut(t4, e4), B);
            }
            function ht(t4) {
              return "}" == t4 ? E() : T(z, ht);
            }
            function dt(t4, e4) {
              if (u) {
                if (":" == t4) return E(mt);
                if ("?" == e4) return E(dt);
              }
            }
            function pt(t4, e4) {
              if (u && (":" == t4 || "in" == e4)) return E(mt);
            }
            function gt(t4) {
              if (u && ":" == t4) return P.stream.match(/^\s*\w+\s+is\b/, false) ? E(W, vt, mt) : E(mt);
            }
            function vt(t4, e4) {
              if ("is" == e4) return P.marked = "keyword", E();
            }
            function mt(t4, e4) {
              return "keyof" == e4 || "typeof" == e4 || "infer" == e4 || "readonly" == e4 ? (P.marked = "keyword", E("typeof" == e4 ? $ : mt)) : "variable" == t4 || "void" == e4 ? (P.marked = "type", E(Ct)) : "|" == e4 || "&" == e4 ? E(mt) : "string" == t4 || "number" == t4 || "atom" == t4 ? E(Ct) : "[" == t4 ? E(V("]"), ut(mt, "]", ","), B, Ct) : "{" == t4 ? E(V("}"), bt, B, Ct) : "(" == t4 ? E(ut(Ot, ")"), yt, Ct) : "<" == t4 ? E(ut(mt, ">"), mt) : "quasi" == t4 ? T(kt, Ct) : void 0;
            }
            function yt(t4) {
              if ("=>" == t4) return E(mt);
            }
            function bt(t4) {
              return t4.match(/[\}\)\]]/) ? E() : "," == t4 || ";" == t4 ? E(bt) : T(wt, bt);
            }
            function wt(t4, e4) {
              return "variable" == t4 || "keyword" == P.style ? (P.marked = "property", E(wt)) : "?" == e4 || "number" == t4 || "string" == t4 ? E(wt) : ":" == t4 ? E(mt) : "[" == t4 ? E(H("variable"), pt, H("]"), wt) : "(" == t4 ? T(Ft, wt) : t4.match(/[;\}\)\],]/) ? void 0 : E();
            }
            function kt(t4, e4) {
              return "quasi" != t4 ? T() : "${" != e4.slice(e4.length - 2) ? E(kt) : E(mt, xt);
            }
            function xt(t4) {
              if ("}" == t4) return P.marked = "string-2", P.state.tokenize = w, E(kt);
            }
            function Ot(t4, e4) {
              return "variable" == t4 && P.stream.match(/^\s*[?:]/, false) || "?" == e4 ? E(Ot) : ":" == t4 ? E(mt) : "spread" == t4 ? E(Ot) : T(mt);
            }
            function Ct(t4, e4) {
              return "<" == e4 ? E(V(">"), ut(mt, ">"), B, Ct) : "|" == e4 || "." == t4 || "&" == e4 ? E(mt) : "[" == t4 ? E(mt, H("]"), Ct) : "extends" == e4 || "implements" == e4 ? (P.marked = "keyword", E(mt)) : "?" == e4 ? E(mt, H(":"), mt) : void 0;
            }
            function St(t4, e4) {
              if ("<" == e4) return E(V(">"), ut(mt, ">"), B, Ct);
            }
            function _t() {
              return T(mt, Pt);
            }
            function Pt(t4, e4) {
              if ("=" == e4) return E(mt);
            }
            function Tt(t4, e4) {
              return "enum" == e4 ? (P.marked = "keyword", E(ee)) : T(Et, dt, Dt, Mt);
            }
            function Et(t4, e4) {
              return u && M(e4) ? (P.marked = "keyword", E(Et)) : "variable" == t4 ? (A(e4), E()) : "spread" == t4 ? E(Et) : "[" == t4 ? ft(At, "]") : "{" == t4 ? ft(jt, "}") : void 0;
            }
            function jt(t4, e4) {
              return "variable" != t4 || P.stream.match(/^\s*:/, false) ? ("variable" == t4 && (P.marked = "property"), "spread" == t4 ? E(Et) : "}" == t4 ? T() : "[" == t4 ? E(W, H("]"), H(":"), jt) : E(H(":"), Et, Dt)) : (A(e4), E(Dt));
            }
            function At() {
              return T(Et, Dt);
            }
            function Dt(t4, e4) {
              if ("=" == e4) return E($);
            }
            function Mt(t4) {
              if ("," == t4) return E(Tt);
            }
            function Rt(t4, e4) {
              if ("keyword b" == t4 && "else" == e4) return E(V("form", "else"), z, B);
            }
            function Zt(t4, e4) {
              return "await" == e4 ? E(Zt) : "(" == t4 ? E(V(")"), Lt, B) : void 0;
            }
            function Lt(t4) {
              return "var" == t4 ? E(Tt, Nt) : "variable" == t4 ? E(Nt) : T(Nt);
            }
            function Nt(t4, e4) {
              return ")" == t4 ? E() : ";" == t4 ? E(Nt) : "in" == e4 || "of" == e4 ? (P.marked = "keyword", E(W, Nt)) : T(W, Nt);
            }
            function It(t4, e4) {
              return "*" == e4 ? (P.marked = "keyword", E(It)) : "variable" == t4 ? (A(e4), E(It)) : "(" == t4 ? E(N, V(")"), ut(Bt, ")"), B, gt, z, F) : u && "<" == e4 ? E(V(">"), ut(_t, ">"), B, It) : void 0;
            }
            function Ft(t4, e4) {
              return "*" == e4 ? (P.marked = "keyword", E(Ft)) : "variable" == t4 ? (A(e4), E(Ft)) : "(" == t4 ? E(N, V(")"), ut(Bt, ")"), B, gt, F) : u && "<" == e4 ? E(V(">"), ut(_t, ">"), B, Ft) : void 0;
            }
            function Vt(t4, e4) {
              return "keyword" == t4 || "variable" == t4 ? (P.marked = "type", E(Vt)) : "<" == e4 ? E(V(">"), ut(_t, ">"), B) : void 0;
            }
            function Bt(t4, e4) {
              return "@" == e4 && E(W, Bt), "spread" == t4 ? E(Bt) : u && M(e4) ? (P.marked = "keyword", E(Bt)) : u && "this" == t4 ? E(dt, Dt) : T(Et, dt, Dt);
            }
            function Ht(t4, e4) {
              return "variable" == t4 ? zt(t4, e4) : Ut(t4, e4);
            }
            function zt(t4, e4) {
              if ("variable" == t4) return A(e4), E(Ut);
            }
            function Ut(t4, e4) {
              return "<" == e4 ? E(V(">"), ut(_t, ">"), B, Ut) : "extends" == e4 || "implements" == e4 || u && "," == t4 ? ("implements" == e4 && (P.marked = "keyword"), E(u ? mt : W, Ut)) : "{" == t4 ? E(V("}"), Wt, B) : void 0;
            }
            function Wt(t4, e4) {
              return "async" == t4 || "variable" == t4 && ("static" == e4 || "get" == e4 || "set" == e4 || u && M(e4)) && P.stream.match(/^\s+[\w$\xa1-\uffff]/, false) ? (P.marked = "keyword", E(Wt)) : "variable" == t4 || "keyword" == P.style ? (P.marked = "property", E($t, Wt)) : "number" == t4 || "string" == t4 ? E($t, Wt) : "[" == t4 ? E(W, dt, H("]"), $t, Wt) : "*" == e4 ? (P.marked = "keyword", E(Wt)) : u && "(" == t4 ? T(Ft, Wt) : ";" == t4 || "," == t4 ? E(Wt) : "}" == t4 ? E() : "@" == e4 ? E(W, Wt) : void 0;
            }
            function $t(t4, e4) {
              if ("!" == e4) return E($t);
              if ("?" == e4) return E($t);
              if (":" == t4) return E(mt, Dt);
              if ("=" == e4) return E($);
              var n4 = P.state.lexical.prev;
              return T(n4 && "interface" == n4.info ? Ft : It);
            }
            function qt(t4, e4) {
              return "*" == e4 ? (P.marked = "keyword", E(Qt, H(";"))) : "default" == e4 ? (P.marked = "keyword", E(W, H(";"))) : "{" == t4 ? E(ut(Gt, "}"), Qt, H(";")) : T(z);
            }
            function Gt(t4, e4) {
              return "as" == e4 ? (P.marked = "keyword", E(H("variable"))) : "variable" == t4 ? T($, Gt) : void 0;
            }
            function Kt(t4) {
              return "string" == t4 ? E() : "(" == t4 ? T(W) : "." == t4 ? T(Y) : T(Yt, Xt, Qt);
            }
            function Yt(t4, e4) {
              return "{" == t4 ? ft(Yt, "}") : ("variable" == t4 && A(e4), "*" == e4 && (P.marked = "keyword"), E(Jt));
            }
            function Xt(t4) {
              if ("," == t4) return E(Yt, Xt);
            }
            function Jt(t4, e4) {
              if ("as" == e4) return P.marked = "keyword", E(Yt);
            }
            function Qt(t4, e4) {
              if ("from" == e4) return P.marked = "keyword", E(W);
            }
            function te(t4) {
              return "]" == t4 ? E() : T(ut($, "]"));
            }
            function ee() {
              return T(V("form"), Et, H("{"), V("}"), ut(ne, "}"), B, B);
            }
            function ne() {
              return T(Et, Dt);
            }
            function re(t4, e4) {
              return "operator" == t4.lastType || "," == t4.lastType || d.test(e4.charAt(0)) || /[,.]/.test(e4.charAt(0));
            }
            function ie(t4, e4, n4) {
              return e4.tokenize == m && /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(e4.lastType) || "quasi" == e4.lastType && /\{\s*$/.test(t4.string.slice(0, t4.pos - (n4 || 0)));
            }
            return F.lex = true, B.lex = true, { startState: function(t4) {
              var e4 = { tokenize: m, lastType: "sof", cc: [], lexical: new C((t4 || 0) - o, 0, "block", false), localVars: n3.localVars, context: n3.localVars && new R(null, null, false), indented: t4 || 0 };
              return n3.globalVars && "object" == typeof n3.globalVars && (e4.globalVars = n3.globalVars), e4;
            }, token: function(t4, e4) {
              if (t4.sol() && (e4.lexical.hasOwnProperty("align") || (e4.lexical.align = false), e4.indented = t4.indentation(), x(t4, e4)), e4.tokenize != b && t4.eatSpace()) return null;
              var n4 = e4.tokenize(t4, e4);
              return "comment" == r2 ? n4 : (e4.lastType = "operator" != r2 || "++" != i && "--" != i ? r2 : "incdec", _(e4, n4, r2, i, t4));
            }, indent: function(e4, r3) {
              if (e4.tokenize == b || e4.tokenize == w) return t3.Pass;
              if (e4.tokenize != m) return 0;
              var i2, s2 = r3 && r3.charAt(0), l2 = e4.lexical;
              if (!/^\s*else\b/.test(r3)) for (var c2 = e4.cc.length - 1; c2 >= 0; --c2) {
                var u2 = e4.cc[c2];
                if (u2 == B) l2 = l2.prev;
                else if (u2 != Rt && u2 != F) break;
              }
              for (; ("stat" == l2.type || "form" == l2.type) && ("}" == s2 || (i2 = e4.cc[e4.cc.length - 1]) && (i2 == Y || i2 == X) && !/^[,\.=+\-*:?[\(]/.test(r3)); ) l2 = l2.prev;
              a && ")" == l2.type && "stat" == l2.prev.type && (l2 = l2.prev);
              var f2 = l2.type, h2 = s2 == f2;
              return "vardef" == f2 ? l2.indented + ("operator" == e4.lastType || "," == e4.lastType ? l2.info.length + 1 : 0) : "form" == f2 && "{" == s2 ? l2.indented : "form" == f2 ? l2.indented + o : "stat" == f2 ? l2.indented + (re(e4, r3) ? a || o : 0) : "switch" != l2.info || h2 || 0 == n3.doubleIndentSwitch ? l2.align ? l2.column + (h2 ? 0 : 1) : l2.indented + (h2 ? 0 : o) : l2.indented + (/^(?:case|default)\b/.test(r3) ? o : 2 * o);
            }, electricInput: /^\s*(?:case .*?:|default:|\{|\})$/, blockCommentStart: l ? null : "/*", blockCommentEnd: l ? null : "*/", blockCommentContinue: l ? null : " * ", lineComment: l ? null : "//", fold: "brace", closeBrackets: "()[]{}''\"\"``", helperType: l ? "json" : "javascript", jsonldMode: s, jsonMode: l, expressionAllowed: ie, skipExpression: function(e4) {
              _(e4, "atom", "atom", "true", new t3.StringStream("", 2, null));
            } };
          }), t3.registerHelper("wordChars", "javascript", /[\w$]/), t3.defineMIME("text/javascript", "javascript"), t3.defineMIME("text/ecmascript", "javascript"), t3.defineMIME("application/javascript", "javascript"), t3.defineMIME("application/x-javascript", "javascript"), t3.defineMIME("application/ecmascript", "javascript"), t3.defineMIME("application/json", { name: "javascript", json: true }), t3.defineMIME("application/x-json", { name: "javascript", json: true }), t3.defineMIME("application/manifest+json", { name: "javascript", json: true }), t3.defineMIME("application/ld+json", { name: "javascript", jsonld: true }), t3.defineMIME("text/typescript", { name: "javascript", typescript: true }), t3.defineMIME("application/typescript", { name: "javascript", typescript: true });
        })(n2(4631));
      }, 9589: (t2, e2, n2) => {
        (function(t3) {
          "use strict";
          var e3 = { autoSelfClosers: { area: true, base: true, br: true, col: true, command: true, embed: true, frame: true, hr: true, img: true, input: true, keygen: true, link: true, meta: true, param: true, source: true, track: true, wbr: true, menuitem: true }, implicitlyClosed: { dd: true, li: true, optgroup: true, option: true, p: true, rp: true, rt: true, tbody: true, td: true, tfoot: true, th: true, tr: true }, contextGrabbers: { dd: { dd: true, dt: true }, dt: { dd: true, dt: true }, li: { li: true }, option: { option: true, optgroup: true }, optgroup: { optgroup: true }, p: { address: true, article: true, aside: true, blockquote: true, dir: true, div: true, dl: true, fieldset: true, footer: true, form: true, h1: true, h2: true, h3: true, h4: true, h5: true, h6: true, header: true, hgroup: true, hr: true, menu: true, nav: true, ol: true, p: true, pre: true, section: true, table: true, ul: true }, rp: { rp: true, rt: true }, rt: { rp: true, rt: true }, tbody: { tbody: true, tfoot: true }, td: { td: true, th: true }, tfoot: { tbody: true }, th: { td: true, th: true }, thead: { tbody: true, tfoot: true }, tr: { tr: true } }, doNotIndent: { pre: true }, allowUnquoted: true, allowMissing: true, caseFold: true }, n3 = { autoSelfClosers: {}, implicitlyClosed: {}, contextGrabbers: {}, doNotIndent: {}, allowUnquoted: false, allowMissing: false, allowMissingTagName: false, caseFold: false };
          t3.defineMode("xml", function(r2, i) {
            var o, a, s = r2.indentUnit, l = {}, c = i.htmlMode ? e3 : n3;
            for (var u in c) l[u] = c[u];
            for (var u in i) l[u] = i[u];
            function f(t4, e4) {
              function n4(n5) {
                return e4.tokenize = n5, n5(t4, e4);
              }
              var r3 = t4.next();
              return "<" == r3 ? t4.eat("!") ? t4.eat("[") ? t4.match("CDATA[") ? n4(p("atom", "]]>")) : null : t4.match("--") ? n4(p("comment", "-->")) : t4.match("DOCTYPE", true, true) ? (t4.eatWhile(/[\w\._\-]/), n4(g(1))) : null : t4.eat("?") ? (t4.eatWhile(/[\w\._\-]/), e4.tokenize = p("meta", "?>"), "meta") : (o = t4.eat("/") ? "closeTag" : "openTag", e4.tokenize = h, "tag bracket") : "&" == r3 ? (t4.eat("#") ? t4.eat("x") ? t4.eatWhile(/[a-fA-F\d]/) && t4.eat(";") : t4.eatWhile(/[\d]/) && t4.eat(";") : t4.eatWhile(/[\w\.\-:]/) && t4.eat(";")) ? "atom" : "error" : (t4.eatWhile(/[^&<]/), null);
            }
            function h(t4, e4) {
              var n4 = t4.next();
              if (">" == n4 || "/" == n4 && t4.eat(">")) return e4.tokenize = f, o = ">" == n4 ? "endTag" : "selfcloseTag", "tag bracket";
              if ("=" == n4) return o = "equals", null;
              if ("<" == n4) {
                e4.tokenize = f, e4.state = w, e4.tagName = e4.tagStart = null;
                var r3 = e4.tokenize(t4, e4);
                return r3 ? r3 + " tag error" : "tag error";
              }
              return /[\'\"]/.test(n4) ? (e4.tokenize = d(n4), e4.stringStartCol = t4.column(), e4.tokenize(t4, e4)) : (t4.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/), "word");
            }
            function d(t4) {
              var e4 = function(e5, n4) {
                for (; !e5.eol(); ) if (e5.next() == t4) {
                  n4.tokenize = h;
                  break;
                }
                return "string";
              };
              return e4.isInAttribute = true, e4;
            }
            function p(t4, e4) {
              return function(n4, r3) {
                for (; !n4.eol(); ) {
                  if (n4.match(e4)) {
                    r3.tokenize = f;
                    break;
                  }
                  n4.next();
                }
                return t4;
              };
            }
            function g(t4) {
              return function(e4, n4) {
                for (var r3; null != (r3 = e4.next()); ) {
                  if ("<" == r3) return n4.tokenize = g(t4 + 1), n4.tokenize(e4, n4);
                  if (">" == r3) {
                    if (1 == t4) {
                      n4.tokenize = f;
                      break;
                    }
                    return n4.tokenize = g(t4 - 1), n4.tokenize(e4, n4);
                  }
                }
                return "meta";
              };
            }
            function v(t4) {
              return t4 && t4.toLowerCase();
            }
            function m(t4, e4, n4) {
              this.prev = t4.context, this.tagName = e4 || "", this.indent = t4.indented, this.startOfLine = n4, (l.doNotIndent.hasOwnProperty(e4) || t4.context && t4.context.noIndent) && (this.noIndent = true);
            }
            function y(t4) {
              t4.context && (t4.context = t4.context.prev);
            }
            function b(t4, e4) {
              for (var n4; 1; ) {
                if (!t4.context) return;
                if (n4 = t4.context.tagName, !l.contextGrabbers.hasOwnProperty(v(n4)) || !l.contextGrabbers[v(n4)].hasOwnProperty(v(e4))) return;
                y(t4);
              }
            }
            function w(t4, e4, n4) {
              return "openTag" == t4 ? (n4.tagStart = e4.column(), k) : "closeTag" == t4 ? x : w;
            }
            function k(t4, e4, n4) {
              return "word" == t4 ? (n4.tagName = e4.current(), a = "tag", S) : l.allowMissingTagName && "endTag" == t4 ? (a = "tag bracket", S(t4, e4, n4)) : (a = "error", k);
            }
            function x(t4, e4, n4) {
              if ("word" == t4) {
                var r3 = e4.current();
                return n4.context && n4.context.tagName != r3 && l.implicitlyClosed.hasOwnProperty(v(n4.context.tagName)) && y(n4), n4.context && n4.context.tagName == r3 || false === l.matchClosing ? (a = "tag", O) : (a = "tag error", C);
              }
              return l.allowMissingTagName && "endTag" == t4 ? (a = "tag bracket", O(t4, e4, n4)) : (a = "error", C);
            }
            function O(t4, e4, n4) {
              return "endTag" != t4 ? (a = "error", O) : (y(n4), w);
            }
            function C(t4, e4, n4) {
              return a = "error", O(t4, e4, n4);
            }
            function S(t4, e4, n4) {
              if ("word" == t4) return a = "attribute", _;
              if ("endTag" == t4 || "selfcloseTag" == t4) {
                var r3 = n4.tagName, i2 = n4.tagStart;
                return n4.tagName = n4.tagStart = null, "selfcloseTag" == t4 || l.autoSelfClosers.hasOwnProperty(v(r3)) ? b(n4, r3) : (b(n4, r3), n4.context = new m(n4, r3, i2 == n4.indented)), w;
              }
              return a = "error", S;
            }
            function _(t4, e4, n4) {
              return "equals" == t4 ? P : (l.allowMissing || (a = "error"), S(t4, e4, n4));
            }
            function P(t4, e4, n4) {
              return "string" == t4 ? T : "word" == t4 && l.allowUnquoted ? (a = "string", S) : (a = "error", S(t4, e4, n4));
            }
            function T(t4, e4, n4) {
              return "string" == t4 ? T : S(t4, e4, n4);
            }
            return f.isInText = true, { startState: function(t4) {
              var e4 = { tokenize: f, state: w, indented: t4 || 0, tagName: null, tagStart: null, context: null };
              return null != t4 && (e4.baseIndent = t4), e4;
            }, token: function(t4, e4) {
              if (!e4.tagName && t4.sol() && (e4.indented = t4.indentation()), t4.eatSpace()) return null;
              o = null;
              var n4 = e4.tokenize(t4, e4);
              return (n4 || o) && "comment" != n4 && (a = null, e4.state = e4.state(o || n4, t4, e4), a && (n4 = "error" == a ? n4 + " error" : a)), n4;
            }, indent: function(e4, n4, r3) {
              var i2 = e4.context;
              if (e4.tokenize.isInAttribute) return e4.tagStart == e4.indented ? e4.stringStartCol + 1 : e4.indented + s;
              if (i2 && i2.noIndent) return t3.Pass;
              if (e4.tokenize != h && e4.tokenize != f) return r3 ? r3.match(/^(\s*)/)[0].length : 0;
              if (e4.tagName) return false !== l.multilineTagIndentPastTag ? e4.tagStart + e4.tagName.length + 2 : e4.tagStart + s * (l.multilineTagIndentFactor || 1);
              if (l.alignCDATA && /<!\[CDATA\[/.test(n4)) return 0;
              var o2 = n4 && /^<(\/)?([\w_:\.-]*)/.exec(n4);
              if (o2 && o2[1]) for (; i2; ) {
                if (i2.tagName == o2[2]) {
                  i2 = i2.prev;
                  break;
                }
                if (!l.implicitlyClosed.hasOwnProperty(v(i2.tagName))) break;
                i2 = i2.prev;
              }
              else if (o2) for (; i2; ) {
                var a2 = l.contextGrabbers[v(i2.tagName)];
                if (!a2 || !a2.hasOwnProperty(v(o2[2]))) break;
                i2 = i2.prev;
              }
              for (; i2 && i2.prev && !i2.startOfLine; ) i2 = i2.prev;
              return i2 ? i2.indent + s : e4.baseIndent || 0;
            }, electricInput: /<\/[\s\w:]+>$/, blockCommentStart: "<!--", blockCommentEnd: "-->", configuration: l.htmlMode ? "html" : "xml", helperType: l.htmlMode ? "html" : "xml", skipAttribute: function(t4) {
              t4.state == P && (t4.state = S);
            }, xmlCurrentTag: function(t4) {
              return t4.tagName ? { name: t4.tagName, close: "closeTag" == t4.type } : null;
            }, xmlCurrentContext: function(t4) {
              for (var e4 = [], n4 = t4.context; n4; n4 = n4.prev) e4.push(n4.tagName);
              return e4.reverse();
            } };
          }), t3.defineMIME("text/xml", "xml"), t3.defineMIME("application/xml", "xml"), t3.mimeModes.hasOwnProperty("text/html") || t3.defineMIME("text/html", { name: "xml", htmlMode: true });
        })(n2(4631));
      }, 9714: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => f });
        var r2 = n2(4942), i = n2(2982), o = n2(5671), a = n2(3144), s = n2(9050), l = n2(1163);
        function c(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function u(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? c(Object(n3), true).forEach(function(e4) {
              (0, r2.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : c(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var f = function() {
          function t3() {
            (0, o.Z)(this, t3);
          }
          return (0, a.Z)(t3, [{ key: "getConfig", value: function(t4) {
            return this.__getConfig(t4);
          } }, { key: "getProjectData", value: function(t4) {
            var e3 = {}, n3 = this.storageKey;
            return n3 && (e3[n3] = t4 || this.getAll()), e3;
          } }, { key: "loadProjectData", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n3 = e3.all, r3 = e3.onResult, i2 = e3.reset, o2 = this.storageKey, a2 = { action: "load" }, s2 = n3 || this.getAll(), c2 = t4[o2];
            if ("string" == typeof c2) try {
              c2 = JSON.parse(c2);
            } catch (t5) {
              this.__logWarn("Data parsing failed", { input: c2 });
            }
            return i2 && c2 && s2.reset(null, a2), r3 ? c2 && r3(c2, a2) : c2 && (0, l.isDef)(c2.length) && s2.reset(c2, a2), c2;
          } }, { key: "clear", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e3 = this.all;
            return e3 && e3.reset(null, t4), this;
          } }, { key: "__getConfig", value: function(t4) {
            var e3 = this.config || {};
            return t4 ? e3[t4] : e3;
          } }, { key: "getAll", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return this.all ? t4.array ? (0, i.Z)(this.all.models) : this.all : [];
          } }, { key: "getAllMap", value: function() {
            return this.getAll().reduce(function(t4, e3) {
              return t4[e3.get(e3.idAttribute)] = e3, t4;
            }, {});
          } }, { key: "__initConfig", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            this.config = (0, l.deepMerge)(t4, e3), this.em = this.config.em, this.cls = [];
          } }, { key: "__initListen", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e3 = this.all, n3 = this.em, r3 = this.events;
            e3 && n3 && e3.on("add", function(t5, e4, i2) {
              return n3.trigger(r3.add, t5, i2);
            }).on("remove", function(t5, e4, i2) {
              return n3.trigger(r3.remove, t5, i2);
            }).on("change", function(t5, e4) {
              return n3.trigger(r3.update, t5, t5.changedAttributes(), e4);
            }).on("all", this.__catchAllEvent, this), this.cls = [e3].concat(t4.collections || []), (t4.propagate || []).forEach(function(t5) {
              var r4 = t5.entity, i2 = t5.event;
              r4.on("all", function(t6, r5, o2, a2) {
                var s2 = u({ event: t6 }, a2 || o2);
                [n3, e3].map(function(t7) {
                  return t7.trigger(i2, r5, s2);
                });
              });
            });
          } }, { key: "__remove", value: function(t4) {
            var e3 = this, n3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = this.em, i2 = (0, s.isString)(t4) ? this.get(t4) : t4, o2 = function() {
              return i2 && e3.all.remove(i2, n3), i2;
            };
            return !n3.silent && r3 && r3.trigger(this.events.removeBefore, i2, o2, n3), !n3.abort && o2();
          } }, { key: "__catchAllEvent", value: function(t4, e3, n3, r3) {
            var i2 = this.em, o2 = this.events, a2 = r3 || n3;
            i2 && o2.all && i2.trigger(o2.all, { event: t4, model: e3, options: a2 }), this.__onAllEvent();
          } }, { key: "__appendTo", value: function() {
            var t4 = this.getConfig().appendTo;
            if (t4) {
              var e3 = (0, s.isElement)(t4) ? t4 : document.querySelector(t4);
              if (!e3) return this.__logWarn('"appendTo" element not found');
              e3.appendChild(this.render());
            }
          } }, { key: "__onAllEvent", value: function() {
          } }, { key: "__logWarn", value: function(t4, e3) {
            this.em.logWarning("[".concat(this.name, "]: ").concat(t4), e3);
          } }, { key: "_createId", value: function() {
            var t4, e3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 16, n3 = this.getAll(), r3 = n3.length + e3, i2 = this.getAllMap();
            do {
              t4 = (0, l.createId)(r3);
            } while (i2[t4]);
            return t4;
          } }, { key: "__listenAdd", value: function(t4, e3) {
            var n3 = this;
            t4.on("add", function(t5, r3, i2) {
              return n3.em.trigger(e3, t5, i2);
            });
          } }, { key: "__listenRemove", value: function(t4, e3) {
            var n3 = this;
            t4.on("remove", function(t5, r3, i2) {
              return n3.em.trigger(e3, t5, i2);
            });
          } }, { key: "__listenUpdate", value: function(t4, e3) {
            var n3 = this;
            t4.on("change", function(t5, r3) {
              return n3.em.trigger(e3, t5, t5.changedAttributes(), r3);
            });
          } }, { key: "__destroy", value: function() {
            var t4;
            this.cls.forEach(function(t5) {
              t5.stopListening(), t5.reset();
            }), this.em = 0, this.config = 0, null === (t4 = this.view) || void 0 === t4 || t4.remove(), this.view = 0;
          } }]), t3;
        }();
      }, 1030: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => et, evAdd: () => U, evAll: () => V, evClose: () => K, evCustom: () => q, evOpen: () => G, evPfx: () => B, evRemove: () => W, evRemoveBefore: () => $, evSelect: () => H, evUpdate: () => z, evUpload: () => Y, evUploadEnd: () => J, evUploadError: () => Q, evUploadRes: () => tt, evUploadStart: () => X });
        var r2 = n2(4942), i = n2(9050), o = n2(9304);
        const a = { assets: [], noAssets: "", stylePrefix: "am-", upload: 0, uploadName: "files", headers: {}, params: {}, credentials: "include", multiUpload: true, autoAdd: true, customFetch: null, uploadFile: null, embedAsBase64: true, handleAdd: null, beforeUpload: null, showUrlInput: true, custom: false, dropzone: false, openAssetsOnDrop: 1, dropzoneContent: "" };
        var s = n2(3144), l = n2(5671), c = n2(9340), u = n2(2963), f = n2(1120), h = n2(2316);
        function d(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, f.Z)(t3);
            if (e3) {
              var i2 = (0, f.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, u.Z)(this, n3);
          };
        }
        var p = function(t3) {
          (0, c.Z)(n3, t3);
          var e3 = d(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, s.Z)(n3, [{ key: "defaults", value: function() {
            return { type: "", src: "" };
          } }, { key: "getType", value: function() {
            return this.get("type");
          } }, { key: "getSrc", value: function() {
            return this.get("src");
          } }, { key: "getFilename", value: function() {
            return this.get("src").split("/").pop().split("?").shift();
          } }, { key: "getExtension", value: function() {
            return this.getFilename().split(".").pop();
          } }]), n3;
        }(h.Model);
        function g(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function v(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? g(Object(n3), true).forEach(function(e4) {
              (0, r2.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : g(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function m(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, f.Z)(t3);
            if (e3) {
              var i2 = (0, f.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, u.Z)(this, n3);
          };
        }
        p.prototype.idAttribute = "src", p.getDefaults = function() {
          return (0, i.result)(this.prototype, "defaults");
        };
        var y = function(t3) {
          (0, c.Z)(n3, t3);
          var e3 = m(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, s.Z)(n3, [{ key: "defaults", value: function() {
            return v(v({}, p.getDefaults()), {}, { type: "image", unitDim: "px", height: 0, width: 0 });
          } }]), n3;
        }(p), b = n2(168);
        function w(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, f.Z)(t3);
            if (e3) {
              var i2 = (0, f.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, u.Z)(this, n3);
          };
        }
        var k, x, O = function(t3) {
          (0, c.Z)(n3, t3);
          var e3 = w(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, s.Z)(n3, [{ key: "initialize", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            this.options = t4, this.collection = t4.collection;
            var e4 = t4.config || {};
            this.config = e4, this.pfx = e4.stylePrefix || "", this.ppfx = e4.pStylePrefix || "", this.em = e4.em, this.className = this.pfx + "asset", this.listenTo(this.model, "destroy remove", this.remove), this.model.view = this;
            var n4 = this.init && this.init.bind(this);
            n4 && n4(t4);
          } }, { key: "__getBhv", value: function() {
            var t4 = this.em, e4 = t4 && t4.get("AssetManager");
            return e4 && e4.__getBehaviour() || {};
          } }, { key: "template", value: function() {
            var t4 = this.pfx;
            return '\n      <div class="'.concat(t4, 'preview-cont">\n        ').concat(this.getPreview(), '\n      </div>\n      <div class="').concat(t4, 'meta">\n        ').concat(this.getInfo(), '\n      </div>\n      <div class="').concat(t4, 'close" data-toggle="asset-remove">\n        &Cross;\n      </div>\n    ');
          } }, { key: "updateTarget", value: function(t4) {
            t4 && t4.set && (t4.set("attributes", (0, i.clone)(t4.get("attributes"))), t4.set("src", this.model.get("src")));
          } }, { key: "getPreview", value: function() {
            return "";
          } }, { key: "getInfo", value: function() {
            return "";
          } }, { key: "render", value: function() {
            var t4 = this.el;
            return t4.innerHTML = this.template(this, this.model), t4.className = this.className, this;
          } }]), n3;
        }(h.View), C = n2(7539);
        function S(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, f.Z)(t3);
            if (e3) {
              var i2 = (0, f.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, u.Z)(this, n3);
          };
        }
        var _ = function(t3) {
          (0, c.Z)(n3, t3);
          var e3 = S(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, s.Z)(n3, [{ key: "getPreview", value: function() {
            var t4 = this.pfx, e4 = this.ppfx, n4 = this.model.get("src");
            return (0, C.Z)(k || (k = (0, b.Z)(['\n      <div class="', `preview" style="background-image: url('`, `');"></div>
      <div class="`, "preview-bg ", 'checker-bg"></div>\n    '])), t4, n4, t4, e4);
          } }, { key: "getInfo", value: function() {
            var t4 = this.pfx, e4 = this.model, n4 = e4.get("name"), r3 = e4.get("width"), i2 = e4.get("height"), o2 = e4.get("unitDim"), a2 = r3 && i2 ? "".concat(r3, "x").concat(i2).concat(o2) : "";
            return n4 = n4 || e4.getFilename(), (0, C.Z)(x || (x = (0, b.Z)(['\n      <div class="', 'name">', '</div>\n      <div class="', 'dimensions">', "</div>\n    "])), t4, n4, t4, a2);
          } }, { key: "init", value: function(t4) {
            var e4 = this.pfx;
            this.className += " ".concat(e4, "asset-image");
          } }, { key: "onClick", value: function() {
            var t4 = this.model, e4 = this.pfx, n4 = this.__getBhv().select, r3 = this.config.onClick, o2 = this.collection;
            o2.trigger("deselectAll"), this.$el.addClass(e4 + "highlight"), (0, i.isFunction)(n4) ? n4(t4, false) : (0, i.isFunction)(r3) ? r3(t4) : this.updateTarget(o2.target);
          } }, { key: "onDblClick", value: function() {
            var t4 = this.em, e4 = this.model, n4 = this.__getBhv().select, r3 = this.config.onDblClick, o2 = this.collection, a2 = o2.target, s2 = o2.onSelect;
            (0, i.isFunction)(n4) ? n4(e4, true) : (0, i.isFunction)(r3) ? r3(e4) : (this.updateTarget(a2), t4 && t4.get("Modal").close()), (0, i.isFunction)(s2) && s2(e4);
          } }, { key: "onRemove", value: function(t4) {
            t4.stopImmediatePropagation(), this.model.collection.remove(this.model);
          } }]), n3;
        }(O);
        _.prototype.events = { "click [data-toggle=asset-remove]": "onRemove", click: "onClick", dblclick: "onDblClick" };
        var P = n2(793);
        function T(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, f.Z)(t3);
            if (e3) {
              var i2 = (0, f.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, u.Z)(this, n3);
          };
        }
        var E = function(t3) {
          (0, c.Z)(n3, t3);
          var e3 = T(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, s.Z)(n3);
        }(h.Collection.extend(P.Z));
        function j(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, f.Z)(t3);
            if (e3) {
              var i2 = (0, f.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, u.Z)(this, n3);
          };
        }
        E.prototype.types = [{ id: "image", model: y, view: _, isType: function(t3) {
          return "string" == typeof t3 ? { type: "image", src: t3 } : t3;
        } }];
        var A = function(t3) {
          (0, c.Z)(n3, t3);
          var e3 = j(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, s.Z)(n3, [{ key: "template", value: function(t4) {
            var e4 = t4.pfx, n4 = t4.ppfx, r3 = t4.em, i2 = "";
            return this.config.showUrlInput && (i2 = '\n          <form class="'.concat(e4, 'add-asset">\n            <div class="').concat(n4, "field ").concat(e4, 'add-field">\n              <input placeholder="').concat(r3 && r3.t("assetManager.inputPlh"), '"/>\n            </div>\n            <button class="').concat(n4, 'btn-prim">').concat(r3 && r3.t("assetManager.addButton"), '</button>\n            <div style="clear:both"></div>\n          </form>\n      ')), '\n    <div class="'.concat(e4, 'assets-cont">\n      <div class="').concat(e4, 'assets-header">\n        ').concat(i2, '\n      </div>\n      <div class="').concat(e4, 'assets" data-el="assets"></div>\n      <div style="clear:both"></div>\n    </div>\n    ');
          } }, { key: "initialize", value: function(t4) {
            this.options = t4, this.config = t4.config, this.pfx = this.config.stylePrefix || "", this.ppfx = this.config.pStylePrefix || "", this.em = this.config.em;
            var e4 = this.collection;
            this.listenTo(e4, "reset", this.renderAssets), this.listenTo(e4, "add", this.addToAsset), this.listenTo(e4, "remove", this.removedAsset), this.listenTo(e4, "deselectAll", this.deselectAll);
          } }, { key: "handleSubmit", value: function(t4) {
            t4.preventDefault();
            var e4 = this.getAddInput(), n4 = e4 && e4.value.trim(), r3 = this.config.handleAdd;
            n4 && (e4.value = "", this.getAssetsEl().scrollTop = 0, r3 ? r3.bind(this)(n4) : this.options.globalCollection.add(n4, { at: 0 }));
          } }, { key: "getAssetsEl", value: function() {
            return this.el.querySelector(".".concat(this.pfx, "assets"));
          } }, { key: "getAddInput", value: function() {
            return this.inputUrl && this.inputUrl.value || (this.inputUrl = this.el.querySelector(".".concat(this.pfx, "add-asset input"))), this.inputUrl;
          } }, { key: "removedAsset", value: function(t4) {
            this.collection.length || this.toggleNoAssets();
          } }, { key: "addToAsset", value: function(t4) {
            1 == this.collection.length && this.toggleNoAssets(1), this.addAsset(t4);
          } }, { key: "addAsset", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, n4 = e4, r3 = this.collection, i2 = this.config, o2 = new t4.typeView({ model: t4, collection: r3, config: i2 }).render().el;
            if (n4) n4.appendChild(o2);
            else {
              var a2 = this.getAssetsEl();
              a2 && a2.insertBefore(o2, a2.firstChild);
            }
            return o2;
          } }, { key: "toggleNoAssets", value: function(t4) {
            var e4 = this.$el.find(".".concat(this.pfx, "assets"));
            if (t4) e4.empty();
            else {
              var n4 = this.config.noAssets;
              n4 && e4.append(n4);
            }
          } }, { key: "deselectAll", value: function() {
            var t4 = this.pfx;
            this.$el.find(".".concat(t4, "highlight")).removeClass("".concat(t4, "highlight"));
          } }, { key: "renderAssets", value: function() {
            var t4 = this, e4 = document.createDocumentFragment(), n4 = this.$el.find(".".concat(this.pfx, "assets"));
            n4.empty(), this.toggleNoAssets(this.collection.length), this.collection.each(function(n5) {
              return t4.addAsset(n5, e4);
            }), n4.append(e4);
          } }, { key: "render", value: function() {
            var t4 = this.options.fu.render().el;
            return this.$el.empty(), this.$el.append(t4).append(this.template(this)), this.el.className = "".concat(this.ppfx, "asset-manager"), this.renderAssets(), this;
          } }]), n3;
        }(h.View);
        A.prototype.events = { submit: "handleSubmit" };
        var D, M = n2(9661);
        function R(t3, e3) {
          var n3 = "undefined" != typeof Symbol && t3[Symbol.iterator] || t3["@@iterator"];
          if (!n3) {
            if (Array.isArray(t3) || (n3 = function(t4, e4) {
              if (!t4) return;
              if ("string" == typeof t4) return Z(t4, e4);
              var n4 = Object.prototype.toString.call(t4).slice(8, -1);
              "Object" === n4 && t4.constructor && (n4 = t4.constructor.name);
              if ("Map" === n4 || "Set" === n4) return Array.from(t4);
              if ("Arguments" === n4 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n4)) return Z(t4, e4);
            }(t3)) || e3 && t3 && "number" == typeof t3.length) {
              n3 && (t3 = n3);
              var r3 = 0, i2 = function() {
              };
              return { s: i2, n: function() {
                return r3 >= t3.length ? { done: true } : { done: false, value: t3[r3++] };
              }, e: function(t4) {
                throw t4;
              }, f: i2 };
            }
            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }
          var o2, a2 = true, s2 = false;
          return { s: function() {
            n3 = n3.call(t3);
          }, n: function() {
            var t4 = n3.next();
            return a2 = t4.done, t4;
          }, e: function(t4) {
            s2 = true, o2 = t4;
          }, f: function() {
            try {
              a2 || null == n3.return || n3.return();
            } finally {
              if (s2) throw o2;
            }
          } };
        }
        function Z(t3, e3) {
          (null == e3 || e3 > t3.length) && (e3 = t3.length);
          for (var n3 = 0, r3 = new Array(e3); n3 < e3; n3++) r3[n3] = t3[n3];
          return r3;
        }
        function L(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, f.Z)(t3);
            if (e3) {
              var i2 = (0, f.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, u.Z)(this, n3);
          };
        }
        var N = function(t3) {
          (0, c.Z)(n3, t3);
          var e3 = L(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, s.Z)(n3, [{ key: "template", value: function(t4) {
            var e4 = t4.pfx, n4 = t4.title, r3 = t4.uploadId, i2 = t4.disabled, o2 = t4.multiUpload;
            return (0, C.Z)(D || (D = (0, b.Z)(['\n      <form>\n        <div id="', 'title">', '</div>\n        <input\n          type="file"\n          id="', '"\n          name="file"\n          accept="*/*"\n          ', "\n          ", '\n        />\n        <div style="clear:both;"></div>\n      </form>\n    '])), e4, n4, r3, i2 ? "disabled" : "", o2 ? "multiple" : "");
          } }, { key: "initialize", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            this.options = t4;
            var e4 = t4.config || {};
            this.module = t4.module, this.config = e4, this.em = this.config.em, this.pfx = e4.stylePrefix || "", this.ppfx = e4.pStylePrefix || "", this.target = this.options.globalCollection || {}, this.uploadId = this.pfx + "uploadFile", this.disabled = void 0 !== e4.disableUpload ? e4.disableUpload : !e4.upload && !e4.embedAsBase64, this.multiUpload = void 0 === e4.multiUpload || e4.multiUpload, this.events = { ["change #".concat(this.uploadId)]: "uploadFile" };
            var n4 = e4.uploadFile;
            n4 ? this.uploadFile = n4.bind(this) : !e4.upload && e4.embedAsBase64 && (this.uploadFile = this.constructor.embedAsBase64), this.delegateEvents();
          } }, { key: "onUploadStart", value: function() {
            var t4 = this.module;
            t4 && t4.__propEv("asset:upload:start");
          } }, { key: "onUploadEnd", value: function(t4) {
            var e4 = this.$el, n4 = this.module;
            n4 && n4.__propEv("asset:upload:end", t4);
            var r3 = e4.find("input");
            r3 && r3.val("");
          } }, { key: "onUploadError", value: function(t4) {
            var e4 = this.module;
            console.error(t4), this.onUploadEnd(t4), e4 && e4.__propEv("asset:upload:error", t4);
          } }, { key: "onUploadResponse", value: function(t4, e4) {
            var n4, r3 = this.module, i2 = this.config, o2 = this.target;
            try {
              n4 = "string" == typeof t4 ? JSON.parse(t4) : t4;
            } catch (e5) {
              n4 = t4;
            }
            r3 && r3.__propEv("asset:upload:response", n4), i2.autoAdd && o2 && o2.add(n4.data, { at: 0 }), this.onUploadEnd(t4), e4 && e4(n4);
          } }, { key: "uploadFile", value: function(t4, e4) {
            var n4 = this, r3 = t4.dataTransfer ? t4.dataTransfer.files : t4.target.files, i2 = this.config, o2 = i2.beforeUpload;
            if (false !== (o2 && o2(r3))) {
              var a2 = new FormData(), s2 = i2.params, l2 = i2.customFetch;
              for (var c2 in s2) a2.append(c2, s2[c2]);
              if (this.multiUpload) for (var u2 = 0; u2 < r3.length; u2++) a2.append("".concat(i2.uploadName, "[]"), r3[u2]);
              else r3.length && a2.append(i2.uploadName, r3[0]);
              this.target;
              var f2 = i2.upload, h2 = i2.headers, d2 = "X-Requested-With";
              if (void 0 === h2[d2] && (h2[d2] = "XMLHttpRequest"), f2) {
                this.onUploadStart();
                var p2 = { method: "post", credentials: i2.credentials || "include", headers: h2, body: a2 };
                return (l2 ? l2(f2, p2) : (0, M.Z)(f2, p2).then(function(t5) {
                  return 1 == (t5.status / 200 | 0) ? t5.text() : t5.text().then(function(t6) {
                    return Promise.reject(t6);
                  });
                })).then(function(t5) {
                  return n4.onUploadResponse(t5, e4);
                }).catch(function(t5) {
                  return n4.onUploadError(t5);
                });
              }
            }
          } }, { key: "initDrop", value: function() {
            var t4 = this;
            if (!this.uploadForm && (this.uploadForm = this.$el.find("form").get(0), "draggable" in this.uploadForm)) {
              this.uploadFile;
              this.uploadForm.ondragover = function() {
                return this.className = t4.pfx + "hover", false;
              }, this.uploadForm.ondragleave = function() {
                return this.className = "", false;
              }, this.uploadForm.ondrop = function(e4) {
                this.className = "", e4.preventDefault(), t4.uploadFile(e4);
              };
            }
          } }, { key: "initDropzone", value: function(t4) {
            var e4 = this, n4 = 0, r3 = this.config, i2 = t4.model, o2 = t4.el, a2 = i2.get("Editor"), s2 = (i2.get("Config").el, i2.get("Canvas").getBody()), l2 = this.ppfx, c2 = "".concat(l2, "dropzone-active"), u2 = "".concat(l2, "dropzone"), f2 = function() {
              o2.className = o2.className.replace(c2, "").trim(), n4 = 0;
            }, h2 = function() {
              return n4 || (o2.className += " ".concat(c2), n4 = 1), false;
            }, d2 = function() {
              return f2(), false;
            }, p2 = function(t5) {
              if (f2(), t5.preventDefault(), t5.stopPropagation(), e4.uploadFile(t5), r3.openAssetsOnDrop && a2) {
                var n5 = a2.getSelected();
                a2.runCommand("open-assets", { target: n5, onSelect: function() {
                  a2.Modal.close(), a2.AssetManager.setTarget(null);
                } });
              }
              return false;
            };
            t4.$el.append('<div class="'.concat(u2, '">').concat(r3.dropzoneContent, "</div>")), f2(), "draggable" in o2 && [o2, s2].forEach(function(t5) {
              t5.ondragover = h2, t5.ondragleave = d2, t5.ondrop = p2;
            });
          } }, { key: "render", value: function() {
            var t4 = this.$el, e4 = this.pfx, n4 = this.em;
            return t4.html(this.template({ title: n4 && n4.t("assetManager.uploadTitle"), uploadId: this.uploadId, disabled: this.disabled, multiUpload: this.multiUpload, pfx: e4 })), this.initDrop(), t4.attr("class", e4 + "file-uploader"), this;
          } }]), n3;
        }(h.View);
        function I(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function F(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? I(Object(n3), true).forEach(function(e4) {
              (0, r2.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : I(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        N.embedAsBase64 = function(t3, e3) {
          var n3 = this, r3 = t3.dataTransfer ? t3.dataTransfer.files : t3.target.files, i2 = { data: [] };
          if (FileReader) {
            var o2, a2 = [], s2 = /^(.+)\/(.+)$/, l2 = R(r3);
            try {
              var c2 = function() {
                var t4 = o2.value, e4 = new Promise(function(e5, n4) {
                  var r4 = new FileReader();
                  r4.addEventListener("load", function(i3) {
                    var o3, a3 = t4.name, l3 = s2.exec(t4.type);
                    if ("image" === (o3 = l3 ? l3[1] : t4.type)) {
                      var c3 = { src: r4.result, name: a3, type: o3, height: 0, width: 0 }, u2 = new Image();
                      u2.addEventListener("error", function(t5) {
                        n4(t5);
                      }), u2.addEventListener("load", function() {
                        c3.height = u2.height, c3.width = u2.width, e5(c3);
                      }), u2.src = c3.src;
                    } else e5(o3 ? { src: r4.result, name: a3, type: o3 } : r4.result);
                  }), r4.addEventListener("error", function(t5) {
                    n4(t5);
                  }), r4.addEventListener("abort", function(t5) {
                    n4("Aborted");
                  }), r4.readAsDataURL(t4);
                });
                a2.push(e4);
              };
              for (l2.s(); !(o2 = l2.n()).done; ) c2();
            } catch (t4) {
              l2.e(t4);
            } finally {
              l2.f();
            }
            Promise.all(a2).then(function(t4) {
              i2.data = t4, n3.onUploadResponse(i2, e3);
            }, function(t4) {
              n3.onUploadError(t4);
            });
          } else this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));
        };
        var V = "asset", B = "".concat(V, ":"), H = "".concat(B, "select"), z = "".concat(B, "update"), U = "".concat(B, "add"), W = "".concat(B, "remove"), $ = "".concat(W, ":before"), q = "".concat(B, "custom"), G = "".concat(B, "open"), K = "".concat(B, "close"), Y = "".concat(B, "upload"), X = "".concat(Y, ":start"), J = "".concat(Y, ":end"), Q = "".concat(Y, ":error"), tt = "".concat(Y, ":response");
        const et = function() {
          var t3, e3, n3, r3, s2 = {}, l2 = "open-assets";
          return F(F({}, o.Z), {}, { name: "AssetManager", storageKey: "assets", Asset: E, Assets: E, events: { all: V, select: H, update: z, add: U, remove: W, removeBefore: $, custom: q, open: G, close: K, uploadStart: X, uploadEnd: J, uploadError: Q, uploadResponse: tt }, init: function() {
            var n4 = this, r4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, i2 = (s2 = F(F({}, a), r4)).pStylePrefix, o2 = s2, l3 = o2.em;
            return this.config = s2, this.em = l3, i2 && (s2.stylePrefix = i2 + s2.stylePrefix), t3 = new E([]), e3 = new E([]), this.all = t3, this.__initListen(), t3.on("add", function(t4) {
              return n4.getAllVisible().add(t4);
            }), t3.on("remove", function(t4) {
              return n4.getAllVisible().remove(t4);
            }), this;
          }, __propEv: function(t4) {
            for (var e4, n4, r4 = arguments.length, i2 = new Array(r4 > 1 ? r4 - 1 : 0), o2 = 1; o2 < r4; o2++) i2[o2 - 1] = arguments[o2];
            (e4 = this.em).trigger.apply(e4, [t4].concat(i2)), (n4 = this.getAll()).trigger.apply(n4, [t4].concat(i2));
          }, __onAllEvent: (0, i.debounce)(function() {
            this.__trgCustom();
          }), __trgCustom: function() {
            (this.__getBehaviour().container || this.getConfig().custom.open) && this.em.trigger(this.events.custom, this.__customData());
          }, __customData: function() {
            var t4 = this, e4 = this.__getBehaviour();
            return { am: this, open: this.isOpen(), assets: this.getAll().models, types: e4.types || [], container: e4.container, close: function() {
              return t4.close();
            }, remove: function() {
              return t4.remove.apply(t4, arguments);
            }, select: function(n4, r4) {
              var o2 = t4.add(n4);
              (0, i.isFunction)(e4.select) && e4.select(o2, r4);
            }, options: e4.options || {} };
          }, open: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this.em.get("Commands");
            e4.run(l2, F({ types: ["image"], select: function() {
            } }, t4));
          }, close: function() {
            this.em.get("Commands").stop(l2);
          }, isOpen: function() {
            var t4 = this.em.get("Commands");
            return !(!t4 || !t4.isActive(l2));
          }, add: function(e4) {
            var n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return void 0 === n4.at && (n4.at = 0), t3.add(e4, n4);
          }, get: function(e4) {
            return t3.where({ src: e4 })[0] || null;
          }, getAll: function() {
            return t3;
          }, getAllVisible: function() {
            return e3;
          }, remove: function(t4, e4) {
            return this.__remove(t4, e4);
          }, store: function() {
            return this.getProjectData();
          }, load: function(t4) {
            return this.loadProjectData(t4);
          }, getContainer: function() {
            return this.__getBehaviour().container || n3 && n3.el;
          }, getAssetsEl: function() {
            return n3.el.querySelector("[data-el=assets]");
          }, render: function(t4) {
            if (!this.getConfig().custom) {
              var r4 = t4 || this.getAll().models;
              if (!n3) {
                var i2 = this.__viewParams();
                i2.fu = this.FileUploader();
                var o2 = n3 && n3.el;
                (n3 = new A(F({ el: o2 }, i2))).render();
              }
              return e3.reset(r4), this.getContainer();
            }
          }, __viewParams: function() {
            return { collection: e3, globalCollection: t3, config: s2, module: this };
          }, addType: function(t4, e4) {
            this.getAll().addType(t4, e4);
          }, getType: function(t4) {
            return this.getAll().getType(t4);
          }, getTypes: function() {
            return this.getAll().getTypes();
          }, AssetsView: function() {
            return n3;
          }, FileUploader: function() {
            return r3 || (r3 = new N(this.__viewParams())), r3;
          }, onLoad: function() {
            var t4 = this;
            this.getAll().reset(s2.assets);
            var e4 = this.em, n4 = this.events;
            e4.on("run:".concat(l2), function() {
              return t4.__propEv(n4.open);
            }), e4.on("stop:".concat(l2), function() {
              return t4.__propEv(n4.close);
            });
          }, postRender: function(t4) {
            s2.dropzone && r3 && r3.initDropzone(t4);
          }, setTarget: function(t4) {
            e3.target = t4;
          }, onSelect: function(t4) {
            e3.onSelect = t4;
          }, onClick: function(t4) {
            s2.onClick = t4;
          }, onDblClick: function(t4) {
            s2.onDblClick = t4;
          }, __behaviour: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return this._bhv = F(F({}, this._bhv || {}), t4);
          }, __getBehaviour: function() {
            return this._bhv || {};
          }, destroy: function() {
            t3.stopListening(), e3.stopListening(), t3.reset(), e3.reset(), r3 && r3.remove(), n3 && n3.remove(), [t3, e3, n3, r3].forEach(function(t4) {
              return null;
            }), this._bhv = {}, this.all = {}, s2 = {};
          } });
        };
      }, 6407: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => q, evAdd: () => F, evAll: () => N, evCustom: () => $, evDrag: () => z, evDragStart: () => U, evDragStop: () => W, evPfx: () => I, evRemove: () => B, evRemoveBefore: () => H, evUpdate: () => V });
        var r2 = n2(5671), i = n2(3144), o = n2(7326), a = n2(9340), s = n2(2963), l = n2(1120), c = n2(4942), u = n2(9050), f = n2(9714);
        const h = { appendTo: "", appendOnClick: false, blocks: [], custom: false };
        var d = n2(2316);
        function p(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, l.Z)(t3);
            if (e3) {
              var i2 = (0, l.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, s.Z)(this, n3);
          };
        }
        var g = function(t3) {
          (0, a.Z)(n3, t3);
          var e3 = p(n3);
          function n3() {
            return (0, r2.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, i.Z)(n3, [{ key: "defaults", value: function() {
            return { label: "", content: "", media: "", category: "", activate: false, select: null, resetId: false, disable: false, onClick: null, attributes: {} };
          } }, { key: "getId", value: function() {
            return this.id;
          } }, { key: "getLabel", value: function() {
            return this.get("label");
          } }, { key: "getMedia", value: function() {
            return this.get("media");
          } }, { key: "getContent", value: function() {
            return this.get("content");
          } }, { key: "getCategoryLabel", value: function() {
            var t4 = this.get("category");
            return (0, u.isFunction)(t4.get) ? t4.get("label") : t4.label ? t4.label : t4;
          } }]), n3;
        }(d.Model);
        function v(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, l.Z)(t3);
            if (e3) {
              var i2 = (0, l.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, s.Z)(this, n3);
          };
        }
        var m = function(t3) {
          (0, a.Z)(n3, t3);
          var e3 = v(n3);
          function n3() {
            return (0, r2.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, i.Z)(n3);
        }(d.Collection);
        function y(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, l.Z)(t3);
            if (e3) {
              var i2 = (0, l.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, s.Z)(this, n3);
          };
        }
        m.prototype.model = g;
        var b = function(t3) {
          (0, a.Z)(n3, t3);
          var e3 = y(n3);
          function n3() {
            return (0, r2.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, i.Z)(n3, [{ key: "defaults", value: function() {
            return { id: "", label: "", open: true, attributes: {} };
          } }]), n3;
        }(d.Model);
        function w(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, l.Z)(t3);
            if (e3) {
              var i2 = (0, l.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, s.Z)(this, n3);
          };
        }
        var k = function(t3) {
          (0, a.Z)(n3, t3);
          var e3 = w(n3);
          function n3() {
            return (0, r2.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, i.Z)(n3);
        }(d.Collection);
        k.prototype.model = b;
        var x = n2(1163);
        function O(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, l.Z)(t3);
            if (e3) {
              var i2 = (0, l.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, s.Z)(this, n3);
          };
        }
        var C, S = function(t3) {
          (0, a.Z)(n3, t3);
          var e3 = O(n3);
          function n3() {
            return (0, r2.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, i.Z)(n3, [{ key: "events", value: function() {
            return { click: "handleClick", mousedown: "startDrag", dragstart: "handleDragStart", drag: "handleDrag", dragend: "handleDragEnd" };
          } }, { key: "initialize", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = this.model;
            this.em = e4.em, this.config = e4, this.endDrag = this.endDrag.bind(this), this.ppfx = e4.pStylePrefix || "", this.listenTo(n4, "destroy remove", this.remove), this.listenTo(n4, "change", this.render);
          } }, { key: "__getModule", value: function() {
            return this.em.get("BlockManager");
          } }, { key: "handleClick", value: function(t4) {
            var e4 = this.config, n4 = this.model, r3 = this.em, i2 = n4.get("onClick") || e4.appendOnClick;
            if (r3.trigger("block:click", n4, t4), i2) {
              if ((0, u.isFunction)(i2)) return i2(n4, r3.getEditor(), { event: t4 });
              var o2, a2, s2 = e4.getSorter(), l2 = n4.get("content"), c2 = r3.getSelected();
              if (s2.setDropContent(l2), c2) if (s2.validTarget(c2.getEl(), l2).valid) o2 = c2;
              else {
                var f2 = c2.parent();
                s2.validTarget(f2.getEl(), l2).valid && (o2 = f2, a2 = f2.components().indexOf(c2) + 1);
              }
              if (!o2) {
                var h2 = r3.getWrapper();
                s2.validTarget(h2.getEl(), l2).valid && (o2 = h2);
              }
              var d2 = o2 && o2.append(l2, { at: a2 })[0];
              d2 && r3.setSelected(d2, { scroll: 1 });
            }
          } }, { key: "startDrag", value: function(t4) {
            var e4 = this.config, n4 = this.em, r3 = this.model.get("disable");
            if (0 === t4.button && e4.getSorter && !this.el.draggable && !r3) {
              n4.refreshCanvas();
              var i2 = e4.getSorter();
              i2.setDragHelper(this.el, t4), i2.setDropContent(this.model.get("content")), i2.startSort(this.el), (0, x.on)(document, "mouseup", this.endDrag);
            }
          } }, { key: "handleDragStart", value: function(t4) {
            this.__getModule().__startDrag(this.model, t4);
          } }, { key: "handleDrag", value: function(t4) {
            this.__getModule().__drag(t4);
          } }, { key: "handleDragEnd", value: function() {
            this.__getModule().__endDrag();
          } }, { key: "endDrag", value: function(t4) {
            (0, x.off)(document, "mouseup", this.endDrag);
            var e4 = this.config.getSorter();
            e4.moved = 0, e4.endMove();
          } }, { key: "render", value: function() {
            var t4 = this.em, e4 = this.el, n4 = this.$el, r3 = this.ppfx, i2 = this.model, o2 = i2.get("disable"), a2 = i2.get("attributes") || {}, s2 = a2.class || "", l2 = "".concat(r3, "block"), c2 = t4 && t4.t("blockManager.labels.".concat(i2.id)) || i2.get("label"), u2 = i2.get("render"), f2 = i2.get("media"), h2 = o2 ? "".concat(l2, "--disable") : "".concat(r3, "four-color-h");
            n4.attr(a2), e4.className = "".concat(s2, " ").concat(l2, " ").concat(r3, "one-bg ").concat(h2).trim(), e4.innerHTML = "\n      ".concat(f2 ? '<div class="'.concat(l2, '__media">').concat(f2, "</div>") : "", '\n      <div class="').concat(l2, '-label">').concat(c2, "</div>\n    "), e4.title = a2.title || e4.textContent.trim(), e4.setAttribute("draggable", !(!(0, x.hasDnd)(t4) || o2));
            var d2 = u2 && u2({ el: e4, model: i2, className: l2, prefix: r3 });
            return d2 && (e4.innerHTML = d2), this;
          } }]), n3;
        }(d.View), _ = n2(168), P = n2(7539);
        function T(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, l.Z)(t3);
            if (e3) {
              var i2 = (0, l.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, s.Z)(this, n3);
          };
        }
        var E = function(t3) {
          (0, a.Z)(n3, t3);
          var e3 = T(n3);
          function n3() {
            return (0, r2.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, i.Z)(n3, [{ key: "template", value: function(t4) {
            var e4 = t4.pfx, n4 = t4.label;
            return (0, P.Z)(C || (C = (0, _.Z)(['\n      <div class="', 'title">\n        <i class="', 'caret-icon"></i>\n        ', '\n      </div>\n      <div class="', 'blocks-c"></div>\n    '])), e4, e4, n4, e4);
          } }, { key: "attributes", value: function() {
            return this.model.get("attributes");
          } }, { key: "initialize", value: function() {
            var t4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            this.config = t4;
            var e4 = t4.pStylePrefix || "";
            this.em = t4.em, this.pfx = e4, this.caretR = "fa fa-caret-right", this.caretD = "fa fa-caret-down", this.iconClass = "".concat(e4, "caret-icon"), this.activeClass = "".concat(e4, "open"), this.className = "".concat(e4, "block-category"), this.events = {}, this.events["click .".concat(e4, "title")] = "toggle", this.listenTo(this.model, "change:open", this.updateVisibility), this.delegateEvents(), this.model.view = this;
          } }, { key: "updateVisibility", value: function() {
            this.model.get("open") ? this.open() : this.close();
          } }, { key: "open", value: function() {
            this.$el.addClass(this.activeClass), this.getIconEl().className = "".concat(this.iconClass, " ").concat(this.caretD), this.getBlocksEl().style.display = "";
          } }, { key: "close", value: function() {
            this.$el.removeClass(this.activeClass), this.getIconEl().className = "".concat(this.iconClass, " ").concat(this.caretR), this.getBlocksEl().style.display = "none";
          } }, { key: "toggle", value: function() {
            var t4 = this.model;
            t4.set("open", !t4.get("open"));
          } }, { key: "getIconEl", value: function() {
            return this.iconEl || (this.iconEl = this.el.querySelector("." + this.iconClass)), this.iconEl;
          } }, { key: "getBlocksEl", value: function() {
            return this.blocksEl || (this.blocksEl = this.el.querySelector("." + this.pfx + "blocks-c")), this.blocksEl;
          } }, { key: "append", value: function(t4) {
            this.getBlocksEl().appendChild(t4);
          } }, { key: "render", value: function() {
            var t4 = this.em, e4 = this.el, n4 = this.$el, r3 = this.model, i2 = this.pfx, o2 = t4.t("blockManager.categories.".concat(r3.id)) || r3.get("label");
            return e4.innerHTML = this.template({ pfx: i2, label: o2 }), n4.addClass(this.className), n4.css({ order: r3.get("order") }), this.updateVisibility(), this;
          } }]), n3;
        }(d.View);
        function j(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function A(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? j(Object(n3), true).forEach(function(e4) {
              (0, c.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : j(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function D(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, l.Z)(t3);
            if (e3) {
              var i2 = (0, l.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, s.Z)(this, n3);
          };
        }
        var M = function(t3) {
          (0, a.Z)(n3, t3);
          var e3 = D(n3);
          function n3() {
            return (0, r2.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, i.Z)(n3, [{ key: "initialize", value: function(t4, e4) {
            (0, u.bindAll)(this, "getSorter", "onDrag", "onDrop", "onMove"), this.config = e4 || {}, this.categories = t4.categories || "", this.renderedCategories = [];
            var n4 = this.config.pStylePrefix || "";
            this.ppfx = n4, this.noCatClass = "".concat(n4, "blocks-no-cat"), this.blockContClass = "".concat(n4, "blocks-c"), this.catsClass = "".concat(n4, "block-categories");
            var r3 = this.collection;
            this.listenTo(r3, "add", this.addTo), this.listenTo(r3, "reset", this.render), this.em = this.config.em, this.tac = "test-tac", this.grabbingCls = this.ppfx + "grabbing", this.em && (this.config.getSorter = this.getSorter, this.canvas = this.em.get("Canvas"));
          } }, { key: "updateConfig", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            this.config = A(A({}, this.config), t4);
          } }, { key: "getSorter", value: function() {
            if (this.em) {
              if (!this.sorter) {
                var t4 = this.em.get("Utils"), e4 = this.canvas;
                this.sorter = new t4.Sorter({ container: e4.getBody(), placer: e4.getPlacerEl(), containerSel: "*", itemSel: "*", pfx: this.ppfx, onStart: this.onDrag, onEndMove: this.onDrop, onMove: this.onMove, document: e4.getFrameEl().contentDocument, direction: "a", wmargin: 1, nested: 1, em: this.em, canvasRelative: 1 });
              }
              return this.sorter;
            }
          } }, { key: "onDrag", value: function(t4) {
            this.em.stopDefault(), this.em.trigger("block:drag:start", t4);
          } }, { key: "onMove", value: function(t4) {
            this.em.trigger("block:drag:move", t4);
          } }, { key: "onDrop", value: function(t4) {
            var e4 = this.em;
            if (e4.runDefault(), t4 && t4.get) {
              var n4 = "activeOnRender";
              t4.get(n4) && (t4.trigger("active"), t4.unset(n4)), e4.trigger("block:drag:stop", t4);
            }
          } }, { key: "addTo", value: function(t4) {
            this.add(t4);
          } }, { key: "add", value: function(t4, e4) {
            var n4 = this.config, r3 = e4 || null, i2 = new S({ model: t4, attributes: t4.get("attributes") }, n4).render().el, o2 = t4.get("category");
            if (o2 && this.categories && !n4.ignoreCategories) {
              (0, u.isString)(o2) ? o2 = { id: o2, label: o2 } : (0, u.isObject)(o2) && !o2.id && (o2.id = o2.label);
              var a2 = this.categories.add(o2), s2 = a2.get("id"), l2 = this.renderedCategories[s2], c2 = this.getCategoriesEl();
              return t4.set("category", a2, { silent: true }), !l2 && c2 && (l2 = new E({ model: a2 }, this.config).render(), this.renderedCategories[s2] = l2, c2.appendChild(l2.el)), void (l2 && l2.append(i2));
            }
            r3 ? r3.appendChild(i2) : this.append(i2);
          } }, { key: "getCategoriesEl", value: function() {
            return this.catsEl || (this.catsEl = this.el.querySelector(".".concat(this.catsClass))), this.catsEl;
          } }, { key: "getBlocksEl", value: function() {
            return this.blocksEl || (this.blocksEl = this.el.querySelector(".".concat(this.noCatClass, " .").concat(this.blockContClass))), this.blocksEl;
          } }, { key: "append", value: function(t4) {
            var e4 = this.getBlocksEl();
            e4 && e4.appendChild(t4);
          } }, { key: "render", value: function() {
            var t4 = this, e4 = this.ppfx, n4 = document.createDocumentFragment();
            this.catsEl = null, this.blocksEl = null, this.renderedCategories = [], this.el.innerHTML = '\n      <div class="'.concat(this.catsClass, '"></div>\n      <div class="').concat(this.noCatClass, '">\n        <div class="').concat(this.blockContClass, '"></div>\n      </div>\n    '), this.collection.each(function(e5) {
              return t4.add(e5, n4);
            }), this.append(n4);
            var r3 = "".concat(this.blockContClass, "s ").concat(e4, "one-bg ").concat(e4, "two-color");
            return this.$el.addClass(r3), this.rendered = true, this;
          } }]), n3;
        }(d.View);
        function R(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function Z(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? R(Object(n3), true).forEach(function(e4) {
              (0, c.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : R(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function L(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, l.Z)(t3);
            if (e3) {
              var i2 = (0, l.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, s.Z)(this, n3);
          };
        }
        var N = "block", I = "".concat(N, ":"), F = "".concat(I, "add"), V = "".concat(I, "update"), B = "".concat(I, "remove"), H = "".concat(B, ":before"), z = "".concat(I, "drag"), U = "".concat(z, ":start"), W = "".concat(z, ":stop"), $ = "".concat(I, "custom"), q = function(t3) {
          (0, a.Z)(n3, t3);
          var e3 = L(n3);
          function n3() {
            var t4;
            (0, r2.Z)(this, n3);
            for (var i2 = arguments.length, a2 = new Array(i2), s2 = 0; s2 < i2; s2++) a2[s2] = arguments[s2];
            return t4 = e3.call.apply(e3, [this].concat(a2)), (0, c.Z)((0, o.Z)(t4), "name", "BlockManager"), (0, c.Z)((0, o.Z)(t4), "Block", g), (0, c.Z)((0, o.Z)(t4), "Blocks", m), (0, c.Z)((0, o.Z)(t4), "Category", b), (0, c.Z)((0, o.Z)(t4), "Categories", k), (0, c.Z)((0, o.Z)(t4), "events", { all: N, update: V, add: F, remove: B, removeBefore: H, drag: z, dragStart: U, dragEnd: W, custom: $ }), t4;
          }
          return (0, i.Z)(n3, [{ key: "init", value: function() {
            var t4 = this, e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            this.c = Z(Z({}, h), e4);
            var n4 = this.c.em;
            return this.em = n4, this.blocks = new m(this.c.blocks), this.blocksVisible = new m(this.blocks.models), this.categories = new k(), this.all = this.blocks, this.__initListen(), this.blocks.on("add", function(e5) {
              return t4.blocksVisible.add(e5);
            }), this.blocks.on("remove", function(e5) {
              return t4.blocksVisible.remove(e5);
            }), this.blocks.on("reset", function(e5) {
              return t4.blocksVisible.reset(e5.models);
            }), this;
          } }, { key: "__trgCustom", value: function() {
            this.em.trigger(this.events.custom, this.__customData());
          } }, { key: "__customData", value: function() {
            var t4 = this, e4 = this.__getBehaviour();
            return { bm: this, blocks: this.getAll().models, container: e4.container, dragStart: function(e5, n4) {
              return t4.startDrag(e5, n4);
            }, drag: function(e5) {
              return t4.__drag(e5);
            }, dragStop: function(e5) {
              return t4.endDrag(e5);
            } };
          } }, { key: "__startDrag", value: function(t4, e4) {
            var n4 = this.em, r3 = this.events, i2 = this.blocks, o2 = t4.getContent ? t4.getContent() : t4;
            this._dragBlock = t4, n4.set({ dragResult: null, dragContent: o2 }), [n4, i2].map(function(n5) {
              return n5.trigger(r3.dragStart, t4, e4);
            });
          } }, { key: "__drag", value: function(t4) {
            var e4 = this.em, n4 = this.events, r3 = this.blocks, i2 = this._dragBlock;
            [e4, r3].map(function(e5) {
              return e5.trigger(n4.drag, i2, t4);
            });
          } }, { key: "__endDrag", value: function() {
            var t4 = this.em, e4 = this.events, n4 = this.blocks, r3 = this._dragBlock, i2 = t4.get("dragResult");
            if (this._dragBlock = null, i2) {
              var o2 = "activeOnRender", a2 = i2.get && i2.get(o2), s2 = r3.get("activate") || a2, l2 = r3.get("select"), c2 = (0, u.isArray)(i2) ? i2[0] : i2;
              (l2 || s2 && false !== l2) && t4.setSelected(c2), s2 && (c2.trigger("active"), a2 && c2.unset(o2)), r3.get("resetId") && c2.onAll(function(t5) {
                return t5.resetId();
              });
            }
            t4.set({ dragResult: null, dragContent: null }), [t4, n4].map(function(t5) {
              return t5.trigger(e4.dragEnd, i2, r3);
            });
          } }, { key: "__getFrameViews", value: function() {
            return this.em.get("Canvas").getFrames().map(function(t4) {
              return t4.view;
            });
          } }, { key: "__behaviour", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return this._bhv = Z(Z({}, this._bhv || {}), t4);
          } }, { key: "__getBehaviour", value: function() {
            return this._bhv || {};
          } }, { key: "startDrag", value: function(t4, e4) {
            this.__startDrag(t4, e4), this.__getFrameViews().forEach(function(t5) {
              return t5.droppable.startCustom();
            });
          } }, { key: "endDrag", value: function(t4) {
            this.__getFrameViews().forEach(function(e4) {
              return e4.droppable.endCustom(t4);
            }), this.__endDrag();
          } }, { key: "getConfig", value: function() {
            return this.c;
          } }, { key: "postRender", value: function() {
            var t4 = this.categories, e4 = this.blocksVisible;
            this.blocksView = new M({ collection: e4, categories: t4 }, this.c);
            var n4 = this.getConfig().appendTo;
            if (n4) {
              var r3 = (0, u.isElement)(n4) ? n4 : document.querySelector(n4);
              if (!r3) return this.__logWarn('"appendTo" element not found');
              r3.appendChild(this.render(this.blocksVisible.models));
            }
            this.__trgCustom();
          } }, { key: "add", value: function(t4, e4) {
            var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = e4 || {};
            return r3.id = t4, this.blocks.add(r3, n4);
          } }, { key: "get", value: function(t4) {
            return this.blocks.get(t4);
          } }, { key: "getAll", value: function() {
            return this.blocks;
          } }, { key: "getAllVisible", value: function() {
            return this.blocksVisible;
          } }, { key: "remove", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return this.__remove(t4, e4);
          } }, { key: "getCategories", value: function() {
            return this.categories;
          } }, { key: "getContainer", value: function() {
            return this.blocksView.el;
          } }, { key: "render", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = this.categories.categories, r3 = t4 || this.getAll().models;
            if (e4.external) {
              var i2 = new m(r3);
              return new M({ collection: i2, categories: n4 }, Z(Z({}, this.c), e4)).render().el;
            }
            return this.blocksView && (this.blocksView.updateConfig(e4), this.blocksView.collection.reset(r3), this.blocksView.rendered || (this.blocksView.render(), this.blocksView.rendered = 1)), this.getContainer();
          } }, { key: "destroy", value: function() {
            var t4, e4 = [this.blocks, this.blocksVisible, this.categories];
            e4.map(function(t5) {
              return t5.stopListening();
            }), e4.map(function(t5) {
              return t5.reset();
            }), null === (t4 = this.blocksView) || void 0 === t4 || t4.remove(), this.c = {}, this.blocks = {}, this.blocksVisible = {}, this.blocksView = {}, this.categories = [], this.all = {};
          } }]), n3;
        }(f.Z);
      }, 7619: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => T });
        var r2 = n2(9050);
        const i = { stylePrefix: "cm-", inlineCss: false };
        var o = n2(5671), a = n2(3144), s = n2(9340), l = n2(2963), c = n2(1120), u = n2(2316);
        function f(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, c.Z)(t3);
            if (e3) {
              var i2 = (0, c.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, l.Z)(this, n3);
          };
        }
        var h = function(t3) {
          (0, s.Z)(n3, t3);
          var e3 = f(n3);
          function n3() {
            return (0, o.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, a.Z)(n3, [{ key: "build", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = {}, r3 = e4.em;
            if (e4.cleanId && r3) {
              var i2 = r3.get("CssComposer").getAll(), o2 = i2.toJSON().map(function(t5) {
                var e5 = t5.selectors, n5 = e5 && 1 === e5.length && e5.models[0];
                return n5 && n5.isId() && n5.get("name");
              }).filter(function(t5) {
                return t5;
              });
              n4.attributes = function(t5, e5) {
                var n5 = e5.id;
                return n5 && "i" === n5[0] && !t5.get("script") && !t5.get("attributes").id && o2.indexOf(n5) < 0 && delete e5.id, e5;
              };
            }
            return t4.toHTML(n4);
          } }]), n3;
        }(u.Model), d = n2(8795);
        function p(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, c.Z)(t3);
            if (e3) {
              var i2 = (0, c.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, l.Z)(this, n3);
          };
        }
        var g = function(t3) {
          (0, s.Z)(n3, t3);
          var e3 = p(n3);
          function n3() {
            return (0, o.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, a.Z)(n3, [{ key: "build", value: function(t4) {
            var e4 = t4.toJSON();
            return this.beforeEach(e4), (0, r2.each)(e4, function(t5, n4) {
              var r3 = e4[n4];
              if (r3 instanceof u.Model) e4[n4] = this.build(r3);
              else if (r3 instanceof u.Collection) {
                var i2 = r3;
                e4[n4] = [], i2.length && i2.each(function(t6, r4) {
                  e4[n4][r4] = this.build(t6);
                }, this);
              }
            }, this), e4;
          } }, { key: "beforeEach", value: function(t4) {
            delete t4.status;
          } }]), n3;
        }(u.Model);
        function v(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, c.Z)(t3);
            if (e3) {
              var i2 = (0, c.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, l.Z)(this, n3);
          };
        }
        var m, y = function(t3) {
          (0, s.Z)(n3, t3);
          var e3 = v(n3);
          function n3() {
            return (0, o.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, a.Z)(n3, [{ key: "mapModel", value: function(t4) {
            var e4 = "", n4 = t4.get("script-export") || t4.get("script"), i2 = t4.get("type"), o2 = t4.get("components"), a2 = t4.getId();
            if (n4) {
              var s2 = t4.get("attributes");
              s2 = (0, r2.extend)({}, s2, { id: a2 }), t4.set("attributes", s2, { silent: 1 });
              var l2 = t4.getScriptString(n4), c2 = t4.get("script-props");
              if (t4.get("scriptUpdated") && !c2) this.mapJs[i2 + "-" + a2] = { ids: [a2], code: l2 };
              else {
                var u2, f2 = this.mapJs[i2];
                if (c2 && (u2 = t4.__getScriptProps()), f2) f2.ids.push(a2), u2 && (f2.props[a2] = u2);
                else {
                  var h2 = { ids: [a2], code: l2 };
                  u2 && (h2.props = { [a2]: u2 }), this.mapJs[i2] = h2;
                }
              }
            }
            return o2.each(function(t5) {
              e4 += this.mapModel(t5);
            }, this), e4;
          } }, { key: "build", value: function(t4) {
            this.mapJs = {}, this.mapModel(t4);
            var e4 = "";
            for (var n4 in this.mapJs) {
              var r3 = this.mapJs[n4];
              if (r3.code) if (r3.props) {
                if (0 === r3.code.toString().match(/\{([\s\S]*)\}/m)[1].replace(/^\s*\/\/.*$/gm, "").trim().length) continue;
                e4 += "\n          var props = ".concat(JSON.stringify(r3.props), ";\n          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');\n          var els = document.querySelectorAll(ids);\n          for (var i = 0, len = els.length; i < len; i++) {\n            var el = els[i];\n            (").concat(r3.code, ".bind(el))(props[el.id]);\n          }");
              } else {
                var i2 = "#" + r3.ids.join(", #");
                e4 += "\n          var items = document.querySelectorAll('".concat(i2, "');\n          for (var i = 0, len = items.length; i < len; i++) {\n            (function(){\n").concat(r3.code, "\n}.bind(items[i]))();\n          }");
              }
            }
            return e4;
          } }]), n3;
        }(u.Model), b = n2(4942);
        function w(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function k(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, c.Z)(t3);
            if (e3) {
              var i2 = (0, c.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, l.Z)(this, n3);
          };
        }
        (0, n2(1163).hasWin)() && (m = n2(4631), n2(6531), n2(6629), n2(9210));
        var x = function(t3) {
          (0, s.Z)(n3, t3);
          var e3 = k(n3);
          function n3() {
            return (0, o.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, a.Z)(n3, [{ key: "defaults", value: function() {
            return { input: "", label: "", codeName: "", theme: "hopscotch", readOnly: true, lineNumbers: true };
          } }, { key: "init", value: function(t4) {
            return (0, r2.bindAll)(this, "onChange"), this.editor = m.fromTextArea(t4, function(t5) {
              for (var e4 = 1; e4 < arguments.length; e4++) {
                var n4 = null != arguments[e4] ? arguments[e4] : {};
                e4 % 2 ? w(Object(n4), true).forEach(function(e5) {
                  (0, b.Z)(t5, e5, n4[e5]);
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t5, Object.getOwnPropertyDescriptors(n4)) : w(Object(n4)).forEach(function(e5) {
                  Object.defineProperty(t5, e5, Object.getOwnPropertyDescriptor(n4, e5));
                });
              }
              return t5;
            }({ dragDrop: false, lineWrapping: true, mode: this.get("codeName") }, this.attributes)), this.element = t4, this.editor.on("change", this.onChange), this;
          } }, { key: "onChange", value: function() {
            this.trigger("update", this);
          } }, { key: "getEditor", value: function() {
            return this.editor;
          } }, { key: "getElement", value: function() {
            return this.element;
          } }, { key: "setElement", value: function(t4) {
            return this.element = t4, this;
          } }, { key: "refresh", value: function() {
            return this.getEditor().refresh(), this;
          } }, { key: "focus", value: function() {
            return this.getEditor().focus(), this;
          } }, { key: "getContent", value: function() {
            var t4 = this.getEditor();
            return t4 && t4.getValue();
          } }, { key: "setContent", value: function(t4) {
            var e4 = this, n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = this.editor;
            r3 && (r3.setValue(t4), r3.autoFormatRange && (m.commands.selectAll(r3), r3.autoFormatRange(r3.getCursor(true), r3.getCursor(false)), m.commands.goDocStart(r3)), !n4.noRefresh && setTimeout(function() {
              return e4.refresh();
            }));
          } }]), n3;
        }(u.Model);
        x.prototype.CodeMirror = m;
        var O, C = n2(168), S = n2(7539);
        function _(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, c.Z)(t3);
            if (e3) {
              var i2 = (0, c.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, l.Z)(this, n3);
          };
        }
        var P = function(t3) {
          (0, s.Z)(n3, t3);
          var e3 = _(n3);
          function n3() {
            return (0, o.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, a.Z)(n3, [{ key: "template", value: function(t4) {
            var e4 = t4.pfx, n4 = t4.codeName, r3 = t4.label;
            return (0, S.Z)(O || (O = (0, C.Z)(['\n      <div class="', 'editor" id="', "", '">\n        <div id="', 'title">', '</div>\n        <div id="', 'code"></div>\n      </div>\n    '])), e4, e4, n4, e4, r3, e4);
          } }, { key: "initialize", value: function(t4) {
            this.config = t4.config || {}, this.pfx = this.config.stylePrefix;
          } }, { key: "render", value: function() {
            var t4 = this.model, e4 = this.pfx, n4 = this.$el, r3 = t4.toJSON();
            return r3.pfx = e4, n4.html(this.template(r3)), n4.attr("class", "".concat(e4, "editor-c")), n4.find("#".concat(e4, "code")).append(t4.get("input")), this;
          } }]), n3;
        }(u.View);
        const T = function() {
          var t3 = {}, e3 = {}, n3 = {}, o2 = {}, a2 = {}, s2 = "CodeMirror";
          return { getConfig: function() {
            return t3;
          }, config: t3, EditorView: P, name: "CodeManager", init: function(e4) {
            for (var r3 in t3 = e4 || {}, i) r3 in t3 || (t3[r3] = i[r3]);
            var o3 = t3.pStylePrefix;
            return o3 && (t3.stylePrefix = o3 + t3.stylePrefix), n3.html = new h(), n3.css = new d.Z(), n3.json = new g(), n3.js = new y(), a2.CodeMirror = new x(), this.loadDefaultGenerators().loadDefaultViewers(), this;
          }, addGenerator: function(t4, n4) {
            return e3[t4] = n4, this;
          }, getGenerator: function(t4) {
            return e3[t4] || null;
          }, getGenerators: function() {
            return e3;
          }, addViewer: function(t4, e4) {
            return o2[t4] = e4, this;
          }, getViewer: function(t4) {
            return o2[t4] || null;
          }, getViewers: function() {
            return o2;
          }, createViewer: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = (0, r2.isUndefined)(t4.type) ? s2 : t4.type, n4 = this.getViewer(e4) && this.getViewer(e4).clone(), i2 = document.createElement("div"), o3 = document.createElement("textarea");
            return i2.appendChild(o3), n4.set(t4), n4.init(o3), n4.setElement(i2), n4;
          }, updateViewer: function(t4, e4) {
            t4.setContent(e4);
          }, getCode: function(e4, n4) {
            var r3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
            r3.em = t3.em;
            var i2 = this.getGenerator(n4);
            return i2 ? i2.build(e4, r3) : "";
          }, loadDefaultGenerators: function() {
            for (var t4 in n3) this.addGenerator(t4, n3[t4]);
            return this;
          }, loadDefaultViewers: function() {
            for (var t4 in a2) this.addViewer(t4, a2[t4]);
            return this;
          }, destroy: function() {
            [t3, e3, n3, o2, a2].forEach(function(t4) {
              return {};
            });
          } };
        };
      }, 8795: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { U: () => d, Z: () => p });
        var r2 = n2(5671), i = n2(3144), o = n2(9340), a = n2(2963), s = n2(1120), l = n2(9050), c = n2(2316), u = n2(1163);
        function f(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, s.Z)(t3);
            if (e3) {
              var i2 = (0, s.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, a.Z)(this, n3);
          };
        }
        var h = Number.MAX_VALUE, d = function(t3) {
          var e3 = /(-?\d*\.?\d+)\w{0,}/.exec(t3);
          return e3 ? e3[0] : "";
        }, p = function(t3) {
          (0, o.Z)(n3, t3);
          var e3 = f(n3);
          function n3() {
            return (0, r2.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, i.Z)(n3, [{ key: "initialize", value: function() {
            (0, l.bindAll)(this, "sortRules"), this.compCls = [], this.ids = [];
          } }, { key: "buildFromModel", value: function(t4) {
            var e4 = this, n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = "", i2 = this.em, o2 = i2 && i2.getConfig().avoidInlineStyle, a2 = t4.styleToString(), s2 = t4.get("classes");
            this.ids.push("#".concat(t4.getId())), s2.each(function(t5) {
              return e4.compCls.push(t5.getFullName());
            }), !o2 && a2 && (r3 = "#".concat(t4.getId(), "{").concat(a2, "}"));
            var l2 = t4.components();
            return l2.each(function(t5) {
              return r3 += e4.buildFromModel(t5, n4);
            }), r3;
          } }, { key: "build", value: function(t4) {
            var e4 = this, n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = n4.json, i2 = n4.em || "", o2 = n4.cssc || i2 && i2.get("CssComposer");
            this.em = i2, this.compCls = [], this.ids = [], this.model = t4;
            var a2 = [], s2 = t4 ? this.buildFromModel(t4, n4) : "", c2 = (0, l.isUndefined)(n4.clearStyles) && i2 ? i2.getConfig().clearStyles : n4.clearStyles;
            if (o2) {
              var f2 = n4.rules || o2.getAll(), h2 = {}, d2 = [];
              n4.onlyMatched && t4 && (0, u.hasWin)() && (f2 = this.matchedRules(t4, f2)), f2.forEach(function(t5) {
                var i3 = t5.getAtRule();
                if (i3) {
                  var o3 = h2[i3];
                  o3 ? o3.push(t5) : h2[i3] = [t5];
                } else {
                  var l2 = e4.buildFromRule(t5, d2, n4);
                  r3 ? a2.push(l2) : s2 += l2;
                }
              }), this.sortMediaObject(h2).forEach(function(t5) {
                var i3 = "", o3 = t5.key;
                t5.value.forEach(function(t6) {
                  var l2 = e4.buildFromRule(t6, d2, n4);
                  t6.get("singleAtRule") ? s2 += "".concat(o3, "{").concat(l2, "}") : i3 += l2, r3 && a2.push(l2);
                }), i3 && (s2 += "".concat(o3, "{").concat(i3, "}"));
              }), i2 && c2 && f2.remove && f2.remove(d2);
            }
            return r3 ? a2.filter(function(t5) {
              return t5;
            }) : s2;
          } }, { key: "buildFromRule", value: function(t4, e4) {
            var n4, r3 = this, i2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, o2 = "", a2 = this.model, s2 = t4.selectorsToString({ skipAdd: 1 }), l2 = t4.get("selectorsAdd"), c2 = t4.get("singleAtRule");
            if (t4.get("selectors").each(function(t5) {
              var e5 = t5.getFullName();
              (r3.compCls.indexOf(e5) >= 0 || r3.ids.indexOf(e5) >= 0 || i2.keepUnusedStyles) && (n4 = 1);
            }), s2 && n4 || l2 || c2 || !a2) {
              var u2 = t4.getDeclaration({ body: 1 });
              u2 && (i2.json ? o2 = t4 : o2 += u2);
            } else e4.push(t4);
            return o2;
          } }, { key: "matchedRules", value: function(t4, e4) {
            var n4 = this, r3 = t4.getEl(), i2 = [];
            return e4.forEach(function(t5) {
              try {
                t5.selectorsToString().split(",").some(function(t6) {
                  return r3.matches(n4.__cleanSelector(t6));
                }) && i2.push(t5);
              } catch (t6) {
              }
            }), t4.components().forEach(function(t5) {
              i2 = i2.concat(n4.matchedRules(t5, e4));
            }), i2 = i2.filter(function(t5, e5) {
              return i2.indexOf(t5) === e5;
            });
          } }, { key: "getQueryLength", value: function(t4) {
            var e4 = /(-?\d*\.?\d+)\w{0,}/.exec(t4);
            return e4 ? parseFloat(e4[1]) : h;
          } }, { key: "sortMediaObject", value: function() {
            var t4 = this, e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n4 = [];
            return (0, l.each)(e4, function(t5, e5) {
              return n4.push({ key: e5, value: t5 });
            }), n4.sort(function(e5, n5) {
              var r3 = [e5.key, n5.key].every(function(t5) {
                return -1 !== t5.indexOf("min-width");
              }), i2 = r3 ? e5.key : n5.key, o2 = r3 ? n5.key : e5.key;
              return t4.getQueryLength(i2) - t4.getQueryLength(o2);
            });
          } }, { key: "sortRules", value: function(t4, e4) {
            var n4 = function(t5) {
              return t5.get("mediaText");
            }, r3 = [n4(t4), n4(e4)].every(function(t5) {
              return -1 !== t5.indexOf("min-width");
            }), i2 = n4(r3 ? t4 : e4), o2 = n4(r3 ? e4 : t4);
            return this.getQueryLength(i2) - this.getQueryLength(o2);
          } }, { key: "__cleanSelector", value: function(t4) {
            return t4.split(" ").map(function(t5) {
              return t5.split(":")[0];
            }).join(" ");
          } }]), n3;
        }(c.Model);
      }, 289: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => h });
        var r2 = n2(2982), i = n2(4942), o = n2(9050), a = n2(238);
        const s = { stylePrefix: "com-", defaults: [], strict: 1 };
        var l = n2(7375);
        function c(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function u(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? c(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : c(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var f = [["preview", "Preview", "preview"], ["resize", "Resize", "resize"], ["fullscreen", "Fullscreen", "fullscreen"], ["copy", "CopyComponent"], ["paste", "PasteComponent"], ["canvas-move", "CanvasMove"], ["canvas-clear", "CanvasClear"], ["open-code", "ExportTemplate", "export-template"], ["open-layers", "OpenLayers", "open-layers"], ["open-styles", "OpenStyleManager", "open-sm"], ["open-traits", "OpenTraitManager", "open-tm"], ["open-blocks", "OpenBlocks", "open-blocks"], ["open-assets", "OpenAssets", "open-assets"], ["component-select", "SelectComponent", "select-comp"], ["component-outline", "SwitchVisibility", "sw-visibility"], ["component-offset", "ShowOffset", "show-offset"], ["component-move", "MoveComponent", "move-comp"], ["component-next", "ComponentNext"], ["component-prev", "ComponentPrev"], ["component-enter", "ComponentEnter"], ["component-exit", "ComponentExit", "select-parent"], ["component-delete", "ComponentDelete"], ["component-style-clear", "ComponentStyleClear"], ["component-drag", "ComponentDrag"]];
        const h = function() {
          var t3, e3 = {}, i2 = {}, c2 = {}, h2 = {};
          return { CommandAbstract: a["default"], name: "Commands", init: function() {
            var i3 = this, a2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            e3 = u(u({}, s), a2), t3 = e3.em;
            var h3 = e3.pStylePrefix;
            return h3 && (e3.stylePrefix = h3 + e3.stylePrefix), Object.keys(e3.defaults).forEach(function(t4) {
              var n3 = e3.defaults[t4];
              n3.id && i3.add(n3.id, n3);
            }), c2["tlb-delete"] = { run: function(t4) {
              return t4.runCommand("core:component-delete");
            } }, c2["tlb-clone"] = { run: function(t4) {
              t4.runCommand("core:copy"), t4.runCommand("core:paste", { action: "clone-component" });
            } }, c2["tlb-move"] = { run: function(t4, e4) {
              var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i4 = t4.getModel(), a3 = n3 && n3.event, s2 = n3.target, c3 = s2 || t4.getSelected(), u2 = s2 ? [s2] : (0, r2.Z)(t4.getSelectedAll()), f2 = a3 && "dragstart" == a3.type, h4 = { preserveSelected: 1 }, d = ["absolute", "translate"];
              if (!c3 || !c3.get("draggable")) return i4.logWarning("The element is not draggable");
              var p = c3.get("dmode") || i4.get("dmode"), g = function() {
                return i4.stopDefault(h4);
              }, v = (0, o.includes)(d, p);
              u2.forEach(function(t5) {
                return t5.trigger("disable");
              }), f2 ? setTimeout(g, 0) : g();
              var m = function(t5) {
                i4.trigger("".concat(l.OA, ":start"), t5);
              }, y = function(t5) {
                i4.trigger(l.OA, t5);
              }, b = function(e5, n4, r3) {
                u2.forEach(function(t5) {
                  return t5.set("status", "selected");
                }), t4.select(u2), c3.emitUpdate(), i4.trigger("".concat(l.OA, ":end"), r3), setTimeout(function() {
                  return i4.runDefault(h4);
                }), (v || r3.cancelled) && i4.set("_cmpDrag", 1);
              };
              if (v) t4.runCommand("core:component-drag", { guidesInfo: 1, mode: p, target: c3, onStart: m, onDrag: y, onEnd: b, event: a3 });
              else {
                f2 && a3.dataTransfer.setDragImage(c3.view.el, 0, 0);
                var w = t4.Commands.get("move-comp");
                w.onStart = m, w.onDrag = y, w.onEndMoveFromModel = b, w.initSorterFromModels(u2);
              }
              u2.forEach(function(t5) {
                return t5.set("status", "freezed-selected");
              });
            } }, c2["core:undo"] = function(t4) {
              return t4.UndoManager.undo();
            }, c2["core:redo"] = function(t4) {
              return t4.UndoManager.redo();
            }, f.forEach(function(e4) {
              var r3 = e4[2], i4 = n2(2828)("./".concat(e4[1])).default, o2 = "core:".concat(e4[0]);
              c2[o2] = i4, r3 && (c2[r3] = i4, ["run", "stop"].forEach(function(e5) {
                t3.on("".concat(e5, ":").concat(r3), function() {
                  for (var n3, r4 = arguments.length, i5 = new Array(r4), a3 = 0; a3 < r4; a3++) i5[a3] = arguments[a3];
                  return (n3 = t3).trigger.apply(n3, ["".concat(e5, ":").concat(o2)].concat(i5));
                });
              }));
            }), e3.em && (e3.model = e3.em.get("Canvas")), this.loadDefaultCommands(), this;
          }, add: function(t4, e4) {
            return (0, o.isFunction)(e4) && (e4 = { run: e4 }), e4.stop || (e4.noStop = 1), delete e4.initialize, e4.id = t4, i2[t4] = a["default"].extend(e4), this;
          }, get: function(n3) {
            var r3 = i2[n3];
            return (0, o.isFunction)(r3) ? (r3 = new r3(e3), i2[n3] = r3) : r3 || t3.logWarning("'".concat(n3, "' command not found")), r3;
          }, extend: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n3 = this.get(t4);
            if (n3) {
              var r3 = u(u({}, n3.constructor.prototype), e4);
              this.add(t4, r3);
              var i3 = f.filter(function(e5) {
                return "core:".concat(e5[0]) === t4 && e5[2];
              })[0];
              i3 && this.add(i3[2], r3);
            }
            return this;
          }, has: function(t4) {
            return !!i2[t4];
          }, getAll: function() {
            return i2;
          }, run: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return this.runCommand(this.get(t4), e4);
          }, stop: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return this.stopCommand(this.get(t4), e4);
          }, isActive: function(t4) {
            return this.getActive().hasOwnProperty(t4);
          }, getActive: function() {
            return h2;
          }, loadDefaultCommands: function() {
            for (var t4 in c2) this.add(t4, c2[t4]);
            return this;
          }, runCommand: function(n3) {
            var r3, i3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            if (n3 && n3.run) {
              var o2 = n3.id, a2 = t3.get("Editor");
              this.isActive(o2) && !i3.force && e3.strict || (r3 = a2 && n3.callRun(a2, i3), o2 && n3.stop && !n3.noStop && !i3.abort && (h2[o2] = r3));
            }
            return r3;
          }, stopCommand: function(n3) {
            var r3, i3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            if (n3 && n3.run) {
              var o2 = n3.id, a2 = t3.get("Editor");
              (this.isActive(o2) || i3.force || !e3.strict) && (o2 && delete h2[o2], r3 = n3.callStop(a2, i3));
            }
            return r3;
          }, create: function(t4) {
            return t4.stop || (t4.noStop = 1), new (a["default"].extend(t4))(e3);
          }, destroy: function() {
            [t3, e3, i2, c2, h2].forEach(function(t4) {
              return {};
            });
          } };
        };
      }, 7202: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => r2 });
        const r2 = { run: function(t3) {
          t3.DomComponents.clear(), t3.CssComposer.clear();
        } };
      }, 327: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => a });
        var r2 = n2(9050), i = n2(1163), o = n2(5610);
        const a = { run: function(t3) {
          (0, r2.bindAll)(this, "onKeyUp", "enableDragger", "disableDragger"), this.editor = t3, this.canvasModel = this.canvas.getCanvasView().model, this.toggleMove(1);
        }, stop: function(t3) {
          this.toggleMove(), this.disableDragger();
        }, onKeyUp: function(t3) {
          " " === (0, i.getKeyChar)(t3) && this.editor.stopCommand(this.id);
        }, enableDragger: function(t3) {
          this.toggleDragger(1, t3);
        }, disableDragger: function(t3) {
          this.toggleDragger(0, t3);
        }, toggleDragger: function(t3, e3) {
          var n3 = this.canvasModel, r3 = this.em, i2 = this.dragger, a2 = t3 ? "add" : "remove";
          this.getCanvas().classList[a2]("".concat(this.ppfx, "is__grabbing")), i2 || (i2 = new o.Z({ getPosition: function() {
            return { x: n3.get("x"), y: n3.get("y") };
          }, setPosition: function(t4) {
            var e4 = t4.x, r4 = t4.y;
            n3.set({ x: e4, y: r4 });
          }, onStart: function(t4, e4) {
            r3.trigger("canvas:move:start", e4);
          }, onDrag: function(t4, e4) {
            r3.trigger("canvas:move", e4);
          }, onEnd: function(t4, e4) {
            r3.trigger("canvas:move:end", e4);
          } }), this.dragger = i2), t3 ? i2.start(e3) : i2.stop();
        }, toggleMove: function(t3) {
          var e3 = this.ppfx, n3 = t3 ? "add" : "remove", r3 = t3 ? "on" : "off", o2 = { on: i.on, off: i.off }, a2 = this.getCanvas(), s = ["".concat(e3, "is__grab")];
          !t3 && s.push("".concat(e3, "is__grabbing")), s.forEach(function(t4) {
            return a2.classList[n3](t4);
          }), o2[r3](document, "keyup", this.onKeyUp), o2[r3](a2, "mousedown", this.enableDragger), o2[r3](document, "mouseup", this.disableDragger);
        } };
      }, 238: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => u });
        var r2 = n2(5671), i = n2(3144), o = n2(9340), a = n2(2963), s = n2(1120), l = n2(2316);
        function c(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, s.Z)(t3);
            if (e3) {
              var i2 = (0, s.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, a.Z)(this, n3);
          };
        }
        var u = function(t3) {
          (0, o.Z)(n3, t3);
          var e3 = c(n3);
          function n3() {
            return (0, r2.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, i.Z)(n3, [{ key: "initialize", value: function(t4) {
            this.config = t4 || {}, this.editorModel = this.em = this.config.em || {}, this.pfx = this.config.stylePrefix, this.ppfx = this.config.pStylePrefix, this.hoverClass = this.pfx + "hover", this.badgeClass = this.pfx + "badge", this.plhClass = this.pfx + "placeholder", this.freezClass = this.ppfx + "freezed", this.canvas = this.em.get && this.em.get("Canvas"), this.init(this.config);
          } }, { key: "onFrameScroll", value: function(t4) {
          } }, { key: "getCanvas", value: function() {
            return this.canvas.getElement();
          } }, { key: "getCanvasBody", value: function() {
            return this.canvas.getBody();
          } }, { key: "getCanvasTools", value: function() {
            return this.canvas.getToolsEl();
          } }, { key: "offset", value: function(t4) {
            var e4 = t4.getBoundingClientRect();
            return { top: e4.top + t4.ownerDocument.body.scrollTop, left: e4.left + t4.ownerDocument.body.scrollLeft };
          } }, { key: "init", value: function(t4) {
          } }, { key: "callRun", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = this.id;
            if (t4.trigger("run:".concat(n4, ":before"), e4), !e4 || !e4.abort) {
              var r3 = e4.sender || t4, i2 = this.run(t4, r3, e4);
              return t4.trigger("run:".concat(n4), i2, e4), t4.trigger("run", n4, i2, e4), i2;
            }
            t4.trigger("abort:".concat(n4), e4);
          } }, { key: "callStop", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = this.id, r3 = e4.sender || t4;
            t4.trigger("stop:".concat(n4, ":before"), e4);
            var i2 = this.stop(t4, r3, e4);
            return t4.trigger("stop:".concat(n4), i2, e4), t4.trigger("stop", n4, i2, e4), i2;
          } }, { key: "stopCommand", value: function() {
            this.em.get("Commands").stop(this.id);
          } }, { key: "run", value: function(t4, e4) {
          } }, { key: "stop", value: function(t4, e4) {
          } }]), n3;
        }(l.Model);
      }, 5820: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => o });
        var r2 = n2(2982), i = n2(9050);
        const o = { run: function(t3, e3) {
          var n3 = this, o2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, a = [], s = o2.component || t3.getSelectedAll();
          return (s = (0, i.isArray)(s) ? (0, r2.Z)(s) : [s]).filter(Boolean).forEach(function(t4) {
            if (!t4.get("removable")) return a.push(t4), n3.em.logWarning("The element is not removable", { component: t4 });
            t4.remove();
          }), t3.select(a), s;
        } };
      }, 6694: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => c });
        var r2 = n2(4942), i = n2(9050), o = n2(5610);
        function a(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function s(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? a(Object(n3), true).forEach(function(e4) {
              (0, r2.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : a(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var l = "dmode";
        const c = { run: function(t3, e3) {
          var n3 = this, r3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
          (0, i.bindAll)(this, "setPosition", "onStart", "onDrag", "onEnd", "getPosition", "getGuidesStatic", "renderGuide", "getGuidesTarget");
          var a2 = r3.target, c2 = r3.event, u = r3.mode, f = r3.dragger, h = void 0 === f ? {} : f, d = a2.getEl(), p = s({ doc: d.ownerDocument, onStart: this.onStart, onEnd: this.onEnd, onDrag: this.onDrag, getPosition: this.getPosition, setPosition: this.setPosition, guidesStatic: function() {
            return n3.guidesStatic;
          }, guidesTarget: function() {
            return n3.guidesTarget;
          } }, h);
          this.setupGuides(), this.opts = r3, this.editor = t3, this.em = t3.getModel(), this.target = a2, this.isTran = "translate" == u, this.guidesContainer = this.getGuidesContainer(), this.guidesTarget = this.getGuidesTarget(), this.guidesStatic = this.getGuidesStatic();
          var g = this.dragger;
          return g ? g.setOptions(p) : (g = new o.Z(p), this.dragger = g), c2 && g.start(c2), this.toggleDrag(1), this.em.trigger("".concat(l, ":start"), this.getEventOpts()), g;
        }, getEventOpts: function() {
          return { mode: this.opts.mode, target: this.target, guidesTarget: this.guidesTarget, guidesStatic: this.guidesStatic };
        }, stop: function() {
          this.toggleDrag();
        }, setupGuides: function() {
          (this.guides || []).forEach(function(t3) {
            var e3 = t3.guide;
            e3 && e3.parentNode.removeChild(e3);
          }), this.guides = [];
        }, getGuidesContainer: function() {
          var t3 = this, e3 = this.guidesEl;
          if (!e3) {
            var n3 = this.editor, r3 = this.em, o2 = this.opts, a2 = n3.getConfig().stylePrefix, s2 = document.createElement("div"), l2 = document.createElement("div"), c2 = '<div class="'.concat(a2, "guide-info__line ").concat(a2, 'danger-bg">\n        <div class="').concat(a2, "guide-info__content ").concat(a2, 'danger-color"></div>\n      </div>');
            (e3 = document.createElement("div")).className = "".concat(a2, "guides"), s2.className = "".concat(a2, "guide-info ").concat(a2, "guide-info__x"), l2.className = "".concat(a2, "guide-info ").concat(a2, "guide-info__y"), s2.innerHTML = c2, l2.innerHTML = c2, e3.appendChild(s2), e3.appendChild(l2), n3.Canvas.getGlobalToolsEl().appendChild(e3), this.guidesEl = e3, this.elGuideInfoX = s2, this.elGuideInfoY = l2, this.elGuideInfoContentX = s2.querySelector(".".concat(a2, "guide-info__content")), this.elGuideInfoContentY = l2.querySelector(".".concat(a2, "guide-info__content")), r3.on("canvas:update frame:scroll", (0, i.debounce)(function() {
              t3.updateGuides(), o2.debug && t3.guides.forEach(function(e4) {
                return t3.renderGuide(e4);
              });
            }, 200));
          }
          return e3;
        }, getGuidesStatic: function() {
          var t3 = this, e3 = [], n3 = this.target.getEl(), r3 = n3.parentNode, o2 = void 0 === r3 ? {} : r3;
          return (0, i.each)(o2.children, function(r4) {
            return e3 = e3.concat(n3 !== r4 ? t3.getElementGuides(r4) : []);
          }), e3.concat(this.getElementGuides(o2));
        }, getGuidesTarget: function() {
          return this.getElementGuides(this.target.getEl());
        }, updateGuides: function(t3) {
          var e3, n3, r3 = this;
          (t3 || this.guides).forEach(function(t4) {
            var o2 = t4.origin, a2 = e3 === o2 ? n3 : r3.getElementPos(o2);
            e3 = o2, n3 = a2, (0, i.each)(r3.getGuidePosUpdate(t4, a2), function(e4, n4) {
              return t4[n4] = e4;
            }), t4.originRect = a2;
          });
        }, getGuidePosUpdate: function(t3, e3) {
          var n3 = {}, r3 = e3.top, i2 = e3.height, o2 = e3.left, a2 = e3.width;
          switch (t3.type) {
            case "t":
              n3.y = r3;
              break;
            case "b":
              n3.y = r3 + i2;
              break;
            case "l":
              n3.x = o2;
              break;
            case "r":
              n3.x = o2 + a2;
              break;
            case "x":
              n3.x = o2 + a2 / 2;
              break;
            case "y":
              n3.y = r3 + i2 / 2;
          }
          return n3;
        }, renderGuide: function() {
          var t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e3 = t3.guide || document.createElement("div"), n3 = "px", r3 = t3.active ? 2 : 1, i2 = e3.children[0];
          return e3.style = "position: absolute; background-color: ".concat(t3.active ? "green" : "red", ";"), e3.children.length || ((i2 = document.createElement("div")).style = "position: absolute; color: red; padding: 5px; top: 0; left: 0;", e3.appendChild(i2)), t3.y ? (e3.style.width = "100%", e3.style.height = "".concat(r3).concat(n3), e3.style.top = "".concat(t3.y).concat(n3), e3.style.left = 0) : (e3.style.width = "".concat(r3).concat(n3), e3.style.height = "100%", e3.style.left = "".concat(t3.x).concat(n3), e3.style.top = "0".concat(n3)), !t3.guide && this.guidesContainer.appendChild(e3), e3;
        }, getElementPos: function(t3) {
          return this.editor.Canvas.getElementPos(t3, { noScroll: 1 });
        }, getElementGuides: function(t3) {
          var e3 = this, n3 = this.opts, r3 = this.getElementPos(t3), i2 = r3.top, o2 = r3.height, a2 = r3.left, l2 = r3.width, c2 = [{ type: "t", y: i2 }, { type: "b", y: i2 + o2 }, { type: "l", x: a2 }, { type: "r", x: a2 + l2 }, { type: "x", x: a2 + l2 / 2 }, { type: "y", y: i2 + o2 / 2 }].map(function(i3) {
            return s(s({}, i3), {}, { origin: t3, originRect: r3, guide: n3.debug && e3.renderGuide(i3) });
          });
          return c2.forEach(function(t4) {
            return e3.guides.push(t4);
          }), c2;
        }, getTranslate: function(t3) {
          var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "x", n3 = 0;
          return (t3 || "").split(" ").forEach(function(t4) {
            var r3 = t4.trim(), i2 = "translate".concat(e3.toUpperCase(), "(");
            0 === r3.indexOf(i2) && (n3 = parseFloat(r3.replace(i2, "")));
          }), n3;
        }, setTranslate: function(t3, e3, n3) {
          var r3 = "translate".concat(e3.toUpperCase(), "("), i2 = "".concat(r3).concat(n3, ")"), o2 = (t3 || "").split(" ").map(function(t4) {
            return 0 === t4.trim().indexOf(r3) && (t4 = i2), t4;
          }).join(" ");
          return o2.indexOf(r3) < 0 && (o2 += " ".concat(i2)), o2;
        }, getPosition: function() {
          var t3 = this.target, e3 = this.isTran, n3 = t3.getStyle(), r3 = n3.left, i2 = n3.top, o2 = n3.transform, a2 = 0, s2 = 0;
          return e3 ? (a2 = this.getTranslate(o2), s2 = this.getTranslate(o2, "y")) : (a2 = parseFloat(r3 || 0), s2 = parseFloat(i2 || 0)), { x: a2, y: s2 };
        }, setPosition: function(t3) {
          var e3 = t3.x, n3 = t3.y, r3 = t3.end, o2 = t3.position, a2 = t3.width, s2 = t3.height, l2 = this.target, c2 = this.isTran, u = this.em, f = "px", h = r3 ? "" : 1, d = "".concat(e3).concat(f), p = "".concat(n3).concat(f), g = {};
          if (c2) {
            var v = l2.getStyle()["transform"] || "";
            v = this.setTranslate(v, "x", d), g = { transform: v = this.setTranslate(v, "y", p), en: h }, l2.addStyle(g, { avoidStore: !r3 });
          } else {
            var m = { position: o2, width: a2, height: s2 }, y = { left: d, top: p, en: h };
            (0, i.keys)(m).forEach(function(t4) {
              var e4 = m[t4];
              e4 && (y[t4] = e4);
            }), g = y, l2.addStyle(g, { avoidStore: !r3 });
          }
          u.getSelected() && (0, i.keys)(g).forEach(function(t4) {
            return u.trigger("update:component:style:".concat(t4));
          });
        }, _getDragData: function() {
          var t3 = this.target;
          return { target: t3, parent: t3.parent(), index: t3.index() };
        }, onStart: function(t3) {
          var e3 = this.target, n3 = this.editor, r3 = this.isTran, i2 = this.opts, o2 = i2.center, a2 = i2.onStart, s2 = n3.Canvas, l2 = e3.getStyle(), c2 = "absolute", u = [c2, "relative"];
          if (a2 && a2(this._getDragData()), !r3 && l2.position !== c2) {
            var f, h = s2.offset(e3.getEl()), d = h.left, p = h.top, g = h.width, v = h.height, m = e3.parent();
            do {
              var y = m.getStyle();
              f = u.indexOf(y.position) >= 0 ? m : null, m = m.parent();
            } while (m && !f);
            if (o2) {
              var b = s2.getMouseRelativeCanvas(t3);
              d = b.x, p = b.y;
            } else if (f) {
              var w = s2.offset(f.getEl());
              d -= w.left, p -= w.top;
            }
            this.setPosition({ x: d, y: p, width: "".concat(g, "px"), height: "".concat(v, "px"), position: c2 });
          }
        }, onDrag: function() {
          var t3 = this, e3 = this.guidesTarget, n3 = this.opts, r3 = n3.onDrag;
          this.updateGuides(e3), n3.debug && e3.forEach(function(e4) {
            return t3.renderGuide(e4);
          }), n3.guidesInfo && this.renderGuideInfo(e3.filter(function(t4) {
            return t4.active;
          })), r3 && r3(this._getDragData());
        }, onEnd: function(t3, e3) {
          var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = this.editor, i2 = this.opts, o2 = this.id, a2 = i2.onEnd;
          a2 && a2(t3, n3, s(s({ event: t3 }, n3), this._getDragData())), r3.stopCommand(o2), this.hideGuidesInfo(), this.em.trigger("".concat(l, ":end"), this.getEventOpts());
        }, hideGuidesInfo: function() {
          var t3 = this;
          ["X", "Y"].forEach(function(e3) {
            var n3 = t3["elGuideInfo".concat(e3)];
            n3 && (n3.style.display = "none");
          });
        }, renderGuideInfo: function() {
          var t3 = this, e3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [], n3 = this.guidesStatic;
          this.hideGuidesInfo(), e3.forEach(function(e4) {
            var r3 = e4.origin, o2 = e4.x, a2 = t3.getElementPos(r3), c2 = (0, i.isUndefined)(o2) ? "y" : "x", u = "y" === c2, f = a2[u ? "left" : "top"], h = a2.rect[u ? "left" : "top"], d = u ? f + a2.width : f + a2.height, p = u ? h + a2.rect.width : h + a2.rect.height, g = t3["elGuideInfo".concat(c2.toUpperCase())], v = t3["elGuideInfoContent".concat(c2.toUpperCase())], m = g.style, y = n3.filter(function(t4) {
              return t4.type === e4.type;
            }).map(function(t4) {
              var e5 = t4.originRect, n4 = e5.left, r4 = e5.width, i2 = e5.top, o3 = e5.height, a3 = u ? n4 + r4 : i2 + o3;
              return { gap: a3 < f ? f - a3 : (u ? n4 : i2) - d, guide: t4 };
            }).filter(function(t4) {
              return t4.gap > 0;
            }).sort(function(t4, e5) {
              return t4.gap - e5.gap;
            }).map(function(t4) {
              return t4.guide;
            })[0];
            if (y) {
              var b = y.originRect, w = b.left, k = b.width, x = b.top, O = b.height, C = b.rect, S = u ? w < a2.left : x < a2.top, _ = u ? w : x, P = u ? C.left : C.top, T = u ? w + k : x + O, E = u ? C.left + C.width : C.top + C.height, j = u ? e4.y : e4.x, A = S ? T : d, D = "".concat(j, "px"), M = S ? f - T : _ - d, R = S ? h - E : P - p;
              m.display = "", m[u ? "top" : "left"] = D, m[u ? "left" : "top"] = "".concat(A, "px"), m[u ? "width" : "height"] = "".concat(M, "px"), v.innerHTML = "".concat(Math.round(R), "px"), t3.em.trigger("".concat(l, ":active"), s(s({}, t3.getEventOpts()), {}, { guide: e4, guidesStatic: n3, matched: y, posFirst: j, posSecond: A, size: M, sizeRaw: R, elGuideInfo: g, elGuideInfoCnt: v }));
            }
          });
        }, toggleDrag: function(t3) {
          var e3 = this.ppfx, n3 = this.editor, r3 = t3 ? "add" : "remove", i2 = ["".concat(e3, "is__grabbing")], o2 = n3.Canvas, a2 = o2.getBody();
          i2.forEach(function(t4) {
            return a2.classList[r3](t4);
          }), o2[t3 ? "startAutoscroll" : "stopAutoscroll"]();
        } };
      }, 1947: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => r2 });
        const r2 = { run: function(t3) {
          if (t3.Canvas.hasFocus()) {
            var e3 = [];
            t3.getSelectedAll().forEach(function(t4) {
              var n3 = t4.components(), r3 = n3 && n3.filter(function(t5) {
                return t5.get("selectable");
              })[0];
              r3 && e3.push(r3);
            }), e3.length && t3.select(e3);
          }
        } };
      }, 3888: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => r2 });
        const r2 = { run: function(t3, e3) {
          var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
          if (t3.Canvas.hasFocus() || n3.force) {
            var r3 = [];
            t3.getSelectedAll().forEach(function(t4) {
              for (var e4 = t4.parent(); e4 && !e4.get("selectable"); ) e4 = e4.parent();
              e4 && r3.push(e4);
            }), r3.length && t3.select(r3);
          }
        } };
      }, 5883: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => r2 });
        const r2 = { run: function(t3) {
          if (t3.Canvas.hasFocus()) {
            var e3 = [];
            t3.getSelectedAll().forEach(function(t4) {
              var n3 = t4.parent();
              if (n3) {
                var r3, i = n3.components().length, o = 0, a = 0;
                do {
                  o++, r3 = (a = t4.index() + o) <= i ? n3.getChildAt(a) : null;
                } while (r3 && !r3.get("selectable"));
                e3.push(r3 || t4);
              }
            }), e3.length && t3.select(e3);
          }
        } };
      }, 7508: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => r2 });
        const r2 = { run: function(t3) {
          if (t3.Canvas.hasFocus()) {
            var e3 = [];
            t3.getSelectedAll().forEach(function(t4) {
              var n3 = t4.parent();
              if (n3) {
                var r3, i = 0, o = 0;
                do {
                  i++, r3 = (o = t4.index() - i) >= 0 ? n3.getChildAt(o) : null;
                } while (r3 && !r3.get("selectable"));
                e3.push(r3 || t4);
              }
            }), e3.length && t3.select(e3);
          }
        } };
      }, 8769: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => i });
        var r2 = n2(9050);
        const i = { run: function(t3, e3) {
          var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i2 = n3.target, o = [];
          if (!i2.get("styles")) return o;
          var a = i2.get("type"), s = t3.Pages.getAllWrappers(), l = (0, r2.flatten)(s.map(function(t4) {
            return t4.findType(a);
          })).length;
          if (!l) {
            var c = t3.CssComposer.getAll();
            o = c.filter(function(t4) {
              return t4.get("group") === "cmp:".concat(a);
            }), c.remove(o);
          }
          return o;
        } };
      }, 2213: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => i });
        var r2 = n2(2982);
        const i = { run: function(t3) {
          var e3 = t3.getModel(), n3 = (0, r2.Z)(t3.getSelectedAll());
          n3.length && e3.set("clipboard", n3);
        } };
      }, 5049: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => l });
        var r2 = n2(9050), i = n2(2316), o = n2.n(i), a = n2(2620), s = o().$;
        const l = (0, r2.extend)({}, a["default"], { init: function(t3) {
          (0, r2.bindAll)(this, "startDelete", "stopDelete", "onDelete"), this.hoverClass = this.pfx + "hover-delete", this.badgeClass = this.pfx + "badge-red";
        }, enable: function() {
          this.$el.find("*").mouseover(this.startDelete).mouseout(this.stopDelete).click(this.onDelete);
        }, startDelete: function(t3) {
          t3.stopPropagation();
          var e3 = s(t3.target);
          e3.data("model").get("removable") && (e3.addClass(this.hoverClass), this.attachBadge(e3.get(0)));
        }, stopDelete: function(t3) {
          t3.stopPropagation(), s(t3.target).removeClass(this.hoverClass), this.badge && this.badge.css({ left: -1e3, top: -1e3 });
        }, onDelete: function(t3) {
          t3.stopPropagation();
          var e3 = s(t3.target);
          e3.data("model").get("removable") && (e3.data("model").destroy(), this.removeBadge(), this.clean());
        }, updateBadgeLabel: function(t3) {
          this.badge.html("Remove " + t3.getName());
        } });
      }, 3775: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => o });
        var r2 = n2(2316), i = n2.n(r2)().$;
        const o = { run: function(t3, e3) {
          var n3 = this;
          e3 && e3.set && e3.set("active", 0);
          var r3 = t3.getConfig(), o2 = t3.Modal, a = r3.stylePrefix;
          if (this.cm = t3.CodeManager || null, !this.$editors) {
            var s = this.buildEditor("htmlmixed", "hopscotch", "HTML"), l = this.buildEditor("css", "hopscotch", "CSS");
            this.htmlEditor = s.el, this.cssEditor = l.el;
            var c = i('<div class="'.concat(a, 'export-dl"></div>'));
            c.append(s.$el).append(l.$el), this.$editors = c;
          }
          o2.open({ title: r3.textViewCode, content: this.$editors }).getModel().once("change:open", function() {
            return t3.stopCommand(n3.id);
          }), this.htmlEditor.setContent(t3.getHtml()), this.cssEditor.setContent(t3.getCss());
        }, stop: function(t3) {
          var e3 = t3.Modal;
          e3 && e3.close();
        }, buildEditor: function(t3, e3, n3) {
          var r3 = document.createElement("textarea");
          !this.codeMirror && (this.codeMirror = this.cm.getViewer("CodeMirror"));
          var i2 = this.codeMirror.clone().set({ label: n3, codeName: t3, theme: e3, input: r3 }), o2 = new this.cm.EditorView({ model: i2, config: this.cm.getConfig() }).render().$el;
          return i2.init(r3), { el: i2, $el: o2 };
        } };
      }, 58: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => i });
        var r2 = n2(9050);
        const i = { isEnabled: function() {
          var t3 = document;
          return t3.fullscreenElement || t3.webkitFullscreenElement || t3.mozFullScreenElement ? 1 : 0;
        }, enable: function(t3) {
          var e3 = "";
          return t3.requestFullscreen ? t3.requestFullscreen() : t3.webkitRequestFullscreen ? (e3 = "webkit", t3.webkitRequestFullscreen()) : t3.mozRequestFullScreen ? (e3 = "moz", t3.mozRequestFullScreen()) : t3.msRequestFullscreen ? t3.msRequestFullscreen() : console.warn("Fullscreen not supported"), e3;
        }, disable: function() {
          var t3 = document;
          this.isEnabled() && (t3.exitFullscreen ? t3.exitFullscreen() : t3.webkitExitFullscreen ? t3.webkitExitFullscreen() : t3.mozCancelFullScreen ? t3.mozCancelFullScreen() : t3.msExitFullscreen && t3.msExitFullscreen());
        }, fsChanged: function(t3, e3) {
          document;
          var n3 = (t3 || "") + "fullscreenchange";
          this.isEnabled() || (this.stop(null, this.sender), document.removeEventListener(n3, this.fsChanged));
        }, run: function(t3, e3) {
          var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
          this.sender = e3;
          var i2 = n3.target, o = (0, r2.isElement)(i2) ? i2 : document.querySelector(i2), a = this.enable(o || t3.getContainer());
          this.fsChanged = this.fsChanged.bind(this, a), document.addEventListener(a + "fullscreenchange", this.fsChanged), t3.trigger("change:canvasOffset");
        }, stop: function(t3, e3) {
          e3 && e3.set && e3.set("active", false), this.disable(), t3 && t3.trigger("change:canvasOffset");
        } };
      }, 8658: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => u });
        var r2 = n2(9050), i = n2(2316), o = n2.n(i), a = n2(1163), s = n2(2620), l = n2(8463), c = o().$;
        const u = (0, r2.extend)({}, l["default"], s["default"], { init: function(t3) {
          s["default"].init.apply(this, arguments), (0, r2.bindAll)(this, "initSorter", "rollback", "onEndMove"), this.opt = t3, this.hoverClass = this.ppfx + "highlighter-warning", this.badgeClass = this.ppfx + "badge-warning", this.noSelClass = this.ppfx + "no-select";
        }, enable: function() {
          for (var t3 = arguments.length, e3 = new Array(t3), n3 = 0; n3 < t3; n3++) e3[n3] = arguments[n3];
          s["default"].enable.apply(this, e3), this.getBadgeEl().addClass(this.badgeClass), this.getHighlighterEl().addClass(this.hoverClass);
          var r3 = this.$wrapper;
          r3.css("cursor", "move"), r3.on("mousedown", this.initSorter), r3.addClass(this.noSelClass);
        }, toggleClipboard: function() {
        }, initSorter: function(t3) {
          var e3 = c(t3.target).data("model").get("draggable");
          e3 && (this.cacheEl = null, this.startSelectPosition(t3.target, this.frameEl.contentDocument), this.sorter.draggable = e3, this.sorter.onEndMove = this.onEndMove.bind(this), this.stopSelectComponent(), this.$wrapper.off("mousedown", this.initSorter), (0, a.on)(this.getContentWindow(), "keydown", this.rollback));
        }, initSorterFromModel: function(t3) {
          var e3 = t3.get("draggable");
          if (e3) {
            this.cacheEl = null;
            var n3 = t3.view.el;
            this.startSelectPosition(n3, this.frameEl.contentDocument), this.sorter.draggable = e3, this.sorter.onEndMove = this.onEndMoveFromModel.bind(this), this.stopSelectComponent(), (0, a.on)(this.getContentWindow(), "keydown", this.rollback);
          }
        }, initSorterFromModels: function(t3) {
          this.cacheEl = null;
          var e3 = t3[t3.length - 1], n3 = (this.em.get("currentFrame") || {}).model, r3 = e3.getEl(n3), i2 = r3.ownerDocument;
          this.startSelectPosition(r3, i2, { onStart: this.onStart }), this.sorter.draggable = e3.get("draggable"), this.sorter.toMove = t3, this.sorter.onMoveClb = this.onDrag, this.sorter.onEndMove = this.onEndMoveFromModel.bind(this), this.stopSelectComponent(), (0, a.on)(this.getContentWindow(), "keydown", this.rollback);
        }, onEndMoveFromModel: function() {
          (0, a.off)(this.getContentWindow(), "keydown", this.rollback);
        }, onEndMove: function() {
          this.enable(), (0, a.off)(this.getContentWindow(), "keydown", this.rollback);
        }, onSelect: function(t3, e3) {
        }, rollback: function(t3, e3) {
          (27 == (t3.which || t3.keyCode) || e3) && (this.sorter.moved = false, this.sorter.endMove());
        }, getBadgeEl: function() {
          return this.$badge || (this.$badge = c(this.getBadge())), this.$badge;
        }, getHighlighterEl: function() {
          return this.$hl || (this.$hl = c(this.canvas.getHighlighter())), this.$hl;
        }, stop: function() {
          for (var t3 = arguments.length, e3 = new Array(t3), n3 = 0; n3 < t3; n3++) e3[n3] = arguments[n3];
          s["default"].stop.apply(this, e3), this.getBadgeEl().removeClass(this.badgeClass), this.getHighlighterEl().removeClass(this.hoverClass);
          var r3 = this.$wrapper;
          r3.css("cursor", "").unbind().removeClass(this.noSelClass);
        } });
      }, 9617: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => o });
        var r2 = n2(9050), i = n2(9283);
        const o = { open: function(t3) {
          var e3 = this, n3 = this.editor, i2 = this.title, o2 = this.config, a = this.am, s = o2.custom;
          if ((0, r2.isFunction)(s.open)) return s.open(a.__customData());
          n3.Modal.open({ title: i2, content: t3 }).onceClose(function() {
            return n3.stopCommand(e3.id);
          });
        }, close: function() {
          var t3 = this.config.custom;
          if ((0, r2.isFunction)(t3.close)) return t3.close(this.am.__customData());
          var e3 = this.editor.Modal;
          e3 && e3.close();
        }, run: function(t3, e3) {
          var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = t3.AssetManager, o2 = r3.getConfig(), a = n3.types, s = void 0 === a ? [] : a, l = n3.accept, c = n3.select;
          if (this.title = n3.modalTitle || t3.t("assetManager.modalTitle") || "", this.editor = t3, this.config = o2, this.am = r3, r3.setTarget(n3.target), r3.onClick(n3.onClick), r3.onDblClick(n3.onDblClick), r3.onSelect(n3.onSelect), r3.__behaviour({ select: c, types: s, options: n3 }), o2.custom) this.rendered = this.rendered || (0, i.ut)("div"), this.rendered.className = "".concat(o2.stylePrefix, "custom-wrp"), r3.__behaviour({ container: this.rendered }), r3.__trgCustom();
          else {
            if (!this.rendered || s) {
              var u = r3.getAll().filter(function(t4) {
                return t4;
              });
              s && s.length && (u = u.filter(function(t4) {
                return -1 !== s.indexOf(t4.get("type"));
              })), r3.render(u), this.rendered = r3.getContainer();
            }
            if (l) {
              var f = this.rendered.querySelector("input#".concat(o2.stylePrefix, "uploadFile"));
              f && f.setAttribute("accept", l);
            }
          }
          return this.open(this.rendered), this;
        }, stop: function(t3) {
          this.editor = t3, this.close(this.rendered);
        } };
      }, 5821: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => o });
        var r2 = n2(9050), i = n2(9283);
        const o = { open: function() {
          var t3 = this.container, e3 = this.editor, n3 = this.bm, i2 = this.config, o2 = i2.custom, a = i2.appendTo;
          if ((0, r2.isFunction)(o2.open)) return o2.open(n3.__customData());
          if (this.firstRender && !a) {
            var s = "views-container", l = e3.Panels;
            (l.getPanel(s) || l.addPanel({ id: s })).set("appendContent", t3).trigger("change:appendContent"), o2 || t3.appendChild(n3.render());
          }
          t3 && (t3.style.display = "block");
        }, close: function() {
          var t3 = this.container, e3 = this.config.custom;
          if ((0, r2.isFunction)(e3.close)) return e3.close(this.bm.__customData());
          t3 && (t3.style.display = "none");
        }, run: function(t3) {
          var e3 = t3.Blocks;
          this.config = e3.getConfig(), this.firstRender = !this.container, this.container = this.container || (0, i.ut)("div"), this.editor = t3, this.bm = e3;
          var n3 = this.container;
          e3.__behaviour({ container: n3 }), this.config.custom && e3.__trgCustom(), this.open();
        }, stop: function() {
          this.close();
        } };
      }, 3452: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => r2 });
        const r2 = { run: function(t3) {
          var e3 = t3.LayerManager, n3 = t3.Panels, r3 = e3.getConfig();
          if (!r3.appendTo) {
            if (!this.layers) {
              var i = "views-container", o = document.createElement("div"), a = n3.getPanel(i) || n3.addPanel({ id: i });
              r3.custom ? e3.__trgCustom({ container: o }) : o.appendChild(e3.render()), a.set("appendContent", o).trigger("change:appendContent"), this.layers = o;
            }
            this.layers.style.display = "block";
          }
        }, stop: function() {
          var t3 = this.layers;
          t3 && (t3.style.display = "none");
        } };
      }, 2840: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => o });
        var r2 = n2(2316), i = n2.n(r2)().$;
        const o = { run: function(t3, e3) {
          if (this.sender = e3, !this.$cn) {
            var n3 = t3.getConfig(), r3 = t3.Panels, o2 = "change:appendContent";
            this.$cn = i("<div></div>"), this.$cn2 = i("<div></div>"), this.$cn.append(this.$cn2);
            var a = t3.DeviceManager;
            if (a && n3.showDevices) {
              var s = r3.addPanel({ id: "devices-c" }), l = a.render();
              s.set("appendContent", l).trigger(o2);
            }
            var c = t3.SelectorManager;
            this.slm = c;
            var u = c.getConfig();
            u.custom ? c.__trgCustom({ container: this.$cn2.get(0) }) : u.appendTo || this.$cn2.append(c.render([]));
            var f = t3.StyleManager;
            this.sm = f;
            var h = f.getConfig(), d = h.stylePrefix;
            this.$header = i('<div class="'.concat(d, 'header">').concat(t3.t("styleManager.empty"), "</div>")), this.$cn.append(this.$header), h.custom ? f.__trgCustom({ container: this.$cn2.get(0) }) : h.appendTo || this.$cn2.append(f.render());
            var p = "views-container";
            this.panel = r3.getPanel(p), this.panel || (this.panel = r3.addPanel({ id: p })), this.panel.set("appendContent", this.$cn).trigger(o2), this.em = t3.getModel(), this.listenTo(this.em, f.events.target, this.toggleSm);
          }
          this.toggleSm();
        }, toggleSm: function() {
          var t3, e3, n3, r3, i2 = this.sender, o2 = this.sm;
          i2 && i2.get && !i2.get("active") || !o2 || (o2.getSelected() ? (null === (t3 = this.$cn2) || void 0 === t3 || t3.show(), null === (e3 = this.$header) || void 0 === e3 || e3.hide()) : (null === (n3 = this.$cn2) || void 0 === n3 || n3.hide(), null === (r3 = this.$header) || void 0 === r3 || r3.show()));
        }, stop: function() {
          var t3, e3;
          null === (t3 = this.$cn2) || void 0 === t3 || t3.hide(), null === (e3 = this.$header) || void 0 === e3 || e3.hide();
        } };
      }, 8644: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => o });
        var r2 = n2(2316), i = n2.n(r2)().$;
        const o = { run: function(t3, e3) {
          this.sender = e3;
          var n3 = t3.getModel(), r3 = t3.Config.stylePrefix, o2 = t3.TraitManager, a = o2.getConfig();
          if (!a.appendTo) {
            if (!this.$cn) {
              this.$cn = i("<div></div>"), this.$cn2 = i("<div></div>"), this.$cn.append(this.$cn2), this.$header = i("<div>").append('<div class="'.concat(a.stylePrefix, 'header">').concat(n3.t("traitManager.empty"), "</div>")), this.$cn.append(this.$header), this.$cn2.append('<div class="'.concat(r3, 'traits-label">').concat(n3.t("traitManager.label"), "</div>")), this.$cn2.append(o2.render());
              var s = t3.Panels;
              (s.getPanel("views-container") ? s.getPanel("views-container") : s.addPanel({ id: "views-container" })).set("appendContent", this.$cn.get(0)).trigger("change:appendContent"), this.target = t3.getModel(), this.listenTo(this.target, "component:toggled", this.toggleTm);
            }
            this.toggleTm();
          }
        }, toggleTm: function() {
          var t3 = this.sender;
          t3 && t3.get && !t3.get("active") || (1 === this.target.getSelectedAll().length ? (this.$cn2.show(), this.$header.hide()) : (this.$cn2.hide(), this.$header.show()));
        }, stop: function() {
          this.$cn2 && this.$cn2.hide(), this.$header && this.$header.hide();
        } };
      }, 560: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => i });
        var r2 = n2(9050);
        const i = { run: function(t3, e3) {
          var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i2 = t3.getModel(), o = i2.get("clipboard"), a = t3.getSelected();
          o && a && (t3.getSelectedAll().forEach(function(e4) {
            var i3 = e4.collection;
            if (i3) {
              var a2, s = { at: e4.index() + 1, action: n3.action || "paste-component" };
              if ((0, r2.contains)(o, e4) && e4.get("copyable")) a2 = i3.add(e4.clone(), s);
              else {
                var l = o.filter(function(t4) {
                  return t4.get("copyable");
                }).filter(function(n4) {
                  return t3.Components.canMove(e4.parent(), n4).result;
                });
                a2 = i3.add(l.map(function(t4) {
                  return t4.clone();
                }), s);
              }
              (a2 = (0, r2.isArray)(a2) ? a2 : [a2]).forEach(function(e5) {
                return t3.trigger("component:paste", e5);
              });
            }
          }), a.emitUpdate());
        } };
      }, 4944: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => a });
        var r2 = n2(2982), i = n2(9050), o = "sw-visibility";
        const a = { getPanels: function(t3) {
          return this.panels || (this.panels = t3.Panels.getPanels()), this.panels;
        }, preventDrag: function(t3) {
          t3.abort = 1;
        }, tglEffects: function(t3) {
          var e3 = this.em, n3 = t3 ? "on" : "off";
          if (e3) {
            var r3 = e3.get("Canvas"), o2 = r3.getBody(), a2 = r3.getToolbarEl();
            a2 && (a2.style.display = t3 ? "none" : "");
            var s = o2.querySelectorAll(".".concat(this.ppfx, "no-pointer"));
            (0, i.each)(s, function(e4) {
              return e4.style.pointerEvents = t3 ? "all" : "";
            }), e3[n3]("run:tlb-move:before", this.preventDrag);
          }
        }, run: function(t3, e3) {
          var n3 = this;
          this.sender = e3, this.selected = (0, r2.Z)(t3.getSelectedAll()), t3.select(), this.shouldRunSwVisibility || (this.shouldRunSwVisibility = t3.Commands.isActive(o)), this.shouldRunSwVisibility && t3.stopCommand(o), t3.getModel().stopDefault();
          var i2 = this.getPanels(t3), a2 = t3.Canvas.getElement(), s = t3.getEl(), l = t3.Config.stylePrefix;
          if (!this.helper) {
            var c = document.createElement("span");
            c.className = "".concat(l, "off-prv fa fa-eye-slash"), s.appendChild(c), c.onclick = function() {
              return n3.stopCommand();
            }, this.helper = c;
          }
          this.helper.style.display = "inline-block", i2.forEach(function(t4) {
            return t4.set("visible", false);
          });
          var u = a2.style;
          u.width = "100%", u.height = "100%", u.top = "0", u.left = "0", u.padding = "0", u.margin = "0", t3.refresh(), this.tglEffects(1);
        }, stop: function(t3) {
          var e3 = this.sender, n3 = void 0 === e3 ? {} : e3, r3 = this.selected;
          n3.set && n3.set("active", 0);
          var i2 = this.getPanels(t3);
          this.shouldRunSwVisibility && (t3.runCommand(o), this.shouldRunSwVisibility = false), t3.getModel().runDefault(), i2.forEach(function(t4) {
            return t4.set("visible", true);
          }), t3.Canvas.getElement().setAttribute("style", ""), r3 && t3.select(r3), delete this.selected, this.helper && (this.helper.style.display = "none"), t3.refresh(), this.tglEffects();
        } };
      }, 7538: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => o });
        var r2 = n2(4942);
        function i(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        const o = { run: function(t3, e3, n3) {
          var o2 = n3 || {}, a = t3.Canvas, s = a.getCanvasView(), l = function(t4) {
            for (var e4 = 1; e4 < arguments.length; e4++) {
              var n4 = null != arguments[e4] ? arguments[e4] : {};
              e4 % 2 ? i(Object(n4), true).forEach(function(e5) {
                (0, r2.Z)(t4, e5, n4[e5]);
              }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(n4)) : i(Object(n4)).forEach(function(e5) {
                Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(n4, e5));
              });
            }
            return t4;
          }({ appendTo: a.getResizerEl(), prefix: t3.getConfig().stylePrefix, posFetcher: s.getElementPos.bind(s), mousePosFetcher: a.getMouseRelativePos }, o2.options || {}), c = this.canvasResizer;
          return c && !o2.forceNew || (this.canvasResizer = t3.Utils.Resizer.init(l), c = this.canvasResizer), c.setOptions(l), c.blur(), c.focus(o2.el), c;
        }, stop: function() {
          var t3;
          null === (t3 = this.canvasResizer) || void 0 === t3 || t3.blur();
        } };
      }, 2620: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => E });
        var r2 = n2(1002), i = n2(4942), o = n2(2316), a = n2.n(o), s = n2(9050), l = n2(1163), c = n2(9283), u = n2(3144), f = n2(5671), h = n2(9340), d = n2(2963), p = n2(1120), g = n2(6602);
        function v(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function m(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? v(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : v(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function y(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, p.Z)(t3);
            if (e3) {
              var i2 = (0, p.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, d.Z)(this, n3);
          };
        }
        var b = function(t3) {
          (0, h.Z)(n3, t3);
          var e3 = y(n3);
          function n3() {
            return (0, f.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, u.Z)(n3, [{ key: "events", value: function() {
            return this.model.get("events") || { mousedown: "handleClick" };
          } }, { key: "attributes", value: function() {
            return this.model.get("attributes");
          } }, { key: "initialize", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = t4.config, n4 = void 0 === e4 ? {} : e4;
            this.em = n4.em, this.editor = n4.editor;
          } }, { key: "handleClick", value: function(t4) {
            t4.preventDefault(), t4.stopPropagation();
            var e4 = this.editor, n4 = this.em, r3 = e4.Canvas.getFrameEl().getBoundingClientRect(), i2 = r3.left, o2 = r3.top, a2 = m(m({}, t4), {}, { clientX: t4.clientX - i2, clientY: t4.clientY - o2 });
            n4.trigger("toolbar:run:before"), this.execCommand(a2);
          } }, { key: "execCommand", value: function(t4) {
            var e4 = { event: t4 }, n4 = this.model.get("command"), r3 = this.editor;
            "function" == typeof n4 && n4(r3, null, e4), "string" == typeof n4 && r3.runCommand(n4, e4);
          } }, { key: "render", value: function() {
            var t4 = this.editor, e4 = this.$el, n4 = this.model, r3 = n4.get("id"), i2 = n4.get("label"), o2 = t4.getConfig().stylePrefix;
            return e4.addClass("".concat(o2, "toolbar-item")), r3 && e4.addClass("".concat(o2, "toolbar-item__").concat(r3)), i2 && e4.append(i2), this;
          } }]), n3;
        }(a().View);
        function w(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, p.Z)(t3);
            if (e3) {
              var i2 = (0, p.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, d.Z)(this, n3);
          };
        }
        var k = function(t3) {
          (0, h.Z)(n3, t3);
          var e3 = w(n3);
          function n3() {
            var t4, r3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, i2 = arguments.length > 1 ? arguments[1] : void 0;
            return (0, f.Z)(this, n3), (t4 = e3.call(this, r3, i2)).config = { editor: r3.editor || "", em: r3.em }, t4.listenTo(t4.collection, "reset", t4.render), t4;
          }
          return (0, u.Z)(n3);
        }(g.Z);
        function x(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, p.Z)(t3);
            if (e3) {
              var i2 = (0, p.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, d.Z)(this, n3);
          };
        }
        k.prototype.itemView = b;
        var O = function(t3) {
          (0, h.Z)(n3, t3);
          var e3 = x(n3);
          function n3() {
            return (0, f.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, u.Z)(n3, [{ key: "defaults", value: function() {
            return { command: "", attributes: {} };
          } }]), n3;
        }(a().Model);
        const C = a().Collection.extend({ model: O });
        function S(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function _(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? S(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : S(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var P, T = a().$;
        const E = { init: function(t3) {
          (0, s.bindAll)(this, "onHover", "onOut", "onClick", "onFrameScroll", "onFrameUpdated", "onContainerChange");
        }, enable: function() {
          this.frameOff = this.canvasOff = this.adjScroll = null, this.startSelectComponent(), P = 1;
        }, startSelectComponent: function() {
          this.toggleSelectComponent(1), this.em.getSelected() && this.onSelect();
        }, stopSelectComponent: function() {
          this.toggleSelectComponent();
        }, toggleSelectComponent: function(t3) {
          var e3 = this, n3 = this.em, r3 = n3.getConfig().listenToEl, i2 = n3.getContainer().parentNode, o2 = t3 ? "on" : "off", a2 = { on: l.on, off: l.off };
          !r3.length && i2 && r3.push(i2);
          a2[o2](window, "resize", this.onFrameUpdated), a2[o2](r3, "scroll", this.onContainerChange), n3[o2]("component:toggled component:update undo redo", this.onSelect, this), n3[o2]("change:componentHovered", this.onHovered, this), n3[o2]("component:resize styleable:change component:input", this.updateGlobalPos, this), n3[o2]("component:update:toolbar", this._upToolbar, this), n3[o2]("change:canvasOffset", this.updateAttached, this), n3[o2]("frame:updated", this.onFrameUpdated, this), n3[o2]("canvas:updateTools", this.onFrameUpdated, this), n3.get("Canvas").getFrames().forEach(function(t4) {
            var n4 = t4.view, r4 = null == n4 ? void 0 : n4.getWindow();
            r4 && function(t5, n5) {
              a2[o2](n5, "mouseover", e3.onHover), a2[o2](n5, "mouseleave", e3.onOut), a2[o2](n5, "click touchend", e3.onClick), a2[o2](t5, "scroll", e3.onFrameScroll, true);
            }(r4, n4.getBody());
          });
        }, onHover: function(t3) {
          t3.stopPropagation();
          var e3 = this.em, n3 = t3.target, r3 = (0, l.getViewEl)(n3), i2 = r3 && r3._getFrame(), o2 = T(n3), a2 = o2.data("model");
          if (!a2) for (var s2 = o2.parent(); !a2 && s2.length && !(0, c.Mx)(s2[0]); ) a2 = s2.data("model"), s2 = s2.parent();
          this.currentDoc = n3.ownerDocument, e3.setHovered(a2, { useValid: true }), i2 && e3.set("currentFrame", i2);
        }, onFrameUpdated: function() {
          this.updateLocalPos(), this.updateGlobalPos();
        }, onHovered: function(t3, e3) {
          var n3 = this, r3 = {};
          e3 ? e3.views.forEach(function(t4) {
            var i2 = t4.el, o2 = n3.getElementPos(i2);
            r3 = { el: i2, pos: o2, component: e3, view: (0, l.getViewEl)(i2) }, n3.updateToolsLocal(r3), i2.ownerDocument === n3.currentDoc && (n3.elHovered = r3);
          }) : (this.currentDoc = null, this.elHovered = 0, this.updateToolsLocal(), this.canvas.getFrames().forEach(function(t4) {
            var e4 = t4.view, r4 = e4 && e4.getToolsEl();
            r4 && n3.toggleToolsEl(0, 0, { el: r4 });
          }));
        }, onSelect: (0, s.debounce)(function() {
          var t3 = this.em, e3 = t3.getSelected(), n3 = t3.get("currentFrame") || {}, r3 = e3 && e3.getView(n3.model), i2 = r3 && r3.el, o2 = {};
          i2 && (0, c.pn)(i2) && (o2 = { el: i2, pos: this.getElementPos(i2), component: e3, view: (0, l.getViewEl)(i2) });
          this.elSelected = o2, this.updateToolsGlobal(), this.updateLocalPos(o2), this.initResize(e3);
        }), updateGlobalPos: function() {
          var t3 = this.getElSelected();
          t3.el && (t3.pos = this.getElementPos(t3.el), this.updateToolsGlobal());
        }, updateLocalPos: function(t3) {
          var e3 = this.getElHovered();
          e3.el && (e3.pos = this.getElementPos(e3.el), this.updateToolsLocal(t3));
        }, getElHovered: function() {
          return this.elHovered || {};
        }, getElSelected: function() {
          return this.elSelected || {};
        }, onOut: function() {
          this.em.setHovered(0);
        }, toggleToolsEl: function(t3, e3) {
          var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = n3.el || this.canvas.getToolsEl(e3);
          return r3 && (r3.style.display = t3 ? "" : "none"), r3 || {};
        }, showElementOffset: function(t3, e3) {
          var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
          P && this.editor.runCommand("show-offset", { el: t3, elPos: e3, view: n3.view, force: 1, top: 0, left: 0 });
        }, hideElementOffset: function(t3) {
          this.editor.stopCommand("show-offset", { view: t3 });
        }, showFixedElementOffset: function(t3, e3) {
          this.editor.runCommand("show-offset", { el: t3, elPos: e3, state: "Fixed" });
        }, hideFixedElementOffset: function(t3, e3) {
          this.editor && this.editor.stopCommand("show-offset", { state: "Fixed" });
        }, hideHighlighter: function(t3) {
          this.canvas.getHighlighter(t3).style.opacity = 0;
        }, onClick: function(t3) {
          t3.stopPropagation(), t3.preventDefault();
          var e3 = this.em;
          if (e3.get("_cmpDrag")) return e3.set("_cmpDrag");
          var n3 = T(t3.target), r3 = n3.data("model");
          if (!r3) for (var i2 = n3.parent(); !r3 && i2.length && !(0, c.Mx)(i2[0]); ) r3 = i2.data("model"), i2 = i2.parent();
          if (r3) {
            if (e3.isEditing() && !r3.get("textable") && r3.isChildOf("text")) return;
            this.select(r3, t3);
          }
        }, select: function(t3) {
          var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          t3 && (this.editor.select(t3, { event: e3, useValid: true }), this.initResize(t3));
        }, updateBadge: function(t3, e3) {
          var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = this.canvas, i2 = T(t3).data("model");
          if (i2 && i2.get("badgable")) {
            var o2 = this.getBadge(n3);
            if (!n3.posOnly) {
              var a2 = this.canvas.getConfig(), s2 = i2.getIcon(), l2 = a2.pStylePrefix || "", c2 = "".concat(l2, "badge"), u2 = a2.customBadgeLabel, f2 = "".concat(s2 ? '<div class="'.concat(c2, '__icon">').concat(s2, "</div>") : "", '\n        <div class="').concat(c2, '__name">').concat(i2.getName(), "</div>");
              o2.innerHTML = u2 ? u2(i2) : f2;
            }
            var h2 = "px", d2 = o2.style;
            d2.display = "block";
            var p2 = r3.getTargetToElementFixed(t3, o2, { pos: e3 }), g2 = p2.top, v2 = n3.leftOff < 0 ? -n3.leftOff : 0;
            d2.top = g2 + h2, d2.left = v2 + h2;
          }
        }, showHighlighter: function(t3) {
          this.canvas.getHighlighter(t3).style.opacity = "";
        }, initResize: function(t3) {
          var e3, n3 = this.em, i2 = this.canvas, o2 = n3 ? n3.get("Editor") : "", a2 = (n3 ? n3.get("Config") : "").stylePrefix || "", c2 = "".concat(a2, "resizing"), u2 = !(0, s.isElement)(t3) && (0, l.isTaggableNode)(t3) ? t3 : n3.getSelected(), f2 = u2 && u2.get("resizable"), h2 = {}, d2 = function(t4, e4, n4) {
            var r3 = n4.docs;
            r3 && r3.forEach(function(e5) {
              var n5 = e5.body, r4 = n5.className || "";
              n5.className = ("add" == t4 ? "".concat(r4, " ").concat(c2) : r4.replace(c2, "")).trim();
            });
          };
          if (o2 && f2) {
            var p2 = (0, s.isElement)(t3) ? t3 : u2.getEl();
            h2 = { onStart: function(t4) {
              var r3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, o3 = r3.el, a3 = r3.config, s2 = r3.resizer, c3 = a3.keyHeight, f3 = a3.keyWidth, h3 = a3.currentUnit, p3 = a3.keepAutoHeight, g2 = a3.keepAutoWidth;
              d2("add", 0, r3), e3 = n3.get("StyleManager").getModelToStyle(u2), i2.toggleFramesEvents();
              var v2 = getComputedStyle(o3), m2 = e3.getStyle(), y2 = m2[f3];
              a3.autoWidth = g2 && "auto" === y2, isNaN(parseFloat(y2)) && (y2 = v2[f3]);
              var b2 = m2[c3];
              a3.autoHeight = p3 && "auto" === b2, isNaN(parseFloat(b2)) && (b2 = v2[c3]), s2.startDim.w = parseFloat(y2), s2.startDim.h = parseFloat(b2), P = 0, h3 && (a3.unitHeight = (0, l.getUnitFromValue)(b2), a3.unitWidth = (0, l.getUnitFromValue)(y2));
            }, onMove: function() {
              o2.trigger("component:resize");
            }, onEnd: function(t4, e4) {
              d2("remove", 0, e4), o2.trigger("component:resize"), i2.toggleFramesEvents(1), P = 1;
            }, updateTarget: function(t4, r3) {
              var o3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
              if (e3) {
                var a3 = o3.store, s2 = o3.selectedHandler, l2 = o3.config, c3 = l2.keyHeight, u3 = l2.keyWidth, f3 = l2.autoHeight, h3 = l2.autoWidth, d3 = l2.unitWidth, p3 = l2.unitHeight, g2 = ["tc", "bc"].indexOf(s2) >= 0, v2 = ["cl", "cr"].indexOf(s2) >= 0, m2 = {}, y2 = a3 ? "" : 1;
                if (!g2) {
                  var b2 = i2.getBody().offsetWidth, w2 = r3.w < b2 ? r3.w : b2;
                  m2[u3] = h3 ? "auto" : "".concat(w2).concat(d3);
                }
                v2 || (m2[c3] = f3 ? "auto" : "".concat(r3.h).concat(p3)), e3.addStyle(_(_({}, m2), {}, { en: y2 }), { avoidStore: !a3 });
                var k2 = "update:component:style", x2 = "".concat(k2, ":").concat(c3, " ").concat(k2, ":").concat(u3);
                n3 && n3.trigger(x2, null, null, { noEmit: 1 });
              }
            } }, "object" == (0, r2.Z)(f2) && (h2 = _(_(_({}, h2), f2), {}, { parent: h2 })), this.resizer = o2.runCommand("resize", { el: p2, options: h2, force: 1 });
          } else o2.stopCommand("resize"), this.resizer = null;
        }, updateToolbar: function(t3) {
          var e3 = this.config.em, n3 = t3 == e3 ? e3.getSelected() : t3, r3 = this.canvas.getToolbarEl(), i2 = r3.style, o2 = n3.get("toolbar"), a2 = e3.get("Config").showToolbar;
          if (n3 && a2 && o2 && o2.length) {
            if (i2.display = "", !this.toolbar) {
              r3.innerHTML = "", this.toolbar = new C(o2);
              var s2 = new k({ collection: this.toolbar, editor: this.editor, em: e3 });
              r3.appendChild(s2.render().el);
            }
            this.toolbar.reset(o2), i2.top = "-100px", i2.left = 0;
          } else i2.display = "none";
        }, updateToolbarPos: function(t3) {
          var e3 = "px", n3 = this.canvas.getToolbarEl().style;
          n3.top = "".concat(t3.top).concat(e3), n3.left = "".concat(t3.left).concat(e3), n3.opacity = "";
        }, getCanvasPosition: function() {
          return this.canvas.getCanvasView().getPosition();
        }, getBadge: function() {
          var t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
          return this.canvas.getBadgeEl(t3.view);
        }, onFrameScroll: function() {
          this.updateTools();
        }, updateTools: function() {
          this.updateLocalPos(), this.updateGlobalPos();
        }, isCompSelected: function(t3) {
          return t3 && "selected" === t3.get("status");
        }, updateToolsLocal: function(t3) {
          var e3 = t3 || this.getElHovered(), n3 = e3.el, r3 = e3.pos, i2 = e3.view, o2 = e3.component;
          if (n3) {
            var a2 = o2.get("hoverable"), s2 = this.lastHovered !== n3, l2 = s2 ? {} : { posOnly: 1 };
            s2 && a2 && (this.lastHovered = n3, this.showHighlighter(i2), this.showElementOffset(n3, r3, { view: i2 })), this.isCompSelected(o2) && (this.hideHighlighter(i2), this.hideElementOffset(i2));
            var c2 = "px", u2 = this.toggleToolsEl(1, i2), f2 = u2.style, h2 = this.canvas.canvasRectOffset(n3, r3), d2 = h2.top, p2 = h2.left;
            this.updateBadge(n3, r3, _(_({}, l2), {}, { view: i2, topOff: d2, leftOff: p2 })), f2.top = d2 + c2, f2.left = p2 + c2, f2.width = r3.width + c2, f2.height = r3.height + c2, this._trgToolUp("local", { component: o2, el: u2, top: d2, left: p2, width: r3.width, height: r3.height });
          } else this.lastHovered = 0;
        }, _upToolbar: (0, s.debounce)(function() {
          this.updateToolsGlobal({ force: 1 });
        }), _trgToolUp: function(t3) {
          var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          this.em.trigger("canvas:tools:update", _({ type: t3 }, e3));
        }, updateToolsGlobal: function() {
          var t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e3 = this.getElSelected(), n3 = e3.el, r3 = e3.pos, i2 = e3.component;
          if (!n3) return this.toggleToolsEl(), void (this.lastSelected = 0);
          var o2 = this.canvas, a2 = this.lastSelected !== n3;
          (a2 || t3.force) && (this.lastSelected = n3, this.updateToolbar(i2));
          var s2 = "px", l2 = this.toggleToolsEl(1), c2 = l2.style, u2 = o2.getTargetToElementFixed(n3, o2.getToolbarEl(), { pos: r3 }), f2 = u2.canvasOffsetTop, h2 = u2.canvasOffsetLeft;
          c2.top = f2 + s2, c2.left = h2 + s2, c2.width = r3.width + s2, c2.height = r3.height + s2, this.updateToolbarPos({ top: u2.top, left: u2.left }), this._trgToolUp("global", { component: i2, el: l2, top: f2, left: h2, width: r3.width, height: r3.height });
        }, updateAttached: (0, s.debounce)(function() {
          this.updateGlobalPos();
        }), onContainerChange: (0, s.debounce)(function() {
          this.em.refreshCanvas();
        }, 150), getElementPos: function(t3) {
          return this.canvas.getCanvasView().getElementPos(t3);
        }, hideBadge: function() {
          this.getBadge().style.display = "none";
        }, cleanPrevious: function(t3) {
          t3 && t3.set({ status: "", state: "" });
        }, getContentWindow: function() {
          return this.canvas.getWindow();
        }, run: function(t3) {
          (0, l.hasWin)() && (this.editor = t3 && t3.get("Editor"), this.enable());
        }, stop: function(t3, e3) {
          var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
          if ((0, l.hasWin)()) {
            var r3 = this.em, i2 = this.editor;
            this.onHovered(), this.stopSelectComponent(), !n3.preserveSelected && r3.setSelected(null), this.toggleToolsEl(), i2 && i2.stopCommand("resize");
          }
        } };
      }, 8463: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => o });
        var r2 = n2(2316), i = n2.n(r2)().$;
        const o = { startSelectPosition: function(t3, e3) {
          var n3 = this, r3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
          this.isPointed = false;
          var i2 = this.editorModel.get("Utils"), o2 = t3.ownerDocument.body;
          i2 && !this.sorter && (this.sorter = new i2.Sorter({ container: o2, placer: this.canvas.getPlacerEl(), containerSel: "*", itemSel: "*", pfx: this.ppfx, direction: "a", document: e3, wmargin: 1, nested: 1, em: this.editorModel, canvasRelative: 1, scale: function() {
            return n3.em.getZoomDecimal();
          } })), r3.onStart && (this.sorter.onStart = r3.onStart), t3 && this.sorter.startSort(t3, { container: o2 });
        }, getOffsetDim: function() {
          var t3 = this.offset(this.canvas.getFrameEl()), e3 = this.offset(this.canvas.getElement());
          return { top: t3.top - e3.top, left: t3.left - e3.left };
        }, stopSelectPosition: function() {
          this.posTargetCollection = null, this.posIndex = "after" == this.posMethod && 0 !== this.cDim.length ? this.posIndex + 1 : this.posIndex, this.sorter && (this.sorter.moved = 0, this.sorter.endMove()), this.cDim && (this.posIsLastEl = 0 !== this.cDim.length && "after" == this.posMethod && this.posIndex == this.cDim.length, this.posTargetEl = 0 === this.cDim.length ? i(this.outsideElem) : !this.posIsLastEl && this.cDim[this.posIndex] ? i(this.cDim[this.posIndex][5]).parent() : i(this.outsideElem), this.posTargetModel = this.posTargetEl.data("model"), this.posTargetCollection = this.posTargetEl.data("model-comp"));
        }, enable: function() {
          this.startSelectPosition();
        }, nearFloat: function(t3, e3, n3) {
          var r3 = t3 || 0, i2 = e3 || "before", o2 = n3.length, a = 0 !== o2 && "after" == i2 && r3 == o2;
          return 0 !== o2 && (!a && !n3[r3][4] || n3[r3 - 1] && !n3[r3 - 1][4] || a && !n3[r3 - 1][4]) ? 1 : 0;
        }, run: function() {
          this.enable();
        }, stop: function() {
          this.stopSelectPosition(), this.$wrapper.css("cursor", ""), this.$wrapper.unbind();
        } };
      }, 7994: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => u });
        var r2 = n2(4942), i = n2(2316), o = n2.n(i), a = n2(9050), s = n2(1163);
        function l(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        var c = o().$;
        const u = { getOffsetMethod: function(t3) {
          return "get" + (t3 || "") + "OffsetViewerEl";
        }, run: function(t3, e3, n3) {
          var i2 = n3 || {}, o2 = i2.state || "", u2 = t3.getConfig(), f = this.em.getZoomDecimal(), h = i2.el || "";
          if (!u2.showOffsets || (0, s.isTextNode)(h) || !u2.showOffsetsSelected && "Fixed" == o2) t3.stopCommand(this.id, n3);
          else {
            var d = t3.Canvas, p = function(t4) {
              for (var e4 = 1; e4 < arguments.length; e4++) {
                var n4 = null != arguments[e4] ? arguments[e4] : {};
                e4 % 2 ? l(Object(n4), true).forEach(function(e5) {
                  (0, r2.Z)(t4, e5, n4[e5]);
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t4, Object.getOwnPropertyDescriptors(n4)) : l(Object(n4)).forEach(function(e5) {
                  Object.defineProperty(t4, e5, Object.getOwnPropertyDescriptor(n4, e5));
                });
              }
              return t4;
            }({}, i2.elPos || d.getElementPos(h));
            (0, a.isUndefined)(i2.top) || (p.top = i2.top), (0, a.isUndefined)(i2.left) || (p.left = i2.left);
            var g = window.getComputedStyle(h), v = this.ppfx, m = o2 + "State", y = d[this.getOffsetMethod(o2)](n3.view);
            y.style.opacity = "";
            var b = this["marginT" + o2], w = this["marginB" + o2], k = this["marginL" + o2], x = this["marginR" + o2], O = this["padT" + o2], C = this["padB" + o2], S = this["padL" + o2], _ = this["padR" + o2];
            if (y.childNodes.length && (this[m] = "1", b = y.querySelector("[data-offset-m-t]"), w = y.querySelector("[data-offset-m-b]"), k = y.querySelector("[data-offset-m-l]"), x = y.querySelector("[data-offset-m-r]"), O = y.querySelector("[data-offset-p-t]"), C = y.querySelector("[data-offset-p-b]"), S = y.querySelector("[data-offset-p-l]"), _ = y.querySelector("[data-offset-p-r]")), !this[m]) {
              var P = o2.toLowerCase(), T = P + "margin-v", E = P + "padding-v", j = c('<div class="'.concat(v, 'marginName">')).get(0), A = c('<div class="'.concat(v, 'paddingName">')).get(0), D = v + E + "-el", M = "".concat(v + T + "-el", " ").concat(v + T), R = "".concat(D, " ").concat(v + E);
              b = c('<div class="'.concat(M, '-top"></div>')).get(0), w = c('<div class="'.concat(M, '-bottom"></div>')).get(0), k = c('<div class="'.concat(M, '-left"></div>')).get(0), x = c('<div class="'.concat(M, '-right"></div>')).get(0), O = c('<div class="'.concat(R, '-top"></div>')).get(0), C = c('<div class="'.concat(R, '-bottom"></div>')).get(0), S = c('<div class="'.concat(R, '-left"></div>')).get(0), _ = c('<div class="'.concat(R, '-right"></div>')).get(0), this["marginT" + o2] = b, this["marginB" + o2] = w, this["marginL" + o2] = k, this["marginR" + o2] = x, this["padT" + o2] = O, this["padB" + o2] = C, this["padL" + o2] = S, this["padR" + o2] = _, j.appendChild(b), j.appendChild(w), j.appendChild(k), j.appendChild(x), A.appendChild(O), A.appendChild(C), A.appendChild(S), A.appendChild(_), y.appendChild(j), y.appendChild(A), this[m] = "1";
            }
            var Z = "px", L = parseFloat(g.marginLeft.replace(Z, "")) * f, N = parseFloat(g.marginRight.replace(Z, "")) * f, I = parseFloat(g.marginTop.replace(Z, "")) * f, F = parseFloat(g.marginBottom.replace(Z, "")) * f, V = b.style, B = w.style, H = k.style, z = x.style, U = O.style, W = C.style, $ = S.style, q = _.style, G = parseFloat(p.left), K = parseFloat(g.width) * f + Z;
            V.height = I + Z, V.width = K, V.top = p.top - I + Z, V.left = G + Z, B.height = F + Z, B.width = K, B.top = p.top + p.height + Z, B.left = G + Z;
            var Y = p.height + I + F + Z, X = p.top - I + Z;
            H.height = Y, H.width = L + Z, H.top = X, H.left = G - L + Z, z.height = Y, z.width = N + Z, z.top = X, z.left = G + p.width + Z;
            var J = parseFloat(g.paddingTop) * f;
            U.height = J + Z;
            var Q = parseFloat(g.paddingBottom) * f;
            W.height = Q + Z;
            var tt = p.height - Q - J + Z, et = p.top + J + Z;
            $.height = tt, $.width = parseFloat(g.paddingLeft) * f + Z, $.top = et;
            var nt = parseFloat(g.paddingRight) * f;
            q.height = tt, q.width = nt + Z, q.top = et;
          }
        }, stop: function(t3, e3) {
          var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = n3 || {}, i2 = r3.state || "", o2 = this.getOffsetMethod(i2), a2 = t3.Canvas, s2 = a2[o2](n3.view);
          s2.style.opacity = 0;
        } };
      }, 8352: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => i });
        var r2 = n2(9050);
        const i = { init: function() {
          (0, r2.bindAll)(this, "_onFramesChange");
        }, run: function(t3) {
          this.toggleVis(t3);
        }, stop: function(t3) {
          this.toggleVis(t3, 0);
        }, toggleVis: function(t3) {
          var e3 = this, n3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
          if (!t3.Commands.isActive("preview")) {
            var r3 = t3.Canvas, i2 = n3 ? "on" : "off";
            r3.getFrames().forEach(function(t4) {
              return e3._upFrame(t4, n3);
            }), r3.getModel()[i2]("change:frames", this._onFramesChange);
          }
        }, _onFramesChange: function(t3, e3) {
          var n3 = this;
          e3.forEach(function(t4) {
            return t4.once("loaded", function() {
              return n3._upFrame(t4, true);
            });
          });
        }, _upFrame: function(t3, e3) {
          var n3 = e3 ? "add" : "remove";
          t3.view.getBody().classList[n3]("".concat(this.ppfx, "dashed"));
        } };
      }, 9304: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => c });
        var r2 = n2(4942), i = n2(2982), o = n2(9050), a = n2(1163);
        function s(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function l(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? s(Object(n3), true).forEach(function(e4) {
              (0, r2.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : s(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        const c = { getConfig: function(t3) {
          return this.__getConfig(t3);
        }, getProjectData: function(t3) {
          var e3 = {}, n3 = this.storageKey;
          return n3 && (e3[n3] = t3 || this.getAll()), e3;
        }, loadProjectData: function() {
          var t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n3 = e3.all, r3 = e3.onResult, i2 = e3.reset, o2 = this.storageKey, s2 = { action: "load" }, l2 = n3 || this.getAll(), c2 = t3[o2];
          if ("string" == typeof c2) try {
            c2 = JSON.parse(c2);
          } catch (t4) {
            this.__logWarn("Data parsing failed", { input: c2 });
          }
          return i2 && c2 && l2.reset(null, s2), r3 ? c2 && r3(c2, s2) : c2 && (0, a.isDef)(c2.length) && l2.reset(c2, s2), c2;
        }, clear: function() {
          var t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e3 = this.all;
          return e3 && e3.reset(null, t3), this;
        }, __getConfig: function(t3) {
          var e3 = this.config || {};
          return t3 ? e3[t3] : e3;
        }, getAll: function() {
          var t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
          return this.all ? t3.array ? (0, i.Z)(this.all.models) : this.all : [];
        }, getAllMap: function() {
          return this.getAll().reduce(function(t3, e3) {
            return t3[e3.get(e3.idAttribute)] = e3, t3;
          }, {});
        }, __initConfig: function() {
          var t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          this.config = (0, a.deepMerge)(t3, e3), this.em = this.config.em, this.cls = [];
        }, __initListen: function() {
          var t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e3 = this.all, n3 = this.em, r3 = this.events;
          e3 && n3 && e3.on("add", function(t4, e4, i2) {
            return n3.trigger(r3.add, t4, i2);
          }).on("remove", function(t4, e4, i2) {
            return n3.trigger(r3.remove, t4, i2);
          }).on("change", function(t4, e4) {
            return n3.trigger(r3.update, t4, t4.changedAttributes(), e4);
          }).on("all", this.__catchAllEvent, this), this.cls = [e3].concat(t3.collections || []), (t3.propagate || []).forEach(function(t4) {
            var r4 = t4.entity, i2 = t4.event;
            r4.on("all", function(t5, r5, o2, a2) {
              var s2 = l({ event: t5 }, a2 || o2);
              [n3, e3].map(function(t6) {
                return t6.trigger(i2, r5, s2);
              });
            });
          });
        }, __remove: function(t3) {
          var e3 = this, n3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = this.em, i2 = (0, o.isString)(t3) ? this.get(t3) : t3, a2 = function() {
            return i2 && e3.all.remove(i2, n3), i2;
          };
          return !n3.silent && r3 && r3.trigger(this.events.removeBefore, i2, a2, n3), !n3.abort && a2();
        }, __catchAllEvent: function(t3, e3, n3, r3) {
          var i2 = this.em, o2 = this.events, a2 = r3 || n3;
          i2 && o2.all && i2.trigger(o2.all, { event: t3, model: e3, options: a2 }), this.__onAllEvent();
        }, __appendTo: function() {
          var t3 = this.getConfig().appendTo;
          if (t3) {
            var e3 = (0, o.isElement)(t3) ? t3 : document.querySelector(t3);
            if (!e3) return this.__logWarn('"appendTo" element not found');
            e3.appendChild(this.render());
          }
        }, __onAllEvent: function() {
        }, __logWarn: function(t3, e3) {
          this.em.logWarning("[".concat(this.name, "]: ").concat(t3), e3);
        }, _createId: function() {
          var t3, e3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 16, n3 = this.getAll(), r3 = n3.length + e3, i2 = this.getAllMap();
          do {
            t3 = (0, a.createId)(r3);
          } while (i2[t3]);
          return t3;
        }, __listenAdd: function(t3, e3) {
          var n3 = this;
          t3.on("add", function(t4, r3, i2) {
            return n3.em.trigger(e3, t4, i2);
          });
        }, __listenRemove: function(t3, e3) {
          var n3 = this;
          t3.on("remove", function(t4, r3, i2) {
            return n3.em.trigger(e3, t4, i2);
          });
        }, __listenUpdate: function(t3, e3) {
          var n3 = this;
          t3.on("change", function(t4, r3) {
            return n3.em.trigger(e3, t4, t4.changedAttributes(), r3);
          });
        }, __destroy: function() {
          var t3;
          this.cls.forEach(function(t4) {
            t4.stopListening(), t4.reset();
          }), this.em = 0, this.config = 0, null === (t3 = this.view) || void 0 === t3 || t3.remove(), this.view = 0;
        } };
      }, 672: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => A });
        var r2 = n2(2982), i = n2(5671), o = n2(3144), a = n2(7326), s = n2(9340), l = n2(2963), c = n2(1120), u = n2(4942), f = n2(9050), h = n2(1163), d = n2(9714), p = n2(966), g = n2(5963);
        const v = { stylePrefix: "css-", rules: [], onBeforeStyle: null };
        var m = n2(2316), y = n2(9524), b = n2(8795);
        function w(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function k(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? w(Object(n3), true).forEach(function(e4) {
              (0, u.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : w(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function x(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, c.Z)(t3);
            if (e3) {
              var i2 = (0, c.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, l.Z)(this, n3);
          };
        }
        var O = ((0, h.hasWin)() ? window : {}).CSS, C = function(t3) {
          (0, s.Z)(n3, t3);
          var e3 = x(n3);
          function n3() {
            return (0, i.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, o.Z)(n3, [{ key: "defaults", value: function() {
            return { selectors: [], selectorsAdd: "", style: {}, mediaText: "", state: "", stylable: true, atRuleType: "", singleAtRule: false, important: false, group: "", shallow: false, _undo: true };
          } }, { key: "initialize", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            this.config = t4 || {}, this.opt = e4, this.em = e4.em, this.ensureSelectors(), this.on("change", this.__onChange);
          } }, { key: "__onChange", value: function(t4, e4) {
            var n4 = this.em, r3 = this.changedAttributes();
            !(0, h.isEmptyObj)(r3) && n4 && n4.changesUp(e4);
          } }, { key: "clone", value: function() {
            var t4 = k({}, this.opt), e4 = k({}, this.attributes);
            return e4.selectors = this.get("selectors").map(function(t5) {
              return t5.clone();
            }), new this.constructor(e4, t4);
          } }, { key: "ensureSelectors", value: function(t4, e4, n4) {
            var i2 = this.em, o2 = i2 && i2.get("SelectorManager"), a2 = [this, "change:selectors", this.ensureSelectors], s2 = this.getSelectors();
            if (this.stopListening.apply(this, a2), s2.models && (s2 = (0, r2.Z)(s2.models)), s2 = (0, f.isString)(s2) ? [s2] : s2, Array.isArray(s2)) {
              var l2 = s2.filter(function(t5) {
                return t5;
              }).map(function(t5) {
                return o2 ? o2.add(t5) : t5;
              });
              s2 = new p.Z(l2);
            }
            this.set("selectors", s2, n4), this.listenTo.apply(this, a2);
          } }, { key: "getAtRule", value: function() {
            var t4 = this.get("atRuleType"), e4 = this.get("mediaText"), n4 = t4 ? "@".concat(t4) : e4 ? "@media" : "";
            return n4 + (e4 && n4 ? " ".concat(e4) : "");
          } }, { key: "selectorsToString", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = [], n4 = this.get("state"), r3 = this.get("selectorsAdd"), i2 = { escape: function(t5) {
              return O && O.escape ? O.escape(t5) : t5;
            } }, o2 = this.get("selectors").getFullString(0, i2), a2 = n4 && !t4.skipState ? ":".concat(n4) : "";
            return o2 && e4.push("".concat(o2).concat(a2)), r3 && !t4.skipAdd && e4.push(r3), e4.join(", ");
          } }, { key: "getDeclaration", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = "", n4 = this.attributes.important, r3 = this.selectorsToString(t4), i2 = this.styleToString(k({ important: n4 }, t4)), o2 = this.get("singleAtRule");
            return (r3 || o2) && (i2 || t4.allowEmpty) && (e4 = o2 ? i2 : "".concat(r3, "{").concat(i2, "}")), e4;
          } }, { key: "getDevice", value: function() {
            var t4 = this.em, e4 = this.attributes, n4 = e4.atRuleType, r3 = e4.mediaText, i2 = (null == t4 ? void 0 : t4.get("DeviceManager").getDevices()) || [], o2 = i2.filter(function(t5) {
              return "" === t5.getWidthMedia();
            })[0];
            return "media" === n4 && r3 ? i2.filter(function(t5) {
              return t5.getWidthMedia() === (0, b.U)(r3);
            })[0] || null : o2 || null;
          } }, { key: "getState", value: function() {
            var t4 = this.em, e4 = this.get("state");
            return (t4.get("SelectorManager").getStates() || []).filter(function(t5) {
              return t5.getName() === e4;
            })[0] || null;
          } }, { key: "getComponent", value: function() {
            var t4, e4 = this.getSelectors(), n4 = 1 == e4.length && e4.at(0), r3 = n4 && n4.isId() && n4.get("name");
            return r3 && (null === (t4 = this.em) || void 0 === t4 ? void 0 : t4.get("DomComponents").getById(r3)) || null;
          } }, { key: "toCSS", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = "", n4 = this.getAtRule(), r3 = this.getDeclaration(t4);
            return (r3 || t4.allowEmpty) && (e4 = r3), n4 && e4 && (e4 = "".concat(n4, "{").concat(e4, "}")), e4;
          } }, { key: "toJSON", value: function() {
            for (var t4 = arguments.length, e4 = new Array(t4), n4 = 0; n4 < t4; n4++) e4[n4] = arguments[n4];
            var r3 = m.Model.prototype.toJSON.apply(this, e4);
            if (this.em.getConfig().avoidDefaults) {
              var i2 = this.defaults();
              (0, f.forEach)(i2, function(t5, e5) {
                r3[e5] === t5 && delete r3[e5];
              }), delete r3.style.__p, (0, f.isEmpty)(r3.selectors) && delete r3.selectors, (0, f.isEmpty)(r3.style) && delete r3.style;
            }
            return r3;
          } }, { key: "compare", value: function(t4, e4, n4) {
            var r3 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}, i2 = e4 || "", o2 = n4 || "", a2 = r3.selectorsAdd || "", s2 = r3.atRuleType || "", l2 = (0, f.isArray)(t4) || t4.models ? t4.models || t4 : [t4];
            o2 && !s2 && (s2 = "media");
            var c2 = l2.map(function(t5) {
              return t5.getFullName();
            }), u2 = this.get("selectors").map(function(t5) {
              return t5.getFullName();
            }), h2 = c2.slice().sort(), d2 = u2.slice().sort();
            return !(c2.length !== u2.length || !h2.every(function(t5, e5) {
              return t5 === d2[e5];
            })) && (this.get("state") === i2 && this.get("mediaText") === o2 && this.get("selectorsAdd") === a2 && this.get("atRuleType") === s2);
          } }]), n3;
        }(y.Z);
        function S(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, c.Z)(t3);
            if (e3) {
              var i2 = (0, c.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, l.Z)(this, n3);
          };
        }
        var _ = function(t3) {
          (0, s.Z)(n3, t3);
          var e3 = S(n3);
          function n3() {
            return (0, i.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, o.Z)(n3, [{ key: "initialize", value: function(t4, e4) {
            var n4 = this;
            e4 && e4.em && (this.editor = e4.em), setTimeout(function() {
              n4.on("remove", n4.onRemove), n4.on("add", n4.onAdd);
            });
          } }, { key: "toJSON", value: function(t4) {
            return m.Collection.prototype.toJSON.call(this, t4).filter(function(t5) {
              return t5.style && !t5.shallow;
            });
          } }, { key: "onAdd", value: function(t4, e4, n4) {
            t4.ensureSelectors(t4, e4, n4);
          } }, { key: "onRemove", value: function(t4) {
            var e4 = this.editor;
            e4.stopListening(t4), e4.get("UndoManager").remove(t4);
          } }, { key: "add", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return "string" == typeof t4 && (t4 = this.editor.get("Parser").parseCss(t4)), e4.em = this.editor, m.Collection.prototype.add.apply(this, [t4, e4]);
          } }]), n3;
        }(m.Collection);
        _.prototype.model = C;
        var P = n2(4868);
        function T(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function E(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? T(Object(n3), true).forEach(function(e4) {
              (0, u.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : T(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function j(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, c.Z)(t3);
            if (e3) {
              var i2 = (0, c.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, l.Z)(this, n3);
          };
        }
        var A = function(t3) {
          (0, s.Z)(n3, t3);
          var e3 = j(n3);
          function n3() {
            var t4;
            (0, i.Z)(this, n3);
            for (var r3 = arguments.length, o2 = new Array(r3), s2 = 0; s2 < r3; s2++) o2[s2] = arguments[s2];
            return t4 = e3.call.apply(e3, [this].concat(o2)), (0, u.Z)((0, a.Z)(t4), "Selectors", p.Z), (0, u.Z)((0, a.Z)(t4), "name", "CssComposer"), (0, u.Z)((0, a.Z)(t4), "storageKey", "styles"), t4;
          }
          return (0, o.Z)(n3, [{ key: "getConfig", value: function() {
            return this.c;
          } }, { key: "init", value: function(t4) {
            for (var e4 in this.c = t4 || {}, v) e4 in this.c || (this.c[e4] = v[e4]);
            var n4 = this.c.pStylePrefix;
            n4 && (this.c.stylePrefix = n4 + this.c.stylePrefix);
            var r3 = this.c.em && this.c.em.config.style || "";
            return this.c.rules = r3 || this.c.rules, this.em = this.c.em, this.rules = new _([], this.c), this;
          } }, { key: "onLoad", value: function() {
            this.rules.add(this.c.rules, { silent: 1 });
          } }, { key: "postLoad", value: function() {
            var t4, e4 = null === (t4 = this.em) || void 0 === t4 ? void 0 : t4.get("UndoManager");
            e4 && e4.add(this.getAll());
          } }, { key: "store", value: function() {
            return this.getProjectData();
          } }, { key: "load", value: function(t4) {
            return this.loadProjectData(t4);
          } }, { key: "add", value: function(t4, e4, n4) {
            var r3 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}, i2 = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : {}, o2 = e4 || "", a2 = n4 || "", s2 = E({}, r3), l2 = this.get(t4, o2, a2, s2);
            return l2 && l2.config && !l2.config.singleAtRule || (s2.state = o2, s2.mediaText = a2, s2.selectors = [], a2 && (s2.atRuleType = "media"), (l2 = new C(s2, this.c)).get("selectors").add(t4, i2), this.rules.add(l2, i2)), l2;
          } }, { key: "get", value: function(t4, e4, n4, r3) {
            var i2 = t4;
            if ((0, f.isString)(t4)) {
              var o2 = this.em.get("SelectorManager"), a2 = t4.split(",")[0].trim(), s2 = this.em.get("Parser").parserCss.checkNode({ selectors: a2 })[0];
              i2 = o2.get(s2.selectors);
            }
            return this.rules.find(function(t5) {
              return t5.compare(i2, e4, n4, r3);
            }) || null;
          } }, { key: "getAll", value: function() {
            return this.rules;
          } }, { key: "addCollection", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = [];
            (0, f.isString)(t4) && (t4 = this.em.get("Parser").parseCss(t4));
            for (var i2 = t4 instanceof Array ? t4 : [t4], o2 = 0, a2 = i2.length; o2 < a2; o2++) {
              var s2, l2 = i2[o2] || {};
              if (l2.selectors) {
                var c2 = null === (s2 = this.em) || void 0 === s2 ? void 0 : s2.get("SelectorManager");
                c2 || console.warn("Selector Manager not found");
                for (var u2 = l2.selectors, d2 = u2 instanceof Array ? u2 : [u2], p2 = [], g2 = 0, v2 = d2.length; g2 < v2; g2++) {
                  var m2 = c2.add(d2[g2]);
                  p2.push(m2);
                }
                var y2 = this.get(p2, l2.state, l2.mediaText, l2), b2 = this.add(p2, l2.state, l2.mediaText, l2, e4), w2 = !y2 || !e4.avoidUpdateStyle, k2 = l2.style || {};
                if ((0, h.isObject)(n4) && b2.set(n4, e4), w2) {
                  var x2 = e4.extend ? E(E({}, b2.get("style")), k2) : k2;
                  b2.set("style", x2, e4);
                }
                r3.push(b2);
              }
            }
            return r3;
          } }, { key: "addRules", value: function(t4) {
            return this.addCollection(t4);
          } }, { key: "setRule", value: function(t4, e4) {
            var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = n4.atRuleType, i2 = n4.atRuleParams, o2 = this.em.get("Parser").parserCss.checkNode({ selectors: t4, style: e4 })[0], a2 = o2.state, s2 = o2.selectorsAdd, l2 = this.em.get("SelectorManager"), c2 = l2.add(o2.selectors), u2 = this.add(c2, a2, i2, { selectorsAdd: s2, atRule: r3 });
            return u2.setStyle(e4, n4), u2;
          } }, { key: "getRule", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = this.em.get("SelectorManager"), r3 = this.em.get("Parser").parserCss.checkNode({ selectors: t4 })[0], i2 = n4.get(r3.selectors), o2 = r3.state, a2 = r3.selectorsAdd, s2 = e4.atRuleType, l2 = e4.atRuleParams;
            return i2 && this.get(i2, o2, l2, { selectorsAdd: a2, atRule: s2 });
          } }, { key: "getRules", value: function(t4) {
            var e4 = this.getAll();
            if (!t4) return (0, r2.Z)(e4.models);
            var n4 = { sort: true }, i2 = (0, f.isString)(t4) ? t4.split(",").map(function(t5) {
              return t5.trim();
            }) : t4;
            return e4.filter(function(t5) {
              return i2.indexOf(t5.getSelectors().getFullString(null, n4)) >= 0;
            });
          } }, { key: "setIdRule", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = n4.addOpts, i2 = void 0 === r3 ? {} : r3, o2 = n4.mediaText, a2 = n4.state || "", s2 = (0, f.isUndefined)(o2) ? this.em.getCurrentMedia() : o2, l2 = this.em.get("SelectorManager"), c2 = l2.add({ name: t4, type: g.Z.TYPE_ID }, i2), u2 = this.add(c2, a2, s2, {}, i2);
            return u2.setStyle(e4, E(E({}, n4), i2)), u2;
          } }, { key: "getIdRule", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = e4.mediaText, r3 = e4.state || "", i2 = (0, f.isUndefined)(n4) ? this.em.getCurrentMedia() : n4, o2 = this.em.get("SelectorManager").get(t4, g.Z.TYPE_ID);
            return o2 && this.get(o2, r3, i2);
          } }, { key: "setClassRule", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = n4.state || "", i2 = n4.mediaText || this.em.getCurrentMedia(), o2 = this.em.get("SelectorManager"), a2 = o2.add({ name: t4, type: g.Z.TYPE_CLASS }), s2 = this.add(a2, r3, i2);
            return s2.setStyle(e4, n4), s2;
          } }, { key: "getClassRule", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = e4.state || "", r3 = e4.mediaText || this.em.getCurrentMedia(), i2 = this.em.get("SelectorManager").get(t4, g.Z.TYPE_CLASS);
            return i2 && this.get(i2, n4, r3);
          } }, { key: "remove", value: function(t4, e4) {
            var n4 = (0, f.isString)(t4) ? this.getRules(t4) : t4, r3 = this.getAll().remove(n4, e4);
            return (0, f.isArray)(r3) ? r3 : [r3];
          } }, { key: "clear", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return this.getAll().reset(null, t4), this;
          } }, { key: "getComponentRules", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = e4.state, r3 = e4.mediaText, i2 = e4.current;
            i2 && (n4 = this.em.get("state") || "", r3 = this.em.getCurrentMedia());
            var o2 = t4.getId(), a2 = this.getAll().filter(function(t5) {
              if (((0, f.isUndefined)(n4) || t5.get("state") === n4) && ((0, f.isUndefined)(r3) || t5.get("mediaText") === r3)) return t5.getSelectorsString() === "#".concat(o2);
            });
            return a2;
          } }, { key: "render", value: function() {
            var t4;
            return null === (t4 = this.rulesView) || void 0 === t4 || t4.remove(), this.rulesView = new P.Z({ collection: this.rules, config: this.c }), this.rulesView.render().el;
          } }, { key: "destroy", value: function() {
            var t4;
            this.rules.reset(), this.rules.stopListening(), null === (t4 = this.rulesView) || void 0 === t4 || t4.remove(), [this.em, this.rules, this.rulesView].forEach(function(t5) {
              return null;
            }), this.c = {};
          } }]), n3;
        }(d.Z);
      }, 4868: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => v });
        var r2 = n2(5671), i = n2(3144), o = n2(9340), a = n2(2963), s = n2(1120), l = n2(2316), c = n2(9283);
        function u(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, s.Z)(t3);
            if (e3) {
              var i2 = (0, s.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, a.Z)(this, n3);
          };
        }
        var f = function(t3) {
          (0, o.Z)(n3, t3);
          var e3 = u(n3);
          function n3() {
            return (0, r2.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, i.Z)(n3, [{ key: "tagName", value: function() {
            return "style";
          } }, { key: "initialize", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            this.config = t4.config || {};
            var e4 = this.model;
            this.listenTo(e4, "change", this.render), this.listenTo(e4, "destroy remove", this.remove), this.listenTo(e4.get("selectors"), "change", this.render);
          } }, { key: "render", value: function() {
            var t4 = this.model, e4 = this.el, n4 = t4.get("important");
            return e4.innerHTML = t4.toCSS({ important: n4 }), this;
          } }]), n3;
        }(l.View);
        function h(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, s.Z)(t3);
            if (e3) {
              var i2 = (0, s.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, a.Z)(this, n3);
          };
        }
        var d = function(t3) {
          (0, o.Z)(n3, t3);
          var e3 = h(n3);
          function n3() {
            return (0, r2.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, i.Z)(n3, [{ key: "_createElement", value: function() {
            return document.createTextNode("");
          } }, { key: "render", value: function() {
            var t4 = this.model, e4 = t4.get("important");
            return this.el.textContent = t4.getDeclaration({ important: e4 }), this;
          } }]), n3;
        }(f);
        function p(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, s.Z)(t3);
            if (e3) {
              var i2 = (0, s.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, a.Z)(this, n3);
          };
        }
        var g = function(t3, e3) {
          return "".concat(t3).concat(e3 ? "-".concat(parseFloat(e3)) : "");
        }, v = function(t3) {
          (0, o.Z)(n3, t3);
          var e3 = p(n3);
          function n3() {
            return (0, r2.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, i.Z)(n3, [{ key: "initialize", value: function(t4) {
            var e4 = t4.config || {};
            this.atRules = {}, this.config = e4, this.em = e4.em, this.pfx = e4.stylePrefix || "", this.className = this.pfx + "rules";
            var n4 = this.collection;
            this.listenTo(n4, "add", this.addTo), this.listenTo(n4, "reset", this.render);
          } }, { key: "addTo", value: function(t4) {
            this.addToCollection(t4);
          } }, { key: "addToCollection", value: function(t4, e4) {
            if (this.renderStarted) {
              var n4, r3, i2 = e4 || null, o2 = { model: t4, config: this.config };
              if ("keyframes" === t4.get("atRuleType")) {
                var a2 = t4.getAtRule(), s2 = this.atRules[a2];
                if (!s2) {
                  var l2 = document.createElement("style");
                  s2 = document.createTextNode(""), l2.appendChild(document.createTextNode("".concat(a2, "{"))), l2.appendChild(s2), l2.appendChild(document.createTextNode("}")), this.atRules[a2] = s2, n4 = l2;
                }
                r3 = new d(o2), s2.appendData(r3.render().el.textContent);
              } else n4 = (r3 = new f(o2)).render().el;
              var c2 = this.className, u2 = t4.get("mediaText"), h2 = g(c2), p2 = h2;
              if (u2 && (p2 = g(c2, this.getMediaWidth(u2))), n4) {
                var v2, m = i2 || this.el;
                try {
                  v2 = m.querySelector("#".concat(p2));
                } catch (t5) {
                }
                v2 || (v2 = m.querySelector("#".concat(h2))), v2.appendChild(n4);
              }
              return n4;
            }
          } }, { key: "getMediaWidth", value: function(t4) {
            return t4 && t4.replace("(".concat(this.em.getConfig().mediaCondition, ": "), "").replace(")", "");
          } }, { key: "render", value: function() {
            var t4 = this;
            this.renderStarted = 1, this.atRules = {};
            var e4 = this.em, n4 = this.$el, r3 = this.className, i2 = this.collection, o2 = document.createDocumentFragment();
            n4.empty();
            var a2 = e4.get("DeviceManager").getAll().pluck("priority");
            return a2.every(function(t5) {
              return t5;
            }) && a2.unshift(0), a2.forEach(function(t5) {
              return o2.appendChild((0, c.ut)("div", { id: g(r3, t5) }));
            }), i2.each(function(e5) {
              return t4.addToCollection(e5, o2);
            }), n4.append(o2), n4.attr("class", r3), this;
          } }]), n3;
        }(l.View);
      }, 2004: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => L, evAdd: () => A, evAddBefore: () => D, evAll: () => _, evPfx: () => P, evRemove: () => M, evRemoveBefore: () => R, evSelect: () => T, evSelectBefore: () => E, evUpdate: () => j });
        var r2 = n2(5671), i = n2(3144), o = n2(7326), a = n2(9340), s = n2(2963), l = n2(1120), c = n2(4942), u = n2(9050), f = n2(9714);
        const h = { default: null, devices: [{ id: "desktop", name: "Desktop", width: "" }, { id: "tablet", name: "Tablet", width: "770px", widthMedia: "992px" }, { id: "mobileLandscape", name: "Mobile landscape", width: "568px", widthMedia: "768px" }, { id: "mobilePortrait", name: "Mobile portrait", width: "320px", widthMedia: "480px" }] };
        var d = n2(2316);
        function p(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, l.Z)(t3);
            if (e3) {
              var i2 = (0, l.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, s.Z)(this, n3);
          };
        }
        var g = function(t3) {
          (0, a.Z)(n3, t3);
          var e3 = p(n3);
          function n3() {
            return (0, r2.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, i.Z)(n3, [{ key: "defaults", value: function() {
            return { name: "", width: null, height: "", widthMedia: null, priority: null };
          } }, { key: "initialize", value: function() {
            var t4 = this;
            null === this.get("widthMedia") && this.set("widthMedia", this.get("width")), null === this.get("width") && this.set("width", this.get("widthMedia")), !this.get("priority") && this.set("priority", parseFloat(this.get("widthMedia")) || 0);
            ["width", "height", "widthMedia"].forEach(function(e4) {
              return t4.checkUnit(e4);
            });
          } }, { key: "checkUnit", value: function(t4) {
            var e4 = this.get(t4) || "";
            (parseFloat(e4) || 0).toString() === e4.toString() && this.set(t4, "".concat(e4, "px"));
          } }, { key: "getName", value: function() {
            return this.get("name") || this.get("id");
          } }, { key: "getWidthMedia", value: function() {
            return this.get("widthMedia") || "";
          } }]), n3;
        }(d.Model);
        function v(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, l.Z)(t3);
            if (e3) {
              var i2 = (0, l.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, s.Z)(this, n3);
          };
        }
        var m = function(t3) {
          (0, a.Z)(n3, t3);
          var e3 = v(n3);
          function n3() {
            return (0, r2.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, i.Z)(n3, [{ key: "comparator", value: function(t4, e4) {
            var n4 = Number.MAX_VALUE;
            return (e4.get("priority") || n4) - (t4.get("priority") || n4);
          } }, { key: "getSorted", value: function() {
            return this.sort();
          } }]), n3;
        }(d.Collection);
        m.prototype.model = g;
        var y, b = n2(168), w = n2(7539);
        function k(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, l.Z)(t3);
            if (e3) {
              var i2 = (0, l.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, s.Z)(this, n3);
          };
        }
        var x = function(t3) {
          (0, a.Z)(n3, t3);
          var e3 = k(n3);
          function n3() {
            return (0, r2.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, i.Z)(n3, [{ key: "template", value: function(t4) {
            var e4 = t4.ppfx, n4 = t4.label;
            return (0, w.Z)(y || (y = (0, b.Z)(['\n      <div class="', 'device-label">', '</div>\n      <div class="', "field ", 'select">\n        <span id="', 'input-holder">\n          <select class="', 'devices"></select>\n        </span>\n        <div class="', 'sel-arrow">\n          <div class="', 'd-s-arrow"></div>\n        </div>\n      </div>\n      <button style="display:none" class="', 'add-trasp">+</button>\n    '])), e4, n4, e4, e4, e4, e4, e4, e4, e4);
          } }, { key: "events", value: function() {
            return { change: "updateDevice" };
          } }, { key: "initialize", value: function(t4) {
            this.config = t4.config || {}, this.em = this.config.em, this.ppfx = this.config.pStylePrefix || "", this.events["click ." + this.ppfx + "add-trasp"] = this.startAdd, this.listenTo(this.em, "change:device", this.updateSelect), this.delegateEvents();
          } }, { key: "startAdd", value: function() {
          } }, { key: "updateDevice", value: function() {
            var t4 = this.em;
            if (t4) {
              var e4 = this.devicesEl, n4 = e4 ? e4.val() : "";
              t4.set("device", n4);
            }
          } }, { key: "updateSelect", value: function() {
            var t4 = this.em, e4 = this.devicesEl;
            if (t4 && t4.getDeviceModel && e4) {
              var n4 = t4.getDeviceModel(), r3 = n4 ? n4.get("id") : "";
              e4.val(r3);
            }
          } }, { key: "getOptions", value: function() {
            var t4 = this.collection, e4 = this.em, n4 = "";
            return t4.each(function(t5) {
              var r3 = t5.attributes, i2 = r3.name, o2 = r3.id, a2 = e4 && e4.t && e4.t("deviceManager.devices.".concat(o2)) || i2;
              n4 += '<option value="'.concat(o2 || i2, '">').concat(a2, "</option>");
            }), n4;
          } }, { key: "render", value: function() {
            var t4 = this.em, e4 = this.ppfx, n4 = this.$el, r3 = this.el, i2 = t4 && t4.t && t4.t("deviceManager.device");
            return n4.html(this.template({ ppfx: e4, label: i2 })), this.devicesEl = n4.find(".".concat(e4, "devices")), this.devicesEl.append(this.getOptions()), this.devicesEl.val(t4.get("device")), r3.className = "".concat(e4, "devices-c"), this;
          } }]), n3;
        }(d.View);
        function O(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function C(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? O(Object(n3), true).forEach(function(e4) {
              (0, c.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : O(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function S(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, l.Z)(t3);
            if (e3) {
              var i2 = (0, l.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, s.Z)(this, n3);
          };
        }
        var _ = "device", P = "".concat(_, ":"), T = "".concat(P, "select"), E = "".concat(T, ":before"), j = "".concat(P, "update"), A = "".concat(P, "add"), D = "".concat(A, ":before"), M = "".concat(P, "remove"), R = "".concat(M, ":before"), Z = "change:device", L = function(t3) {
          (0, a.Z)(n3, t3);
          var e3 = S(n3);
          function n3() {
            var t4;
            (0, r2.Z)(this, n3);
            for (var i2 = arguments.length, a2 = new Array(i2), s2 = 0; s2 < i2; s2++) a2[s2] = arguments[s2];
            return t4 = e3.call.apply(e3, [this].concat(a2)), (0, c.Z)((0, o.Z)(t4), "name", "DeviceManager"), (0, c.Z)((0, o.Z)(t4), "Device", g), (0, c.Z)((0, o.Z)(t4), "Devices", m), (0, c.Z)((0, o.Z)(t4), "events", { all: _, select: T, update: j, add: A, remove: M, removeBefore: R }), t4;
          }
          return (0, i.Z)(n3, [{ key: "init", value: function() {
            var t4 = this, e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            this.c = C(C({}, h), e4);
            var n4 = this.c.em;
            return this.devices = new m(), this.c.devices.forEach(function(e5) {
              return t4.add(e5);
            }), this.em = n4, this.all = this.devices, this.select(this.c.default || this.devices.at(0)), this.__initListen(), n4.on(Z, this._onSelect, this), this;
          } }, { key: "_onSelect", value: function(t4, e4, n4) {
            var r3 = this.em, i2 = this.events, o2 = t4.previous("device"), a2 = this.get(e4), s2 = i2.select;
            r3.trigger(s2, a2, this.get(o2)), this.__catchAllEvent(s2, a2, n4);
          } }, { key: "add", value: function(t4) {
            var e4, n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = n4;
            if ((0, u.isString)(t4)) {
              var i2 = n4;
              e4 = C(C({}, r3 = arguments[2] || {}), {}, { id: t4, name: r3.name || t4, width: i2 });
            } else e4 = t4;
            return e4.id || (e4.id = e4.name || this._createId()), this.devices.add(e4, r3);
          } }, { key: "get", value: function(t4) {
            return this.getAll().filter(function(e4) {
              return e4.get("name") === t4;
            })[0] || this.devices.get(t4) || null;
          } }, { key: "remove", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return this.__remove(t4, e4);
          } }, { key: "getDevices", value: function() {
            return this.devices.models;
          } }, { key: "select", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = (0, u.isString)(t4) ? this.get(t4) : t4;
            return n4 && this.em.set("device", n4.get("id"), e4), this;
          } }, { key: "getSelected", value: function() {
            return this.get(this.em.get("device"));
          } }, { key: "getAll", value: function() {
            return this.devices;
          } }, { key: "render", value: function() {
            var t4;
            return null === (t4 = this.view) || void 0 === t4 || t4.remove(), this.view = new x({ collection: this.devices, config: this.c }), this.view.render().el;
          } }, { key: "destroy", value: function() {
            var t4;
            this.devices.stopListening(), this.devices.reset(), null === (t4 = this.view) || void 0 === t4 || t4.remove(), [this.devices, this.view].forEach(function(t5) {
              return null;
            }), this.c = {};
          } }]), n3;
        }(f.Z);
      }, 7375: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { ZP: () => I, OA: () => D, GN: () => L, xH: () => N });
        var r2 = n2(1002), i = n2(2982), o = n2(885), a = n2(4942), s = n2(5671), l = n2(3144), c = n2(1120);
        function u(t3, e3) {
          for (; !Object.prototype.hasOwnProperty.call(t3, e3) && null !== (t3 = (0, c.Z)(t3)); ) ;
          return t3;
        }
        function f() {
          return f = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(t3, e3, n3) {
            var r3 = u(t3, e3);
            if (r3) {
              var i2 = Object.getOwnPropertyDescriptor(r3, e3);
              return i2.get ? i2.get.call(arguments.length < 3 ? t3 : n3) : i2.value;
            }
          }, f.apply(this, arguments);
        }
        var h = n2(9340), d = n2(2963), p = n2(9050), g = n2(1163), v = n2(9524), m = n2(2316), y = n2(8431), b = n2(5963), w = n2(966);
        function k(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function x(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? k(Object(n3), true).forEach(function(e4) {
              (0, a.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : k(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function O(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, c.Z)(t3);
            if (e3) {
              var i2 = (0, c.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, d.Z)(this, n3);
          };
        }
        var C = function(t3) {
          (0, h.Z)(n3, t3);
          var e3 = O(n3);
          function n3() {
            return (0, s.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, l.Z)(n3, [{ key: "initialize", value: function() {
            var t4 = this.attributes, e4 = t4.target, n4 = t4.name, r3 = t4.changeProp;
            if (!this.get("id") && this.set("id", n4), e4) {
              this.target = e4, this.unset("target");
              var i2 = r3 ? "change:".concat(n4) : "change:attributes:".concat(n4);
              this.listenTo(e4, i2, this.targetUpdated);
            }
          } }, { key: "getId", value: function() {
            return this.get("id");
          } }, { key: "getType", value: function() {
            return this.get("type");
          } }, { key: "getName", value: function() {
            return this.get("name");
          } }, { key: "getLabel", value: function() {
            var t4, e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n4 = e4.locale, r3 = void 0 === n4 || n4, i2 = this.getId(), o2 = this.get("label") || this.getName();
            return r3 && (null === (t4 = this.em) || void 0 === t4 ? void 0 : t4.t("traitManager.traits.labels.".concat(i2))) || o2;
          } }, { key: "getValue", value: function() {
            return this.getTargetValue();
          } }, { key: "setValue", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = {};
            e4.partial && (n4.avoidStore = true), this.setTargetValue(t4, n4), false === e4.partial && (this.setTargetValue(""), this.setTargetValue(t4));
          } }, { key: "props", value: function() {
            return this.attributes;
          } }, { key: "targetUpdated", value: function() {
            var t4, e4 = this.getTargetValue();
            this.set({ value: e4 }, { fromTarget: 1 }), null === (t4 = this.em) || void 0 === t4 || t4.trigger("trait:update", { trait: this, component: this.target });
          } }, { key: "getTargetValue", value: function() {
            var t4, e4 = this.get("name"), n4 = this.target;
            return t4 = this.get("changeProp") ? n4.get(e4) : n4.getAttributes()[e4], (0, p.isUndefined)(t4) ? "" : t4;
          } }, { key: "setTargetValue", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = this.target, r3 = this.get("name");
            if (!(0, p.isUndefined)(t4)) {
              var i2 = t4;
              if ("false" === t4 ? i2 = false : "true" === t4 && (i2 = true), this.get("changeProp")) n4.set(r3, i2, e4);
              else {
                var o2 = x({}, n4.get("attributes"));
                o2[r3] = i2, n4.set("attributes", o2, e4);
              }
            }
          } }, { key: "setValueFromInput", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1, n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = { value: t4 };
            this.set(r3, x(x({}, n4), {}, { avoidStore: 1 })), e4 && (this.set("value", "", n4), this.set(r3, n4));
          } }, { key: "getInitValue", value: function() {
            var t4, e4 = this.target, n4 = this.get("name");
            if (e4) {
              var r3 = e4.get("attributes");
              t4 = this.get("changeProp") ? e4.get(n4) : r3[n4];
            }
            return t4 || this.get("value") || this.get("default");
          } }]), n3;
        }(m.Model);
        C.prototype.defaults = { type: "text", label: "", name: "", min: "", max: "", unit: "", step: 1, value: "", target: "", default: "", placeholder: "", changeProp: 0, options: [] };
        function S(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, c.Z)(t3);
            if (e3) {
              var i2 = (0, c.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, d.Z)(this, n3);
          };
        }
        var _ = function(t3) {
          (0, h.Z)(n3, t3);
          var e3 = S(n3);
          function n3() {
            return (0, s.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, l.Z)(n3, [{ key: "initialize", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            this.em = e4.em, this.listenTo(this, "add", this.handleAdd), this.listenTo(this, "reset", this.handleReset);
          } }, { key: "handleReset", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = e4.previousModels, r3 = void 0 === n4 ? [] : n4;
            r3.forEach(function(t5) {
              return t5.trigger("remove");
            });
          } }, { key: "handleAdd", value: function(t4) {
            t4.em = this.em;
            var e4 = this.target;
            e4 && (t4.target = e4);
          } }, { key: "setTarget", value: function(t4) {
            this.target = t4;
          } }, { key: "add", value: function(t4, e4) {
            var n4 = this.em;
            if ((0, p.isString)(t4) || (0, p.isArray)(t4)) {
              var r3 = n4 && n4.get && n4.get("TraitManager"), i2 = function() {
                var t5 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return { build: function(e5) {
                  var n5 = [];
                  "string" == typeof e5 && (e5 = [e5]);
                  for (var r4 = 0; r4 < e5.length; r4++) {
                    var i3 = {}, o3 = e5[r4];
                    i3.name = o3, "target" === o3 && (i3.type = "select", i3.default = false, i3.options = t5.optionsTarget), n5.push(i3);
                  }
                  return n5;
                } };
              }(r3 && r3.getConfig());
              (0, p.isString)(t4) && (t4 = [t4]);
              for (var o2 = 0, a2 = t4.length; o2 < a2; o2++) {
                var s2 = t4[o2], l2 = (0, p.isString)(s2) ? i2.build(s2)[0] : s2;
                l2.target = this.target, t4[o2] = l2;
              }
            }
            return m.Collection.prototype.add.apply(this, [t4, e4]);
          } }]), n3;
        }(m.Collection);
        function P(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function T(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? P(Object(n3), true).forEach(function(e4) {
              (0, a.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : P(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function E(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, c.Z)(t3);
            if (e3) {
              var i2 = (0, c.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, d.Z)(this, n3);
          };
        }
        _.prototype.model = C;
        var j = function(t3) {
          return t3.replace(/[|\\{}()[\]^$+*?.]/g, "\\$&");
        }, A = function(t3) {
          return t3 && t3.getConfig().avoidInlineStyle;
        }, D = "component:drag", M = "__symbols", R = "__symbol", Z = "__symbol_ovrd", L = "component:update", N = "".concat(L, "-inside"), I = function(t3) {
          (0, h.Z)(n3, t3);
          var e3 = E(n3);
          function n3() {
            return (0, s.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, l.Z)(n3, [{ key: "init", value: function() {
          } }, { key: "updated", value: function(t4, e4, n4) {
          } }, { key: "removed", value: function() {
          } }, { key: "initialize", value: function() {
            var t4 = this, e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, r3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            (0, p.bindAll)(this, "__upSymbProps", "__upSymbCls", "__upSymbComps");
            var i2 = r3.em, o2 = this.parent(), a2 = o2 && o2.attributes, s2 = this.get("propagate");
            if (s2 && this.set("propagate", (0, p.isArray)(s2) ? s2 : [s2]), a2 && a2.propagate && !s2) {
              var l2 = {}, c2 = a2.propagate;
              c2.forEach(function(t5) {
                return l2[t5] = o2.get(t5);
              }), l2.propagate = c2, this.set(T(T({}, l2), e4));
            }
            if (r3 && r3.config && r3.config.voidElements.indexOf(this.get("tagName")) >= 0 && this.set("void", true), r3.em = i2, this.opt = r3, this.em = i2, this.frame = r3.frame, this.config = r3.config || {}, this.set("attributes", T(T({}, (0, p.result)(this, "defaults").attributes || {}), this.get("attributes") || {})), this.ccid = n3.createId(this, r3), this.initClasses(), this.initTraits(), this.initComponents(), this.initToolbar(), this.initScriptProps(), this.listenTo(this, "change:script", this.scriptUpdated), this.listenTo(this, "change:tagName", this.tagUpdated), this.listenTo(this, "change:attributes", this.attrUpdated), this.listenTo(this, "change:attributes:id", this._idUpdated), this.on("change:toolbar", this.__emitUpdateTlb), this.on("change", this.__onChange), this.on(N, this.__propToParent), this.set("status", ""), this.views = [], ["classes", "traits", "components"].forEach(function(e5) {
              var n4 = "add remove ".concat("components" !== e5 ? "change" : "");
              t4.listenTo(t4.get(e5), n4.trim(), function() {
                for (var n5 = arguments.length, r4 = new Array(n5), i3 = 0; i3 < n5; i3++) r4[i3] = arguments[i3];
                return t4.emitUpdate.apply(t4, [e5].concat(r4));
              });
            }), !r3.temporary) {
              var u2 = i2 && i2.get("CssComposer"), f2 = this.attributes, h2 = f2.styles, d2 = f2.type;
              h2 && u2 && u2.addCollection(h2, {}, { group: "cmp:".concat(d2) }), this.__postAdd(), this.init(), this.__isSymbolOrInst() && this.__initSymb(), i2 && i2.trigger("component:create", this);
            }
          } }, { key: "__postAdd", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this.em, n4 = e4 && e4.get("UndoManager"), r3 = this.components();
            n4 && !this.__hasUm && (n4.add(r3), n4.add(this.getSelectors()), this.__hasUm = 1), t4.recursive && r3.map(function(e5) {
              return e5.__postAdd(t4);
            });
          } }, { key: "__postRemove", value: function() {
            var t4 = this.em, e4 = t4 && t4.get("UndoManager");
            e4 && (e4.remove(this.components()), e4.remove(this.getSelectors()), delete this.__hasUm);
          } }, { key: "__onChange", value: function(t4, e4) {
            var n4 = this, r3 = this.changedAttributes();
            (0, p.keys)(r3).forEach(function(t5) {
              return n4.emitUpdate(t5);
            }), ["status", "open", "toolbar", "traits"].forEach(function(t5) {
              return delete r3[t5];
            }), (0, g.isEmptyObj)(r3) || (this.__changesUp(e4), this.__propSelfToParent({ component: this, changed: r3, options: e4 }));
          } }, { key: "__changesUp", value: function(t4) {
            var e4 = this.em;
            [this.frame, e4].forEach(function(e5) {
              return e5 && e5.changesUp(t4);
            });
          } }, { key: "__propSelfToParent", value: function(t4) {
            this.trigger(L, t4), this.__propToParent(t4);
          } }, { key: "__propToParent", value: function(t4) {
            var e4 = this.parent();
            e4 && e4.trigger(N, t4);
          } }, { key: "__emitUpdateTlb", value: function() {
            this.emitUpdate("toolbar");
          } }, { key: "is", value: function(t4) {
            return !(this.get("type") != t4);
          } }, { key: "props", value: function() {
            return this.attributes;
          } }, { key: "index", value: function() {
            var t4 = this.collection;
            return t4 ? t4.indexOf(this) : 0;
          } }, { key: "setDragMode", value: function(t4) {
            return this.set("dmode", t4);
          } }, { key: "find", value: function(t4) {
            var e4 = [], n4 = this.view.$el.find(t4);
            return n4.each(function(t5) {
              var r3 = n4.eq(t5).data("model");
              r3 && e4.push(r3);
            }), e4;
          } }, { key: "findType", value: function(t4) {
            var e4 = [];
            return function n4(r3) {
              return r3.forEach(function(r4) {
                r4.is(t4) && e4.push(r4), n4(r4.components());
              });
            }(this.components()), e4;
          } }, { key: "closest", value: function(t4) {
            var e4 = this.view.$el.closest(t4);
            return e4.length && e4.data("model");
          } }, { key: "closestType", value: function(t4) {
            for (var e4 = this.parent(); e4 && !e4.is(t4); ) e4 = e4.parent();
            return e4;
          } }, { key: "contains", value: function(t4) {
            var e4 = false;
            if (!t4) return e4;
            var n4 = function n5(r3) {
              !e4 && r3.forEach(function(r4) {
                r4 === t4 && (e4 = true), !e4 && n5(r4.components());
              });
            };
            return n4(this.components()), e4;
          } }, { key: "tagUpdated", value: function() {
            this.trigger("rerender");
          } }, { key: "replaceWith", value: function(t4) {
            var e4 = this.collection, n4 = e4.indexOf(this);
            return e4.remove(this), e4.add(t4, { at: n4 });
          } }, { key: "attrUpdated", value: function(t4, e4) {
            var n4 = this, r3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i2 = this.get("attributes"), o2 = i2.class;
            o2 && this.setClass(o2), delete i2.class;
            var a2 = i2.style;
            a2 && this.setStyle(a2), delete i2.style;
            var s2 = T({}, this.previous("attributes")), l2 = (0, g.shallowDiff)(s2, this.get("attributes"));
            (0, p.keys)(l2).forEach(function(t5) {
              return n4.trigger("change:attributes:".concat(t5), n4, l2[t5], r3);
            });
          } }, { key: "setAttributes", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return this.set("attributes", T({}, t4), e4), this;
          } }, { key: "addAttributes", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return this.setAttributes(T(T({}, this.getAttributes({ noClass: 1 })), t4), e4);
          } }, { key: "removeAttributes", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [], e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = Array.isArray(t4) ? t4 : [t4], r3 = this.getAttributes();
            return n4.map(function(t5) {
              return delete r3[t5];
            }), this.setAttributes(r3, e4);
          } }, { key: "getStyle", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = this.em, i2 = (0, p.isString)(t4) ? t4 : "", o2 = i2 ? e4 : t4;
            if (r3 && r3.getConfig().avoidInlineStyle && !o2.inline) {
              var a2 = r3.get("state"), s2 = r3.get("CssComposer"), l2 = s2.getIdRule(this.getId(), T({ state: a2 }, o2));
              if (this.rule = l2, l2) return l2.getStyle(i2);
            }
            return f((0, c.Z)(n3.prototype), "getStyle", this).call(this, i2);
          } }, { key: "setStyle", value: function() {
            var t4 = this, e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, r3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i2 = this.em, o2 = this.opt;
            if (i2 && i2.getConfig().avoidInlineStyle && !o2.temporary && !r3.inline) {
              var a2 = this.get("style") || {};
              e4 = T(T({}, e4 = (0, p.isString)(e4) ? this.parseStyle(e4) : e4), a2);
              var s2 = i2.get("state"), l2 = i2.get("CssComposer"), u2 = this.getStyle(r3);
              this.rule = l2.setIdRule(this.getId(), e4, T(T({}, r3), {}, { state: s2 }));
              var h2 = (0, g.shallowDiff)(u2, e4);
              this.set("style", "", { silent: 1 }), (0, p.keys)(h2).forEach(function(e5) {
                return t4.trigger("change:style:".concat(e5));
              });
            } else e4 = f((0, c.Z)(n3.prototype), "setStyle", this).apply(this, arguments);
            return e4;
          } }, { key: "getAttributes", value: function() {
            var t4, e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n4 = this.em, r3 = [], i2 = T({}, this.get("attributes")), o2 = n4 && n4.get("SelectorManager"), a2 = this.getId();
            if (e4.noClass || (this.get("classes").forEach(function(t5) {
              return r3.push((0, p.isString)(t5) ? t5 : t5.get("name"));
            }), r3.length && (i2.class = r3.join(" "))), !e4.noStyle) {
              var s2 = this.get("style");
              (0, g.isObject)(s2) && !(0, g.isEmptyObj)(s2) && (i2.style = this.styleToString({ inline: 1 }));
            }
            (0, p.has)(i2, "id") || (A(n4) ? t4 = o2 && o2.get(a2, o2.Selector.TYPE_ID) : (0, p.isEmpty)(this.getStyle()) || (t4 = 1), (this.__getSymbol() || this.__getSymbols()) && (t4 = 1), t4 && (i2.id = a2));
            return i2;
          } }, { key: "addClass", value: function(t4) {
            var e4 = this.em.get("SelectorManager").addClass(t4);
            return this.get("classes").add(e4);
          } }, { key: "setClass", value: function(t4) {
            return this.get("classes").reset(), this.addClass(t4);
          } }, { key: "removeClass", value: function(t4) {
            var e4 = [];
            t4 = (0, p.isArray)(t4) ? t4 : [t4];
            var n4 = this.get("classes"), r3 = b.Z.TYPE_CLASS;
            return t4.forEach(function(t5) {
              t5.split(" ").forEach(function(t6) {
                var i2 = n4.where({ name: t6, type: r3 })[0];
                i2 && e4.push(n4.remove(i2));
              });
            }), e4;
          } }, { key: "getClasses", value: function() {
            var t4 = this.getAttributes().class;
            return t4 ? t4.split(" ") : [];
          } }, { key: "__logSymbol", value: function(t4, e4) {
            var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = this.__getSymbol(), i2 = this.__getSymbols();
            (r3 || i2) && this.em.log(t4, { model: this, toUp: e4, context: "symbols", opts: n4 });
          } }, { key: "__initSymb", value: function() {
            this.__symbReady || (this.on("change", this.__upSymbProps), this.__symbReady = 1);
          } }, { key: "__isSymbol", value: function() {
            return (0, p.isArray)(this.get(M));
          } }, { key: "__isSymbolOrInst", value: function() {
            return !(!this.__isSymbol() && !this.get(R));
          } }, { key: "__isSymbolTop", value: function() {
            var t4 = this.parent();
            return this.__isSymbolOrInst() && (!t4 || t4 && !t4.__isSymbol() && !t4.__getSymbol());
          } }, { key: "__isSymbolNested", value: function() {
            if (!this.__isSymbolOrInst() || this.__isSymbolTop()) return false;
            var t4 = (this.__isSymbol() ? this : this.__getSymbol()).__getSymbTop(), e4 = this.__getSymbTop();
            return (e4.__isSymbol() ? e4 : e4.__getSymbol()) !== t4;
          } }, { key: "__getAllById", value: function() {
            var t4 = this.em;
            return t4 ? t4.get("DomComponents").allById() : {};
          } }, { key: "__getSymbol", value: function() {
            var t4 = this.get(R);
            if (t4 && (0, p.isString)(t4)) {
              var e4 = this.__getAllById()[t4];
              e4 ? (t4 = e4, this.set(R, e4)) : t4 = 0;
            }
            return t4;
          } }, { key: "__getSymbols", value: function() {
            var t4 = this, e4 = this.get(M);
            return e4 && (0, p.isArray)(e4) && (e4.forEach(function(n4, r3) {
              n4 && (0, p.isString)(n4) && (e4[r3] = t4.__getAllById()[n4]);
            }), e4 = e4.filter(function(t5) {
              return t5 && !(0, p.isString)(t5);
            })), e4;
          } }, { key: "__isSymbOvrd", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", e4 = this.get(Z), n4 = t4.split(":"), r3 = (0, o.Z)(n4, 1), i2 = r3[0], a2 = t4 !== i2 ? [t4, i2] : [t4];
            return true === e4 || (0, p.isArray)(e4) && a2.some(function(t5) {
              return e4.indexOf(t5) >= 0;
            });
          } }, { key: "__getSymbToUp", value: function() {
            var t4 = this, e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n4 = [], r3 = this.em, o2 = e4.changed, a2 = r3 && r3.config.symbols;
            if (e4.fromInstance || e4.noPropagate || e4.fromUndo || !a2 || o2 && this.__isSymbOvrd(o2)) return n4;
            var s2 = this.__getSymbols() || [], l2 = this.__getSymbol(), c2 = l2 ? [l2].concat((0, i.Z)(l2.__getSymbols() || [])) : s2;
            return n4 = c2.filter(function(e5) {
              return e5 !== t4;
            }).filter(function(t5) {
              return !(o2 && t5.__isSymbOvrd(o2));
            });
          } }, { key: "__getSymbTop", value: function(t4) {
            for (var e4 = this, n4 = this.parent(t4); n4 && (n4.__isSymbol() || n4.__getSymbol()); ) e4 = n4, n4 = n4.parent(t4);
            return e4;
          } }, { key: "__upSymbProps", value: function(t4) {
            var e4 = this, n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = this.changedAttributes(), i2 = r3.attributes || {};
            if (delete r3.status, delete r3.open, delete r3[M], delete r3[R], delete r3[Z], delete r3.attributes, delete i2.id, (0, g.isEmptyObj)(i2) || (r3.attributes = i2), !(0, g.isEmptyObj)(r3)) {
              var o2 = this.__getSymbToUp(n4);
              (0, p.keys)(r3).map(function(t5) {
                e4.__isSymbOvrd(t5) && delete r3[t5];
              }), this.__logSymbol("props", o2, { opts: n4, changed: r3 }), o2.forEach(function(t5) {
                var i3 = T({}, r3);
                (0, p.keys)(i3).map(function(e5) {
                  t5.__isSymbOvrd(e5) && delete i3[e5];
                }), t5.set(i3, T({ fromInstance: e4 }, n4));
              });
            }
          } }, { key: "__upSymbCls", value: function(t4, e4) {
            var n4 = this, r3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i2 = this.__getSymbToUp(r3);
            this.__logSymbol("classes", i2, { opts: r3 }), i2.forEach(function(t5) {
              t5.set("classes", n4.get("classes"), { fromInstance: n4 });
            }), this.__changesUp(r3);
          } }, { key: "__upSymbComps", value: function(t4, e4, n4) {
            var r3 = this, o2 = n4 || e4 || {}, a2 = { fromInstance: o2.fromInstance, fromUndo: o2.fromUndo }, s2 = t4.opt.temporary;
            if (n4) if (n4.add) {
              var l2 = [], c2 = !!this.__getSymbols(), u2 = this.__getSymbToUp(T(T({}, a2), {}, { changed: "components:add" }));
              if (u2.length) {
                var f2 = t4.__getSymbol();
                l2 = (f2 ? f2.__getSymbols() : t4.__getSymbols()) || [], (l2 = (0, i.Z)(l2)).push(f2 || t4);
              }
              !s2 && this.__logSymbol("add", u2, { opts: n4, addedInstances: l2.map(function(t5) {
                return t5.cid;
              }), added: t4.cid }), u2.forEach(function(e5) {
                var i2 = e5.__getSymbTop(), o3 = l2.filter(function(t5) {
                  var e6 = t5.__getSymbTop({ prev: 1 });
                  return i2 && e6 && e6 === i2;
                })[0] || t4.clone({ symbol: 1, symbolInv: c2 });
                e5.append(o3, T({ fromInstance: r3 }, n4));
              });
            } else {
              var h2 = t4.__getSymbol();
              if (h2 && !n4.temporary && h2.set(M, h2.__getSymbols().filter(function(e5) {
                return e5 !== t4;
              })), !t4.__isSymbolTop()) {
                var d2 = "components:remove", p2 = n4.index, g2 = t4.parent(), v2 = T({ fromInstance: t4 }, n4), m2 = t4.__isSymbolNested(), y2 = function(t5) {
                  var e5 = t5.parent();
                  e5 && !e5.__isSymbOvrd(d2) && t5.remove(v2);
                }, b2 = g2.__isSymbOvrd(d2) ? [] : t4.__getSymbToUp(a2);
                m2 && (b2 = g2.__getSymbToUp(T(T({}, a2), {}, { changed: d2 })), y2 = function(t5) {
                  var e5 = t5.components().at(p2);
                  e5 && e5.remove(T({ fromInstance: g2 }, v2));
                }), !s2 && this.__logSymbol("remove", b2, { opts: n4, removed: t4.cid, isSymbNested: m2 }), b2.forEach(y2);
              }
            }
            else {
              var w2 = this.__getSymbToUp(T(T({}, a2), {}, { changed: "components:reset" }));
              this.__logSymbol("reset", w2, { components: t4.models }), w2.forEach(function(n5) {
                var i2 = t4.models.map(function(t5) {
                  return t5.clone({ symbol: 1 });
                });
                n5.components().reset(i2, T({ fromInstance: r3 }, e4));
              });
            }
            this.__changesUp(o2);
          } }, { key: "initClasses", value: function(t4, e4) {
            var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = "change:classes", i2 = this.get("attributes").class || [], o2 = [this, r3, this.initClasses], a2 = this.get("classes") || i2, s2 = (0, p.isString)(a2) ? a2.split(" ") : a2;
            this.stopListening.apply(this, o2);
            var l2 = this.normalizeClasses(s2), c2 = new w.Z([]);
            return this.set("classes", c2, n4), c2.add(l2), c2.on("add remove reset", this.__upSymbCls), this.listenTo.apply(this, o2), this;
          } }, { key: "initComponents", value: function() {
            var t4 = [this, "change:components", this.initComponents];
            this.stopListening.apply(this, t4);
            var e4 = new y.Z(null, this.opt);
            e4.parent = this;
            var n4 = this.get("components"), r3 = !this.opt.avoidChildren;
            return this.set("components", e4), r3 && n4 && e4.add((0, p.isFunction)(n4) ? n4(this) : n4, this.opt), e4.on("add remove reset", this.__upSymbComps), this.listenTo.apply(this, t4), this;
          } }, { key: "initTraits", value: function(t4) {
            var e4 = this.em, n4 = "change:traits";
            this.off(n4, this.initTraits), this.__loadTraits();
            var r3 = T({}, this.get("attributes")), i2 = this.get("traits");
            return i2.each(function(t5) {
              if (!t5.get("changeProp")) {
                var e5 = t5.get("name"), n5 = t5.getInitValue();
                e5 && n5 && (r3[e5] = n5);
              }
            }), i2.length && this.set("attributes", r3), this.on(n4, this.initTraits), t4 && e4 && e4.trigger("component:toggled"), this;
          } }, { key: "initScriptProps", value: function() {
            if (!this.opt.temporary) {
              var t4 = "script-props", e4 = ["change:".concat(t4), this.initScriptProps];
              this.off.apply(this, e4);
              var n4 = this.previous(t4) || [], r3 = this.get(t4) || [], i2 = n4.map(function(t5) {
                return "change:".concat(t5);
              }).join(" "), o2 = r3.map(function(t5) {
                return "change:".concat(t5);
              }).join(" ");
              i2 && this.off(i2, this.__scriptPropsChange), o2 && this.on(o2, this.__scriptPropsChange), this.on.apply(this, e4);
            }
          } }, { key: "__scriptPropsChange", value: function(t4, e4) {
            var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
            n4.avoidStore || this.trigger("rerender");
          } }, { key: "append", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = (0, p.isArray)(t4) ? t4 : [t4], r3 = n4.map(function(t5) {
              return (0, p.isString)(t5) || t5.collection && t5.collection.remove(t5, { temporary: 1 }), t5;
            }), i2 = this.components().add(r3, e4);
            return (0, p.isArray)(i2) ? i2 : [i2];
          } }, { key: "components", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = this.get("components");
            return (0, p.isUndefined)(t4) ? n4 : (n4.reset(null, e4), t4 ? this.append(t4, e4) : []);
          } }, { key: "getChildAt", value: function(t4) {
            return this.components().at(t4 || 0) || null;
          } }, { key: "getLastChild", value: function() {
            var t4 = this.components();
            return t4.at(t4.length - 1) || null;
          } }, { key: "empty", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return this.components().reset(null, t4), this;
          } }, { key: "parent", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this.collection || t4.prev && this.prevColl;
            return e4 ? e4.parent : null;
          } }, { key: "parents", value: function() {
            var t4 = this.parent();
            return t4 ? [t4].concat(t4.parents()) : [];
          } }, { key: "scriptUpdated", value: function() {
            this.set("scriptUpdated", 1);
          } }, { key: "initToolbar", value: function() {
            var t4 = this.em, e4 = this, n4 = t4 && t4.getConfig().stylePrefix || "";
            if (!e4.get("toolbar") && t4) {
              var r3 = [];
              e4.collection && r3.push({ label: t4.getIcon("arrowUp"), command: function(t5) {
                return t5.runCommand("core:component-exit", { force: 1 });
              } }), e4.get("draggable") && r3.push({ attributes: { class: "".concat(n4, "no-touch-actions"), draggable: true }, label: t4.getIcon("move"), command: "tlb-move" }), e4.get("copyable") && r3.push({ label: t4.getIcon("copy"), command: "tlb-clone" }), e4.get("removable") && r3.push({ label: t4.getIcon("delete"), command: "tlb-delete" }), e4.set("toolbar", r3);
            }
          } }, { key: "__loadTraits", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = t4 || this.get("traits");
            if (!(n4 instanceof _)) {
              n4 = (0, p.isFunction)(n4) ? n4(this) : n4;
              var r3 = new _([], this.opt);
              r3.setTarget(this), n4.length && (n4.forEach(function(t5) {
                return t5.attributes && delete t5.attributes.value;
              }), r3.add(n4)), this.set({ traits: r3 }, e4);
            }
            return this;
          } }, { key: "getTraits", value: function() {
            return this.__loadTraits(), (0, i.Z)(this.get("traits").models);
          } }, { key: "setTraits", value: function(t4) {
            var e4 = (0, p.isArray)(t4) ? t4 : [t4];
            return this.set({ traits: e4 }), this.getTraits();
          } }, { key: "getTrait", value: function(t4) {
            return this.getTraits().filter(function(e4) {
              return e4.get("id") === t4 || e4.get("name") === t4;
            })[0] || null;
          } }, { key: "updateTrait", value: function(t4, e4) {
            var n4, r3 = this.getTrait(t4);
            return r3 && r3.set(e4), null === (n4 = this.em) || void 0 === n4 || n4.trigger("component:toggled"), this;
          } }, { key: "getTraitIndex", value: function(t4) {
            var e4 = this.getTrait(t4);
            return e4 ? this.get("traits").indexOf(e4) : -1;
          } }, { key: "removeTrait", value: function(t4) {
            var e4, n4 = this, r3 = ((0, p.isArray)(t4) ? t4 : [t4]).map(function(t5) {
              return n4.getTrait(t5);
            }), i2 = this.get("traits"), o2 = r3.length ? i2.remove(r3) : [];
            return null === (e4 = this.em) || void 0 === e4 || e4.trigger("component:toggled"), (0, p.isArray)(o2) ? o2 : [o2];
          } }, { key: "addTrait", value: function(t4) {
            var e4, n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            this.__loadTraits();
            var r3 = this.get("traits").add(t4, n4);
            return null === (e4 = this.em) || void 0 === e4 || e4.trigger("component:toggled"), (0, p.isArray)(r3) ? r3 : [r3];
          } }, { key: "normalizeClasses", value: function(t4) {
            var e4 = [], n4 = this.em, r3 = n4 && n4.get("SelectorManager");
            if (r3) return t4.models ? (0, i.Z)(t4.models) : (t4.forEach(function(t5) {
              return e4.push(r3.add(t5));
            }), e4);
          } }, { key: "clone", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this.em, n4 = T({}, this.attributes), r3 = T({}, this.opt), o2 = this.getId(), a2 = e4 && e4.get("CssComposer");
            n4.attributes = T({}, n4.attributes), delete n4.attributes.id, n4.components = [], n4.classes = [], n4.traits = [], this.__isSymbolTop() && (t4.symbol = 1), this.get("components").each(function(e5, r4) {
              n4.components[r4] = e5.clone(T(T({}, t4), {}, { _inner: 1 }));
            }), this.get("traits").each(function(t5, e5) {
              n4.traits[e5] = t5.clone();
            }), this.get("classes").each(function(t5, e5) {
              n4.classes[e5] = t5.get("name");
            }), n4.status = "", r3.collection = null;
            var s2 = new this.constructor(n4, r3), l2 = "#".concat(s2.getId()), c2 = a2 ? a2.getRules("#".concat(o2)) : [];
            c2.forEach(function(t5) {
              var e5 = t5.clone();
              e5.set("selectors", [l2]), a2.getAll().add(e5);
            }), s2.set(M, 0);
            var u2 = this.__getSymbol(), f2 = this.__getSymbols();
            t4.symbol || !u2 && !f2 ? u2 ? (u2.set(M, [].concat((0, i.Z)(u2.__getSymbols()), [s2])), s2.__initSymb()) : t4.symbol && (this.__isSymbol() ? (this.set(M, [].concat((0, i.Z)(f2), [s2])), s2.set(R, this), s2.__initSymb()) : t4.symbolInv ? (this.set(M, [s2]), s2.set(R, this), [this, s2].map(function(t5) {
              return t5.__initSymb();
            })) : (s2.set(M, [this]), [this, s2].map(function(t5) {
              return t5.__initSymb();
            }), this.set(R, s2))) : (s2.set(R, 0), s2.set(M, 0));
            var h2 = "component:clone";
            return e4 && e4.trigger(h2, s2), this.trigger(h2, s2), s2;
          } }, { key: "getName", value: function() {
            var t4 = this.em, e4 = this.attributes, n4 = e4.type, r3 = e4.tagName, i2 = e4.name, o2 = n4 || r3, a2 = !n4 && r3, s2 = "domComponents.names.", l2 = i2 && (null == t4 ? void 0 : t4.t("".concat(s2).concat(i2))), c2 = a2 && (null == t4 ? void 0 : t4.t("".concat(s2).concat(a2))), u2 = t4 && (t4.t("".concat(s2).concat(n4)) || t4.t("".concat(s2).concat(r3)));
            return this.get("custom-name") || l2 || i2 || c2 || (0, g.capitalize)(a2) || u2 || (0, g.capitalize)(o2);
          } }, { key: "getIcon", value: function() {
            var t4 = this.get("icon");
            return t4 ? t4 + " " : "";
          } }, { key: "toHTML", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this, n4 = [], r3 = t4.tag, i2 = r3 || e4.get("tagName"), o2 = e4.get("void"), a2 = t4.attributes, s2 = this.getAttrToHTML();
            if (delete t4.tag, a2 && ((0, p.isFunction)(a2) ? s2 = a2(e4, s2) || {} : (0, g.isObject)(a2) && (s2 = a2)), t4.withProps) {
              var l2 = this.toJSON();
              (0, p.forEach)(l2, function(t5, e5) {
                "_" !== e5[0] && ["classes", "attributes", "components"].indexOf(e5) < 0 && (s2["data-gjs-".concat(e5)] = (0, p.isArray)(t5) || (0, g.isObject)(t5) ? JSON.stringify(t5) : t5);
              });
            }
            for (var c2 in s2) {
              var u2 = s2[c2];
              if (!(0, p.isUndefined)(u2) && null !== u2) if ((0, p.isBoolean)(u2)) u2 && n4.push(c2);
              else {
                var f2 = "";
                if (t4.altQuoteAttr && (0, p.isString)(u2) && u2.indexOf('"') >= 0) f2 = "'".concat(u2.replace(/'/g, "&apos;"), "'");
                else {
                  var h2 = (0, p.isString)(u2) ? u2.replace(/"/g, "&quot;") : u2;
                  f2 = '"'.concat(h2, '"');
                }
                n4.push("".concat(c2, "=").concat(f2));
              }
            }
            var d2 = n4.length ? " ".concat(n4.join(" ")) : "", v2 = e4.getInnerHTML(t4), m2 = "<".concat(i2).concat(d2).concat(o2 ? "/" : "", ">").concat(v2);
            return !o2 && (m2 += "</".concat(i2, ">")), m2;
          } }, { key: "getInnerHTML", value: function(t4) {
            return this.__innerHTML(t4);
          } }, { key: "__innerHTML", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this.components();
            return e4.length ? e4.map(function(e5) {
              return e5.toHTML(t4);
            }).join("") : this.get("content");
          } }, { key: "getAttrToHTML", value: function() {
            var t4 = this.getAttributes();
            return delete t4.style, t4;
          } }, { key: "toJSON", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = m.Model.prototype.toJSON.call(this, t4);
            if (e4.attributes = this.getAttributes(), delete e4.attributes.class, delete e4.toolbar, delete e4.traits, delete e4.status, delete e4.open, !t4.fromUndo) {
              var n4 = e4[R], r3 = e4[M];
              r3 && (0, p.isArray)(r3) && (e4[M] = r3.filter(function(t5) {
                return t5;
              }).map(function(t5) {
                return t5.getId ? t5.getId() : t5;
              })), n4 && !(0, p.isString)(n4) && (e4[R] = n4.getId());
            }
            return this.em.getConfig().avoidDefaults && this.getChangedProps(e4), e4;
          } }, { key: "getChangedProps", value: function(t4) {
            var e4 = t4 || m.Model.prototype.toJSON.apply(this), n4 = (0, p.result)(this, "defaults");
            return (0, p.forEach)(n4, function(t5, n5) {
              -1 === ["type"].indexOf(n5) && e4[n5] === t5 && delete e4[n5];
            }), (0, p.isEmpty)(e4.type) && delete e4.type, (0, p.forEach)(["attributes", "style"], function(t5) {
              (0, p.isEmpty)(n4[t5]) && (0, p.isEmpty)(e4[t5]) && delete e4[t5];
            }), (0, p.forEach)(["classes", "components"], function(t5) {
              (!e4[t5] || (0, p.isEmpty)(n4[t5]) && !e4[t5].length) && delete e4[t5];
            }), e4;
          } }, { key: "getId", value: function() {
            return (this.get("attributes") || {}).id || this.ccid || this.cid;
          } }, { key: "setId", value: function(t4, e4) {
            var n4 = T({}, this.get("attributes"));
            return n4.id = t4, this.set("attributes", n4, e4), this;
          } }, { key: "getEl", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0, e4 = this.getView(t4);
            return e4 && e4.el;
          } }, { key: "getView", value: function(t4) {
            var e4 = this.view, n4 = this.views;
            return t4 && (e4 = n4.filter(function(e5) {
              return e5._getFrame() === t4.view;
            })[0]), e4;
          } }, { key: "getCurrentView", value: function() {
            var t4 = (this.em.get("currentFrame") || {}).model;
            return this.getView(t4);
          } }, { key: "__getScriptProps", value: function() {
            var t4 = this.props();
            return (this.get("script-props") || []).reduce(function(e4, n4) {
              return e4[n4] = t4[n4], e4;
            }, {});
          } }, { key: "getScriptString", value: function(t4) {
            var e4 = this, n4 = t4 || this.get("script");
            if (!n4) return n4;
            if (this.get("script-props")) n4 = n4.toString().trim();
            else {
              if ("function" == typeof n4) {
                var i2 = n4.toString().trim();
                n4 = (i2 = i2.replace(/^function[\s\w]*\(\)\s?\{/, "").replace(/\}$/, "")).trim();
              }
              var o2 = this.em.getConfig(), a2 = j(o2.tagVarStart || "{[ "), s2 = j(o2.tagVarEnd || " ]}"), l2 = new RegExp("".concat(a2, "([\\w\\d-]*)").concat(s2), "g");
              n4 = n4.replace(l2, function(t5, n5) {
                e4.scriptUpdated();
                var i3 = e4.attributes[n5] || "";
                return (0, p.isArray)(i3) || "object" == (0, r2.Z)(i3) ? JSON.stringify(i3) : i3;
              });
            }
            return n4;
          } }, { key: "emitUpdate", value: function(t4) {
            for (var e4 = this.em, n4 = L + (t4 ? ":".concat(t4) : ""), r3 = t4 && this.get(t4), i2 = arguments.length, o2 = new Array(i2 > 1 ? i2 - 1 : 0), a2 = 1; a2 < i2; a2++) o2[a2 - 1] = arguments[a2];
            t4 && this.updated.apply(this, [t4, r3, t4 && this.previous(t4)].concat(o2)), this.trigger.apply(this, [n4].concat(o2)), e4 && e4.trigger.apply(e4, [n4, this].concat(o2)), ["components", "classes"].indexOf(t4) >= 0 && this.__propSelfToParent({ component: this, changed: { [t4]: r3 }, options: o2[2] || o2[1] || {} });
          } }, { key: "onAll", value: function(t4) {
            return (0, p.isFunction)(t4) && (t4(this), this.components().forEach(function(e4) {
              return e4.onAll(t4);
            })), this;
          } }, { key: "remove", value: function() {
            var t4 = this, e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n4 = this.em, r3 = this.collection, i2 = function() {
              r3 && r3.remove(t4, T(T({}, e4), {}, { action: "remove-component" })), r3 || (t4.components("", e4), t4.components().removeChildren(t4, null, e4));
            }, o2 = T({}, e4);
            return [this, n4].map(function(e5) {
              return e5.trigger("component:remove:before", t4, i2, o2);
            }), !o2.abort && i2(), this;
          } }, { key: "move", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            if (t4) {
              var n4 = e4.at, r3 = this.index(), i2 = t4 === this.parent(), o2 = r3 === n4 || r3 === n4 - 1;
              i2 && o2 || (i2 && n4 && n4 > r3 && (e4.at = n4 - 1), this.remove({ temporary: 1 }), t4.append(this, e4), this.emitUpdate());
            }
            return this;
          } }, { key: "isInstanceOf", value: function(t4) {
            var e4, n4, r3 = null === (e4 = this.em) || void 0 === e4 || null === (n4 = e4.get("DomComponents").getType(t4)) || void 0 === n4 ? void 0 : n4.model;
            return !!r3 && this instanceof r3;
          } }, { key: "isChildOf", value: function(t4) {
            for (var e4 = (0, p.isString)(t4), n4 = this.parent(); n4; ) {
              if (e4) {
                if (n4.isInstanceOf(t4)) return true;
              } else if (n4 === t4) return true;
              n4 = n4.parent();
            }
            return false;
          } }, { key: "resetId", value: function() {
            var t4 = this.em, e4 = this.getId();
            if (e4) {
              var r3 = n3.createId(this);
              this.setId(r3);
              var i2 = t4 && t4.get("CssComposer").getIdRule(e4), o2 = i2 && i2.get("selectors").at(0);
              return o2 && o2.set("name", r3), this;
            }
          } }, { key: "_getStyleRule", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = t4.id, n4 = this.em, r3 = e4 || this.getId();
            return n4 && n4.get("CssComposer").getIdRule(r3);
          } }, { key: "_getStyleSelector", value: function(t4) {
            var e4 = this._getStyleRule(t4);
            return e4 && e4.get("selectors").at(0);
          } }, { key: "_idUpdated", value: function(t4, e4) {
            var r3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
            if (!r3.idUpdate) {
              var i2 = this.ccid, o2 = this.get("attributes") || {}, a2 = o2.id, s2 = (this.previous("attributes") || {}).id || i2, l2 = n3.getList(this);
              if (l2[a2] || !a2 && s2) return this.setId(s2, { idUpdate: 1 });
              delete l2[s2], l2[a2] = this, this.ccid = a2;
              var c2 = this._getStyleSelector({ id: s2 });
              c2 && c2.set({ name: a2, label: a2 });
            }
          } }]), n3;
        }(v.Z);
        I.isComponent = function(t3) {
          return { tagName: (0, g.toLowerCase)(t3.tagName) };
        }, I.ensureInList = function(t3) {
          var e3 = I.getList(t3), n3 = t3.getId(), r3 = e3[n3];
          if (r3) {
            if (r3 !== t3) {
              var i2 = I.getIncrementId(n3, e3);
              t3.setId(i2), e3[i2] = t3;
            }
          } else e3[n3] = t3;
          t3.components().forEach(function(t4) {
            return I.ensureInList(t4);
          });
        }, I.createId = function(t3) {
          var e3, n3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = I.getList(t3), i2 = n3.idMap, o2 = void 0 === i2 ? {} : i2, a2 = t3.get("attributes"), s2 = a2.id;
          return s2 ? (e3 = I.getIncrementId(s2, r3, n3), t3.setId(e3), s2 !== e3 && (o2[s2] = e3)) : e3 = I.getNewId(r3), r3[e3] = t3, e3;
        }, I.getNewId = function(t3) {
          for (var e3 = Object.keys(t3).length.toString().length + 2, n3 = (Math.random() + 1.1).toString(36).slice(-e3), r3 = "i".concat(n3); t3[r3]; ) r3 = I.getNewId(t3);
          return r3;
        }, I.getIncrementId = function(t3, e3) {
          var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = n3.keepIds, i2 = void 0 === r3 ? [] : r3, o2 = 1, a2 = t3;
          if (i2.indexOf(t3) < 0) for (; e3[a2]; ) o2++, a2 = "".concat(t3, "-").concat(o2);
          return a2;
        }, I.getList = function(t3) {
          var e3 = t3.opt, n3 = void 0 === e3 ? {} : e3, r3 = n3.domc, i2 = n3.em, o2 = r3 || i2 && i2.get("DomComponents");
          return o2 ? o2.componentsById : {};
        }, I.checkId = function(t3) {
          var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}, i2 = (0, p.isArray)(t3) ? t3 : [t3], o2 = r3.keepIds, a2 = void 0 === o2 ? [] : o2;
          i2.forEach(function(t4) {
            var i3 = t4.attributes, o3 = void 0 === i3 ? {} : i3, s2 = t4.components, l2 = o3.id;
            if (l2 && n3[l2] && a2.indexOf(l2) < 0) {
              var c2 = I.getIncrementId(l2, n3);
              o3.id = c2, (0, p.isArray)(e3) && e3.forEach(function(t5) {
                var e4 = t5.selectors;
                e4.forEach(function(t6, n4) {
                  t6 === "#".concat(l2) && (e4[n4] = "#".concat(c2));
                });
              });
            }
            s2 && I.checkId(s2, e3, n3, r3);
          });
        }, I.getDefaults = function() {
          return (0, p.result)(this.prototype, "defaults");
        }, I.prototype.defaults = { tagName: "div", type: "", name: "", removable: true, draggable: true, droppable: true, badgable: true, stylable: true, "stylable-require": "", "style-signature": "", unstylable: "", highlightable: true, copyable: true, resizable: false, editable: false, layerable: true, selectable: true, hoverable: true, locked: false, void: false, state: "", status: "", content: "", icon: "", style: "", styles: "", classes: "", script: "", "script-props": "", "script-export": "", attributes: "", traits: ["id", "title"], propagate: "", dmode: "", toolbar: null, [R]: 0, [M]: 0, [Z]: 0, _undo: true, _undoexc: ["status", "open"] };
      }, 8431: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => O });
        var r2 = n2(1002), i = n2(2982), o = n2(4925), a = n2(5671), s = n2(3144), l = n2(7326), c = n2(9340), u = n2(2963), f = n2(1120), h = n2(4942), d = n2(2316), p = n2.n(d), g = n2(9050), v = n2(7375), m = ["at"];
        function y(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, f.Z)(t3);
            if (e3) {
              var i2 = (0, f.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, u.Z)(this, n3);
          };
        }
        function b(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function w(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? b(Object(n3), true).forEach(function(e4) {
              (0, h.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : b(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var k = function t3(e3) {
          var n3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
          if (!e3) return [];
          var r3 = (0, g.isArray)(e3) || (0, g.isFunction)(e3.map) ? e3 : [e3];
          return r3.map(function(e4) {
            n3.push(e4.getId()), t3(e4.components().models, n3);
          }), n3;
        }, x = function t3(e3) {
          var n3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i2 = (0, g.isArray)(e3) ? e3 : [e3];
          return i2.map(function(e4) {
            var i3 = e4.attributes, o2 = void 0 === i3 ? {} : i3, a2 = e4.components, s2 = e4.tagName, l2 = o2.id, c2 = e4;
            if (l2 && n3[l2] && (c2 = n3[l2], s2 && c2.set({ tagName: s2 }, w(w({}, r3), {}, { silent: true }))), a2) {
              var u2 = t3(a2, n3);
              if ((0, g.isFunction)(c2.components)) {
                var f2 = c2.components();
                f2.length > 0 && f2.reset(u2, r3);
              } else c2.components = u2;
            }
            return c2;
          });
        }, O = function(t3) {
          (0, c.Z)(n3, t3);
          var e3 = y(n3);
          function n3() {
            var t4;
            (0, a.Z)(this, n3);
            for (var r3 = arguments.length, i2 = new Array(r3), o2 = 0; o2 < r3; o2++) i2[o2] = arguments[o2];
            return t4 = e3.call.apply(e3, [this].concat(i2)), (0, h.Z)((0, l.Z)(t4), "__onAddEnd", (0, g.debounce)(function() {
            })), t4;
          }
          return (0, s.Z)(n3, [{ key: "initialize", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            this.opt = e4, this.listenTo(this, "add", this.onAdd), this.listenTo(this, "remove", this.removeChildren), this.listenTo(this, "reset", this.resetChildren);
            var n4 = e4.em, r3 = e4.config;
            this.config = r3, this.em = n4, this.domc = e4.domc || n4 && n4.get("DomComponents");
          } }, { key: "resetChildren", value: function(t4) {
            var e4 = this, n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = this, i2 = n4.previousModels || [], o2 = i2.filter(function(e5) {
              return !t4.get(e5.cid);
            }), a2 = k(t4);
            n4.keepIds = k(i2).filter(function(t5) {
              return a2.indexOf(t5) >= 0;
            }), o2.forEach(function(t5) {
              return e4.removeChildren(t5, r3, n4);
            }), t4.each(function(t5) {
              return e4.onAdd(t5);
            });
          } }, { key: "resetFromString", value: function() {
            var t4, e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            n4.keepIds = k(this);
            var r3 = this.domc, i2 = (null == r3 ? void 0 : r3.allById()) || {}, o2 = this.parseString(e4, n4), a2 = (0, g.isArray)(o2) ? o2 : [o2], s2 = x(a2, i2, n4);
            this.reset(s2, n4), null === (t4 = this.em) || void 0 === t4 || t4.trigger("component:content", this.parent, n4, e4);
          } }, { key: "removeChildren", value: function(t4, e4) {
            var n4 = this, r3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
            if (t4) {
              var i2 = this.domc, o2 = this.em, a2 = r3.temporary || r3.fromUndo;
              if (t4.prevColl = this, !a2) {
                var s2 = t4.getId(), l2 = o2.get("SelectorManager").getAll(), c2 = o2.get("CssComposer").getAll(), u2 = (r3.keepIds || []).indexOf(s2) < 0, f2 = i2 ? i2.allById() : {};
                delete f2[s2];
                var h2 = u2 ? c2.remove(c2.filter(function(t5) {
                  return t5.getSelectors().getFullString() === "#".concat(s2);
                }), r3) : [];
                l2.remove(h2.map(function(t5) {
                  return t5.getSelectors().at(0);
                })), t4.opt.temporary || (o2.get("Commands").run("core:component-style-clear", { target: t4 }), t4.removed(), t4.trigger("removed"), o2.trigger("component:remove", t4));
                var d2 = t4.components();
                d2.forEach(function(t5) {
                  return n4.removeChildren(t5, e4, r3);
                });
              }
              var p2 = t4.components();
              o2.stopListening(p2), o2.stopListening(t4), o2.stopListening(t4.get("classes")), t4.__postRemove();
            }
          } }, { key: "model", value: function(t4, e4) {
            var n4, r3 = e4.collection.opt, i2 = r3.em, o2 = i2.get("DomComponents").componentTypes;
            e4.em = i2, e4.config = r3.config, e4.componentTypes = o2, e4.domc = r3.domc;
            for (var a2 = 0; a2 < o2.length; a2++) {
              if (o2[a2].id == t4.type) {
                n4 = o2[a2].model;
                break;
              }
            }
            return n4 || (n4 = o2[o2.length - 1].model, i2 && t4.type && i2.logWarning("Component type '".concat(t4.type, "' not found"), { attrs: t4, options: e4 })), new n4(t4, e4);
          } }, { key: "parseString", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = this.em, r3 = this.domc, i2 = n4.get("CssComposer"), a2 = n4.get("Parser").parseHtml(t4);
            if (v.ZP.checkId(a2.html, a2.css, r3.componentsById, e4), a2.css && i2 && !e4.temporary) {
              e4.at;
              var s2 = (0, o.Z)(e4, m);
              i2.addCollection(a2.css, w(w({}, s2), {}, { extend: 1 }));
            }
            return a2.html;
          } }, { key: "add", value: function(t4) {
            var e4 = this, n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            n4.keepIds = [].concat((0, i.Z)(n4.keepIds || []), (0, i.Z)(k(n4.previousModels))), (0, g.isString)(t4) ? t4 = this.parseString(t4, n4) : (0, g.isArray)(t4) && (t4 = (0, i.Z)(t4)).forEach(function(r4, i2) {
              if ((0, g.isString)(r4)) {
                var o3 = e4.parseString(r4, n4);
                t4[i2] = (0, g.isArray)(o3) && !o3.length ? null : o3;
              }
            });
            var r3 = (0, g.isArray)(t4);
            t4 = (r3 ? t4 : [t4]).filter(function(t5) {
              return t5;
            }).map(function(t5) {
              return e4.processDef(t5);
            }), t4 = r3 ? (0, g.flatten)(t4, 1) : t4[0];
            var o2 = p().Collection.prototype.add.apply(this, [t4, n4]);
            return this.__firstAdd = o2, o2;
          } }, { key: "processDef", value: function(t4) {
            if (t4.cid && t4.ccid) return t4;
            var e4 = this.em, n4 = this.config, i2 = (void 0 === n4 ? {} : n4).processor, o2 = t4;
            if (i2) {
              var a2 = i2(o2 = w({}, o2));
              a2 && ((0, g.each)(o2, function(t5, e5) {
                return delete o2[e5];
              }), (0, g.extend)(o2, a2));
            }
            if (o2.$$typeof && "object" == (0, r2.Z)(o2.props)) {
              (o2 = w({}, o2)).props = w({}, o2.props);
              var s2 = e4.get("DomComponents"), l2 = e4.get("Parser").parserHtml;
              (0, g.each)(o2, function(t5, e5) {
                (0, g.includes)(["props", "type"], e5) || delete o2[e5];
              });
              var c2 = o2.props, u2 = c2.children;
              delete c2.children, delete o2.props;
              var f2 = l2.splitPropsFromAttr(c2);
              o2.attributes = f2.attrs, u2 && (o2.components = u2), o2.type ? s2.getType(o2.type) || (o2.tagName = o2.type, delete o2.type) : o2.type = "textnode", (0, g.extend)(o2, f2.props);
            }
            return o2;
          } }, { key: "onAdd", value: function(t4, e4) {
            var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = this.domc, i2 = this.em, o2 = t4.getStyle(), a2 = i2 && i2.getConfig().avoidInlineStyle;
            if (r3 && r3.Component.ensureInList(t4), !(0, g.isEmpty)(o2) && !a2 && i2 && i2.get && i2.getConfig().forceClass && !n4.temporary) {
              var s2 = t4.cid;
              i2.get("CssComposer").setClassRule(s2, o2);
              t4.setStyle({}), t4.addClass(s2);
            }
            t4.__postAdd({ recursive: 1 }), this.__onAddEnd();
          } }]), n3;
        }(p().Collection);
      }, 2169: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => w });
        var r2 = n2(4942), i = n2(5671), o = n2(3144), a = n2(9340), s = n2(2963), l = n2(1120), c = n2(2316), u = n2.n(c), f = n2(9050), h = n2(8431), d = n2(3505), p = n2(966), g = n2(9283), v = n2(1163);
        function m(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function y(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? m(Object(n3), true).forEach(function(e4) {
              (0, r2.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : m(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function b(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, l.Z)(t3);
            if (e3) {
              var i2 = (0, l.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, s.Z)(this, n3);
          };
        }
        var w = function(t3) {
          (0, a.Z)(n3, t3);
          var e3 = b(n3);
          function n3() {
            return (0, i.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, o.Z)(n3, [{ key: "className", value: function() {
            return this.getClasses();
          } }, { key: "tagName", value: function() {
            return this.model.get("tagName");
          } }, { key: "initialize", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this.model, n4 = t4.config || {}, r3 = n4.em, i2 = e4.opt || {}, o2 = this.$el, a2 = this.el;
            this.opts = t4, this.modelOpt = i2, this.config = n4, this.em = r3 || "", this.pfx = n4.stylePrefix || "", this.ppfx = n4.pStylePrefix || "", this.attr = e4.get("attributes"), this.classe = this.attr.class || [], this.listenTo(e4, "change:style", this.updateStyle), this.listenTo(e4, "change:attributes", this.renderAttributes), this.listenTo(e4, "change:highlightable", this.updateHighlight), this.listenTo(e4, "change:status change:locked", this.updateStatus), this.listenTo(e4, "change:script rerender", this.reset), this.listenTo(e4, "change:content", this.updateContent), this.listenTo(e4, "change", this.handleChange), this.listenTo(e4, "active", this.onActive), this.listenTo(e4, "disable", this.onDisable), o2.data("model", e4), (0, v.setViewEl)(a2, this), e4.view = this, this._getFrame() && e4.views.push(this), this.initClasses(), this.initComponents({ avoidRender: 1 }), this.events = y(y({}, this.constructor.getEvents()), {}, { dragstart: "handleDragStart" }), this.delegateEvents(), !i2.temporary && this.init(this._clbObj());
          } }, { key: "__isDraggable", value: function() {
            var t4 = this.model, e4 = this.config, n4 = t4.attributes.draggable;
            return e4.draggableComponents && n4;
          } }, { key: "_clbObj", value: function() {
            var t4 = this.em, e4 = this.model, n4 = this.el;
            return { editor: t4 && t4.getEditor(), model: e4, el: n4 };
          } }, { key: "init", value: function() {
          } }, { key: "removed", value: function() {
          } }, { key: "onActive", value: function() {
          } }, { key: "onDisable", value: function() {
          } }, { key: "remove", value: function() {
            var t4;
            u().View.prototype.remove.apply(this, arguments);
            var e4 = this.model, n4 = this.$el, r3 = e4.views, i2 = this._getFrame() || {};
            return e4.components().forEach(function(t5) {
              var e5 = t5.getView(i2.model);
              null == e5 || e5.remove();
            }), null === (t4 = this.childrenView) || void 0 === t4 || t4.remove(), r3.splice(r3.indexOf(this), 1), this.removed(this._clbObj()), n4.data({ model: "", collection: "", view: "" }), this;
          } }, { key: "handleDragStart", value: function(t4) {
            if (!this.__isDraggable()) return false;
            t4.stopPropagation(), t4.preventDefault(), this.em.get("Commands").run("tlb-move", { target: this.model, event: t4 });
          } }, { key: "initClasses", value: function() {
            var t4 = this.model, e4 = "change:classes", n4 = t4.get("classes");
            n4 instanceof p.Z && (this.stopListening(t4, e4, this.initClasses), this.listenTo(t4, e4, this.initClasses), this.listenTo(n4, "add remove change", this.updateClasses), n4.length && this.importClasses());
          } }, { key: "initComponents", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this.model, n4 = this.$el, r3 = this.childrenView, i2 = "change:components", o2 = e4.get("components"), a2 = [e4, i2, this.initComponents];
            o2 instanceof h.Z && (n4.data("collection", o2), r3 && r3.remove(), this.stopListening.apply(this, a2), !t4.avoidRender && this.renderChildren(), this.listenTo.apply(this, a2));
          } }, { key: "handleChange", value: function() {
            var t4 = this.model, e4 = (0, f.keys)(t4.changed);
            if (1 !== e4.length || "status" !== e4[0]) for (var n4 in t4.emitUpdate(), t4.changed) t4.emitUpdate(n4);
          } }, { key: "importClasses", value: function() {
            var t4 = this.config.em.get("SelectorManager");
            t4 && this.model.get("classes").each(function(e4) {
              t4.add(e4.get("name"));
            });
          } }, { key: "updateStatus", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this.em, n4 = this.el, r3 = this.ppfx, i2 = this.model, o2 = e4 ? e4.get("Canvas").getConfig() : {}, a2 = o2.extHl, s2 = i2.get("status"), l2 = "".concat(r3, "selected"), c2 = "".concat(l2, "-parent"), u2 = "".concat(r3, "freezed"), f2 = "".concat(r3, "hovered"), h2 = "".concat(r3, "no-pointer"), d2 = [l2, c2, u2, f2, h2], p2 = a2 && !t4.noExtHl ? "" : l2;
            this.$el.removeClass(d2.join(" "));
            var g2 = n4.getAttribute("class") || "", v2 = [g2];
            switch (s2) {
              case "selected":
                v2.push(p2);
                break;
              case "selected-parent":
                v2.push(c2);
                break;
              case "freezed":
                v2.push(u2);
                break;
              case "freezed-selected":
                v2.push(u2, p2);
                break;
              case "hovered":
                !t4.avoidHover && v2.push(f2);
            }
            i2.get("locked") && v2.push(h2);
            var m2 = v2.filter(Boolean).join(" ");
            m2 && n4.setAttribute("class", m2);
          } }, { key: "updateHighlight", value: function() {
            var t4 = this.model, e4 = t4.get("textable"), n4 = t4.get("highlightable") && (e4 || !t4.isChildOf("text"));
            this.setAttribute("data-gjs-highlightable", !!n4 || "");
          } }, { key: "updateStyle", value: function(t4, e4) {
            var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = this.model, i2 = this.em;
            if (i2 && i2.getConfig().avoidInlineStyle && !n4.inline) {
              var o2 = r3.getStyle();
              !(0, f.isEmpty)(o2) && r3.setStyle(o2);
            } else this.setAttribute("style", r3.styleToString(n4));
          } }, { key: "updateClasses", value: function() {
            var t4 = this.model.get("classes").pluck("name").join(" ");
            this.setAttribute("class", t4), this.updateStatus(), this.onAttrUpdate();
          } }, { key: "setAttribute", value: function(t4, e4) {
            var n4 = this.$el;
            e4 ? n4.attr(t4, e4) : n4.removeAttr(t4);
          } }, { key: "getClasses", value: function() {
            return this.model.getClasses().join(" ");
          } }, { key: "updateAttributes", value: function() {
            var t4 = [], e4 = this.model, n4 = this.$el, r3 = this.el, i2 = e4.attributes, o2 = i2.textable, a2 = i2.type, s2 = y(y({ id: e4.getId(), "data-gjs-type": a2 || "default" }, this.__isDraggable() && { draggable: true }), o2 && { contenteditable: "false" });
            (0, f.each)(r3.attributes, function(e5) {
              return t4.push(e5.nodeName);
            }), t4.forEach(function(t5) {
              return n4.removeAttr(t5);
            }), this.updateStyle(), this.updateHighlight();
            var l2 = y(y({}, s2), e4.getAttributes());
            (0, f.keys)(l2).forEach(function(t5) {
              return false === l2[t5] && delete l2[t5];
            }), n4.attr(l2);
          } }, { key: "updateContent", value: function() {
            var t4 = this.model.get("content"), e4 = this.model.components().length;
            this.getChildrenContainer().innerHTML = e4 ? "" : t4;
          } }, { key: "prevDef", value: function(t4) {
            t4.preventDefault();
          } }, { key: "updateScript", value: function() {
            var t4 = this.model, e4 = this.em;
            t4.get("script") && e4 && e4.get("Canvas").getCanvasView().updateScript(this);
          } }, { key: "getChildrenContainer", value: function() {
            var t4 = this.el;
            return "function" == typeof this.getChildrenSelector ? t4 = this.el.querySelector(this.getChildrenSelector()) : this.getTemplate, t4;
          } }, { key: "getOffsetRect", value: function() {
            var t4 = {}, e4 = this.el, n4 = 0, r3 = 0;
            return function i2(o2) {
              var a2 = o2.offsetParent;
              a2 ? (n4 += a2.offsetTop, r3 += a2.offsetLeft, i2(a2)) : (t4.top = e4.offsetTop + n4, t4.left = e4.offsetLeft + r3, t4.bottom = t4.top + e4.offsetHeight, t4.right = t4.left + e4.offsetWidth);
            }(e4), t4;
          } }, { key: "isInViewport", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = t4.rect, n4 = this.el, r3 = n4.ownerDocument, i2 = r3.body, o2 = r3.defaultView.frameElement, a2 = e4 || this.getOffsetRect(), s2 = a2.top, l2 = a2.left, c2 = this._getFrame().getOffsetRect();
            return s2 >= c2.scrollTop && l2 >= c2.scrollLeft && s2 <= c2.scrollBottom && l2 <= o2.offsetWidth + i2.scrollLeft;
          } }, { key: "scrollIntoView", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this.getOffsetRect(), n4 = this.isInViewport({ rect: e4 });
            if (!n4 || t4.force) {
              var r3 = this.el;
              "smooth" !== t4.behavior ? r3.ownerDocument.defaultView.scrollTo(0, e4.top) : r3.scrollIntoView(y({ behavior: "smooth", block: "nearest" }, t4));
            }
          } }, { key: "reset", value: function() {
            var t4 = this.el;
            this.el = "", this._ensureElement(), this._setData(), (0, g.dL)(t4, this.el), this.render();
          } }, { key: "_setData", value: function() {
            var t4 = this.model, e4 = t4.components();
            this.$el.data({ model: t4, collection: e4, view: this });
          } }, { key: "_getFrame", value: function() {
            var t4;
            return null === (t4 = this.config.em) || void 0 === t4 ? void 0 : t4.get("Canvas").config.frameView;
          } }, { key: "renderChildren", value: function() {
            this.updateContent();
            var t4 = this.getChildrenContainer(), e4 = this.childrenView || new d.Z({ collection: this.model.get("components"), config: this.config, componentTypes: this.opts.componentTypes });
            e4.render(t4), this.childrenView = e4;
            for (var n4 = Array.prototype.slice.call(e4.el.childNodes), r3 = 0, i2 = n4.length; r3 < i2; r3++) t4.appendChild(n4.shift());
          } }, { key: "renderAttributes", value: function() {
            this.updateAttributes(), this.updateClasses();
          } }, { key: "onAttrUpdate", value: function() {
          } }, { key: "render", value: function() {
            return this.renderAttributes(), this.modelOpt.temporary || (this.renderChildren(), this.updateScript(), (0, v.setViewEl)(this.el, this), this.postRender()), this;
          } }, { key: "postRender", value: function() {
            this.modelOpt.temporary || this.onRender(this._clbObj());
          } }, { key: "onRender", value: function() {
          } }]), n3;
        }(u().View);
        w.getEvents = function() {
          return (0, f.result)(this.prototype, "events");
        };
      }, 3505: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => d });
        var r2 = n2(5671), i = n2(3144), o = n2(9340), a = n2(2963), s = n2(1120), l = n2(2316), c = n2.n(l), u = n2(9050), f = n2(9283);
        function h(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, s.Z)(t3);
            if (e3) {
              var i2 = (0, s.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, a.Z)(this, n3);
          };
        }
        var d = function(t3) {
          (0, o.Z)(a2, t3);
          var e3 = h(a2);
          function a2() {
            return (0, r2.Z)(this, a2), e3.apply(this, arguments);
          }
          return (0, i.Z)(a2, [{ key: "initialize", value: function(t4) {
            this.opts = t4 || {}, this.config = t4.config || {}, this.em = this.config.em;
            var e4 = this.collection;
            this.listenTo(e4, "add", this.addTo), this.listenTo(e4, "reset", this.resetChildren), this.listenTo(e4, "remove", this.removeChildren);
          } }, { key: "removeChildren", value: function(t4, e4) {
            var n3 = this, r3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
            t4.views.forEach(function(t5) {
              if (t5) {
                var e5 = t5.childrenView, n4 = t5.scriptContainer;
                e5 && e5.stopListening(), (0, f.L_)(n4), t5.remove.apply(t5);
              }
            });
            var i2 = t4.components();
            i2.forEach(function(t5) {
              return n3.removeChildren(t5, e4, r3);
            });
          } }, { key: "addTo", value: function(t4) {
            var e4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, n3 = this.config.em, r3 = this.collection.indexOf(t4);
            if (this.addToCollection(t4, null, r3), n3 && !e4.temporary) {
              var i2 = function t5(e5) {
                n3.trigger("component:add", e5), e5.components().forEach(function(e6) {
                  return t5(e6);
                });
              };
              i2(t4);
            }
          } }, { key: "addToCollection", value: function(t4, e4, r3) {
            this.compView || (this.compView = n2(2169).Z);
            for (var i2 = this.config, o2 = this.opts, a3 = this.em, s2 = e4 || null, l2 = i2.frameView, c2 = void 0 === l2 ? {} : l2, f2 = c2.model && t4.getView(c2.model), h2 = o2.componentTypes || a3 && a3.get("DomComponents").getTypes(), d2 = t4.get("type") || "default", p = this.compView, g = 0; g < h2.length; g++) if (h2[g].id == d2) {
              p = h2[g].view;
              break;
            }
            var v, m = f2 || new p({ model: t4, config: i2, componentTypes: h2 });
            try {
              v = m.render().el;
            } catch (t5) {
              v = document.createTextNode(""), a3.logError(t5);
            }
            if (s2) s2.appendChild(v);
            else {
              var y = this.parentEl, b = y.childNodes;
              if ((0, u.isUndefined)(r3)) y.appendChild(v);
              else {
                var w = b.length == r3;
                w && r3--, w || !b.length ? y.appendChild(v) : y.insertBefore(v, b[r3]);
              }
            }
            return t4.opt.temporary || null == a3 || a3.trigger("component:mount", t4), v;
          } }, { key: "resetChildren", value: function(t4) {
            var e4 = this, n3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = n3.previousModels, i2 = void 0 === r3 ? [] : r3;
            this.parentEl.innerHTML = "", i2.forEach(function(t5) {
              return e4.removeChildren(t5, e4.collection);
            }), t4.each(function(t5) {
              return e4.addToCollection(t5);
            });
          } }, { key: "render", value: function(t4) {
            var e4 = this, n3 = this.el, r3 = document.createDocumentFragment();
            return this.parentEl = t4 || this.el, this.collection.each(function(t5) {
              return e4.addToCollection(t5, r3);
            }), n3.innerHTML = "", n3.appendChild(r3), this;
          } }]), a2;
        }(c().View);
      }, 9524: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => m });
        var r2 = n2(5671), i = n2(3144), o = n2(7326), a = n2(9340), s = n2(2963), l = n2(1120), c = n2(4942), u = n2(9050), f = n2(1163), h = n2(5311), d = n2(2316);
        function p(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function g(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? p(Object(n3), true).forEach(function(e4) {
              (0, c.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : p(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function v(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, l.Z)(t3);
            if (e3) {
              var i2 = (0, l.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, s.Z)(this, n3);
          };
        }
        var m = function(t3) {
          (0, a.Z)(n3, t3);
          var e3 = v(n3);
          function n3() {
            var t4;
            (0, r2.Z)(this, n3);
            for (var i2 = arguments.length, a2 = new Array(i2), s2 = 0; s2 < i2; s2++) a2[s2] = arguments[s2];
            return t4 = e3.call.apply(e3, [this].concat(a2)), (0, c.Z)((0, o.Z)(t4), "parseStyle", (0, h.Z)().parseStyle), t4;
          }
          return (0, i.Z)(n3, [{ key: "extendStyle", value: function(t4) {
            return g(g({}, this.getStyle()), t4);
          } }, { key: "getStyle", value: function(t4) {
            var e4 = g({}, this.get("style") || {});
            return t4 && (0, u.isString)(t4) ? e4[t4] : e4;
          } }, { key: "setStyle", value: function() {
            var t4 = this, e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            (0, u.isString)(e4) && (e4 = this.parseStyle(e4));
            var r3 = this.getStyle(n4), i2 = g({}, e4), o2 = g({}, i2);
            (0, u.keys)(o2).forEach(function(t5) {
              "" === o2[t5] && delete o2[t5];
            }), this.set("style", o2, n4);
            var a2 = (0, f.shallowDiff)(r3, i2);
            return delete a2.__p, (0, u.keys)(a2).forEach(function(e5) {
              var r4 = t4.em;
              n4.noEvent || (t4.trigger("change:style:".concat(e5)), r4 && (r4.trigger("styleable:change", t4, e5, n4), r4.trigger("styleable:change:".concat(e5), t4, e5, n4)));
            }), i2;
          } }, { key: "addStyle", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "", n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
            "string" == typeof t4 ? t4 = { prop: e4 } : n4 = e4 || {}, t4 = this.extendStyle(t4), this.setStyle(t4, n4);
          } }, { key: "removeStyle", value: function(t4) {
            var e4 = this.getStyle();
            delete e4[t4], this.setStyle(e4);
          } }, { key: "styleToString", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = [], n4 = this.getStyle(t4);
            for (var r3 in n4) {
              var i2 = t4.important, o2 = (0, u.isArray)(i2) ? i2.indexOf(r3) >= 0 : i2, a2 = "".concat(n4[r3]).concat(o2 ? " !important" : ""), s2 = "__" == r3.substr(0, 2);
              a2 && !s2 && e4.push("".concat(r3, ":").concat(a2, ";"));
            }
            return e4.join("");
          } }, { key: "getSelectors", value: function() {
            return this.get("selectors") || this.get("classes");
          } }, { key: "getSelectorsString", value: function(t4) {
            return this.selectorsToString ? this.selectorsToString(t4) : this.getSelectors().getFullString();
          } }, { key: "_validate", value: function(t4, e4) {
            var n4, r3 = t4.style, i2 = this.em || e4.em, o2 = null == i2 || null === (n4 = i2.get("CssComposer")) || void 0 === n4 ? void 0 : n4.getConfig().onBeforeStyle;
            if (r3 && o2) {
              var a2 = o2(g({}, r3));
              a2 && (0, u.keys)(r3).map(function(e5) {
                (0, u.isUndefined)(a2[e5]) && delete t4.style[e5];
              }), a2 && (0, u.keys)(a2).map(function(e5) {
                t4.style[e5] = a2[e5];
              });
            }
            return true;
          } }]), n3;
        }(d.Model);
      }, 793: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => l });
        var r2 = n2(4942), i = n2(9050), o = n2(2316);
        function a(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function s(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? a(Object(n3), true).forEach(function(e4) {
              (0, r2.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : a(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        const l = { types: [], initialize: function(t3) {
          var e3 = this, n3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = n3.em;
          this.em = r3, this.opts = n3, this.model = function() {
            var t4, n4, i3, o2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, a2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            if (o2 && o2.type) {
              var l2 = e3.getBaseType();
              t4 = (i3 = e3.getType(o2.type)) ? i3.model : l2.model, n4 = i3 ? i3.view : l2.view;
            } else {
              var c = e3.recognizeType(o2);
              t4 = (i3 = c.type).model, n4 = i3.view, o2 = c.attributes;
            }
            var u = new t4(o2, s(s({}, a2), {}, { em: r3 }));
            return u.typeView = n4, u;
          };
          var i2 = this.init && this.init.bind(this);
          i2 && i2();
        }, recognizeType: function(t3) {
          for (var e3 = this.getTypes(), n3 = 0; n3 < e3.length; n3++) {
            var r3 = e3[n3], i2 = r3.isType(t3);
            if (i2 = "boolean" == typeof i2 && i2 ? { type: r3.id } : i2) return { type: r3, attributes: i2 };
          }
          return { type: this.getBaseType(), attributes: t3 };
        }, getBaseType: function() {
          var t3 = this.getTypes();
          return t3[t3.length - 1];
        }, getTypes: function() {
          return this.types;
        }, getType: function(t3) {
          for (var e3 = this.getTypes(), n3 = 0; n3 < e3.length; n3++) {
            var r3 = e3[n3];
            if (r3.id === t3) return r3;
          }
        }, addType: function(t3, e3) {
          var n3 = this.getType(t3), r3 = this.getBaseType(), a2 = n3 ? n3.model : r3.model, s2 = n3 ? n3.view : r3.view, l2 = e3.model, c = e3.view, u = e3.isType;
          l2 = l2 instanceof o.Model || (0, i.isFunction)(l2) ? l2 : a2.extend(l2 || {}), c = c instanceof o.View || (0, i.isFunction)(c) ? c : s2.extend(c || {}), !this.extendViewApi || e3.model || e3.view || (c = c.extend(e3)), n3 ? (n3.model = l2, n3.view = c, n3.isType = u || n3.isType) : (e3.id = t3, e3.model = l2, e3.view = c, e3.isType = u || function(e4) {
            if (e4 && e4.type == t3) return true;
          }, this.getTypes().unshift(e3));
        } };
      }, 8659: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => h });
        var r2 = n2(5671), i = n2(3144), o = n2(9340), a = n2(2963), s = n2(1120), l = n2(2316), c = n2.n(l);
        function u(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, s.Z)(t3);
            if (e3) {
              var i2 = (0, s.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, a.Z)(this, n3);
          };
        }
        var f = c().$, h = function(t3) {
          (0, o.Z)(n3, t3);
          var e3 = u(n3);
          function n3() {
            var t4, i2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            (0, r2.Z)(this, n3), t4 = e3.call(this, i2);
            var o2 = i2.ppfx || "";
            return t4.opts = i2, t4.ppfx = o2, t4.em = i2.target || {}, !i2.onChange && t4.listenTo(t4.model, "change:value", t4.handleModelChange), t4;
          }
          return (0, i.Z)(n3, [{ key: "template", value: function() {
            return '<span class="'.concat(this.holderClass(), '"></span>');
          } }, { key: "inputClass", value: function() {
            return "".concat(this.ppfx, "field");
          } }, { key: "holderClass", value: function() {
            return "".concat(this.ppfx, "input-holder");
          } }, { key: "elementUpdated", value: function() {
            this.model.trigger("el:change");
          } }, { key: "setValue", value: function(t4) {
            var e4 = this.model, n4 = t4 || e4.get("defaults"), r3 = this.getInputEl();
            r3 && (r3.value = n4);
          } }, { key: "handleModelChange", value: function(t4, e4, n4) {
            this.setValue(e4, n4);
          } }, { key: "handleChange", value: function(t4) {
            t4.stopPropagation();
            var e4 = this.getInputEl().value;
            this.__onInputChange(e4), this.elementUpdated();
          } }, { key: "__onInputChange", value: function(t4) {
            this.model.set({ value: t4 }, { fromInput: 1 });
          } }, { key: "getInputEl", value: function() {
            if (!this.inputEl) {
              var t4 = this.model, e4 = this.opts.type || "text", n4 = t4.get("placeholder") || t4.get("defaults") || t4.get("default") || "";
              this.inputEl = f('<input type="'.concat(e4, '" placeholder="').concat(n4, '">'));
            }
            return this.inputEl.get(0);
          } }, { key: "render", value: function() {
            this.inputEl = null;
            var t4 = this.$el;
            return t4.addClass(this.inputClass()), t4.html(this.template()), t4.find(".".concat(this.holderClass())).append(this.getInputEl()), this;
          } }]), n3;
        }(c().View);
        h.prototype.events = { change: "handleChange" };
      }, 1511: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => w });
        var r2 = n2(4942), i = n2(5671), o = n2(3144), a = n2(9340), s = n2(2963), l = n2(1120), c = n2(2316), u = n2.n(c), f = n2(9050), h = n2(1002), d = n2(1163);
        var p = n2(8659);
        function g(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function v(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? g(Object(n3), true).forEach(function(e4) {
              (0, r2.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : g(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function m(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, l.Z)(t3);
            if (e3) {
              var i2 = (0, l.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, s.Z)(this, n3);
          };
        }
        var y = u().$;
        y && function(t3, e3) {
          if ((0, d.hasWin)()) {
            var n3 = { beforeShow: T, move: T, change: T, show: T, hide: T, color: false, flat: false, showInput: false, allowEmpty: false, showButtons: true, clickoutFiresChange: true, showInitial: false, showPalette: false, showPaletteOnly: false, hideAfterPaletteSelect: false, togglePaletteOnly: false, showSelectionPalette: true, localStorageKey: false, appendTo: "body", maxSelectionSize: 7, cancelText: "cancel", chooseText: "choose", togglePaletteMoreText: "more", togglePaletteLessText: "less", clearText: "Clear Color Selection", noColorSelectedText: "No Color Selected", preferredFormat: false, className: "", containerClassName: "", replacerClassName: "", showAlpha: false, theme: "sp-light", palette: [["#ffffff", "#000000", "#ff0000", "#ff8000", "#ffff00", "#008000", "#0000ff", "#4b0082", "#9400d3"]], selectionPalette: [], disabled: false, offset: null }, r3 = [], i2 = !!/msie/i.exec(window.navigator.userAgent), o2 = function() {
              function t4(t5, e5) {
                return !!~("" + t5).indexOf(e5);
              }
              var e4 = document.createElement("div").style;
              return e4.cssText = "background-color:rgba(0,0,0,.5)", t4(e4.backgroundColor, "rgba") || t4(e4.backgroundColor, "hsla");
            }(), a2 = ["<div class='sp-replacer'>", "<div class='sp-preview'><div class='sp-preview-inner'></div></div>", "<div class='sp-dd'>&#9660;</div>", "</div>"].join(""), s2 = function() {
              var t4 = "";
              if (i2) for (var e4 = 1; e4 <= 6; e4++) t4 += "<div class='sp-" + e4 + "'></div>";
              return ["<div class='sp-container sp-hidden'>", "<div class='sp-palette-container'>", "<div class='sp-palette sp-thumb sp-cf'></div>", "<div class='sp-palette-button-container sp-cf'>", "<button type='button' class='sp-palette-toggle'></button>", "</div>", "</div>", "<div class='sp-picker-container'>", "<div class='sp-top sp-cf'>", "<div class='sp-fill'></div>", "<div class='sp-top-inner'>", "<div class='sp-color'>", "<div class='sp-sat'>", "<div class='sp-val'>", "<div class='sp-dragger'></div>", "</div>", "</div>", "</div>", "<div class='sp-clear sp-clear-display'>", "</div>", "<div class='sp-hue'>", "<div class='sp-slider'></div>", t4, "</div>", "</div>", "<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>", "</div>", "<div class='sp-input-container sp-cf'>", "<input class='sp-input' type='text' spellcheck='false'  />", "</div>", "<div class='sp-initial sp-thumb sp-cf'></div>", "<div class='sp-button-container sp-cf'>", "<a class='sp-cancel' href='#'></a>", "<button type='button' class='sp-choose'></button>", "</div>", "</div>", "</div>"].join("");
            }(), l2 = "spectrum.id";
            t3.fn.spectrum = function(e4, n4) {
              if ("string" == typeof e4) {
                var i3 = this, o3 = Array.prototype.slice.call(arguments, 1);
                return this.each(function() {
                  var n5 = r3[t3(this).data(l2)];
                  if (n5) {
                    var a3 = n5[e4];
                    if (!a3) throw new Error("Spectrum: no such method: '" + e4 + "'");
                    "get" == e4 ? i3 = n5.get() : "container" == e4 ? i3 = n5.container : "option" == e4 ? i3 = n5.option.apply(n5, o3) : "destroy" == e4 ? (n5.destroy(), t3(this).removeData(l2)) : a3.apply(n5, o3);
                  }
                }), i3;
              }
              return this.spectrum("destroy").each(function() {
                var n5 = P(this, t3.extend({}, e4, t3(this).data()));
                t3(this).data(l2, n5.id);
              });
            }, t3.fn.spectrum.load = true, t3.fn.spectrum.loadOpts = {}, t3.fn.spectrum.draggable = A, t3.fn.spectrum.defaults = n3, t3.fn.spectrum.inputTypeColorSupport = function e4() {
              if (void 0 === e4._cachedResult) {
                var n4 = t3("<input type='color'/>")[0];
                e4._cachedResult = "color" === n4.type && "" !== n4.value;
              }
              return e4._cachedResult;
            }, t3.spectrum = {}, t3.spectrum.localization = {}, t3.spectrum.palettes = {}, t3.fn.spectrum.processNativeColorInputs = function() {
              var e4 = t3("input[type=color]");
              e4.length && !D() && e4.spectrum({ preferredFormat: "hex6" });
            };
            var c2 = /^[\s,#]+/, u2 = /\s+$/, f2 = 0, p2 = Math, g2 = p2.round, v2 = p2.min, m2 = p2.max, y2 = p2.random, b2 = function t4(e4, n4) {
              if (n4 = n4 || {}, (e4 = e4 || "") instanceof t4) return e4;
              if (!(this instanceof t4)) return new t4(e4, n4);
              var r4 = function(t5) {
                var e5 = { r: 0, g: 0, b: 0 }, n5 = 1, r5 = false, i3 = false;
                "string" == typeof t5 && (t5 = function(t6) {
                  t6 = t6.replace(c2, "").replace(u2, "").toLowerCase();
                  var e6, n6 = false;
                  if (O[t6]) t6 = O[t6], n6 = true;
                  else if ("transparent" == t6) return { r: 0, g: 0, b: 0, a: 0, format: "name" };
                  if (e6 = S.rgb.exec(t6)) return { r: e6[1], g: e6[2], b: e6[3] };
                  if (e6 = S.rgba.exec(t6)) return { r: e6[1], g: e6[2], b: e6[3], a: e6[4] };
                  if (e6 = S.hsl.exec(t6)) return { h: e6[1], s: e6[2], l: e6[3] };
                  if (e6 = S.hsla.exec(t6)) return { h: e6[1], s: e6[2], l: e6[3], a: e6[4] };
                  if (e6 = S.hsv.exec(t6)) return { h: e6[1], s: e6[2], v: e6[3] };
                  if (e6 = S.hsva.exec(t6)) return { h: e6[1], s: e6[2], v: e6[3], a: e6[4] };
                  if (e6 = S.hex8.exec(t6)) return { a: nt(e6[1]), r: Q(e6[2]), g: Q(e6[3]), b: Q(e6[4]), format: n6 ? "name" : "hex8" };
                  if (e6 = S.hex6.exec(t6)) return { r: Q(e6[1]), g: Q(e6[2]), b: Q(e6[3]), format: n6 ? "name" : "hex" };
                  if (e6 = S.hex3.exec(t6)) return { r: Q(e6[1] + "" + e6[1]), g: Q(e6[2] + "" + e6[2]), b: Q(e6[3] + "" + e6[3]), format: n6 ? "name" : "hex" };
                  return false;
                }(t5));
                "object" == (0, h.Z)(t5) && (t5.hasOwnProperty("r") && t5.hasOwnProperty("g") && t5.hasOwnProperty("b") ? (o3 = t5.r, a3 = t5.g, s3 = t5.b, e5 = { r: 255 * X(o3, 255), g: 255 * X(a3, 255), b: 255 * X(s3, 255) }, r5 = true, i3 = "%" === String(t5.r).substr(-1) ? "prgb" : "rgb") : t5.hasOwnProperty("h") && t5.hasOwnProperty("s") && t5.hasOwnProperty("v") ? (t5.s = et(t5.s), t5.v = et(t5.v), e5 = function(t6, e6, n6) {
                  t6 = 6 * X(t6, 360), e6 = X(e6, 100), n6 = X(n6, 100);
                  var r6 = p2.floor(t6), i4 = t6 - r6, o4 = n6 * (1 - e6), a4 = n6 * (1 - i4 * e6), s4 = n6 * (1 - (1 - i4) * e6), l3 = r6 % 6;
                  return { r: 255 * [n6, a4, o4, o4, s4, n6][l3], g: 255 * [s4, n6, n6, a4, o4, o4][l3], b: 255 * [o4, o4, s4, n6, n6, a4][l3] };
                }(t5.h, t5.s, t5.v), r5 = true, i3 = "hsv") : t5.hasOwnProperty("h") && t5.hasOwnProperty("s") && t5.hasOwnProperty("l") && (t5.s = et(t5.s), t5.l = et(t5.l), e5 = function(t6, e6, n6) {
                  var r6, i4, o4;
                  function a4(t7, e7, n7) {
                    return n7 < 0 && (n7 += 1), n7 > 1 && (n7 -= 1), n7 < 1 / 6 ? t7 + 6 * (e7 - t7) * n7 : n7 < 1 / 2 ? e7 : n7 < 2 / 3 ? t7 + (e7 - t7) * (2 / 3 - n7) * 6 : t7;
                  }
                  if (t6 = X(t6, 360), e6 = X(e6, 100), n6 = X(n6, 100), 0 === e6) r6 = i4 = o4 = n6;
                  else {
                    var s4 = n6 < 0.5 ? n6 * (1 + e6) : n6 + e6 - n6 * e6, l3 = 2 * n6 - s4;
                    r6 = a4(l3, s4, t6 + 1 / 3), i4 = a4(l3, s4, t6), o4 = a4(l3, s4, t6 - 1 / 3);
                  }
                  return { r: 255 * r6, g: 255 * i4, b: 255 * o4 };
                }(t5.h, t5.s, t5.l), r5 = true, i3 = "hsl"), t5.hasOwnProperty("a") && (n5 = t5.a));
                var o3, a3, s3;
                return n5 = Y(n5), { ok: r5, format: t5.format || i3, r: v2(255, m2(e5.r, 0)), g: v2(255, m2(e5.g, 0)), b: v2(255, m2(e5.b, 0)), a: n5 };
              }(e4);
              this._originalInput = e4, this._r = r4.r, this._g = r4.g, this._b = r4.b, this._a = r4.a, this._roundA = g2(100 * this._a) / 100, this._format = n4.format || r4.format, this._gradientType = n4.gradientType, this._r < 1 && (this._r = g2(this._r)), this._g < 1 && (this._g = g2(this._g)), this._b < 1 && (this._b = g2(this._b)), this._ok = r4.ok, this._tc_id = f2++;
            };
            b2.prototype = { isDark: function() {
              return this.getBrightness() < 128;
            }, isLight: function() {
              return !this.isDark();
            }, isValid: function() {
              return this._ok;
            }, getOriginalInput: function() {
              return this._originalInput;
            }, getFormat: function() {
              return this._format;
            }, getAlpha: function() {
              return this._a;
            }, getBrightness: function() {
              var t4 = this.toRgb();
              return (299 * t4.r + 587 * t4.g + 114 * t4.b) / 1e3;
            }, setAlpha: function(t4) {
              return this._a = Y(t4), this._roundA = g2(100 * this._a) / 100, this;
            }, toHsv: function() {
              var t4 = R(this._r, this._g, this._b);
              return { h: 360 * t4.h, s: t4.s, v: t4.v, a: this._a };
            }, toHsvString: function() {
              var t4 = R(this._r, this._g, this._b), e4 = g2(360 * t4.h), n4 = g2(100 * t4.s), r4 = g2(100 * t4.v);
              return 1 == this._a ? "hsv(" + e4 + ", " + n4 + "%, " + r4 + "%)" : "hsva(" + e4 + ", " + n4 + "%, " + r4 + "%, " + this._roundA + ")";
            }, toHsl: function() {
              var t4 = M(this._r, this._g, this._b);
              return { h: 360 * t4.h, s: t4.s, l: t4.l, a: this._a };
            }, toHslString: function() {
              var t4 = M(this._r, this._g, this._b), e4 = g2(360 * t4.h), n4 = g2(100 * t4.s), r4 = g2(100 * t4.l);
              return 1 == this._a ? "hsl(" + e4 + ", " + n4 + "%, " + r4 + "%)" : "hsla(" + e4 + ", " + n4 + "%, " + r4 + "%, " + this._roundA + ")";
            }, toHex: function(t4) {
              return Z(this._r, this._g, this._b, t4);
            }, toHexString: function(t4) {
              return "#" + this.toHex(t4);
            }, toHex8: function() {
              return L(this._r, this._g, this._b, this._a);
            }, toHex8String: function() {
              return "#" + this.toHex8();
            }, toRgb: function() {
              return { r: g2(this._r), g: g2(this._g), b: g2(this._b), a: this._a };
            }, toRgbString: function() {
              return 1 == this._a ? "rgb(" + g2(this._r) + ", " + g2(this._g) + ", " + g2(this._b) + ")" : "rgba(" + g2(this._r) + ", " + g2(this._g) + ", " + g2(this._b) + ", " + this._roundA + ")";
            }, toPercentageRgb: function() {
              return { r: g2(100 * X(this._r, 255)) + "%", g: g2(100 * X(this._g, 255)) + "%", b: g2(100 * X(this._b, 255)) + "%", a: this._a };
            }, toPercentageRgbString: function() {
              return 1 == this._a ? "rgb(" + g2(100 * X(this._r, 255)) + "%, " + g2(100 * X(this._g, 255)) + "%, " + g2(100 * X(this._b, 255)) + "%)" : "rgba(" + g2(100 * X(this._r, 255)) + "%, " + g2(100 * X(this._g, 255)) + "%, " + g2(100 * X(this._b, 255)) + "%, " + this._roundA + ")";
            }, toName: function() {
              return 0 === this._a ? "transparent" : !(this._a < 1) && (C[Z(this._r, this._g, this._b, true)] || false);
            }, toFilter: function(t4) {
              var e4 = "#" + L(this._r, this._g, this._b, this._a), n4 = e4, r4 = this._gradientType ? "GradientType = 1, " : "";
              t4 && (n4 = b2(t4).toHex8String());
              return "progid:DXImageTransform.Microsoft.gradient(" + r4 + "startColorstr=" + e4 + ",endColorstr=" + n4 + ")";
            }, toString: function(t4) {
              var e4 = !!t4;
              t4 = t4 || this._format;
              var n4 = false, r4 = this._a < 1 && this._a >= 0;
              return e4 || !r4 || "hex" !== t4 && "hex6" !== t4 && "hex3" !== t4 && "name" !== t4 ? ("rgb" === t4 && (n4 = this.toRgbString()), "prgb" === t4 && (n4 = this.toPercentageRgbString()), "hex" !== t4 && "hex6" !== t4 || (n4 = this.toHexString()), "hex3" === t4 && (n4 = this.toHexString(true)), "hex8" === t4 && (n4 = this.toHex8String()), "name" === t4 && (n4 = this.toName()), "hsl" === t4 && (n4 = this.toHslString()), "hsv" === t4 && (n4 = this.toHsvString()), n4 || this.toHexString()) : "name" === t4 && 0 === this._a ? this.toName() : this.toRgbString();
            }, _applyModification: function(t4, e4) {
              var n4 = t4.apply(null, [this].concat([].slice.call(e4)));
              return this._r = n4._r, this._g = n4._g, this._b = n4._b, this.setAlpha(n4._a), this;
            }, lighten: function() {
              return this._applyModification(V, arguments);
            }, brighten: function() {
              return this._applyModification(B, arguments);
            }, darken: function() {
              return this._applyModification(H, arguments);
            }, desaturate: function() {
              return this._applyModification(N, arguments);
            }, saturate: function() {
              return this._applyModification(I, arguments);
            }, greyscale: function() {
              return this._applyModification(F, arguments);
            }, spin: function() {
              return this._applyModification(z, arguments);
            }, _applyCombination: function(t4, e4) {
              return t4.apply(null, [this].concat([].slice.call(e4)));
            }, analogous: function() {
              return this._applyCombination(G, arguments);
            }, complement: function() {
              return this._applyCombination(U, arguments);
            }, monochromatic: function() {
              return this._applyCombination(K, arguments);
            }, splitcomplement: function() {
              return this._applyCombination(q, arguments);
            }, triad: function() {
              return this._applyCombination(W, arguments);
            }, tetrad: function() {
              return this._applyCombination($, arguments);
            } }, b2.fromRatio = function(t4, e4) {
              if ("object" == (0, h.Z)(t4)) {
                var n4 = {};
                for (var r4 in t4) t4.hasOwnProperty(r4) && (n4[r4] = "a" === r4 ? t4[r4] : et(t4[r4]));
                t4 = n4;
              }
              return b2(t4, e4);
            }, b2.equals = function(t4, e4) {
              return !(!t4 || !e4) && b2(t4).toRgbString() == b2(e4).toRgbString();
            }, b2.random = function() {
              return b2.fromRatio({ r: y2(), g: y2(), b: y2() });
            }, b2.mix = function(t4, e4, n4) {
              n4 = 0 === n4 ? 0 : n4 || 50;
              var r4, i3 = b2(t4).toRgb(), o3 = b2(e4).toRgb(), a3 = n4 / 100, s3 = 2 * a3 - 1, l3 = o3.a - i3.a, c3 = 1 - (r4 = ((r4 = s3 * l3 == -1 ? s3 : (s3 + l3) / (1 + s3 * l3)) + 1) / 2), u3 = { r: o3.r * r4 + i3.r * c3, g: o3.g * r4 + i3.g * c3, b: o3.b * r4 + i3.b * c3, a: o3.a * a3 + i3.a * (1 - a3) };
              return b2(u3);
            }, b2.readability = function(t4, e4) {
              var n4 = b2(t4), r4 = b2(e4), i3 = n4.toRgb(), o3 = r4.toRgb(), a3 = n4.getBrightness(), s3 = r4.getBrightness(), l3 = Math.max(i3.r, o3.r) - Math.min(i3.r, o3.r) + Math.max(i3.g, o3.g) - Math.min(i3.g, o3.g) + Math.max(i3.b, o3.b) - Math.min(i3.b, o3.b);
              return { brightness: Math.abs(a3 - s3), color: l3 };
            }, b2.isReadable = function(t4, e4) {
              var n4 = b2.readability(t4, e4);
              return n4.brightness > 125 && n4.color > 500;
            }, b2.mostReadable = function(t4, e4) {
              for (var n4 = null, r4 = 0, i3 = false, o3 = 0; o3 < e4.length; o3++) {
                var a3 = b2.readability(t4, e4[o3]), s3 = a3.brightness > 125 && a3.color > 500, l3 = 3 * (a3.brightness / 125) + a3.color / 500;
                (s3 && !i3 || s3 && i3 && l3 > r4 || !s3 && !i3 && l3 > r4) && (i3 = s3, r4 = l3, n4 = b2(e4[o3]));
              }
              return n4;
            };
            var w2, k, x, O = b2.names = { aliceblue: "f0f8ff", antiquewhite: "faebd7", aqua: "0ff", aquamarine: "7fffd4", azure: "f0ffff", beige: "f5f5dc", bisque: "ffe4c4", black: "000", blanchedalmond: "ffebcd", blue: "00f", blueviolet: "8a2be2", brown: "a52a2a", burlywood: "deb887", burntsienna: "ea7e5d", cadetblue: "5f9ea0", chartreuse: "7fff00", chocolate: "d2691e", coral: "ff7f50", cornflowerblue: "6495ed", cornsilk: "fff8dc", crimson: "dc143c", cyan: "0ff", darkblue: "00008b", darkcyan: "008b8b", darkgoldenrod: "b8860b", darkgray: "a9a9a9", darkgreen: "006400", darkgrey: "a9a9a9", darkkhaki: "bdb76b", darkmagenta: "8b008b", darkolivegreen: "556b2f", darkorange: "ff8c00", darkorchid: "9932cc", darkred: "8b0000", darksalmon: "e9967a", darkseagreen: "8fbc8f", darkslateblue: "483d8b", darkslategray: "2f4f4f", darkslategrey: "2f4f4f", darkturquoise: "00ced1", darkviolet: "9400d3", deeppink: "ff1493", deepskyblue: "00bfff", dimgray: "696969", dimgrey: "696969", dodgerblue: "1e90ff", firebrick: "b22222", floralwhite: "fffaf0", forestgreen: "228b22", fuchsia: "f0f", gainsboro: "dcdcdc", ghostwhite: "f8f8ff", gold: "ffd700", goldenrod: "daa520", gray: "808080", green: "008000", greenyellow: "adff2f", grey: "808080", honeydew: "f0fff0", hotpink: "ff69b4", indianred: "cd5c5c", indigo: "4b0082", ivory: "fffff0", khaki: "f0e68c", lavender: "e6e6fa", lavenderblush: "fff0f5", lawngreen: "7cfc00", lemonchiffon: "fffacd", lightblue: "add8e6", lightcoral: "f08080", lightcyan: "e0ffff", lightgoldenrodyellow: "fafad2", lightgray: "d3d3d3", lightgreen: "90ee90", lightgrey: "d3d3d3", lightpink: "ffb6c1", lightsalmon: "ffa07a", lightseagreen: "20b2aa", lightskyblue: "87cefa", lightslategray: "789", lightslategrey: "789", lightsteelblue: "b0c4de", lightyellow: "ffffe0", lime: "0f0", limegreen: "32cd32", linen: "faf0e6", magenta: "f0f", maroon: "800000", mediumaquamarine: "66cdaa", mediumblue: "0000cd", mediumorchid: "ba55d3", mediumpurple: "9370db", mediumseagreen: "3cb371", mediumslateblue: "7b68ee", mediumspringgreen: "00fa9a", mediumturquoise: "48d1cc", mediumvioletred: "c71585", midnightblue: "191970", mintcream: "f5fffa", mistyrose: "ffe4e1", moccasin: "ffe4b5", navajowhite: "ffdead", navy: "000080", oldlace: "fdf5e6", olive: "808000", olivedrab: "6b8e23", orange: "ffa500", orangered: "ff4500", orchid: "da70d6", palegoldenrod: "eee8aa", palegreen: "98fb98", paleturquoise: "afeeee", palevioletred: "db7093", papayawhip: "ffefd5", peachpuff: "ffdab9", peru: "cd853f", pink: "ffc0cb", plum: "dda0dd", powderblue: "b0e0e6", purple: "800080", rebeccapurple: "663399", red: "f00", rosybrown: "bc8f8f", royalblue: "4169e1", saddlebrown: "8b4513", salmon: "fa8072", sandybrown: "f4a460", seagreen: "2e8b57", seashell: "fff5ee", sienna: "a0522d", silver: "c0c0c0", skyblue: "87ceeb", slateblue: "6a5acd", slategray: "708090", slategrey: "708090", snow: "fffafa", springgreen: "00ff7f", steelblue: "4682b4", tan: "d2b48c", teal: "008080", thistle: "d8bfd8", tomato: "ff6347", turquoise: "40e0d0", violet: "ee82ee", wheat: "f5deb3", white: "fff", whitesmoke: "f5f5f5", yellow: "ff0", yellowgreen: "9acd32" }, C = b2.hexNames = function(t4) {
              var e4 = {};
              for (var n4 in t4) t4.hasOwnProperty(n4) && (e4[t4[n4]] = n4);
              return e4;
            }(O), S = (k = "[\\s|\\(]+(" + (w2 = "(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)") + ")[,|\\s]+(" + w2 + ")[,|\\s]+(" + w2 + ")\\s*\\)?", x = "[\\s|\\(]+(" + w2 + ")[,|\\s]+(" + w2 + ")[,|\\s]+(" + w2 + ")[,|\\s]+(" + w2 + ")\\s*\\)?", { rgb: new RegExp("rgb" + k), rgba: new RegExp("rgba" + x), hsl: new RegExp("hsl" + k), hsla: new RegExp("hsla" + x), hsv: new RegExp("hsv" + k), hsva: new RegExp("hsva" + x), hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/, hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/, hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/ });
            window.tinycolor = b2, t3(function() {
              t3.fn.spectrum.load && t3.fn.spectrum.processNativeColorInputs();
            });
          }
          function _(e4, n4, r4, i3) {
            for (var a3 = [], s3 = 0; s3 < e4.length; s3++) {
              var l3 = e4[s3];
              if (l3) {
                var c3 = b2(l3), u3 = c3.toHsl().l < 0.5 ? "sp-thumb-el sp-thumb-dark" : "sp-thumb-el sp-thumb-light";
                u3 += b2.equals(n4, l3) ? " sp-thumb-active" : "";
                var f3 = c3.toString(i3.preferredFormat || "rgb"), h2 = o2 ? "background-color:" + c3.toRgbString() : "filter:" + c3.toFilter();
                a3.push('<span title="' + f3 + '" data-color="' + c3.toRgbString() + '" class="' + u3 + '"><span class="sp-thumb-inner" style="' + h2 + ';"></span></span>');
              } else {
                a3.push(t3("<div />").append(t3('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title", i3.noColorSelectedText)).html());
              }
            }
            return "<div class='sp-cf " + r4 + "'>" + a3.join("") + "</div>";
          }
          function P(l3, c3) {
            var u3, f3, h2, d2, p3 = function(e4, r4) {
              var i3 = t3.extend({}, n3, e4);
              return i3.callbacks = { move: j(i3.move, r4), change: j(i3.change, r4), show: j(i3.show, r4), hide: j(i3.hide, r4), beforeShow: j(i3.beforeShow, r4) }, i3;
            }(c3, l3), g3 = p3.flat, v3 = p3.showSelectionPalette, m3 = p3.localStorageKey, y3 = p3.theme, w3 = p3.callbacks, k2 = (u3 = Wt, f3 = 10, function() {
              var t4 = this, e4 = arguments, n4 = function() {
                d2 = null, u3.apply(t4, e4);
              };
              h2 && clearTimeout(d2), !h2 && d2 || (d2 = setTimeout(n4, f3));
            }), x2 = false, O2 = false, C2 = true, S2 = 0, P2 = 0, T2 = 0, M2 = 0, R2 = 0, Z2 = 0, L2 = 0, N2 = 0, I2 = 0, F2 = 0, V2 = 1, B2 = [], H2 = [], z2 = {}, U2 = p3.selectionPalette.slice(0), W2 = p3.maxSelectionSize, $2 = "sp-dragging", q2 = null, G2 = l3.ownerDocument, K2 = (G2.body, t3(l3)), Y2 = false, X2 = t3(s2, G2).addClass(y3), J2 = X2.find(".sp-picker-container"), Q2 = X2.find(".sp-color"), tt2 = X2.find(".sp-dragger"), et2 = X2.find(".sp-hue"), nt2 = X2.find(".sp-slider"), rt = X2.find(".sp-alpha-inner"), it = X2.find(".sp-alpha"), ot = X2.find(".sp-alpha-handle"), at = X2.find(".sp-input"), st = X2.find(".sp-palette"), lt = X2.find(".sp-initial"), ct = X2.find(".sp-cancel"), ut = X2.find(".sp-clear"), ft = X2.find(".sp-choose"), ht = X2.find(".sp-palette-toggle"), dt = K2.is("input"), pt = dt && "color" === K2.attr("type") && D(), gt = dt && !g3, vt = gt ? t3(a2).addClass(y3).addClass(p3.className).addClass(p3.replacerClassName) : t3([]), mt = gt ? vt : K2, yt = vt.find(".sp-preview-inner"), bt = p3.color || dt && K2.val(), wt = false, kt = p3.preferredFormat, xt = !p3.showButtons || p3.clickoutFiresChange, Ot = !bt, Ct = p3.allowEmpty && !pt;
            function St() {
              if (p3.showPaletteOnly && (p3.showPalette = true), ht.text(p3.showPaletteOnly ? p3.togglePaletteMoreText : p3.togglePaletteLessText), p3.palette) {
                B2 = p3.palette.slice(0), H2 = t3.isArray(B2[0]) ? B2 : [B2], z2 = {};
                for (var e4 = 0; e4 < H2.length; e4++) for (var n4 = 0; n4 < H2[e4].length; n4++) {
                  var r4 = b2(H2[e4][n4]).toRgbString();
                  z2[r4] = true;
                }
              }
              X2.toggleClass("sp-flat", g3), X2.toggleClass("sp-input-disabled", !p3.showInput), X2.toggleClass("sp-alpha-enabled", p3.showAlpha), X2.toggleClass("sp-clear-enabled", Ct), X2.toggleClass("sp-buttons-disabled", !p3.showButtons), X2.toggleClass("sp-palette-buttons-disabled", !p3.togglePaletteOnly), X2.toggleClass("sp-palette-disabled", !p3.showPalette), X2.toggleClass("sp-palette-only", p3.showPaletteOnly), X2.toggleClass("sp-initial-disabled", !p3.showInitial), X2.addClass(p3.className).addClass(p3.containerClassName), Wt();
            }
            function _t() {
              if (m3 && window.localStorage) {
                try {
                  var e4 = window.localStorage[m3].split(",#");
                  e4.length > 1 && (delete window.localStorage[m3], t3.each(e4, function(t4, e5) {
                    Pt(e5);
                  }));
                } catch (t4) {
                }
                try {
                  U2 = window.localStorage[m3].split(";");
                } catch (t4) {
                }
              }
            }
            function Pt(e4) {
              if (v3) {
                var n4 = b2(e4).toRgbString();
                if (!z2[n4] && -1 === t3.inArray(n4, U2)) for (U2.push(n4); U2.length > W2; ) U2.shift();
                if (m3 && window.localStorage) try {
                  window.localStorage[m3] = U2.join(";");
                } catch (t4) {
                }
              }
            }
            function Tt() {
              var e4 = Vt(), n4 = t3.map(H2, function(t4, n5) {
                return _(t4, e4, "sp-palette-row sp-palette-row-" + n5, p3);
              });
              _t(), U2 && n4.push(_(function() {
                var t4 = [];
                if (p3.showPalette) for (var e5 = 0; e5 < U2.length; e5++) {
                  var n5 = b2(U2[e5]).toRgbString();
                  z2[n5] || t4.push(U2[e5]);
                }
                return t4.reverse().slice(0, p3.maxSelectionSize);
              }(), e4, "sp-palette-row sp-palette-row-selection", p3)), st.html(n4.join(""));
            }
            function Et() {
              if (p3.showInitial) {
                var t4 = wt, e4 = Vt();
                lt.html(_([t4, e4], e4, "sp-palette-row-initial", p3));
              }
            }
            function jt() {
              (P2 <= 0 || S2 <= 0 || M2 <= 0) && Wt(), O2 = true, X2.addClass($2), q2 = null, K2.trigger("dragstart.spectrum", [Vt()]);
            }
            function At() {
              O2 = false, X2.removeClass($2), K2.trigger("dragstop.spectrum", [Vt()]);
            }
            function Dt() {
              var t4 = at.val();
              if (null !== t4 && "" !== t4 || !Ct) {
                var e4 = b2(t4);
                e4.isValid() ? (Ft(e4), Ut(true)) : at.addClass("sp-validation-error");
              } else Ft(null), Ut(true);
            }
            function Mt() {
              x2 ? Nt() : Rt();
            }
            function Rt() {
              var e4 = t3.Event("beforeShow.spectrum");
              if (x2) Wt();
              else if (K2.trigger("beforeShow.spectrum", [Vt()]), false !== w3.beforeShow(Vt()) && !e4.isDefaultPrevented()) {
                !function() {
                  for (var t4 = 0; t4 < r3.length; t4++) r3[t4] && r3[t4].hide();
                }(), x2 = true;
                var n4 = t3(G2);
                n4.bind("keydown.spectrum", Zt), n4.bind("click.spectrum", Lt), t3(window).bind("resize.spectrum", k2), vt.addClass("sp-active"), X2.removeClass("sp-hidden"), Wt(), Ht(), wt = Vt(), Et(), w3.show(wt), K2.trigger("show.spectrum", [wt]);
              }
            }
            function Zt(t4) {
              27 === t4.keyCode && Nt();
            }
            function Lt(t4) {
              2 != t4.button && (O2 || (xt ? Ut(true) : It(), Nt()));
            }
            function Nt() {
              x2 && !g3 && (x2 = false, t3(G2).unbind("keydown.spectrum", Zt), t3(G2).unbind("click.spectrum", Lt), t3(window).unbind("resize.spectrum", k2), vt.removeClass("sp-active"), X2.addClass("sp-hidden"), w3.hide(Vt()), K2.trigger("hide.spectrum", [Vt()]));
            }
            function It() {
              Ft(wt, true);
            }
            function Ft(t4, e4) {
              var n4, r4;
              b2.equals(t4, Vt()) ? Ht() : (!t4 && Ct ? Ot = true : (Ot = false, C2 = !t4, r4 = (n4 = b2(t4)).toHsv(), N2 = r4.h % 360 / 360, I2 = r4.s, F2 = r4.v, V2 = r4.a), Ht(), n4 && n4.isValid() && !e4 && (kt = p3.preferredFormat || n4.getFormat()));
            }
            function Vt(t4) {
              return t4 = t4 || {}, Ct && Ot ? null : b2.fromRatio({ h: N2, s: I2, v: F2, a: Math.round(100 * V2) / 100 }, { format: t4.format || kt });
            }
            function Bt() {
              Ht(), w3.move(Vt()), K2.trigger("move.spectrum", [Vt()]);
            }
            function Ht() {
              at.removeClass("sp-validation-error"), zt();
              var t4 = b2.fromRatio({ h: N2, s: 1, v: 1 });
              Q2.css("background-color", t4.toHexString());
              var e4 = kt;
              V2 < 1 && (0 !== V2 || "name" !== e4) && ("hex" !== e4 && "hex3" !== e4 && "hex6" !== e4 && "name" !== e4 || (e4 = "rgb"));
              var n4 = Vt({ format: e4 }), r4 = "";
              if (yt.removeClass("sp-clear-display"), yt.css("background-color", "transparent"), !n4 && Ct) yt.addClass("sp-clear-display");
              else {
                var a3 = n4.toHexString(), s3 = n4.toRgbString();
                if (o2 || 1 === n4.alpha ? yt.css("background-color", s3) : (yt.css("background-color", "transparent"), yt.css("filter", n4.toFilter())), p3.showAlpha) {
                  var l4 = n4.toRgb();
                  l4.a = 0;
                  var c4 = b2(l4).toRgbString(), u4 = "linear-gradient(left, " + c4 + ", " + a3 + ")";
                  i2 ? rt.css("filter", b2(c4).toFilter({ gradientType: 1 }, a3)) : (rt.css("background", "-webkit-" + u4), rt.css("background", "-moz-" + u4), rt.css("background", "-ms-" + u4), rt.css("background", "linear-gradient(to right, " + c4 + ", " + a3 + ")"));
                }
                r4 = n4.toString(e4);
              }
              p3.showInput && at.val(r4), p3.showPalette && Tt(), Et();
            }
            function zt() {
              var t4 = I2, e4 = F2;
              if (Ct && Ot) ot.hide(), nt2.hide(), tt2.hide();
              else {
                ot.show(), nt2.show(), tt2.show();
                var n4 = t4 * S2, r4 = P2 - e4 * P2;
                n4 = Math.max(-T2, Math.min(S2 - T2, n4 - T2)), r4 = Math.max(-T2, Math.min(P2 - T2, r4 - T2)), tt2.css({ top: r4 + "px", left: n4 + "px" });
                var i3 = V2 * R2;
                ot.css({ left: i3 - Z2 / 2 + "px" });
                var o3 = N2 * M2;
                nt2.css({ top: o3 - L2 + "px" });
              }
            }
            function Ut(t4) {
              var e4 = Vt(), n4 = "", r4 = !!C2 || !b2.equals(e4, wt);
              e4 && (n4 = e4.toString(kt), !x2 && Pt(e4)), dt && K2.val(n4), t4 && r4 && (w3.change(e4), K2.trigger("change", [e4]));
            }
            function Wt() {
              x2 && (S2 = Q2.width(), P2 = Q2.height(), T2 = tt2.height(), et2.width(), M2 = et2.height(), L2 = nt2.height(), R2 = it.width(), Z2 = ot.width(), g3 || (X2.css("position", "absolute"), p3.offset ? X2.offset(p3.offset) : X2.offset(function(e4, n4) {
                var r4 = 0, i3 = e4.outerWidth(), o3 = e4.outerHeight(), a3 = n4.outerHeight(), s3 = e4[0].ownerDocument, l4 = s3.documentElement, c4 = l4.clientWidth, u4 = l4.clientHeight, f4 = t3(s3).scrollLeft(), h3 = t3(s3).scrollTop(), d3 = c4 + f4, p4 = u4 + h3, g4 = n4.offset();
                return g4.top += a3, g4.left -= Math.min(g4.left, g4.left + i3 > d3 && d3 > i3 ? Math.abs(g4.left + i3 - d3) : 0), g4.top -= Math.min(g4.top, g4.top + o3 > p4 && p4 > o3 ? Math.abs(o3 + a3 - r4) : r4), g4;
              }(X2, mt))), zt(), p3.showPalette && Tt(), K2.trigger("reflow.spectrum"));
            }
            function $t() {
              Nt(), Y2 = true, K2.attr("disabled", true), mt.addClass("sp-disabled");
            }
            !function() {
              if (i2 && X2.find("*:not(input)").attr("unselectable", "on"), St(), gt && K2.after(vt).hide(), Ct || ut.hide(), g3) K2.after(X2).hide();
              else {
                var e4 = "parent" === p3.appendTo ? K2.parent() : t3(p3.appendTo);
                1 !== e4.length && (e4 = t3("body")), e4.append(X2);
              }
              function n4(e5) {
                return e5.data && e5.data.ignore ? (Ft(t3(e5.target).closest(".sp-thumb-el").data("color")), Bt()) : (Ft(t3(e5.target).closest(".sp-thumb-el").data("color")), Bt(), p3.hideAfterPaletteSelect && (Ut(true), Nt())), false;
              }
              _t(), mt.bind("click.spectrum touchstart.spectrum", function(e5) {
                Y2 || Mt(), e5.stopPropagation(), t3(e5.target).is("input") || e5.preventDefault();
              }), (K2.is(":disabled") || true === p3.disabled) && $t(), X2.click(E), at.change(Dt), at.bind("paste", function() {
                setTimeout(Dt, 1);
              }), at.keydown(function(t4) {
                13 == t4.keyCode && Dt();
              }), ct.text(p3.cancelText), ct.bind("click.spectrum", function(t4) {
                t4.stopPropagation(), t4.preventDefault(), It(), Nt();
              }), ut.attr("title", p3.clearText), ut.bind("click.spectrum", function(t4) {
                t4.stopPropagation(), t4.preventDefault(), Ot = true, Bt(), g3 && Ut(true);
              }), ft.text(p3.chooseText), ft.bind("click.spectrum", function(t4) {
                t4.stopPropagation(), t4.preventDefault(), i2 && at.is(":focus") && at.trigger("change"), at.hasClass("sp-validation-error") || (Ut(true), Nt());
              }), ht.text(p3.showPaletteOnly ? p3.togglePaletteMoreText : p3.togglePaletteLessText), ht.bind("click.spectrum", function(t4) {
                t4.stopPropagation(), t4.preventDefault(), p3.showPaletteOnly = !p3.showPaletteOnly, p3.showPaletteOnly || g3 || X2.css("left", "-=" + (J2.outerWidth(true) + 5)), St();
              }), A(it, function(t4, e5, n5) {
                V2 = t4 / R2, Ot = false, n5.shiftKey && (V2 = Math.round(10 * V2) / 10), Bt();
              }, jt, At), A(et2, function(t4, e5) {
                N2 = parseFloat(e5 / M2), Ot = false, p3.showAlpha || (V2 = 1), Bt();
              }, jt, At), A(Q2, function(t4, e5, n5) {
                if (n5.shiftKey) {
                  if (!q2) {
                    var r5 = I2 * S2, i3 = P2 - F2 * P2, o3 = Math.abs(t4 - r5) > Math.abs(e5 - i3);
                    q2 = o3 ? "x" : "y";
                  }
                } else q2 = null;
                var a3 = !q2 || "y" === q2;
                (!q2 || "x" === q2) && (I2 = parseFloat(t4 / S2)), a3 && (F2 = parseFloat((P2 - e5) / P2)), Ot = false, p3.showAlpha || (V2 = 1), Bt();
              }, jt, At), bt ? (Ft(bt), Ht(), kt = p3.preferredFormat || b2(bt).getFormat(), Pt(bt)) : Ht(), g3 && Rt();
              var r4 = i2 ? "mousedown.spectrum" : "click.spectrum touchstart.spectrum";
              st.delegate(".sp-thumb-el", r4, n4), lt.delegate(".sp-thumb-el:nth-child(1)", r4, { ignore: true }, n4);
            }();
            var qt = { show: Rt, hide: Nt, toggle: Mt, reflow: Wt, option: function(n4, r4) {
              return n4 === e3 ? t3.extend({}, p3) : r4 === e3 ? p3[n4] : (p3[n4] = r4, "preferredFormat" === n4 && (kt = p3.preferredFormat), void St());
            }, enable: function() {
              Y2 = false, K2.attr("disabled", false), mt.removeClass("sp-disabled");
            }, disable: $t, offset: function(t4) {
              p3.offset = t4, Wt();
            }, set: function(t4) {
              Ft(t4), Ut();
            }, get: Vt, destroy: function() {
              K2.show(), mt.unbind("click.spectrum touchstart.spectrum"), X2.remove(), vt.remove(), r3[qt.id] = null;
            }, container: X2 };
            return qt.id = r3.push(qt) - 1, qt;
          }
          function T() {
          }
          function E(t4) {
            t4.stopPropagation();
          }
          function j(t4, e4) {
            var n4 = Array.prototype.slice, r4 = n4.call(arguments, 2);
            return function() {
              return t4.apply(e4, r4.concat(n4.call(arguments)));
            };
          }
          function A(e4, n4, r4, o3) {
            n4 = n4 || function() {
            }, r4 = r4 || function() {
            }, o3 = o3 || function() {
            };
            var a3 = document, s3 = false, l3 = {}, c3 = 0, u3 = 0, f3 = "ontouchstart" in window, h2 = {};
            function d2(t4) {
              t4.stopPropagation && t4.stopPropagation(), t4.preventDefault && t4.preventDefault(), t4.returnValue = false;
            }
            function p3(t4) {
              if (s3) {
                if (i2 && a3.documentMode < 9 && !t4.button) return g3();
                var r5 = t4 && t4.touches && t4.touches[0], o4 = r5 && r5.pageX || t4.pageX, h3 = r5 && r5.pageY || t4.pageY, p4 = Math.max(0, Math.min(o4 - l3.left, u3)), v3 = Math.max(0, Math.min(h3 - l3.top, c3));
                f3 && d2(t4), n4.apply(e4, [p4, v3, t4]);
              }
            }
            function g3() {
              s3 && (t3(a3).unbind(h2), t3(a3.body).removeClass("sp-dragging"), setTimeout(function() {
                o3.apply(e4, arguments);
              }, 0)), s3 = false;
            }
            h2["selectstart"] = d2, h2["dragstart"] = d2, h2["touchmove mousemove"] = p3, h2["touchend mouseup"] = g3, t3(e4).bind("touchstart mousedown", function(n5) {
              var i3 = n5.which ? 3 == n5.which : 2 == n5.button;
              i3 || s3 || false !== r4.apply(e4, arguments) && (s3 = true, c3 = t3(e4).height(), u3 = t3(e4).width(), l3 = t3(e4).offset(), t3(a3).bind(h2), t3(a3.body).addClass("sp-dragging"), p3(n5), d2(n5));
            });
          }
          function D() {
            return t3.fn.spectrum.inputTypeColorSupport();
          }
          function M(t4, e4, n4) {
            t4 = X(t4, 255), e4 = X(e4, 255), n4 = X(n4, 255);
            var r4, i3, o3 = m2(t4, e4, n4), a3 = v2(t4, e4, n4), s3 = (o3 + a3) / 2;
            if (o3 == a3) r4 = i3 = 0;
            else {
              var l3 = o3 - a3;
              switch (i3 = s3 > 0.5 ? l3 / (2 - o3 - a3) : l3 / (o3 + a3), o3) {
                case t4:
                  r4 = (e4 - n4) / l3 + (e4 < n4 ? 6 : 0);
                  break;
                case e4:
                  r4 = (n4 - t4) / l3 + 2;
                  break;
                case n4:
                  r4 = (t4 - e4) / l3 + 4;
              }
              r4 /= 6;
            }
            return { h: r4, s: i3, l: s3 };
          }
          function R(t4, e4, n4) {
            t4 = X(t4, 255), e4 = X(e4, 255), n4 = X(n4, 255);
            var r4, i3, o3 = m2(t4, e4, n4), a3 = v2(t4, e4, n4), s3 = o3, l3 = o3 - a3;
            if (i3 = 0 === o3 ? 0 : l3 / o3, o3 == a3) r4 = 0;
            else {
              switch (o3) {
                case t4:
                  r4 = (e4 - n4) / l3 + (e4 < n4 ? 6 : 0);
                  break;
                case e4:
                  r4 = (n4 - t4) / l3 + 2;
                  break;
                case n4:
                  r4 = (t4 - e4) / l3 + 4;
              }
              r4 /= 6;
            }
            return { h: r4, s: i3, v: s3 };
          }
          function Z(t4, e4, n4, r4) {
            var i3 = [tt(g2(t4).toString(16)), tt(g2(e4).toString(16)), tt(g2(n4).toString(16))];
            return r4 && i3[0].charAt(0) == i3[0].charAt(1) && i3[1].charAt(0) == i3[1].charAt(1) && i3[2].charAt(0) == i3[2].charAt(1) ? i3[0].charAt(0) + i3[1].charAt(0) + i3[2].charAt(0) : i3.join("");
          }
          function L(t4, e4, n4, r4) {
            var i3;
            return [tt((i3 = r4, Math.round(255 * parseFloat(i3)).toString(16))), tt(g2(t4).toString(16)), tt(g2(e4).toString(16)), tt(g2(n4).toString(16))].join("");
          }
          function N(t4, e4) {
            e4 = 0 === e4 ? 0 : e4 || 10;
            var n4 = b2(t4).toHsl();
            return n4.s -= e4 / 100, n4.s = J(n4.s), b2(n4);
          }
          function I(t4, e4) {
            e4 = 0 === e4 ? 0 : e4 || 10;
            var n4 = b2(t4).toHsl();
            return n4.s += e4 / 100, n4.s = J(n4.s), b2(n4);
          }
          function F(t4) {
            return b2(t4).desaturate(100);
          }
          function V(t4, e4) {
            e4 = 0 === e4 ? 0 : e4 || 10;
            var n4 = b2(t4).toHsl();
            return n4.l += e4 / 100, n4.l = J(n4.l), b2(n4);
          }
          function B(t4, e4) {
            e4 = 0 === e4 ? 0 : e4 || 10;
            var n4 = b2(t4).toRgb();
            return n4.r = m2(0, v2(255, n4.r - g2(255 * (-e4 / 100)))), n4.g = m2(0, v2(255, n4.g - g2(255 * (-e4 / 100)))), n4.b = m2(0, v2(255, n4.b - g2(255 * (-e4 / 100)))), b2(n4);
          }
          function H(t4, e4) {
            e4 = 0 === e4 ? 0 : e4 || 10;
            var n4 = b2(t4).toHsl();
            return n4.l -= e4 / 100, n4.l = J(n4.l), b2(n4);
          }
          function z(t4, e4) {
            var n4 = b2(t4).toHsl(), r4 = (g2(n4.h) + e4) % 360;
            return n4.h = r4 < 0 ? 360 + r4 : r4, b2(n4);
          }
          function U(t4) {
            var e4 = b2(t4).toHsl();
            return e4.h = (e4.h + 180) % 360, b2(e4);
          }
          function W(t4) {
            var e4 = b2(t4).toHsl(), n4 = e4.h;
            return [b2(t4), b2({ h: (n4 + 120) % 360, s: e4.s, l: e4.l }), b2({ h: (n4 + 240) % 360, s: e4.s, l: e4.l })];
          }
          function $(t4) {
            var e4 = b2(t4).toHsl(), n4 = e4.h;
            return [b2(t4), b2({ h: (n4 + 90) % 360, s: e4.s, l: e4.l }), b2({ h: (n4 + 180) % 360, s: e4.s, l: e4.l }), b2({ h: (n4 + 270) % 360, s: e4.s, l: e4.l })];
          }
          function q(t4) {
            var e4 = b2(t4).toHsl(), n4 = e4.h;
            return [b2(t4), b2({ h: (n4 + 72) % 360, s: e4.s, l: e4.l }), b2({ h: (n4 + 216) % 360, s: e4.s, l: e4.l })];
          }
          function G(t4, e4, n4) {
            e4 = e4 || 6, n4 = n4 || 30;
            var r4 = b2(t4).toHsl(), i3 = 360 / n4, o3 = [b2(t4)];
            for (r4.h = (r4.h - (i3 * e4 >> 1) + 720) % 360; --e4; ) r4.h = (r4.h + i3) % 360, o3.push(b2(r4));
            return o3;
          }
          function K(t4, e4) {
            e4 = e4 || 6;
            for (var n4 = b2(t4).toHsv(), r4 = n4.h, i3 = n4.s, o3 = n4.v, a3 = [], s3 = 1 / e4; e4--; ) a3.push(b2({ h: r4, s: i3, v: o3 })), o3 = (o3 + s3) % 1;
            return a3;
          }
          function Y(t4) {
            return t4 = parseFloat(t4), (isNaN(t4) || t4 < 0 || t4 > 1) && (t4 = 1), t4;
          }
          function X(t4, e4) {
            (function(t5) {
              return "string" == typeof t5 && -1 != t5.indexOf(".") && 1 === parseFloat(t5);
            })(t4) && (t4 = "100%");
            var n4 = function(t5) {
              return "string" == typeof t5 && -1 != t5.indexOf("%");
            }(t4);
            return t4 = v2(e4, m2(0, parseFloat(t4))), n4 && (t4 = parseInt(t4 * e4, 10) / 100), p2.abs(t4 - e4) < 1e-6 ? 1 : t4 % e4 / parseFloat(e4);
          }
          function J(t4) {
            return v2(1, m2(0, t4));
          }
          function Q(t4) {
            return parseInt(t4, 16);
          }
          function tt(t4) {
            return 1 == t4.length ? "0" + t4 : "" + t4;
          }
          function et(t4) {
            return t4 <= 1 && (t4 = 100 * t4 + "%"), t4;
          }
          function nt(t4) {
            return Q(t4) / 255;
          }
        }(y);
        var b = function(t3) {
          var e3 = "name" === t3.getFormat() && t3.toName(), n3 = 1 == t3.getAlpha() ? t3.toHexString() : t3.toRgbString();
          return e3 || n3.replace(/ /g, "");
        }, w = function(t3) {
          (0, a.Z)(n3, t3);
          var e3 = m(n3);
          function n3() {
            return (0, i.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, o.Z)(n3, [{ key: "template", value: function() {
            var t4 = this.ppfx;
            return '\n      <div class="'.concat(this.holderClass(), '"></div>\n      <div class="').concat(t4, 'field-colorp">\n        <div class="').concat(t4, 'field-colorp-c" data-colorp-c>\n          <div class="').concat(t4, 'checker-bg"></div>\n        </div>\n      </div>\n    ');
          } }, { key: "inputClass", value: function() {
            var t4 = this.ppfx;
            return "".concat(t4, "field ").concat(t4, "field-color");
          } }, { key: "holderClass", value: function() {
            return "".concat(this.ppfx, "input-holder");
          } }, { key: "remove", value: function() {
            p.Z.prototype.remove.apply(this, arguments), this.colorEl.spectrum("destroy");
          } }, { key: "handleChange", value: function(t4) {
            t4.stopPropagation();
            var e4 = t4.target.value;
            (0, f.isUndefined)(e4) || this.__onInputChange(e4);
          } }, { key: "__onInputChange", value: function(t4) {
            var e4 = this.model, n4 = this.opts.onChange, r3 = t4, i2 = this.getColorEl();
            if (i2) {
              i2.spectrum("set", r3);
              var o2 = i2.spectrum("get"), a2 = r3 && b(o2);
              a2 && (r3 = a2);
            }
            n4 ? n4(r3) : e4.set({ value: r3 }, { fromInput: 1 });
          } }, { key: "setValue", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = this.model, r3 = (0, f.isUndefined)(e4.def) ? n4.get("defaults") : e4.def, i2 = (0, f.isUndefined)(t4) ? (0, f.isUndefined)(r3) ? "" : r3 : t4, o2 = this.getInputEl(), a2 = this.getColorEl(), s2 = "none" != i2 ? i2 : "";
            o2.value = i2, a2.get(0).style.backgroundColor = s2, (e4.fromTarget || e4.fromInput && !e4.avoidStore) && (a2.spectrum("set", s2), this.noneColor = "none" == i2);
          } }, { key: "getColorEl", value: function() {
            if (!this.colorEl) {
              var t4, e4 = this.em, n4 = this.model, r3 = this.opts, i2 = this, o2 = this.ppfx, a2 = r3.onChange, s2 = y('<div class="'.concat(this.ppfx, 'field-color-picker"></div>')), l2 = s2.get(0).style, c2 = e4 && e4.config ? e4.config.el : "", u2 = e4 && e4.getConfig && e4.getConfig().colorPicker || {}, f2 = false, h2 = "";
              this.$el.find("[data-colorp-c]").append(s2);
              var d2 = function(t5) {
                var e5 = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                a2 ? a2(t5, !e5) : (e5 && n4.setValueFromInput(0, false), n4.setValueFromInput(t5, e5));
              };
              s2.spectrum(v(v(v({ color: n4.getValue() || false, containerClassName: "".concat(o2, "one-bg ").concat(o2, "two-color"), appendTo: c2 || "body", maxSelectionSize: 8, showPalette: true, showAlpha: true, chooseText: "Ok", cancelText: "⨯", palette: [] }, u2), n4.get("colorPicker") || {}), {}, { move: function(t5) {
                var e5 = b(t5);
                h2 = e5, l2.backgroundColor = e5, d2(e5, false);
              }, change: function(t5) {
                f2 = true;
                var e5 = b(t5);
                l2.backgroundColor = e5, d2(e5), i2.noneColor = 0;
              }, show: function(e5) {
                f2 = false, h2 = "", t4 = a2 ? n4.getValue({ noDefault: true }) : b(e5);
              }, hide: function() {
                f2 || !t4 && !a2 || (i2.noneColor && (t4 = ""), l2.backgroundColor = t4, s2.spectrum("set", t4), d2(t4, false));
              } })), e4 && e4.on && this.listenTo(e4, "component:selected", function() {
                h2 && d2(h2), f2 = true, h2 = "", s2.spectrum("hide");
              }), this.colorEl = s2;
            }
            return this.colorEl;
          } }, { key: "render", value: function() {
            return p.Z.prototype.render.call(this), this.getColorEl(), this;
          } }]), n3;
        }(p.Z);
      }, 7610: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => g });
        var r2 = n2(5671), i = n2(3144), o = n2(7326), a = n2(9340), s = n2(2963), l = n2(1120), c = n2(2316), u = n2.n(c), f = n2(9050), h = n2(1163), d = n2(8659);
        function p(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, l.Z)(t3);
            if (e3) {
              var i2 = (0, l.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, s.Z)(this, n3);
          };
        }
        u().$;
        var g = function(t3) {
          (0, a.Z)(n3, t3);
          var e3 = p(n3);
          function n3() {
            var t4, i2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return (0, r2.Z)(this, n3), t4 = e3.call(this, i2), (0, f.bindAll)((0, o.Z)(t4), "moveIncrement", "upIncrement"), t4.doc = document, t4.listenTo(t4.model, "change:unit", t4.handleModelChange), t4;
          }
          return (0, i.Z)(n3, [{ key: "template", value: function() {
            var t4 = this.ppfx;
            return '\n      <span class="'.concat(t4, 'input-holder"></span>\n      <span class="').concat(t4, 'field-units"></span>\n      <div class="').concat(t4, 'field-arrows" data-arrows>\n        <div class="').concat(t4, 'field-arrow-u" data-arrow-up></div>\n        <div class="').concat(t4, 'field-arrow-d" data-arrow-down></div>\n      </div>\n    ');
          } }, { key: "inputClass", value: function() {
            var t4 = this.ppfx;
            return this.opts.contClass || "".concat(t4, "field ").concat(t4, "field-integer");
          } }, { key: "setValue", value: function(t4, e4) {
            var n4 = e4 || {}, r3 = this.validateInputValue(t4, { deepCheck: 1 }), i2 = { value: r3.value };
            (r3.unit || r3.force) && (i2.unit = r3.unit), this.model.set(i2, n4), n4.silent && this.handleModelChange();
          } }, { key: "handleChange", value: function(t4) {
            t4.stopPropagation(), this.setValue(this.getInputEl().value), this.elementUpdated();
          } }, { key: "handleUnitChange", value: function(t4) {
            t4.stopPropagation();
            var e4 = this.getUnitEl().value;
            this.model.set("unit", e4), this.elementUpdated();
          } }, { key: "handleKeyDown", value: function(t4) {
            "ArrowUp" === t4.key && (t4.preventDefault(), this.upArrowClick()), "ArrowDown" === t4.key && (t4.preventDefault(), this.downArrowClick());
          } }, { key: "elementUpdated", value: function() {
            this.model.trigger("el:change");
          } }, { key: "handleModelChange", value: function() {
            var t4 = this.model;
            this.getInputEl().value = t4.get("value");
            var e4 = this.getUnitEl();
            e4 && (e4.value = t4.get("unit") || "");
          } }, { key: "getUnitEl", value: function() {
            if (!this.unitEl) {
              var t4 = this.model, e4 = t4.get("units") || [];
              if (e4.length) {
                var n4 = ['<option value="" disabled hidden>-</option>'];
                e4.forEach(function(e5) {
                  var r4 = e5 == t4.get("unit") ? "selected" : "";
                  n4.push("<option ".concat(r4, ">").concat(e5, "</option>"));
                });
                var r3 = document.createElement("div");
                r3.innerHTML = '<select class="'.concat(this.ppfx, 'input-unit">').concat(n4.join(""), "</select>"), this.unitEl = r3.firstChild;
              }
            }
            return this.unitEl;
          } }, { key: "upArrowClick", value: function() {
            var t4 = this.model, e4 = t4.get("step"), n4 = parseFloat(t4.get("value"));
            this.setValue(this.normalizeValue(n4 + e4)), this.elementUpdated();
          } }, { key: "downArrowClick", value: function() {
            var t4 = this.model, e4 = t4.get("step"), n4 = parseFloat(t4.get("value"));
            this.setValue(this.normalizeValue(n4 - e4)), this.elementUpdated();
          } }, { key: "downIncrement", value: function(t4) {
            t4.preventDefault(), this.moved = 0;
            var e4 = this.model.get("value") || 0;
            e4 = this.normalizeValue(e4), this.current = { y: t4.pageY, val: e4 }, (0, h.on)(this.doc, "mousemove", this.moveIncrement), (0, h.on)(this.doc, "mouseup", this.upIncrement);
          } }, { key: "moveIncrement", value: function(t4) {
            this.moved = 1;
            var e4 = this.model, n4 = e4.get("step"), r3 = this.current, i2 = this.normalizeValue(r3.val + (r3.y - t4.pageY) * n4), o2 = this.validateInputValue(i2), a2 = o2.value, s2 = o2.unit;
            return this.prValue = a2, e4.set({ value: a2, unit: s2 }, { avoidStore: 1 }), false;
          } }, { key: "upIncrement", value: function() {
            var t4 = this.model, e4 = t4.get("step");
            if ((0, h.off)(this.doc, "mouseup", this.upIncrement), (0, h.off)(this.doc, "mousemove", this.moveIncrement), this.prValue && this.moved) {
              var n4 = this.prValue - e4;
              t4.set("value", n4, { avoidStore: 1 }).set("value", n4 + e4), this.elementUpdated();
            }
          } }, { key: "normalizeValue", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n4 = this.model, r3 = n4.get("step"), i2 = 0;
            if (isNaN(t4)) return e4;
            if (t4 = parseFloat(t4), Math.floor(t4) !== t4) {
              var o2 = r3.toString().split(".")[1];
              i2 = o2 ? o2.length : 0;
            }
            return i2 ? parseFloat(t4.toFixed(i2)) : t4;
          } }, { key: "validateInputValue", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = 0, r3 = e4 || {}, i2 = this.model, o2 = "", a2 = (0, f.isUndefined)(t4) ? o2 : t4, s2 = e4.units || i2.get("units") || [], l2 = i2.get("unit") || s2.length && s2[0] || "", c2 = (0, f.isUndefined)(e4.max) ? i2.get("max") : e4.max, u2 = (0, f.isUndefined)(e4.min) ? i2.get("min") : e4.min, h2 = !!i2.get("limitlessMax"), d2 = !!i2.get("limitlessMin");
            if (r3.deepCheck) {
              var p2 = i2.get("fixedValues") || [];
              if ("" === a2 && (l2 = ""), a2) {
                var g2 = new RegExp("^" + p2.join("|"), "g");
                if (p2.length && g2.test(a2)) a2 = a2.match(g2)[0], l2 = "", n4 = 1;
                else {
                  var v = a2 + "";
                  a2 += "", a2 = parseFloat(a2.replace(",", ".")), a2 = isNaN(a2) ? o2 : a2;
                  var m = v.replace(a2, "");
                  (0, f.indexOf)(s2, m) >= 0 && (l2 = m);
                }
              }
            }
            return h2 || (0, f.isUndefined)(c2) || "" === c2 || (a2 = a2 > c2 ? c2 : a2), d2 || (0, f.isUndefined)(u2) || "" === u2 || (a2 = a2 < u2 ? u2 : a2), { force: n4, value: a2, unit: l2 };
          } }, { key: "render", value: function() {
            d.Z.prototype.render.call(this), this.unitEl = null;
            var t4 = this.getUnitEl();
            return t4 && this.$el.find(".".concat(this.ppfx, "field-units")).get(0).appendChild(t4), this;
          } }]), n3;
        }(d.Z);
        g.prototype.events = { "change input": "handleChange", "change select": "handleUnitChange", "click [data-arrow-up]": "upArrowClick", "click [data-arrow-down]": "downArrowClick", "mousedown [data-arrows]": "downIncrement", keydown: "handleKeyDown" };
      }, 6602: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => p });
        var r2 = n2(5671), i = n2(3144), o = n2(7326), a = n2(9340), s = n2(2963), l = n2(1120), c = n2(4942), u = n2(9050), f = n2(2316), h = n2.n(f);
        function d(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, l.Z)(t3);
            if (e3) {
              var i2 = (0, l.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, s.Z)(this, n3);
          };
        }
        var p = function(t3) {
          (0, a.Z)(n3, t3);
          var e3 = d(n3);
          function n3() {
            var t4, i2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, a2 = arguments.length > 1 ? arguments[1] : void 0, s2 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
            return (0, r2.Z)(this, n3), t4 = e3.call(this, i2), (0, c.Z)((0, o.Z)(t4), "itemsView", ""), (0, c.Z)((0, o.Z)(t4), "itemType", "type"), (0, c.Z)((0, o.Z)(t4), "reuseView", false), t4.config = a2 || i2.config || {}, s2 && t4.listenTo(t4.collection, "add", t4.addTo), t4.items = [], t4;
          }
          return (0, i.Z)(n3, [{ key: "addTo", value: function(t4) {
            this.add(t4);
          } }, { key: "itemViewNotFound", value: function(t4) {
            var e4 = this.config, n4 = this.ns, r3 = e4.em, i2 = "".concat(n4 ? "[".concat(n4, "]: ") : "", "'").concat(t4, "' type not found");
            r3 && r3.logWarning(i2);
          } }, { key: "add", value: function(t4, e4) {
            var n4, r3 = this.config, i2 = this.reuseView, o2 = this.items, a2 = this.itemsView, s2 = void 0 === a2 ? {} : a2, l2 = e4 || null, c2 = this.itemView, f2 = t4.get(this.itemType);
            s2[f2] ? c2 = s2[f2] : !f2 || s2[f2] || (0, u.includes)(["button", "checkbox", "color", "date", "datetime-local", "email", "file", "hidden", "image", "month", "number", "password", "radio", "range", "reset", "search", "submit", "tel", "text", "time", "url", "week"], f2) || this.itemViewNotFound(f2), n4 = t4.view && i2 ? t4.view : new c2({ model: t4, config: r3 }, r3), o2 && o2.push(n4);
            var h2 = n4.render().el;
            l2 ? l2.appendChild(h2) : this.$el.append(h2);
          } }, { key: "render", value: function() {
            var t4 = document.createDocumentFragment();
            return this.clearItems(), this.$el.empty(), this.collection.length && this.collection.each(function(e4) {
              this.add(e4, t4);
            }, this), this.$el.append(t4), this.onRender(), this;
          } }, { key: "onRender", value: function() {
          } }, { key: "onRemoveBefore", value: function() {
          } }, { key: "onRemove", value: function() {
          } }, { key: "remove", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this.items;
            this.onRemoveBefore(e4, t4), this.clearItems(), h().View.prototype.remove.apply(this, arguments), this.onRemove(e4, t4);
          } }, { key: "clearItems", value: function() {
            this.items;
          } }]), n3;
        }(h().View);
        p.prototype.itemView = "";
      }, 4836: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => h });
        var r2 = n2(5671), i = n2(3144), o = n2(4942), a = n2(9050), s = n2(1163), l = { placeholder: "eg. Text here" };
        const c = { locale: "en", localeFallback: "en", detectLocale: true, debug: false, messages: { en: { assetManager: { addButton: "Add image", inputPlh: "http://path/to/the/image.jpg", modalTitle: "Select Image", uploadTitle: "Drop files here or click to upload" }, blockManager: { labels: {}, categories: {} }, domComponents: { names: { "": "Box", wrapper: "Body", text: "Text", comment: "Comment", image: "Image", video: "Video", label: "Label", link: "Link", map: "Map", tfoot: "Table foot", tbody: "Table body", thead: "Table head", table: "Table", row: "Table row", cell: "Table cell" } }, deviceManager: { device: "Device", devices: { desktop: "Desktop", tablet: "Tablet", mobileLandscape: "Mobile Landscape", mobilePortrait: "Mobile Portrait" } }, panels: { buttons: { titles: { preview: "Preview", fullscreen: "Fullscreen", "sw-visibility": "View components", "export-template": "View code", "open-sm": "Open Style Manager", "open-tm": "Settings", "open-layers": "Open Layer Manager", "open-blocks": "Open Blocks" } } }, selectorManager: { label: "Classes", selected: "Selected", emptyState: "- State -", states: { hover: "Hover", active: "Click", "nth-of-type(2n)": "Even/Odd" } }, styleManager: { empty: "Select an element before using Style Manager", layer: "Layer", fileButton: "Images", sectors: { general: "General", layout: "Layout", typography: "Typography", decorations: "Decorations", extra: "Extra", flex: "Flex", dimension: "Dimension" }, properties: { "text-shadow-h": "X", "text-shadow-v": "Y", "text-shadow-blur": "Blur", "text-shadow-color": "Color", "box-shadow-h": "X", "box-shadow-v": "Y", "box-shadow-blur": "Blur", "box-shadow-spread": "Spread", "box-shadow-color": "Color", "box-shadow-type": "Type", "margin-top-sub": "Top", "margin-right-sub": "Right", "margin-bottom-sub": "Bottom", "margin-left-sub": "Left", "padding-top-sub": "Top", "padding-right-sub": "Right", "padding-bottom-sub": "Bottom", "padding-left-sub": "Left", "border-width-sub": "Width", "border-style-sub": "Style", "border-color-sub": "Color", "border-top-left-radius-sub": "Top Left", "border-top-right-radius-sub": "Top Right", "border-bottom-right-radius-sub": "Bottom Right", "border-bottom-left-radius-sub": "Bottom Left", "transform-rotate-x": "Rotate X", "transform-rotate-y": "Rotate Y", "transform-rotate-z": "Rotate Z", "transform-scale-x": "Scale X", "transform-scale-y": "Scale Y", "transform-scale-z": "Scale Z", "transition-property-sub": "Property", "transition-duration-sub": "Duration", "transition-timing-function-sub": "Timing", "background-image-sub": "Image", "background-repeat-sub": "Repeat", "background-position-sub": "Position", "background-attachment-sub": "Attachment", "background-size-sub": "Size" } }, traitManager: { empty: "Select an element before using Trait Manager", label: "Component settings", traits: { labels: {}, attributes: { id: l, alt: l, title: l, href: { placeholder: "eg. https://google.com" } }, options: { target: { false: "This window", _blank: "New window" } } } }, storageManager: { recover: "Do you want to recover unsaved changes?" } } }, messagesAdd: null };
        function u(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function f(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? u(Object(n3), true).forEach(function(e4) {
              (0, o.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : u(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var h = function() {
          function t3() {
            (0, r2.Z)(this, t3), (0, o.Z)(this, "name", "I18n");
          }
          return (0, i.Z)(t3, [{ key: "init", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            this.config = f(f(f({}, c), t4), {}, { messages: f(f({}, c.messages), t4.messages || {}) });
            var e3 = this.config.messagesAdd;
            return e3 && this.addMessages(e3), this.config.detectLocale && (this.config.locale = this._localLang()), this.em = t4.em, this;
          } }, { key: "getConfig", value: function() {
            return this.config;
          } }, { key: "setLocale", value: function(t4) {
            var e3 = this.em, n3 = this.config, r3 = { value: t4, valuePrev: n3.locale };
            return e3 && e3.trigger("i18n:locale", r3), n3.locale = t4, this;
          } }, { key: "getLocale", value: function() {
            return this.config.locale;
          } }, { key: "getMessages", value: function(t4) {
            var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n3 = this.config.messages;
            return t4 && !n3[t4] && this._debug("'".concat(t4, "' i18n lang not found"), e3), t4 ? n3[t4] : n3;
          } }, { key: "setMessages", value: function(t4) {
            var e3 = this.em;
            return this.config.messages = t4, e3 && e3.trigger("i18n:update", t4), this;
          } }, { key: "addMessages", value: function(t4) {
            var e3 = this.em, n3 = this.config.messages;
            return e3 && e3.trigger("i18n:add", t4), this.setMessages((0, s.deepMerge)(n3, t4)), this;
          } }, { key: "t", value: function(t4) {
            var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n3 = this.config, r3 = e3.params || {}, i2 = e3.l || this.getLocale(), o2 = e3.lFlb || n3.localeFallback, s2 = this._getMsg(t4, i2, e3);
            return s2 || (s2 = this._getMsg(t4, o2, e3)), !s2 && this._debug("'".concat(t4, "' i18n key not found in '").concat(i2, "' lang"), e3), s2 = s2 && (0, a.isString)(s2) ? this._addParams(s2, r3) : s2;
          } }, { key: "_localLang", value: function() {
            var t4 = (0, s.hasWin)() && window.navigator || {}, e3 = t4.language || t4.userLanguage;
            return e3 ? e3.split("-")[0] : "en";
          } }, { key: "_addParams", value: function(t4, e3) {
            var n3 = new RegExp("{([\\w\\d-]*)}", "g");
            return t4.replace(n3, function(t5, n4) {
              return e3[n4] || "";
            }).trim();
          } }, { key: "_getMsg", value: function(t4, e3) {
            var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = this.getMessages(e3, n3);
            if (r3) {
              var i2 = r3[t4];
              return !i2 && t4.indexOf(".") > 0 && (i2 = t4.split(".").reduce(function(t5, e4) {
                if (!(0, a.isUndefined)(t5)) return t5[e4];
              }, r3)), i2;
            }
          } }, { key: "_debug", value: function(t4) {
            var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n3 = this.em, r3 = this.config;
            (e3.debug || r3.debug) && n3 && n3.logWarning(t4);
          } }, { key: "destroy", value: function() {
            this.config = {}, this.em = {};
          } }]), t3;
        }();
      }, 9788: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => E });
        var r2, i = n2(1002), o = n2(4942), a = n2(9050), s = n2(1163), l = {}, c = { 16: false, 18: false, 17: false, 91: false }, u = "all", f = { "⇧": 16, shift: 16, "⌥": 18, alt: 18, option: 18, "⌃": 17, ctrl: 17, control: 17, "⌘": 91, command: 91 }, h = { backspace: 8, tab: 9, clear: 12, enter: 13, return: 13, esc: 27, escape: 27, space: 32, left: 37, up: 38, right: 39, down: 40, del: 46, delete: 46, home: 36, end: 35, pageup: 33, pagedown: 34, ",": 188, ".": 190, "/": 191, "`": 192, "-": 189, "=": 187, ";": 186, "'": 222, "[": 219, "]": 221, "\\": 220 }, d = function(t3) {
          return h[t3] || t3.toUpperCase().charCodeAt(0);
        }, p = [];
        for (r2 = 1; r2 < 20; r2++) h["f" + r2] = 111 + r2;
        function g(t3, e3) {
          for (var n3 = t3.length; n3--; ) if (t3[n3] === e3) return n3;
          return -1;
        }
        function v(t3, e3) {
          if (t3.length != e3.length) return false;
          for (var n3 = 0; n3 < t3.length; n3++) if (t3[n3] !== e3[n3]) return false;
          return true;
        }
        var m = { 16: "shiftKey", 18: "altKey", 17: "ctrlKey", 91: "metaKey" };
        function y(t3) {
          for (r2 in c) c[r2] = t3[m[r2]];
        }
        function b(t3) {
          var e3, n3 = t3.keyCode, r3 = g(p, n3);
          if (r3 >= 0 && p.splice(r3, 1), 93 != n3 && 224 != n3 || (n3 = 91), n3 in c) for (e3 in c[n3] = false, f) f[e3] == n3 && (k[e3] = false);
        }
        function w() {
          for (r2 in c) c[r2] = false;
          for (r2 in f) k[r2] = false;
        }
        function k(t3, e3, n3) {
          var r3, i2;
          r3 = O(t3), void 0 === n3 && (n3 = e3, e3 = "all");
          for (var o2 = 0; o2 < r3.length; o2++) i2 = [], (t3 = r3[o2].split("+")).length > 1 && (i2 = C(t3), t3 = [t3[t3.length - 1]]), t3 = t3[0], (t3 = d(t3)) in l || (l[t3] = []), l[t3].push({ shortcut: r3[o2], scope: e3, method: n3, key: r3[o2], mods: i2 });
        }
        for (r2 in f) k[r2] = false;
        function x() {
          return u || "all";
        }
        function O(t3) {
          var e3;
          return "" == (e3 = (t3 = t3.replace(/\s/g, "")).split(","))[e3.length - 1] && (e3[e3.length - 2] += ","), e3;
        }
        function C(t3) {
          for (var e3 = t3.slice(0, t3.length - 1), n3 = 0; n3 < e3.length; n3++) e3[n3] = f[e3[n3]];
          return e3;
        }
        function S(t3, e3, n3) {
          t3.addEventListener ? t3.addEventListener(e3, n3, false) : t3.attachEvent && t3.attachEvent("on" + e3, function() {
            n3(window.event);
          });
        }
        k.setScope = function(t3) {
          u = t3 || "all";
        }, k.getScope = x, k.deleteScope = function(t3) {
          var e3, n3, r3;
          for (e3 in l) for (n3 = l[e3], r3 = 0; r3 < n3.length; ) n3[r3].scope === t3 ? n3.splice(r3, 1) : r3++;
        }, k.filter = function(t3) {
          var e3 = (t3.target || t3.srcElement).tagName;
          return !("INPUT" == e3 || "SELECT" == e3 || "TEXTAREA" == e3);
        }, k.isPressed = function(t3) {
          return "string" == typeof t3 && (t3 = d(t3)), -1 != g(p, t3);
        }, k.getPressedKeyCodes = function() {
          return p.slice(0);
        }, k.unbind = function(t3, e3) {
          var n3, r3, i2, o2, a2, s2 = [];
          for (n3 = O(t3), o2 = 0; o2 < n3.length; o2++) {
            if ((r3 = n3[o2].split("+")).length > 1 && (s2 = C(r3)), t3 = r3[r3.length - 1], t3 = d(t3), void 0 === e3 && (e3 = x()), !l[t3]) return;
            for (i2 = 0; i2 < l[t3].length; i2++) (a2 = l[t3][i2]).scope === e3 && v(a2.mods, s2) && (l[t3][i2] = {});
          }
        }, k.handlers = l, k.init = function(t3) {
          S(t3.document, "keydown", function(t4) {
            !function(t5) {
              var e3, n3, r3, i2, o2, a2;
              if (e3 = t5.keyCode, -1 == g(p, e3) && p.push(e3), 93 != e3 && 224 != e3 || (e3 = 91), e3 in c) for (r3 in c[e3] = true, f) f[r3] == e3 && (k[r3] = true);
              else if (y(t5), k.filter.call(this, t5) && e3 in l) {
                for (a2 = x(), i2 = 0; i2 < l[e3].length; i2++) if ((n3 = l[e3][i2]).scope == a2 || "all" == n3.scope) {
                  for (r3 in o2 = n3.mods.length > 0, c) (!c[r3] && g(n3.mods, +r3) > -1 || c[r3] && -1 == g(n3.mods, +r3)) && (o2 = false);
                  (0 != n3.mods.length || c[16] || c[18] || c[17] || c[91]) && !o2 || false === n3.method(t5, n3) && (t5.preventDefault ? t5.preventDefault() : t5.returnValue = false, t5.stopPropagation && t5.stopPropagation(), t5.cancelBubble && (t5.cancelBubble = true));
                }
              }
            }(t4);
          }), S(t3.document, "keyup", b), S(t3, "focus", w);
        };
        const _ = k;
        function P(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function T(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? P(Object(n3), true).forEach(function(e4) {
              (0, o.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : P(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        (0, s.hasWin)() && _.init(window);
        const E = function() {
          var t3 = { defaults: { "core:undo": { keys: "⌘+z, ctrl+z", handler: "core:undo" }, "core:redo": { keys: "⌘+shift+z, ctrl+shift+z", handler: "core:redo" }, "core:copy": { keys: "⌘+c, ctrl+c", handler: "core:copy" }, "core:paste": { keys: "⌘+v, ctrl+v", handler: "core:paste" }, "core:component-next": { keys: "s", handler: "core:component-next" }, "core:component-prev": { keys: "w", handler: "core:component-prev" }, "core:component-enter": { keys: "d", handler: "core:component-enter" }, "core:component-exit": { keys: "a", handler: "core:component-exit" }, "core:component-delete": { keys: "backspace, delete", handler: "core:component-delete", opts: { prevent: 1 } } } };
          return { keymaster: _, name: "Keymaps", getConfig: function() {
            return this.config;
          }, init: function() {
            var e3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return this.config = T(T({}, t3), e3), this.em = this.config.em, this.keymaps = {}, this;
          }, onLoad: function() {
            var t4 = this.config.defaults;
            for (var e3 in t4) {
              var n3 = t4[e3];
              this.add(e3, n3.keys, n3.handler, n3.opts || {});
            }
          }, add: function(t4, e3, n3) {
            var r3 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}, o2 = this.em, s2 = o2.get("Commands"), l2 = o2.getEditor(), c2 = o2.get("Canvas"), u2 = { id: t4, keys: e3, handler: n3 }, f2 = this.keymaps[t4];
            return f2 && this.remove(t4), this.keymaps[t4] = u2, _(e3, function(e4, u3) {
              var f3 = { event: e4, h: u3 };
              if (n3 = (0, a.isString)(n3) ? s2.get(n3) : n3, !o2.isEditing() && !l2.Canvas.isInputFocused() || r3.force) {
                r3.prevent && c2.getCanvasView().preventDefault(e4), "object" == (0, i.Z)(n3) ? s2.runCommand(n3, f3) : n3(l2, 0, f3);
                var h2 = [t4, u3.shortcut, e4];
                o2.trigger.apply(o2, ["keymap:emit"].concat(h2)), o2.trigger.apply(o2, ["keymap:emit:".concat(t4)].concat(h2));
              }
            }), o2.trigger("keymap:add", u2), u2;
          }, get: function(t4) {
            return this.keymaps[t4];
          }, getAll: function() {
            return this.keymaps;
          }, remove: function(t4) {
            var e3 = this.em, n3 = this.get(t4);
            if (n3) return delete this.keymaps[t4], n3.keys.split(", ").forEach(function(t5) {
              return _.unbind(t5.trim());
            }), e3 && e3.trigger("keymap:remove", n3), n3;
          }, removeAll: function() {
            var t4 = this;
            return Object.keys(this.keymaps).forEach(function(e3) {
              return t4.remove(e3);
            }), _.handlers = {}, this;
          }, destroy: function() {
            this.removeAll(), this.keymaps = {}, this.em = {};
          } };
        };
      }, 2450: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => k });
        var r2 = n2(4942), i = n2(9050), o = n2(9283);
        const a = { stylePrefix: "mdl-", title: "", content: "", backdrop: true, custom: false, extend: {} };
        var s = n2(5671), l = n2(3144), c = n2(9340), u = n2(2963), f = n2(1120), h = n2(2316);
        function d(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, f.Z)(t3);
            if (e3) {
              var i2 = (0, f.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, u.Z)(this, n3);
          };
        }
        var p = function(t3) {
          (0, c.Z)(n3, t3);
          var e3 = d(n3);
          function n3() {
            return (0, s.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, l.Z)(n3, [{ key: "defaults", value: function() {
            return { title: "", content: "", attributes: {}, open: false };
          } }, { key: "open", value: function() {
            this.set("open", true);
          } }, { key: "close", value: function() {
            this.set("open", false);
          } }]), n3;
        }(h.Model);
        function g(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function v(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? g(Object(n3), true).forEach(function(e4) {
              (0, r2.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : g(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function m(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, f.Z)(t3);
            if (e3) {
              var i2 = (0, f.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, u.Z)(this, n3);
          };
        }
        var y = function(t3) {
          (0, c.Z)(n3, t3);
          var e3 = m(n3);
          function n3() {
            return (0, s.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, l.Z)(n3, [{ key: "template", value: function(t4) {
            var e4 = t4.pfx, n4 = t4.ppfx, r3 = t4.content, i2 = t4.title;
            return '<div class="'.concat(e4, "dialog ").concat(n4, "one-bg ").concat(n4, 'two-color">\n      <div class="').concat(e4, 'header">\n        <div class="').concat(e4, 'title">').concat(i2, '</div>\n        <div class="').concat(e4, 'btn-close" data-close-modal>&Cross;</div>\n      </div>\n      <div class="').concat(e4, 'content">\n        <div id="').concat(e4, 'c">').concat(r3, '</div>\n        <div style="clear:both"></div>\n      </div>\n    </div>\n    <div class="').concat(e4, 'collector" style="display: none"></div>');
          } }, { key: "events", value: function() {
            return { click: "onClick", "click [data-close-modal]": "hide" };
          } }, { key: "initialize", value: function(t4) {
            var e4 = this.model, n4 = t4.config || {}, r3 = n4.stylePrefix || "";
            this.config = n4, this.pfx = r3, this.ppfx = n4.pStylePrefix || "", this.listenTo(e4, "change:open", this.updateOpen), this.listenTo(e4, "change:title", this.updateTitle), this.listenTo(e4, "change:content", this.updateContent);
          } }, { key: "onClick", value: function(t4) {
            this.config.backdrop && t4.target === this.el && this.hide();
          } }, { key: "getCollector", value: function() {
            return this.$collector || (this.$collector = this.$el.find("." + this.pfx + "collector")), this.$collector;
          } }, { key: "getContent", value: function() {
            var t4 = this.pfx;
            return this.$content || (this.$content = this.$el.find(".".concat(t4, "content #").concat(t4, "c"))), this.$content;
          } }, { key: "getTitle", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return this.$title || (this.$title = this.$el.find("." + this.pfx + "title")), t4.$ ? this.$title : this.$title.get(0);
          } }, { key: "updateContent", value: function() {
            var t4 = this.getContent(), e4 = t4.children(), n4 = this.getCollector(), r3 = this.model.get("content");
            e4.length && n4.append(e4), t4.empty().append(r3);
          } }, { key: "updateTitle", value: function() {
            var t4 = this.getTitle({ $: true });
            t4 && t4.empty().append(this.model.get("title"));
          } }, { key: "updateOpen", value: function() {
            this.el.style.display = this.model.get("open") ? "" : "none";
          } }, { key: "hide", value: function() {
            this.model.close();
          } }, { key: "show", value: function() {
            this.model.open();
          } }, { key: "updateAttr", value: function(t4) {
            var e4 = this.pfx, n4 = this.$el, r3 = this.el, i2 = [].slice.call(r3.attributes).map(function(t5) {
              return t5.name;
            });
            n4.removeAttr(i2.join(" ")), n4.attr(v(v({}, t4 || {}), {}, { class: "".concat(e4, "container ").concat(t4 && t4.class || "").trim() }));
          } }, { key: "render", value: function() {
            var t4 = this.$el, e4 = this.model.toJSON();
            return e4.pfx = this.pfx, e4.ppfx = this.ppfx, t4.html(this.template(e4)), this.updateAttr(), this.updateOpen(), this;
          } }]), n3;
        }(h.View);
        function b(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function w(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? b(Object(n3), true).forEach(function(e4) {
              (0, r2.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : b(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        const k = function() {
          var t3, e3, n3 = {}, r3 = function(t4, e4) {
            e4 && e4.trigger("modal:".concat(t4 ? "open" : "close"));
          };
          return { name: "Modal", getConfig: function() {
            return n3;
          }, init: function() {
            var e4 = this, o2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, s2 = (n3 = w(w({}, a), o2)).em;
            this.em = s2;
            var l2 = n3.pStylePrefix;
            return l2 && (n3.stylePrefix = l2 + n3.stylePrefix), (t3 = new p(n3)).on("change:open", function(t4, e5) {
              return r3(e5, s2);
            }), t3.on("change", (0, i.debounce)(function() {
              var t4 = e4._evData(), n4 = e4.getConfig().custom;
              (0, i.isFunction)(n4) && n4(t4), s2.trigger("modal", t4);
            })), this;
          }, _evData: function() {
            var e4 = this, n4 = this.getTitle(), r4 = this.getContent(), a2 = t3.attributes;
            return { open: a2.open, attributes: a2.attributes, title: (0, i.isString)(n4) ? (0, o.rw)(n4) : n4, content: (0, i.isString)(r4) ? (0, o.rw)(r4) : r4.get ? r4.get(0) : r4, close: function() {
              return e4.close();
            } };
          }, postRender: function(t4) {
            var e4 = t4.model.getConfig().el || t4.el, n4 = this.render();
            n4 && n4.appendTo(e4);
          }, open: function() {
            var n4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, r4 = n4.attributes || {};
            return n4.title && this.setTitle(n4.title), n4.content && this.setContent(n4.content), t3.set("attributes", r4), t3.open(), e3 && e3.updateAttr(r4), this;
          }, close: function() {
            return t3.close(), this;
          }, onceClose: function(t4) {
            return this.em.once("modal:close", t4), this;
          }, onceOpen: function(t4) {
            return this.em.once("modal:open", t4), this;
          }, isOpen: function() {
            return !!t3.get("open");
          }, setTitle: function(e4) {
            return t3.set("title", e4), this;
          }, getTitle: function() {
            return t3.get("title");
          }, setContent: function(e4) {
            return t3.set("content", " "), t3.set("content", e4), this;
          }, getContent: function() {
            return t3.get("content");
          }, getContentEl: function() {
            return e3.getContent().get(0);
          }, getModel: function() {
            return t3;
          }, render: function() {
            if (!this.getConfig().custom) {
              var r4 = y.extend(n3.extend), i2 = e3 && e3.el;
              return (e3 = new r4({ el: i2, model: t3, config: n3 })).render().$el;
            }
          }, destroy: function() {
            e3 && e3.remove(), [n3, t3, e3].forEach(function(t4) {
              return {};
            }), this.em = {};
          } };
        };
      }, 4906: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => L });
        var r2 = "sw-visibility", i = "export-template", o = "open-sm", a = "open-tm", s = "open-layers", l = "open-blocks", c = "fullscreen", u = "preview";
        const f = { stylePrefix: "pn-", defaults: [{ id: "commands", buttons: [{}] }, { id: "options", buttons: [{ active: true, id: r2, className: "fa fa-square-o", command: r2, context: r2, attributes: { title: "View components" } }, { id: u, className: "fa fa-eye", command: u, context: u, attributes: { title: "Preview" } }, { id: c, className: "fa fa-arrows-alt", command: c, context: c, attributes: { title: "Fullscreen" } }, { id: i, className: "fa fa-code", command: i, attributes: { title: "View code" } }] }, { id: "views", buttons: [{ id: o, className: "fa fa-paint-brush", command: o, active: true, togglable: 0, attributes: { title: "Open Style Manager" } }, { id: a, className: "fa fa-cog", command: a, togglable: 0, attributes: { title: "Settings" } }, { id: s, className: "fa fa-bars", command: s, togglable: 0, attributes: { title: "Open Layer Manager" } }, { id: l, className: "fa fa-th-large", command: l, togglable: 0, attributes: { title: "Open Blocks" } }] }], em: null, delayBtnsShow: 300 };
        var h = n2(5671), d = n2(3144), p = n2(9340), g = n2(2963), v = n2(1120), m = n2(2316), y = n2(2516);
        function b(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var w = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = b(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "defaults", value: function() {
            return { id: "", content: "", visible: true, buttons: [], attributes: {} };
          } }, { key: "initialize", value: function(t4) {
            this.btn = this.get("buttons") || [], this.buttons = new y.Z(this.btn), this.set("buttons", this.buttons);
          } }]), n3;
        }(m.Model);
        function k(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var x = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = k(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3);
        }(m.Collection);
        x.prototype.model = w;
        var O = n2(4942), C = n2(9050);
        function S(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function _(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? S(Object(n3), true).forEach(function(e4) {
              (0, O.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : S(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function P(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var T = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = P(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "tagName", value: function() {
            return this.model.get("tagName");
          } }, { key: "events", value: function() {
            return { click: "clicked" };
          } }, { key: "initialize", value: function(t4) {
            var e4 = this.model, n4 = e4.get("className"), r3 = e4.attributes, i2 = r3.command, o2 = r3.listen, a2 = t4.config || {}, s2 = a2.em;
            this.config = a2, this.em = s2;
            var l2 = this.config.stylePrefix || "", c2 = this.config.pStylePrefix || "";
            if (this.pfx = l2, this.ppfx = this.config.pStylePrefix || "", this.id = l2 + e4.get("id"), this.activeCls = "".concat(l2, "active ").concat(c2, "four-color"), this.disableCls = "".concat(c2, "disabled"), this.btnsVisCls = "".concat(l2, "visible"), this.className = l2 + "btn" + (n4 ? " " + n4 : ""), this.listenTo(e4, "change", this.render), this.listenTo(e4, "change:active updateActive", this.updateActive), this.listenTo(e4, "checkActive", this.checkActive), this.listenTo(e4, "change:bntsVis", this.updateBtnsVis), this.listenTo(e4, "change:attributes", this.updateAttributes), this.listenTo(e4, "change:className", this.updateClassName), this.listenTo(e4, "change:disable", this.updateDisable), s2 && (0, C.isString)(i2) && o2) {
              var u2 = { fromListen: 1 };
              this.listenTo(s2, "run:".concat(i2), function() {
                return e4.set("active", true, u2);
              }), this.listenTo(s2, "stop:".concat(i2), function() {
                return e4.set("active", false, u2);
              });
            }
            s2 && s2.get && (this.commands = s2.get("Commands"));
          } }, { key: "updateClassName", value: function() {
            var t4 = this.model, e4 = this.pfx, n4 = t4.get("className"), r3 = t4.get("attributes").class, i2 = "".concat(r3 || "", " ").concat(e4, "btn ").concat(n4 || "");
            this.$el.attr("class", i2.trim());
          } }, { key: "updateAttributes", value: function() {
            var t4 = this.em, e4 = this.model, n4 = this.$el, r3 = e4.get("attributes") || {}, i2 = t4 && t4.t && t4.t("panels.buttons.titles.".concat(e4.id));
            n4.attr(r3), i2 && n4.attr({ title: i2 }), this.updateClassName();
          } }, { key: "updateBtnsVis", value: function() {
            this.$buttons && (this.model.get("bntsVis") ? this.$buttons.addClass(this.btnsVisCls) : this.$buttons.removeClass(this.btnsVisCls));
          } }, { key: "updateActive", value: function(t4, e4) {
            var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = this.model, i2 = this.commands, o2 = this.$el, a2 = this.activeCls, s2 = n4.fromCollection, l2 = n4.fromListen, c2 = r3.get("context"), u2 = r3.get("options"), f2 = r3.get("command"), h2 = {};
            f2 && (i2 && (0, C.isString)(f2) ? h2 = i2.get(f2) || {} : (0, C.isFunction)(f2) ? h2 = i2.create({ run: f2 }) : null !== f2 && (0, C.isObject)(f2) && (h2 = i2.create(f2)), r3.get("active") ? (!s2 && r3.collection.deactivateAll(c2, r3), r3.set("active", true, { silent: true }).trigger("checkActive"), !l2 && i2.runCommand(h2, _(_({}, u2), {}, { sender: r3 })), h2.noStop && r3.set("active", false)) : (o2.removeClass(a2), !l2 && i2.stopCommand(h2, _(_({}, u2), {}, { sender: r3, force: 1 }))));
          } }, { key: "updateDisable", value: function() {
            var t4 = this.disableCls, e4 = this.model.get("disable");
            this.$el[e4 ? "addClass" : "removeClass"](t4);
          } }, { key: "checkActive", value: function() {
            var t4 = this.model, e4 = this.$el, n4 = this.activeCls;
            t4.get("active") ? e4.addClass(n4) : e4.removeClass(n4);
          } }, { key: "clicked", value: function(t4) {
            var e4 = this.model;
            e4.get("bntsVis") || e4.get("disable") || !e4.get("command") || this.toggleActive();
          } }, { key: "toggleActive", value: function() {
            var t4 = this.model, e4 = this.em, n4 = t4.attributes, r3 = n4.active, i2 = n4.togglable;
            r3 && !i2 || (t4.set("active", !r3), r3 ? t4.get("runDefaultCommand") && e4.runDefault() : t4.get("stopDefaultCommand") && e4.stopDefault());
          } }, { key: "render", value: function() {
            var t4 = this.model, e4 = t4.get("label"), n4 = this.$el;
            return !t4.get("el") && n4.empty(), this.updateAttributes(), e4 && n4.append(e4), this.checkActive(), this.updateDisable(), this;
          } }]), n3;
        }(m.View);
        function E(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var j = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = E(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "initialize", value: function(t4) {
            this.opt = t4 || {}, this.config = this.opt.config || {}, this.pfx = this.config.stylePrefix || "", this.parentM = this.opt.parentM || null, this.listenTo(this.collection, "add", this.addTo), this.listenTo(this.collection, "reset remove", this.render), this.className = this.pfx + "buttons";
          } }, { key: "addTo", value: function(t4) {
            this.addToCollection(t4);
          } }, { key: "addToCollection", value: function(t4, e4) {
            var n4 = e4 || null, r3 = new T({ el: t4.get("el"), model: t4, config: this.config, parentM: this.parentM }).render().el;
            return n4 ? n4.appendChild(r3) : this.$el.append(r3), r3;
          } }, { key: "render", value: function() {
            var t4 = document.createDocumentFragment();
            return this.$el.empty(), this.collection.each(function(e4) {
              this.addToCollection(e4, t4);
            }, this), this.$el.append(t4), this.$el.attr("class", (0, C.result)(this, "className")), this;
          } }]), n3;
        }(m.View);
        function A(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function D(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var M = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = D(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "initialize", value: function(t4) {
            var e4 = t4.config || {}, n4 = this.model;
            this.config = e4, this.pfx = e4.stylePrefix || "", this.ppfx = e4.pStylePrefix || "", this.buttons = n4.get("buttons"), this.className = this.pfx + "panel", this.id = this.pfx + n4.get("id"), this.listenTo(n4, "change:appendContent", this.appendContent), this.listenTo(n4, "change:content", this.updateContent), this.listenTo(n4, "change:visible", this.toggleVisible), n4.view = this;
          } }, { key: "appendContent", value: function() {
            this.$el.append(this.model.get("appendContent"));
          } }, { key: "updateContent", value: function() {
            this.$el.html(this.model.get("content"));
          } }, { key: "toggleVisible", value: function() {
            this.model.get("visible") ? this.$el.removeClass("".concat(this.ppfx, "hidden")) : this.$el.addClass("".concat(this.ppfx, "hidden"));
          } }, { key: "attributes", value: function() {
            return this.model.get("attributes");
          } }, { key: "initResize", value: function() {
            var t4 = this.config.em, e4 = t4 ? t4.get("Editor") : "", n4 = this.model.get("resizable");
            if (e4 && n4) {
              var r3, i2, o2, a2 = true === n4 ? [1, 1, 1, 1] : n4, s2 = a2.length, l2 = 0;
              2 == s2 ? (r3 = a2[0], o2 = a2[0], i2 = a2[1], l2 = a2[1]) : 4 == s2 && (r3 = a2[0], i2 = a2[1], o2 = a2[2], l2 = a2[3]);
              var c2 = e4.Utils.Resizer.init(function(t5) {
                for (var e5 = 1; e5 < arguments.length; e5++) {
                  var n5 = null != arguments[e5] ? arguments[e5] : {};
                  e5 % 2 ? A(Object(n5), true).forEach(function(e6) {
                    (0, O.Z)(t5, e6, n5[e6]);
                  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t5, Object.getOwnPropertyDescriptors(n5)) : A(Object(n5)).forEach(function(e6) {
                    Object.defineProperty(t5, e6, Object.getOwnPropertyDescriptor(n5, e6));
                  });
                }
                return t5;
              }({ tc: r3, cr: i2, bc: o2, cl: l2, tl: 0, tr: 0, bl: 0, br: 0, appendTo: this.el, silentFrames: 1, avoidContainerUpdate: 1, prefix: e4.getConfig().stylePrefix, onEnd: function() {
                t4 && t4.trigger("change:canvasOffset");
              }, posFetcher: function(t5, e5) {
                var n5 = e5.target, r4 = t5.style, i3 = c2.getConfig(), o3 = i3.keyWidth, a3 = i3.keyHeight, s3 = t5.getBoundingClientRect(), l3 = "container" == n5, u2 = r4[o3], f2 = r4[a3];
                return { left: 0, top: 0, width: u2 && !l3 ? parseFloat(u2) : s3.width, height: f2 && !l3 ? parseFloat(f2) : s3.height };
              } }, n4));
              c2.blur = function() {
              }, c2.focus(this.el);
            }
          } }, { key: "render", value: function() {
            var t4 = this.$el, e4 = this.ppfx, n4 = "".concat(this.className, " ").concat(this.id, " ").concat(e4, "one-bg ").concat(e4, "two-color");
            if (t4.addClass(n4), this.toggleVisible(), this.buttons.length) {
              var r3 = new j({ collection: this.buttons, config: this.config });
              t4.append(r3.render().el);
            }
            return t4.append(this.model.get("content")), this;
          } }]), n3;
        }(m.View);
        function R(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var Z = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = R(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "initialize", value: function(t4) {
            this.opt = t4 || {}, this.config = this.opt.config || {}, this.pfx = this.config.stylePrefix || "";
            var e4 = this.collection;
            this.listenTo(e4, "add", this.addTo), this.listenTo(e4, "reset", this.render), this.listenTo(e4, "remove", this.onRemove), this.className = this.pfx + "panels";
          } }, { key: "onRemove", value: function(t4) {
            var e4 = t4.view;
            e4 && e4.remove();
          } }, { key: "addTo", value: function(t4) {
            this.addToCollection(t4);
          } }, { key: "addToCollection", value: function(t4, e4) {
            var n4 = e4 || null, r3 = this.config, i2 = t4.get("el"), o2 = new M({ el: i2, model: t4, config: r3 }), a2 = o2.render().el, s2 = t4.get("appendTo");
            if (i2) ;
            else if (s2) {
              document.querySelector(s2).appendChild(a2);
            } else n4 ? n4.appendChild(a2) : this.$el.append(a2);
            return o2.initResize(), a2;
          } }, { key: "render", value: function() {
            var t4 = this, e4 = this.$el, n4 = document.createDocumentFragment();
            return e4.empty(), this.collection.each(function(e5) {
              return t4.addToCollection(e5, n4);
            }), e4.append(n4), e4.attr("class", this.className), this;
          } }]), n3;
        }(m.View);
        const L = function() {
          var t3, e3, n3 = {};
          return { name: "Panels", init: function(e4) {
            for (var r3 in n3 = e4 || {}, f) r3 in n3 || (n3[r3] = f[r3]);
            var i2 = n3.pStylePrefix;
            return i2 && (n3.stylePrefix = i2 + n3.stylePrefix), t3 = new x(n3.defaults), this;
          }, getPanels: function() {
            return t3;
          }, getPanelsEl: function() {
            return e3 && e3.el;
          }, addPanel: function(e4) {
            return t3.add(e4);
          }, removePanel: function(e4) {
            return t3.remove(e4);
          }, getPanel: function(e4) {
            var n4 = t3.where({ id: e4 });
            return n4.length ? n4[0] : null;
          }, addButton: function(t4, e4) {
            var n4 = this.getPanel(t4);
            return n4 ? n4.get("buttons").add(e4) : null;
          }, removeButton: function(t4, e4) {
            var n4 = this.getPanel(t4);
            return n4 && n4.get("buttons").remove(e4);
          }, getButton: function(t4, e4) {
            var n4 = this.getPanel(t4);
            if (n4) {
              var r3 = n4.get("buttons").where({ id: e4 });
              return r3.length ? r3[0] : null;
            }
            return null;
          }, render: function() {
            return e3 && e3.remove(), (e3 = new Z({ collection: t3, config: n3 })).render().el;
          }, active: function() {
            this.getPanels().each(function(t4) {
              t4.get("buttons").each(function(t5) {
                t5.get("active") && t5.trigger("updateActive");
              });
            });
          }, disableButtons: function() {
            this.getPanels().each(function(t4) {
              t4.get("buttons").each(function(t5) {
                t5.get("disable") && t5.trigger("change:disable");
              });
            });
          }, destroy: function() {
            t3.reset(), t3.stopListening(), e3 && e3.remove(), [n3, t3, e3].forEach(function(t4) {
              return {};
            });
          }, Panel: w };
        };
      }, 2516: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => h });
        var r2 = n2(5671), i = n2(3144), o = n2(9340), a = n2(2963), s = n2(1120), l = n2(2316);
        function c(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, s.Z)(t3);
            if (e3) {
              var i2 = (0, s.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, a.Z)(this, n3);
          };
        }
        var u = function(t3) {
          (0, o.Z)(a2, t3);
          var e3 = c(a2);
          function a2() {
            return (0, r2.Z)(this, a2), e3.apply(this, arguments);
          }
          return (0, i.Z)(a2, [{ key: "defaults", value: function() {
            return { id: "", label: "", tagName: "span", className: "", command: "", context: "", buttons: [], attributes: {}, options: {}, active: false, dragDrop: false, togglable: true, runDefaultCommand: true, stopDefaultCommand: false, disable: false };
          } }, { key: "initialize", value: function(t4) {
            if (this.get("buttons").length) {
              var e4 = n2(2516).Z;
              this.set("buttons", new e4(this.get("buttons")));
            }
          } }]), a2;
        }(l.Model);
        function f(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, s.Z)(t3);
            if (e3) {
              var i2 = (0, s.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, a.Z)(this, n3);
          };
        }
        var h = function(t3) {
          (0, o.Z)(n3, t3);
          var e3 = f(n3);
          function n3() {
            return (0, r2.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, i.Z)(n3, [{ key: "deactivateAllExceptOne", value: function(t4, e4) {
            this.forEach(function(n4, r3) {
              n4 !== t4 && (n4.set("active", false), e4 && n4.get("buttons").length && n4.get("buttons").deactivateAllExceptOne(t4, e4));
            });
          } }, { key: "deactivateAll", value: function(t4, e4) {
            var n4 = t4 || "";
            this.forEach(function(t5) {
              t5.get("context") == n4 && t5 !== e4 && t5.set("active", false, { fromCollection: 1 });
            });
          } }, { key: "disableAllButtons", value: function(t4) {
            var e4 = t4 || "";
            this.forEach(function(t5, n4) {
              t5.get("context") == e4 && t5.set("disable", true);
            });
          } }, { key: "disableAllButtonsExceptOne", value: function(t4, e4) {
            this.forEach(function(n4, r3) {
              n4 !== t4 && (n4.set("disable", true), e4 && n4.get("buttons").length && n4.get("buttons").disableAllButtonsExceptOne(t4, e4));
            });
          } }]), n3;
        }(l.Collection);
        h.prototype.model = u;
      }, 4424: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => w });
        var r2 = n2(4942);
        const i = { textTags: ["br", "b", "i", "u", "a", "ul", "ol"], parserCss: null, parserHtml: null, optionsHtml: { htmlType: null, allowScripts: false, allowUnsafeAttr: false } };
        var o = n2(9050), a = { 4: "media", 5: "font-face", 6: "page", 7: "keyframes", 11: "counter-style", 12: "supports", 13: "document", 14: "font-feature-values", 15: "viewport" }, s = (0, o.keys)(a), l = ["5", "6", "11", "15"], c = ["font-face", "page", "counter-style", "viewport"], u = function() {
          for (var t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", e3 = [], n3 = [], r3 = t3.split(","), i2 = 0, o2 = r3.length; i2 < o2; i2++) {
            var a2 = r3[i2].trim();
            if (/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(a2) || /^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(a2)) {
              var s2 = a2.split(".").filter(Boolean);
              n3.push(s2);
            } else e3.push(a2);
          }
          return { result: n3, add: e3 };
        }, f = function(t3) {
          for (var e3 = t3.style, n3 = {}, r3 = 0, i2 = e3.length; r3 < i2; r3++) {
            var o2 = e3[r3], a2 = e3.getPropertyValue(o2), s2 = e3.getPropertyPriority(o2);
            n3[o2] = "".concat(a2).concat(s2 ? " !".concat(s2) : "");
          }
          return n3;
        }, h = function(t3) {
          return (t3.conditionText || t3.media && t3.media.mediaText || t3.name || t3.selectorText || "").trim();
        }, d = function(t3) {
          var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = {}, i2 = t3.length, o2 = t3[i2 - 1], a2 = o2 ? o2.split(/:(.+)/) : [], s2 = a2[1], l2 = n3.atRule, u2 = n3.selectorsAdd, f2 = n3.mediaText, h2 = c.indexOf(l2) >= 0;
          return h2 && (r3.singleAtRule = 1), l2 && (r3.atRuleType = l2), u2 && (r3.selectorsAdd = u2), f2 && (r3.mediaText = f2), s2 && (t3[i2 - 1] = a2[0], r3.state = s2, a2.splice(a2.length - 1, 1)), r3.selectors = t3, r3.style = e3, r3;
        }, p = function t3(e3) {
          for (var n3 = [], r3 = e3.cssRules || [], i2 = 0, o2 = r3.length; i2 < o2; i2++) {
            var c2 = r3[i2], p2 = c2.type.toString(), g2 = 0, v2 = "", m2 = "", y2 = c2.selectorText || c2.keyText, b2 = l.indexOf(p2) >= 0;
            if (b2) g2 = 1, v2 = a[p2], m2 = h(c2);
            else if (s.indexOf(p2) >= 0) {
              var w2 = t3(c2);
              m2 = h(c2);
              for (var k = 0, x = w2.length; k < x; k++) {
                var O = w2[k];
                m2 && (O.mediaText = m2), O.atRuleType = a[p2];
              }
              n3 = n3.concat(w2);
            }
            if (y2 || b2) {
              for (var C = f(c2), S = u(y2), _ = S.add, P = void 0, T = 0, E = (y2 = S.result).length; T < E; T++) {
                var j = d(y2[T], C, { atRule: a[p2] });
                n3.push(j), P = j;
              }
              if (_.length) {
                var A = _.join(", ");
                if (P) P.selectorsAdd = A;
                else {
                  var D = { selectors: [], selectorsAdd: A, style: C };
                  g2 && (D.singleAtRule = g2), v2 && (D.atRuleType = v2), m2 && (D.mediaText = m2), n3.push(D);
                }
              }
            }
          }
          return n3;
        };
        const g = function(t3) {
          var e3 = document.createElement("style");
          e3.innerHTML = t3, document.head.appendChild(e3);
          var n3 = e3.sheet;
          return document.head.removeChild(e3), p(n3);
        }, v = function() {
          var t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
          return { parse: function(e3) {
            var n3 = this, r3 = [], i2 = t3.parserCss, o2 = t3.em, a2 = o2 && o2.get && o2.get("Editor");
            return (i2 ? i2(e3, a2) : g(e3)).forEach(function(t4) {
              return r3 = r3.concat(n3.checkNode(t4));
            }), o2 && o2.trigger("parse:css", { input: e3, output: r3 }), r3;
          }, checkNode: function(t4) {
            var e3 = t4, n3 = e3.selectors, r3 = e3.style;
            if ((0, o.isString)(n3)) {
              var i2 = [], a2 = u(n3), s2 = a2.result, l2 = a2.add.join(", "), c2 = { atRule: t4.atRule, mediaText: t4.params };
              if (s2.length ? s2.forEach(function(t5) {
                i2.push(d(t5, r3, c2));
              }) : i2.push(d([], r3, c2)), l2) i2[i2.length - 1].selectorsAdd = l2;
              t4 = i2;
            }
            return t4;
          } };
        };
        var m = n2(5311);
        function y(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function b(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? y(Object(n3), true).forEach(function(e4) {
              (0, r2.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : y(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        const w = function() {
          var t3, e3, n3 = {};
          return { compTypes: "", parserCss: null, parserHtml: null, name: "Parser", init: function() {
            var r3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return (n3 = b(b({}, i), r3)).Parser = this, t3 = new m.Z(n3), e3 = new v(n3), this.em = n3.em, this.parserCss = e3, this.parserHtml = t3, this;
          }, getConfig: function() {
            return n3;
          }, parseHtml: function(n4) {
            var r3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i2 = this.em, o2 = this.compTypes;
            return t3.compTypes = i2 ? i2.get("DomComponents").getTypes() : o2, t3.parse(n4, e3, r3);
          }, parseCss: function(t4) {
            return e3.parse(t4);
          }, destroy: function() {
            var r3 = this;
            [n3, t3, e3].forEach(function(t4) {
              return {};
            }), ["em", "parserCss", "parserHtml"].forEach(function(t4) {
              return r3[t4] = {};
            });
          } };
        };
      }, 5311: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => f });
        var r2 = n2(4942), i = n2(1002), o = n2(9050), a = "text/html", s = a;
        const l = function(t3) {
          var e3, n3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = new DOMParser(), i2 = n3.htmlType || s, l2 = i2 === a, c2 = l2 ? t3 : "<div>".concat(t3, "</div>"), u2 = r3.parseFromString(c2, i2);
          if (l2) {
            var f2 = u2.head, h = u2.body, d = f2.querySelectorAll("script");
            (0, o.each)(d, function(t4) {
              return h.appendChild(t4);
            });
            var p = [];
            (0, o.each)(f2.children, function(t4) {
              return p.push(t4);
            }), (0, o.each)(p, function(t4, e4) {
              return h.insertBefore(t4, h.children[e4]);
            }), e3 = h;
          } else e3 = u2.firstChild;
          return e3;
        };
        function c(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function u(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? c(Object(n3), true).forEach(function(e4) {
              (0, r2.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : c(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        const f = function(t3) {
          var e3 = t3, n3 = "data-gjs-", r3 = "parse:html";
          return { compTypes: "", modelAttrStart: n3, splitPropsFromAttr: function() {
            var t4 = this, e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, r4 = {}, i2 = {};
            return (0, o.each)(e4, function(e5, a2) {
              if (0 === a2.indexOf(t4.modelAttrStart)) {
                var s2 = a2.replace(n3, ""), l2 = e5.length, c2 = e5 && (0, o.isString)(e5), u2 = c2 && e5.substr(0, 1), f2 = c2 && e5.substr(l2 - 1);
                e5 = "false" !== (e5 = "true" === e5 || e5) && e5;
                try {
                  e5 = "{" == u2 && "}" == f2 || "[" == u2 && "]" == f2 ? JSON.parse(e5) : e5;
                } catch (t5) {
                }
                r4[s2] = e5;
              } else i2[a2] = e5;
            }), { props: r4, attrs: i2 };
          }, parseStyle: function(t4) {
            for (var e4 = {}, n4 = t4.split(";"), r4 = 0, i2 = n4.length; r4 < i2; r4++) {
              var o2 = n4[r4].trim();
              if (o2) {
                var a2 = o2.split(":");
                e4[a2[0].trim()] = a2.slice(1).join(":").trim();
              }
            }
            return e4;
          }, parseClass: function(t4) {
            for (var e4 = [], n4 = t4.split(" "), r4 = 0, i2 = n4.length; r4 < i2; r4++) {
              var o2 = n4[r4].trim();
              o2 && e4.push(o2);
            }
            return e4;
          }, parseNode: function(r4) {
            for (var o2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, a2 = [], s2 = r4.childNodes, l2 = 0, c2 = s2.length; l2 < c2; l2++) {
              var f2 = s2[l2], h = f2.attributes || [], d = h.length, p = a2[a2.length - 1], g = f2.childNodes.length, v = this.compTypes, m = {};
              if (v) {
                var y = "", b = f2.getAttribute && f2.getAttribute("".concat(n3, "type"));
                if (b) m = { type: b };
                else {
                  for (var w = 0; w < v.length; w++) {
                    var k = v[w];
                    if (y = k.model.isComponent(f2, o2)) {
                      "object" !== (0, i.Z)(y) && (y = { type: k.id });
                      break;
                    }
                  }
                  m = y;
                }
              }
              if (!m.tagName) {
                var x = f2.tagName || "", O = f2.namespaceURI || "";
                m.tagName = x && "http://www.w3.org/1999/xhtml" === O ? x.toLowerCase() : x;
              }
              d && (m.attributes = {});
              for (var C = 0; C < d; C++) {
                var S = h[C].nodeName, _ = h[C].nodeValue;
                if ("style" == S) m.style = this.parseStyle(_);
                else if ("class" == S) m.classes = this.parseClass(_);
                else {
                  if ("contenteditable" == S) continue;
                  if (0 === S.indexOf(n3)) {
                    var P = S.replace(n3, ""), T = _.length, E = _ && _.substr(0, 1), j = _ && _.substr(T - 1);
                    _ = "false" !== (_ = "true" === _ || _) && _;
                    try {
                      _ = "{" == E && "}" == j || "[" == E && "]" == j ? JSON.parse(_) : _;
                    } catch (t4) {
                    }
                    m[P] = _;
                  } else "" === _ && true === f2[S] && (_ = true), m.attributes[S] = _;
                }
              }
              if (g && !m.components) {
                var A = f2.childNodes[0];
                1 === g && 3 === A.nodeType ? (!m.type && (m.type = "text"), m.components = { type: "textnode", content: A.nodeValue }) : m.components = this.parseNode(f2, u(u({}, o2), {}, { inSvg: o2.inSvg || "svg" === m.type }));
              }
              if ("textnode" == m.type) {
                if (p && "textnode" == p.type) {
                  p.content += m.content;
                  continue;
                }
                if (!t3.keepEmptyTextNodes) {
                  var D = f2.nodeValue;
                  if (" " != D && !D.trim()) continue;
                }
              }
              g || "/>" !== "".concat(f2.outerHTML).slice(-2) || (m.void = true);
              var M = m.components;
              if (!m.type && M) {
                for (var R = 1, Z = 0, L = 0; L < M.length; L++) {
                  var N = M[L], I = N.type;
                  if (["text", "textnode"].indexOf(I) < 0 && e3.textTags.indexOf(N.tagName) < 0) {
                    R = 0;
                    break;
                  }
                  "textnode" == I && (Z = 1);
                }
                R && Z && (m.type = "text");
              }
              (m.tagName || "textnode" == m.type) && a2.push(m);
            }
            return a2;
          }, parse: function(n4, i2) {
            var a2, s2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, c2 = e3.em, f2 = c2 && c2.get("Config") || {}, h = { html: null, css: null }, d = u(u({}, t3), s2), p = u(u({}, t3.optionsHtml), {}, { htmlType: (null === (a2 = t3.optionsHtml) || void 0 === a2 ? void 0 : a2.htmlType) || t3.htmlType }, s2), g = (0, o.isFunction)(d.parserHtml) ? d.parserHtml(n4, p) : l(n4, p), v = g.querySelectorAll("script"), m = v.length, y = (0, o.isUndefined)(f2.allowScripts) ? p.allowScripts : f2.allowScripts;
            if (!y) for (; m--; ) v[m].parentNode.removeChild(v[m]);
            if (p.allowUnsafeAttr || this.__clearUnsafeAttr(g), i2) {
              for (var b = g.querySelectorAll("style"), w = b.length, k = ""; w--; ) k = b[w].innerHTML + k, b[w].parentNode.removeChild(b[w]);
              k && (h.css = i2.parse(k));
            }
            c2 && c2.trigger("".concat(r3, ":root"), { input: n4, root: g });
            var x = this.parseNode(g, d), O = 1 !== x.length || e3.returnArray ? x : x[0];
            return h.html = O, c2 && c2.trigger(r3, { input: n4, output: h }), h;
          }, __clearUnsafeAttr: function(t4) {
            var e4 = this, n4 = t4.attributes || [], r4 = t4.childNodes || [], i2 = [];
            (0, o.each)(n4, function(t5) {
              var e5 = t5.nodeName || "";
              0 === e5.indexOf("on") && i2.push(e5);
            }), i2.map(function(e5) {
              return t4.removeAttribute(e5);
            }), (0, o.each)(r4, function(t5) {
              return e4.__clearUnsafeAttr(t5);
            });
          } };
        };
      }, 2012: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => _ });
        var r2 = n2(5861), i = n2(2982), o = n2(4942), a = n2(7757), s = n2.n(a), l = n2(1163), c = n2(5671), u = n2(3144), f = n2(9050);
        function h(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function d(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? h(Object(n3), true).forEach(function(e4) {
              (0, o.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : h(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var p = "_rte", g = 1, v = 0, m = -1, y = function(t3) {
          var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "A", n3 = t3.selection(), r3 = n3.anchorNode, i2 = n3.focusNode, o2 = null == r3 ? void 0 : r3.parentNode, a2 = null == i2 ? void 0 : i2.parentNode;
          return (null == o2 ? void 0 : o2.nodeName) == e3 || (null == a2 ? void 0 : a2.nodeName) == e3;
        }, b = "data-selectme", w = { bold: { name: "bold", icon: "<b>B</b>", attributes: { title: "Bold" }, result: function(t3) {
          return t3.exec("bold");
        } }, italic: { name: "italic", icon: "<i>I</i>", attributes: { title: "Italic" }, result: function(t3) {
          return t3.exec("italic");
        } }, underline: { name: "underline", icon: "<u>U</u>", attributes: { title: "Underline" }, result: function(t3) {
          return t3.exec("underline");
        } }, strikethrough: { name: "strikethrough", icon: "<s>S</s>", attributes: { title: "Strike-through" }, result: function(t3) {
          return t3.exec("strikeThrough");
        } }, link: { icon: '<svg viewBox="0 0 24 24">\n          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />\n        </svg>', name: "link", attributes: { style: "font-size:1.4rem;padding:0 4px 2px;", title: "Link" }, state: function(t3) {
          return t3 && t3.selection() && y(t3) ? g : v;
        }, result: function(t3) {
          y(t3) ? t3.exec("unlink") : t3.insertHTML('<a href="" '.concat(b, ">").concat(t3.selection(), "</a>"), { select: true });
        } }, wrap: { icon: '<svg viewBox="0 0 24 24">\n            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />\n        </svg>', attributes: { title: "Wrap for style" }, state: function(t3) {
          return null != t3 && t3.selection() && y(t3, "SPAN") ? m : v;
        }, result: function(t3) {
          !y(t3, "SPAN") && t3.insertHTML("<span ".concat(b, ">").concat(t3.selection(), "</span>"), { select: true });
        } } }, k = function() {
          function t3() {
            var e3 = this, n3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            (0, c.Z)(this, t3);
            var r3 = n3.el, i2 = n3.em;
            if (this.em = i2, r3[p]) return r3[p];
            r3[p] = this, this.setEl(r3), this.updateActiveActions = this.updateActiveActions.bind(this), this.__onKeydown = this.__onKeydown.bind(this), this.__onPaste = this.__onPaste.bind(this);
            var o2 = (n3.actions || []).map(function(t4) {
              var e4 = t4;
              return "string" == typeof t4 ? e4 = d({}, w[t4]) : w[t4.name] && (e4 = d(d({}, w[t4.name]), t4)), e4;
            }), a2 = o2.length ? o2 : Object.keys(w).map(function(t4) {
              return w[t4];
            });
            n3.classes = d(d({}, { actionbar: "actionbar", button: "action", active: "active", disabled: "disabled", inactive: "inactive" }), n3.classes);
            var s2 = n3.classes, l2 = n3.actionbar;
            if (this.actionbar = l2, this.settings = n3, this.classes = s2, this.actions = a2, !l2) {
              var u2 = n3.actionbarContainer;
              (l2 = document.createElement("div")).className = s2.actionbar, u2.appendChild(l2), this.actionbar = l2, a2.forEach(function(t4) {
                return e3.addAction(t4);
              });
            }
            return n3.styleWithCSS && this.exec("styleWithCSS"), this;
          }
          return (0, u.Z)(t3, [{ key: "destroy", value: function() {
            this.el = 0, this.doc = 0, this.actionbar = 0, this.settings = {}, this.classes = {}, this.actions = [];
          } }, { key: "setEl", value: function(t4) {
            this.el = t4, this.doc = t4.ownerDocument;
          } }, { key: "updateActiveActions", value: function() {
            var t4 = this;
            this.getActions().forEach(function(e3) {
              var n3 = e3.btn, r3 = e3.update, i2 = d({}, t4.classes), o2 = i2.active, a2 = i2.inactive, s2 = i2.disabled, l2 = e3.state, c2 = e3.name, u2 = t4.doc;
              if (n3.className = n3.className.replace(o2, "").trim(), n3.className = n3.className.replace(a2, "").trim(), n3.className = n3.className.replace(s2, "").trim(), l2) switch (l2(t4, u2)) {
                case g:
                  n3.className += " ".concat(o2);
                  break;
                case v:
                  n3.className += " ".concat(a2);
                  break;
                case m:
                  n3.className += " ".concat(s2);
              }
              else u2.queryCommandSupported(c2) && u2.queryCommandState(c2) && (n3.className += " ".concat(o2));
              r3 && r3(t4, e3);
            });
          } }, { key: "enable", value: function(t4) {
            return this.enabled ? this : this.__toggleEffects(true, t4);
          } }, { key: "disable", value: function() {
            return this.__toggleEffects(false);
          } }, { key: "__toggleEffects", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] && arguments[0], e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n3 = t4 ? l.on : l.off, r3 = this.el, i2 = this.doc;
            if (this.actionbarEl().style.display = t4 ? "" : "none", r3.contentEditable = !!t4, n3(r3, "mouseup keyup", this.updateActiveActions), n3(i2, "keydown", this.__onKeydown), n3(i2, "paste", this.__onPaste), this.enabled = t4, t4) {
              var o2 = e3.event;
              if (this.syncActions(), this.updateActiveActions(), o2) {
                var a2 = null;
                if (i2.caretRangeFromPoint) {
                  var s2 = (0, l.getPointerEvent)(o2);
                  a2 = i2.caretRangeFromPoint(s2.clientX, s2.clientY);
                } else o2.rangeParent && (a2 = i2.createRange()).setStart(o2.rangeParent, o2.rangeOffset);
                var c2 = i2.getSelection();
                c2.removeAllRanges(), a2 && c2.addRange(a2);
              }
              r3.focus();
            }
            return this;
          } }, { key: "__onKeydown", value: function(t4) {
            "Enter" === t4.key && (this.doc.execCommand("insertLineBreak"), t4.preventDefault());
          } }, { key: "__onPaste", value: function(t4) {
            var e3 = t4.clipboardData || window.clipboardData, n3 = e3.getData("text"), r3 = e3.getData("text/html");
            if (n3 && !r3) {
              t4.preventDefault();
              var i2 = n3.replace(/(?:\r\n|\r|\n)/g, "<br/>");
              this.doc.execCommand("insertHTML", false, i2);
            }
          } }, { key: "syncActions", value: function() {
            var t4 = this;
            this.getActions().forEach(function(e3) {
              if (t4.actionbar && (!e3.state || e3.state && e3.state(t4, t4.doc) >= 0)) {
                var n3 = e3.event || "click";
                e3.btn["on".concat(n3)] = function(n4) {
                  e3.result(t4, e3), t4.updateActiveActions();
                };
              }
            });
          } }, { key: "addAction", value: function(t4) {
            var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n3 = e3.sync, r3 = document.createElement("span"), i2 = t4.icon, o2 = t4.attributes || {};
            for (var a2 in r3.className = this.classes.button, t4.btn = r3, o2) r3.setAttribute(a2, o2[a2]);
            "string" == typeof i2 ? r3.innerHTML = i2 : r3.appendChild(i2), this.actionbarEl().appendChild(r3), n3 && (this.actions.push(t4), this.syncActions());
          } }, { key: "getActions", value: function() {
            return this.actions;
          } }, { key: "selection", value: function() {
            return this.doc.getSelection();
          } }, { key: "exec", value: function(t4) {
            var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
            this.doc.execCommand(t4, false, e3);
          } }, { key: "actionbarEl", value: function() {
            return this.actionbar;
          } }, { key: "insertHTML", value: function(t4) {
            var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n3 = e3.select, r3 = this.em, i2 = this.doc, o2 = this.el, a2 = i2.getSelection();
            if (a2 && a2.rangeCount) {
              var s2 = (0, l.getModel)(o2), c2 = i2.createElement("div"), u2 = a2.getRangeAt(0);
              u2.deleteContents(), (0, f.isString)(t4) ? c2.innerHTML = t4 : t4 && c2.appendChild(t4), Array.prototype.slice.call(c2.childNodes).forEach(function(t5) {
                u2.insertNode(t5);
              }), a2.removeAllRanges(), a2.addRange(u2), o2.focus(), n3 && s2 && (s2.once("rte:disable", function() {
                var t5 = s2.find("[".concat(b, "]"))[0];
                t5 && (r3.setSelected(t5), t5.removeAttributes(b));
              }), s2.trigger("disable"));
            }
          } }]), t3;
        }();
        const x = { stylePrefix: "rte-", adjustToolbar: 1, actions: ["bold", "italic", "underline", "strikethrough", "link", "wrap"] };
        function O(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function C(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? O(Object(n3), true).forEach(function(e4) {
              (0, o.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : O(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var S = "change:canvasOffset frame:scroll component:update";
        const _ = function() {
          var t3, e3 = function() {
            var e4 = t3.style, n3 = "-1000px";
            e4.top = n3, e4.left = n3, e4.display = "none";
          };
          return { customRte: null, name: "RichTextEditor", getConfig: function() {
            return this.config;
          }, init: function() {
            var e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n3 = C(C({}, x), e4), r3 = n3.pStylePrefix;
            return r3 && (n3.stylePrefix = r3 + n3.stylePrefix), this.config = n3, this.pfx = n3.stylePrefix, this.em = n3.em, this.actions = n3.actions || [], (0, l.hasWin)() ? ((t3 = document.createElement("div")).className = "".concat(r3, "rte-toolbar ").concat(r3, "one-bg"), this.initRte(document.createElement("div")), (0, l.on)(t3, "mousedown", function(t4) {
              return t4.stopPropagation();
            }), this) : this;
          }, destroy: function() {
            var e4, n3, r3, i2 = this;
            null === (e4 = this.globalRte) || void 0 === e4 || e4.destroy(), null === (n3 = this.customRte) || void 0 === n3 || null === (r3 = n3.destroy) || void 0 === r3 || r3.call(n3), t3 = 0, ["actionbar", "actions", "em", "config", "globalRte", "lastEl"].map(function(t4) {
              delete i2[t4];
            });
          }, postRender: function(n3) {
            var r3 = n3.model.get("Canvas");
            t3.style.pointerEvents = "all", e3(), r3.getToolsEl().appendChild(t3);
          }, initRte: function(e4) {
            var n3 = this.globalRte, r3 = this.em, o2 = this.pfx, a2 = this.actionbar, s2 = this.config, l2 = t3, c2 = this.actions || (0, i.Z)(s2.actions), u2 = { actionbar: "".concat(o2, "actionbar"), button: "".concat(o2, "action"), active: "".concat(o2, "active"), inactive: "".concat(o2, "inactive"), disabled: "".concat(o2, "disabled") };
            return n3 ? (n3.em = r3, n3.setEl(e4)) : (n3 = new k({ em: r3, el: e4, classes: u2, actions: c2, actionbar: a2, actionbarContainer: l2 }), this.globalRte = n3), n3.actionbar && (this.actionbar = n3.actionbar), n3.actions && (this.actions = n3.actions), n3;
          }, add: function(t4) {
            var e4, n3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            n3.name = t4, null === (e4 = this.globalRte) || void 0 === e4 || e4.addAction(n3, { sync: 1 });
          }, get: function(t4) {
            var e4, n3;
            return null === (e4 = this.globalRte) || void 0 === e4 || e4.getActions().forEach(function(e5) {
              e5.name == t4 && (n3 = e5);
            }), n3;
          }, getAll: function() {
            var t4;
            return null === (t4 = this.globalRte) || void 0 === t4 ? void 0 : t4.getActions();
          }, remove: function(t4) {
            var e4 = this.getAll(), n3 = this.get(t4);
            if (n3) {
              var r3 = n3.btn, i2 = e4.indexOf(n3);
              r3.parentNode.removeChild(r3), e4.splice(i2, 1);
            }
            return n3;
          }, getToolbarEl: function() {
            return t3;
          }, updatePosition: function() {
            var e4 = "px", n3 = this.em.get("Canvas"), r3 = t3.style, i2 = n3.getTargetToElementFixed(this.lastEl, t3, { event: "rteToolbarPosUpdate", left: 0 });
            r3.top = (i2.top || 0) + e4, r3.left = (i2.left || 0) + e4;
          }, enable: function(e4, n3, i2) {
            var o2 = this;
            return (0, r2.Z)(s().mark(function r3() {
              var a2, l2, c2, u2;
              return s().wrap(function(r4) {
                for (; 1; ) switch (r4.prev = r4.next) {
                  case 0:
                    return o2.lastEl = e4.el, a2 = o2.customRte, l2 = o2.em, c2 = e4.getChildrenContainer(), t3.style.display = "", r4.next = 6, a2 ? a2.enable(c2, n3) : o2.initRte(c2).enable(i2);
                  case 6:
                    return u2 = r4.sent, l2 && (setTimeout(o2.updatePosition.bind(o2), 0), l2.off(S, o2.updatePosition, o2), l2.on(S, o2.updatePosition, o2), l2.trigger("rte:enable", e4, u2)), r4.abrupt("return", u2);
                  case 9:
                  case "end":
                    return r4.stop();
                }
              }, r3);
            }))();
          }, disable: function(t4, n3) {
            var r3 = this.em, i2 = this.customRte, o2 = t4.getChildrenContainer();
            i2 ? i2.disable(o2, n3) : n3 && n3.disable(), e3(), r3 && (r3.off(S, this.updatePosition, this), r3.trigger("rte:disable", t4, n3));
          } };
        };
      }, 4859: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => A });
        var r2 = n2(5861), i = n2(5671), o = n2(3144), a = n2(7326), s = n2(9340), l = n2(2963), c = n2(1120), u = n2(4942), f = n2(7757), h = n2.n(f), d = n2(9714);
        const p = { id: "gjs-", type: "local", autosave: true, autoload: true, recovery: false, stepsBeforeSave: 1, onStore: function(t3) {
          return t3;
        }, onLoad: function(t3) {
          return t3;
        }, options: { local: { key: "gjsProject", checkLocal: true }, remote: { headers: {}, urlStore: "", urlLoad: "", contentTypeJson: true, fetchOptions: "", credentials: "include", onStore: function(t3) {
          return t3;
        }, onLoad: function(t3) {
          return t3;
        } } } };
        var g = n2(1163), v = function() {
          function t3() {
            (0, i.Z)(this, t3);
          }
          var e3, n3;
          return (0, o.Z)(t3, [{ key: "store", value: (n3 = (0, r2.Z)(h().mark(function t4(e4) {
            var n4, r3 = arguments;
            return h().wrap(function(t5) {
              for (; 1; ) switch (t5.prev = t5.next) {
                case 0:
                  n4 = r3.length > 1 && void 0 !== r3[1] ? r3[1] : {}, this.hasLocal(n4, true) && localStorage.setItem(n4.key, JSON.stringify(e4));
                case 2:
                case "end":
                  return t5.stop();
              }
            }, t4, this);
          })), function(t4) {
            return n3.apply(this, arguments);
          }) }, { key: "load", value: (e3 = (0, r2.Z)(h().mark(function t4() {
            var e4, n4, r3 = arguments;
            return h().wrap(function(t5) {
              for (; 1; ) switch (t5.prev = t5.next) {
                case 0:
                  return e4 = r3.length > 0 && void 0 !== r3[0] ? r3[0] : {}, n4 = {}, this.hasLocal(e4, true) && (n4 = JSON.parse(localStorage.getItem(e4.key) || "{}")), t5.abrupt("return", n4);
                case 4:
                case "end":
                  return t5.stop();
              }
            }, t4, this);
          })), function() {
            return e3.apply(this, arguments);
          }) }, { key: "hasLocal", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = arguments.length > 1 ? arguments[1] : void 0;
            if (t4.checkLocal && (!(0, g.hasWin)() || !localStorage)) {
              if (e4) throw new Error("localStorage not available");
              return false;
            }
            return true;
          } }]), t3;
        }(), m = n2(9050), y = n2(9661);
        function b(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function w(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? b(Object(n3), true).forEach(function(e4) {
              (0, u.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : b(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var k = function() {
          function t3() {
            (0, i.Z)(this, t3);
          }
          var e3, n3;
          return (0, o.Z)(t3, [{ key: "store", value: (n3 = (0, r2.Z)(h().mark(function t4(e4) {
            var n4, r3 = arguments;
            return h().wrap(function(t5) {
              for (; 1; ) switch (t5.prev = t5.next) {
                case 0:
                  return n4 = r3.length > 1 && void 0 !== r3[1] ? r3[1] : {}, t5.next = 3, this.request(n4.urlStore, this.__props(n4, e4), n4);
                case 3:
                case "end":
                  return t5.stop();
              }
            }, t4, this);
          })), function(t4) {
            return n3.apply(this, arguments);
          }) }, { key: "load", value: (e3 = (0, r2.Z)(h().mark(function t4(e4) {
            return h().wrap(function(t5) {
              for (; 1; ) switch (t5.prev = t5.next) {
                case 0:
                  return t5.next = 2, this.request(e4.urlLoad, this.__props(e4), e4);
                case 2:
                  return t5.abrupt("return", t5.sent);
                case 3:
                case "end":
                  return t5.stop();
              }
            }, t4, this);
          })), function(t4) {
            return e3.apply(this, arguments);
          }) }, { key: "request", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
            return (0, y.Z)(t4, e4).then(function(t5) {
              var e5 = t5.text();
              return 1 == (t5.status / 200 | 0) ? e5 : e5.then(Promise.reject);
            }).then(function(t5) {
              var e5 = t5 && (0, m.isString)(t5);
              return n4.contentTypeJson && e5 ? JSON.parse(t5) : t5;
            });
          } }, { key: "__props", value: function() {
            var t4, e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n4 = arguments.length > 1 ? arguments[1] : void 0, r3 = e4.contentTypeJson, i2 = e4.headers || {}, o2 = e4.fetchOptions || {}, a2 = "X-Requested-With", s2 = "Content-Type";
            if ((0, m.isUndefined)(i2[a2]) && (i2[a2] = "XMLHttpRequest"), (0, m.isUndefined)(i2[s2]) && r3 && (i2[s2] = "application/json; charset=utf-8"), n4) if (r3) t4 = JSON.stringify(n4);
            else for (var l2 in t4 = new FormData(), n4) t4.append(l2, n4[l2]);
            var c2 = { method: t4 ? "POST" : "GET", credentials: e4.credentials, headers: i2, body: t4 };
            return w(w({}, c2), (0, m.isFunction)(o2) ? o2(c2) : o2);
          } }]), t3;
        }();
        function x(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function O(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? x(Object(n3), true).forEach(function(e4) {
              (0, u.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : x(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function C(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, c.Z)(t3);
            if (e3) {
              var i2 = (0, c.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, l.Z)(this, n3);
          };
        }
        var S = "storage:start", _ = "storage:after", P = "storage:end", T = "storage:error", E = "local", j = "remote", A = function(t3) {
          (0, s.Z)(f2, t3);
          var e3, n3, l2, c2 = C(f2);
          function f2() {
            var t4;
            (0, i.Z)(this, f2);
            for (var e4 = arguments.length, n4 = new Array(e4), r3 = 0; r3 < e4; r3++) n4[r3] = arguments[r3];
            return t4 = c2.call.apply(c2, [this].concat(n4)), (0, u.Z)((0, a.Z)(t4), "name", "StorageManager"), t4;
          }
          return (0, o.Z)(f2, [{ key: "init", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            this.__initConfig(p, t4);
            var e4 = this.getConfig();
            return e4._disable && (e4.type = 0), this.storages = {}, this.add(E, new v(e4)), this.add(j, new k(e4)), this.setCurrent(e4.type), this;
          } }, { key: "isAutosave", value: function() {
            return !!this.getConfig().autosave;
          } }, { key: "setAutosave", value: function(t4) {
            return this.getConfig().autosave = !!t4, this;
          } }, { key: "getStepsBeforeSave", value: function() {
            return this.getConfig().stepsBeforeSave;
          } }, { key: "setStepsBeforeSave", value: function(t4) {
            return this.getConfig().stepsBeforeSave = t4, this;
          } }, { key: "add", value: function(t4, e4) {
            return this.storages[t4] = e4, this;
          } }, { key: "get", value: function(t4) {
            return this.storages[t4] || null;
          } }, { key: "getStorages", value: function() {
            return this.storages;
          } }, { key: "getCurrent", value: function() {
            return this.getConfig().currentStorage;
          } }, { key: "setCurrent", value: function(t4) {
            return this.getConfig().currentStorage = t4, this;
          } }, { key: "getCurrentStorage", value: function() {
            return this.get(this.getCurrent());
          } }, { key: "getStorageOptions", value: function(t4) {
            return this.getCurrentOptions(t4);
          } }, { key: "store", value: (l2 = (0, r2.Z)(h().mark(function t4(e4) {
            var n4, r3, i2, o2, a2, s2 = arguments;
            return h().wrap(function(t5) {
              for (; 1; ) switch (t5.prev = t5.next) {
                case 0:
                  return n4 = s2.length > 1 && void 0 !== s2[1] ? s2[1] : {}, r3 = this.getCurrentStorage(), i2 = O(O({}, this.getCurrentOptions()), n4), o2 = this.getRecoveryStorage(), a2 = this.getCurrentOptions(E), t5.prev = 5, t5.next = 8, this.__exec(r3, i2, e4);
                case 8:
                  if (t5.t0 = o2, !t5.t0) {
                    t5.next = 12;
                    break;
                  }
                  return t5.next = 12, this.__exec(o2, a2, {});
                case 12:
                case 19:
                  t5.next = 22;
                  break;
                case 14:
                  if (t5.prev = 14, t5.t1 = t5["catch"](5), !o2) {
                    t5.next = 21;
                    break;
                  }
                  return t5.next = 19, this.__exec(o2, a2, e4);
                case 21:
                  throw t5.t1;
                case 22:
                  return t5.abrupt("return", e4);
                case 23:
                case "end":
                  return t5.stop();
              }
            }, t4, this, [[5, 14]]);
          })), function(t4) {
            return l2.apply(this, arguments);
          }) }, { key: "load", value: (n3 = (0, r2.Z)(h().mark(function t4() {
            var e4, n4, r3, i2, o2, a2, s2 = arguments;
            return h().wrap(function(t5) {
              for (; 1; ) switch (t5.prev = t5.next) {
                case 0:
                  if (e4 = s2.length > 0 && void 0 !== s2[0] ? s2[0] : {}, n4 = this.getCurrentStorage(), r3 = O(O({}, this.getCurrentOptions()), e4), !(i2 = this.getRecoveryStorage())) {
                    t5.next = 17;
                    break;
                  }
                  return t5.next = 7, this.__exec(i2, this.getCurrentOptions(E));
                case 7:
                  if (a2 = t5.sent, (0, m.isEmpty)(a2)) {
                    t5.next = 17;
                    break;
                  }
                  return t5.prev = 9, t5.next = 12, this.__askRecovery();
                case 12:
                  o2 = a2, t5.next = 17;
                  break;
                case 15:
                  t5.prev = 15, t5.t0 = t5["catch"](9);
                case 17:
                  if (o2) {
                    t5.next = 21;
                    break;
                  }
                  return t5.next = 20, this.__exec(n4, r3);
                case 20:
                  o2 = t5.sent;
                case 21:
                  return t5.abrupt("return", o2 || {});
                case 22:
                case "end":
                  return t5.stop();
              }
            }, t4, this, [[9, 15]]);
          })), function() {
            return n3.apply(this, arguments);
          }) }, { key: "__askRecovery", value: function() {
            var t4 = this.em, e4 = this.getRecovery();
            return new Promise(function(n4, r3) {
              (0, m.isFunction)(e4) ? e4(n4, r3, null == t4 ? void 0 : t4.getEditor()) : confirm(null == t4 ? void 0 : t4.t("storageManager.recover")) ? n4() : r3();
            });
          } }, { key: "getRecovery", value: function() {
            return this.getConfig().recovery;
          } }, { key: "getRecoveryStorage", value: function() {
            return this.getRecovery() && this.getCurrent() === j && this.get(E);
          } }, { key: "__exec", value: (e3 = (0, r2.Z)(h().mark(function t4(e4, n4, r3) {
            var i2, o2, a2, s2, l3, c3, u2, f3;
            return h().wrap(function(t5) {
              for (; 1; ) switch (t5.prev = t5.next) {
                case 0:
                  if (i2 = r3 ? "store" : "load", o2 = this.getConfig(), a2 = o2.onStore, s2 = o2.onLoad, this.onStart(i2, r3), e4) {
                    t5.next = 5;
                    break;
                  }
                  return t5.abrupt("return", r3 || {});
                case 5:
                  if (t5.prev = 5, u2 = null === (c3 = this.em) || void 0 === c3 ? void 0 : c3.getEditor(), !r3) {
                    t5.next = 31;
                    break;
                  }
                  if (t5.t1 = a2, !t5.t1) {
                    t5.next = 13;
                    break;
                  }
                  return t5.next = 12, a2(r3, u2);
                case 12:
                  t5.t1 = t5.sent;
                case 13:
                  if (t5.t0 = t5.t1, t5.t0) {
                    t5.next = 16;
                    break;
                  }
                  t5.t0 = r3;
                case 16:
                  if (f3 = t5.t0, t5.t3 = n4.onStore, !t5.t3) {
                    t5.next = 22;
                    break;
                  }
                  return t5.next = 21, n4.onStore(f3, u2);
                case 21:
                  t5.t3 = t5.sent;
                case 22:
                  if (t5.t2 = t5.t3, t5.t2) {
                    t5.next = 25;
                    break;
                  }
                  t5.t2 = f3;
                case 25:
                  return f3 = t5.t2, t5.next = 28, e4.store(f3, n4);
                case 28:
                  l3 = r3, t5.next = 53;
                  break;
                case 31:
                  return t5.next = 33, e4.load(n4);
                case 33:
                  if (l3 = t5.sent, l3 = this.__clearKeys(l3), t5.t5 = n4.onLoad, !t5.t5) {
                    t5.next = 40;
                    break;
                  }
                  return t5.next = 39, n4.onLoad(l3, u2);
                case 39:
                  t5.t5 = t5.sent;
                case 40:
                  if (t5.t4 = t5.t5, t5.t4) {
                    t5.next = 43;
                    break;
                  }
                  t5.t4 = l3;
                case 43:
                  if (l3 = t5.t4, t5.t7 = s2, !t5.t7) {
                    t5.next = 49;
                    break;
                  }
                  return t5.next = 48, s2(l3, u2);
                case 48:
                  t5.t7 = t5.sent;
                case 49:
                  if (t5.t6 = t5.t7, t5.t6) {
                    t5.next = 52;
                    break;
                  }
                  t5.t6 = l3;
                case 52:
                  l3 = t5.t6;
                case 53:
                  this.onAfter(i2, l3), this.onEnd(i2, l3), t5.next = 61;
                  break;
                case 57:
                  throw t5.prev = 57, t5.t8 = t5["catch"](5), this.onError(i2, t5.t8), t5.t8;
                case 61:
                  return t5.abrupt("return", l3);
                case 62:
                case "end":
                  return t5.stop();
              }
            }, t4, this, [[5, 57]]);
          })), function(t4, n4, r3) {
            return e3.apply(this, arguments);
          }) }, { key: "__clearKeys", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this.getConfig(), n4 = new RegExp("^".concat(e4.id)), r3 = {};
            for (var i2 in t4) {
              var o2 = i2.replace(n4, "");
              r3[o2] = t4[i2];
            }
            return r3;
          } }, { key: "getCurrentOptions", value: function(t4) {
            var e4 = this.getConfig(), n4 = t4 || this.getCurrent();
            return e4.options[n4] || {};
          } }, { key: "onStart", value: function(t4, e4) {
            var n4 = this.em;
            n4 && (n4.trigger(S), t4 && n4.trigger("".concat(S, ":").concat(t4), e4));
          } }, { key: "onAfter", value: function(t4, e4) {
            var n4 = this.em;
            n4 && (n4.trigger(_), n4.trigger("".concat(_, ":").concat(t4), e4), n4.trigger("storage:".concat(t4), e4));
          } }, { key: "onEnd", value: function(t4, e4) {
            var n4 = this.em;
            n4 && (n4.trigger(P), t4 && n4.trigger("".concat(P, ":").concat(t4), e4));
          } }, { key: "onError", value: function(t4, e4) {
            var n4 = this.em;
            n4 && (n4.trigger(T, e4), t4 && n4.trigger("".concat(T, ":").concat(t4), e4), this.onEnd(t4, e4));
          } }, { key: "canAutoload", value: function() {
            return this.getCurrentStorage() && this.getConfig().autoload;
          } }, { key: "destroy", value: function() {
            this.__destroy(), this.storages = {};
          } }]), f2;
        }(d.Z);
      }, 2326: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => Pe, evAll: () => de, evCustom: () => Se, evLayerSelect: () => Oe, evPfx: () => pe, evProp: () => be, evPropAdd: () => we, evPropRemove: () => ke, evPropUp: () => xe, evSector: () => ge, evSectorAdd: () => ve, evSectorRemove: () => me, evSectorUpdate: () => ye, evTarget: () => Ce });
        var r2 = n2(2982), i = n2(4942), o = n2(9050), a = n2(1163), s = n2(9304), l = n2(2316), c = n2.n(l);
        const u = { sectors: [{ name: "General", open: false, properties: ["display", "float", "position", "top", "right", "left", "bottom"] }, { name: "Flex", open: false, properties: ["flex-direction", "flex-wrap", "justify-content", "align-items", "align-content", "order", "flex-basis", "flex-grow", "flex-shrink", "align-self"] }, { name: "Dimension", open: false, properties: ["width", "height", "max-width", "min-height", "margin", "padding"] }, { name: "Typography", open: false, properties: ["font-family", "font-size", "font-weight", "letter-spacing", "color", "line-height", "text-align", "text-shadow"] }, { name: "Decorations", open: false, properties: ["background-color", "border-radius", "border", "box-shadow", "background"] }, { name: "Extra", open: false, properties: ["opacity", "transition", "transform"] }], appendTo: "", stylePrefix: "sm-", custom: false, hideNotStylable: true, highlightChanged: true, highlightComputed: true, showComputed: true, clearProperties: true, avoidComputed: ["width", "height"] };
        var f = n2(4925), h = n2(5671), d = n2(3144), p = n2(9340), g = n2(2963), v = n2(1120), m = n2(793), y = ["partial"];
        function b(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function w(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? b(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : b(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function k(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var x = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = k(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "initialize", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            this.em = e4.em;
            var r3 = this.get("id") || "", i2 = this.get("name") || this.get("label") || "";
            !this.get("property") && this.set("property", (i2 || r3).replace(/ /g, "-"));
            var o2 = this.get("property");
            !this.get("id") && this.set("id", o2), !i2 && this.set("name", (0, a.capitalize)(o2).replace(/-/g, " ")), this.on("change", this.__upTargets), n3.callInit(this, t4, e4);
          } }, { key: "__getParentProp", value: function() {
            var t4, e4;
            return null === (t4 = this.collection) || void 0 === t4 || null === (e4 = t4.opts) || void 0 === e4 ? void 0 : e4.parentProp;
          } }, { key: "__upTargets", value: function(t4) {
            var e4 = this, n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i2 = this.em, a2 = i2.get("StyleManager"), s2 = this.getName(), l2 = n4.__clear, c2 = l2 ? "" : this.__getFullValue(n4), u2 = this.__getParentProp(), f2 = this.changedAttributes(), h2 = (0, o.keys)(f2).reduce(function(t5, n5) {
              return t5[n5] = e4.previous(n5), t5;
            }, {}), d2 = [].concat((0, r2.Z)((0, o.keys)(this.__getClearProps())), ["__p"]), p2 = (0, o.keys)(f2), g2 = !n4.__up && !u2 && (l2 || d2.some(function(t5) {
              return p2.indexOf(t5) >= 0;
            })), v2 = this.get("onChange"), m2 = { property: this, from: h2, to: f2, value: c2, opts: n4 };
            a2.__trgEv(a2.events.propertyUpdate, m2), v2 && v2(m2), g2 && this.__upTargetsStyle({ [s2]: c2 }, n4);
          } }, { key: "__upTargetsStyle", value: function(t4, e4) {
            var n4, r3 = null === (n4 = this.em) || void 0 === n4 ? void 0 : n4.get("StyleManager");
            null == r3 || r3.addStyleTargets(w(w({}, t4), {}, { __p: !!e4.avoidStore }), e4);
          } }, { key: "_up", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            e4.noTarget && (e4.__up = true);
            var n4 = e4.partial, r3 = (0, f.Z)(e4, y);
            return t4.__p = !(!r3.avoidStore && !n4), this.set(t4, w(w({}, r3), {}, { avoidStore: t4.__p }));
          } }, { key: "up", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            this.set(t4, w(w({}, e4), {}, { __up: true }));
          } }, { key: "init", value: function() {
          } }, { key: "getId", value: function() {
            return this.get("id");
          } }, { key: "getType", value: function() {
            return this.get("type");
          } }, { key: "getName", value: function() {
            return this.get("property");
          } }, { key: "getLabel", value: function() {
            var t4, e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n4 = e4.locale, r3 = void 0 === n4 || n4, i2 = this.getId(), o2 = this.get("name") || this.get("label");
            return r3 && (null === (t4 = this.em) || void 0 === t4 ? void 0 : t4.t("styleManager.properties.".concat(i2))) || o2;
          } }, { key: "getValue", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = t4.noDefault, n4 = this.get("value");
            return this.hasValue() || e4 ? n4 : this.getDefaultValue();
          } }, { key: "hasValue", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = t4.noParent, n4 = e4 && this.getParentTarget(), r3 = this.get("value");
            return !(0, o.isUndefined)(r3) && "" !== r3 && !n4;
          } }, { key: "hasValueParent", value: function() {
            return this.hasValue() && !this.hasValue({ noParent: true });
          } }, { key: "getStyle", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this.getName(), n4 = t4.camelCase ? (0, a.camelCase)(e4) : e4;
            return { [n4]: this.__getFullValue(t4) };
          } }, { key: "getDefaultValue", value: function() {
            var t4 = this.get("default");
            return "".concat((0, o.isUndefined)(t4) ? this.get("defaults") : t4);
          } }, { key: "upValue", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = null === t4 || "" === t4 ? this.__getClearProps() : this.__parseValue(t4, e4);
            return this._up(n4, e4);
          } }, { key: "isVisible", value: function() {
            return !!this.get("visible");
          } }, { key: "clear", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            this._up(this.__getClearProps(), w(w({}, t4), {}, { __clear: true }));
          } }, { key: "canClear", value: function() {
            var t4 = this.getParent();
            return t4 ? t4.__canClearProp(this) : this.hasValue({ noParent: true });
          } }, { key: "getParent", value: function() {
            return this.__getParentProp() || null;
          } }, { key: "isFull", value: function() {
            return !!this.get("full");
          } }, { key: "__parseValue", value: function(t4, e4) {
            return this.parseValue(t4, e4);
          } }, { key: "__getClearProps", value: function() {
            return { value: "" };
          } }, { key: "setValue", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1, n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = this.parseValue(t4), i2 = !e4;
            !i2 && this.set({ value: void 0 }, { avoidStore: i2, silent: true }), this.set(r3, w({ avoidStore: i2 }, n4));
          } }, { key: "setValueFromInput", value: function(t4, e4) {
            var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
            this.setValue(t4, e4, w(w({}, n4), {}, { fromInput: 1 }));
          } }, { key: "parseValue", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = { value: t4 }, r3 = "!important";
            if ((0, o.isString)(t4) && -1 !== t4.indexOf(r3) && (n4.value = t4.replace(r3, "").trim(), n4.important = 1), !this.get("functionName") && !e4.complete) return n4;
            var i2 = [], a2 = "".concat(n4.value), s2 = a2.indexOf("(") + 1, l2 = a2.lastIndexOf(")"), c2 = a2.substring(0, s2 - 1);
            if (c2 && (n4.functionName = c2), i2.push(s2), l2 >= 0 && i2.push(l2), n4.value = String.prototype.substring.apply(a2, i2), e4.numeric) {
              var u2 = parseFloat(n4.value);
              n4.unit = n4.value.replace(u2, ""), n4.value = u2;
            }
            return n4;
          } }, { key: "__getFullValue", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = t4.withDefault;
            return !this.hasValue() && e4 ? this.getDefaultValue() : this.getFullValue();
          } }, { key: "getFullValue", value: function(t4) {
            var e4 = this.get("functionName"), n4 = this.getDefaultValue(), r3 = (0, o.isUndefined)(t4) ? this.get("value") : t4, i2 = !(0, o.isUndefined)(r3) && "" !== r3;
            if (r3 && n4 && r3 === n4) return n4;
            if (e4 && i2) {
              var a2 = "url" === e4 ? "'".concat(r3.replace(/'|"/g, ""), "'") : r3;
              r3 = "".concat(e4, "(").concat(a2, ")");
            }
            return i2 && this.get("important") && (r3 = "".concat(r3, " !important")), r3 || "";
          } }, { key: "__setParentTarget", value: function(t4) {
            this.up({ parentTarget: t4 });
          } }, { key: "getParentTarget", value: function() {
            return this.get("parentTarget") || null;
          } }, { key: "__parseFn", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", e4 = t4.indexOf("(") + 1, n4 = t4.lastIndexOf(")");
            return { name: t4.substring(0, e4 - 1).trim(), value: String.prototype.substring.apply(t4, [e4, n4 >= 0 ? n4 : void 0]).trim() };
          } }, { key: "__checkVisibility", value: function(t4) {
            var e4 = t4.target, n4 = t4.component, r3 = t4.sectors, i2 = n4 || e4;
            if (!i2) return false;
            var s2 = this.getId(), l2 = this.getName(), c2 = this.get("toRequire"), u2 = this.get("requires"), f2 = this.get("requiresParent"), h2 = i2.get("unstylable"), d2 = i2.get("stylable-require"), p2 = i2.get("stylable");
            if ((0, o.isArray)(p2) && (p2 = p2.indexOf(l2) >= 0), (0, o.isArray)(h2) && (p2 = h2.indexOf(l2) < 0), c2 && (p2 = !e4 || d2 && (d2.indexOf(s2) >= 0 || d2.indexOf(l2) >= 0)), r3 && u2) {
              var g2 = (0, o.keys)(u2);
              r3.forEach(function(t5) {
                t5.getProperties().forEach(function(t6) {
                  if ((0, o.includes)(g2, t6.id)) {
                    var e5 = u2[t6.id];
                    p2 = p2 && (0, o.includes)(e5, t6.get("value"));
                  }
                });
              });
            }
            if (f2) {
              var v2 = n4 && n4.parent(), m2 = v2 && v2.getEl();
              if (m2) {
                var y2 = (0, a.hasWin)() ? window.getComputedStyle(m2) : {};
                (0, o.each)(f2, function(t5, e5) {
                  p2 = p2 && y2[e5] && (0, o.includes)(t5, y2[e5]);
                });
              } else p2 = false;
            }
            return !!p2;
          } }]), n3;
        }(l.Model);
        function O(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function C(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? O(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : O(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function S(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        x.callParentInit = function(t3, e3, n3) {
          var r3 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
          t3.prototype.initialize.apply(e3, [n3, w(w({}, r3), {}, { skipInit: 1 })]);
        }, x.callInit = function(t3, e3) {
          var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
          !n3.skipInit && t3.init(e3, n3);
        }, x.getDefaults = function() {
          return (0, o.result)(this.prototype, "defaults");
        }, x.prototype.defaults = { name: "", property: "", type: "", defaults: "", info: "", value: "", icon: "", functionName: "", status: "", visible: true, fixedValues: ["initial", "inherit"], onChange: null, full: 0, important: 0, toRequire: 0, requires: null, requiresParent: null, parentTarget: null };
        var _ = function(t3) {
          return "integer" === t3 || "number" === t3;
        }, P = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = S(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "defaults", value: function() {
            return C(C({}, x.getDefaults()), {}, { detached: false, properties: [], separator: " ", join: null, fromStyle: null, toStyle: null, full: true });
          } }, { key: "initialize", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            x.callParentInit(x, this, t4, e4);
            var n4 = this.em, r3 = new Ht(this.get("properties") || [], { em: n4, parentProp: this });
            this.set("properties", r3, { silent: 1 }), this.listenTo(r3, "change", this.__upProperties), x.callInit(this, t4, e4);
          } }, { key: "getProperties", value: function() {
            return (0, r2.Z)(this.get("properties").models);
          } }, { key: "getProperty", value: function(t4) {
            return this.get("properties").filter(function(e4) {
              return e4.getId() === t4 || e4.getName() === t4;
            })[0] || null;
          } }, { key: "getPropertyAt", value: function(t4) {
            return this.get("properties").at(t4);
          } }, { key: "isDetached", value: function() {
            return !!this.get("detached");
          } }, { key: "getValues", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = t4.byName;
            return this.getProperties().reduce(function(t5, n4) {
              return t5[e4 ? n4.getName() : n4.getId()] = "".concat(n4.__getFullValue()), t5;
            }, {});
          } }, { key: "getSeparator", value: function() {
            return this.getSplitSeparator();
          } }, { key: "getJoin", value: function() {
            return this.__getJoin();
          } }, { key: "getStyleFromProps", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this.getName(), n4 = this.__getJoin(), r3 = this.get("toStyle"), i2 = this.getValues(), o2 = {};
            if (r3) o2 = r3(i2, { join: n4, name: e4, property: this });
            else if (i2 = this.getValues({ byName: true }), this.isDetached()) o2 = i2;
            else {
              var a2 = this.getProperties().map(function(t5) {
                return t5.__getFullValue({ withDefault: 1 });
              }).filter(Boolean).join(n4);
              o2 = { [e4]: a2 };
            }
            return this.isDetached() ? o2[e4] = "" : (o2[e4] = o2[e4] || "", o2 = C(C({}, o2), this.getProperties().reduce(function(t5, e5) {
              return t5[e5.getName()] = "", t5;
            }, {}))), t4.camelCase ? Object.keys(o2).reduce(function(t5, e5) {
              return t5[camelCase(e5)] = o2[e5], t5;
            }, {}) : o2;
          } }, { key: "getSplitSeparator", value: function() {
            return new RegExp("".concat(this.get("separator"), "(?![^\\(]*\\))"));
          } }, { key: "__upProperties", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            if (!e4.__up && !e4.__clearIn) {
              var n4 = this.__getParentProp();
              if (n4) return n4.__upProperties(this, e4);
              this.__upTargetsStyleProps(e4, t4);
            }
          } }, { key: "__upTargetsStyleProps", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = arguments.length > 1 ? arguments[1] : void 0, n4 = this.getStyleFromProps();
            if (this.isDetached() && e4) {
              var r3 = e4.getName();
              n4 = { [r3]: n4[r3] };
            }
            this.__upTargetsStyle(n4, t4);
          } }, { key: "_up", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return this.__setProperties(this.__getSplitValue(t4.value), e4), x.prototype._up.call(this, t4, e4);
          } }, { key: "getStyle", value: function(t4) {
            return this.getStyleFromProps(t4);
          } }, { key: "__getFullValue", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return this.isDetached() || t4.__clear ? "" : this.getStyleFromProps()[this.getName()] || "";
          } }, { key: "__getJoin", value: function() {
            var t4 = this.get("join");
            return (0, o.isString)(t4) ? t4 : this.get("separator");
          } }, { key: "__styleHasProps", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this.getName(), n4 = this.getProperties(), i2 = n4.map(function(t5) {
              return t5.getName();
            }), a2 = [e4].concat((0, r2.Z)(i2));
            return a2.some(function(e5) {
              return !(0, o.isUndefined)(t4[e5]) && "" !== t4[e5];
            });
          } }, { key: "__splitValue", value: function(t4, e4) {
            return t4.split(e4).map(function(t5) {
              return t5.trim();
            }).filter(Boolean);
          } }, { key: "__splitStyleName", value: function(t4, e4, n4) {
            return this.__splitValue(t4[e4] || "", n4);
          } }, { key: "__getSplitValue", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = e4.byName, r3 = this.getProperties(), i2 = 4 === r3.length && r3.every(function(t5) {
              return _(t5.getType());
            }), a2 = this.__splitValue(t4, this.getSplitSeparator()), s2 = {};
            return r3.forEach(function(t5, e5) {
              var r4 = a2[e5], l2 = (0, o.isUndefined)(r4) ? "" : r4;
              if (i2) {
                var c2 = a2.length;
                l2 = a2[e5] || a2[e5 % c2 + (1 != c2 && c2 % 2 ? 1 : 0)] || l2;
              }
              var u2 = n4 ? t5.getName() : t5.getId();
              s2[u2] = l2 || "";
            }), s2;
          } }, { key: "__getPropsFromStyle", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            if (!this.__styleHasProps(t4)) return null;
            var n4 = e4.byName, r3 = this.getName(), i2 = this.getProperties(), a2 = this.getSplitSeparator(), s2 = this.get("fromStyle"), l2 = s2 ? s2(t4, { property: this, name: r3, separator: a2 }) : {};
            return s2 || (l2 = this.__getSplitValue(t4[r3] || "", { byName: n4 }), i2.forEach(function(e5) {
              var r4 = t4[e5.getName()], i3 = n4 ? e5.getName() : e5.getId();
              (0, o.isUndefined)(r4) || "" === r4 || (l2[i3] = r4);
            })), l2;
          } }, { key: "__setProperties", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            this.getProperties().forEach(function(n5) {
              var r3 = t4[n5.getId()];
              n5.__getFullValue() !== r3 && n5.upValue(r3, e4);
            });
            var n4 = (0, o.keys)(t4).map(function(e5) {
              return t4[e5];
            }).join(" ");
            this.set("value", n4, { silent: true });
          } }, { key: "clear", value: function() {
            var t4 = this;
            return this.getProperties().map(function(e4) {
              return e4.clear({ __clearIn: !t4.isDetached() });
            }), x.prototype.clear.call(this);
          } }, { key: "hasValue", value: function(t4) {
            return this.getProperties().some(function(e4) {
              return e4.hasValue(t4);
            });
          } }, { key: "getFullValue", value: function() {
            return this.__getFullValue();
          } }, { key: "__canClearProp", value: function(t4) {
            return this.isDetached() && t4.hasValue({ noParent: true });
          } }]), n3;
        }(x);
        function T(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function E(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? T(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : T(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function j(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var A = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = j(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "defaults", value: function() {
            return { values: {} };
          } }, { key: "initialize", value: function() {
            var t4 = this.collection;
            this.prop = null == t4 ? void 0 : t4.prop;
          } }, { key: "getId", value: function() {
            return this.cid;
          } }, { key: "getIndex", value: function() {
            var t4 = this.collection;
            return t4 ? t4.indexOf(this) : -1;
          } }, { key: "getValues", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this.get("values");
            return t4.camelCase ? Object.keys(e4).reduce(function(t5, n4) {
              return t5[(0, a.camelCase)(n4)] = e4[n4], t5;
            }, {}) : e4;
          } }, { key: "getLabel", value: function() {
            var t4;
            return null === (t4 = this.prop) || void 0 === t4 ? void 0 : t4.getLayerLabel(this);
          } }, { key: "isSelected", value: function() {
            var t4;
            return (null === (t4 = this.prop) || void 0 === t4 ? void 0 : t4.getSelectedLayer()) === this;
          } }, { key: "select", value: function() {
            var t4;
            return null === (t4 = this.prop) || void 0 === t4 ? void 0 : t4.selectLayer(this);
          } }, { key: "remove", value: function() {
            var t4;
            return null === (t4 = this.prop) || void 0 === t4 ? void 0 : t4.removeLayer(this);
          } }, { key: "move", value: function(t4) {
            var e4;
            return null === (e4 = this.prop) || void 0 === e4 ? void 0 : e4.moveLayer(this, t4);
          } }, { key: "getStylePreview", value: function() {
            var t4, e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return null === (t4 = this.prop) || void 0 === t4 ? void 0 : t4.getStylePreview(this, e4);
          } }, { key: "hasPreview", value: function() {
            var t4;
            return !(null === (t4 = this.prop) || void 0 === t4 || !t4.get("preview"));
          } }, { key: "upValues", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return this.set("values", E(E({}, this.getValues()), t4));
          } }]), n3;
        }(l.Model);
        function D(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var M = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = D(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "initialize", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            this.prop = e4.prop;
          } }]), n3;
        }(l.Collection);
        M.prototype.model = A;
        var R = ["__layers"];
        function Z(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function L(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? Z(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : Z(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function N(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var I = /,(?![^\(]*\))/, F = /\s(?![^(]*\))/, V = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = N(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "defaults", value: function() {
            return L(L({}, P.getDefaults()), {}, { layers: [], layerSeparator: ", ", layerJoin: "", prepend: 0, preview: false, layerLabel: null, selectedLayer: null });
          } }, { key: "initialize", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            P.callParentInit(P, this, t4, e4);
            var n4 = this.get("layers"), r3 = new M(n4, { prop: this });
            r3.property = this, r3.properties = this.get("properties"), this.set("layers", r3, { silent: true }), this.on("change:selectedLayer", this.__upSelected), this.listenTo(r3, "add remove", this.__upLayers), P.callInit(this, t4, e4);
          } }, { key: "getLayers", value: function() {
            return this.__getLayers().models;
          } }, { key: "__getLayers", value: function() {
            return this.get("layers");
          } }, { key: "getLayer", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
            return this.__getLayers().at(t4) || null;
          } }, { key: "getSelectedLayer", value: function() {
            var t4 = this.get("selectedLayer");
            return t4 && t4.getIndex() >= 0 ? t4 : null;
          } }, { key: "selectLayer", value: function(t4) {
            return this.set("selectedLayer", t4, { __select: true });
          } }, { key: "selectLayerAt", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, e4 = this.getLayer(t4);
            return e4 && this.selectLayer(e4);
          } }, { key: "moveLayer", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n4 = t4 ? t4.getIndex() : -1;
            n4 >= 0 && (0, o.isNumber)(e4) && e4 >= 0 && e4 < this.getLayers().length && n4 !== e4 && (this.removeLayer(t4), this.__getLayers().add(t4, { at: e4 }));
          } }, { key: "addLayer", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = {};
            this.getProperties().forEach(function(e5) {
              var r4 = e5.getId(), i2 = t4[r4];
              n4[r4] = (0, o.isUndefined)(i2) ? e5.getDefaultValue() : i2;
            });
            var r3 = this.get("layers").push({ values: n4 }, e4);
            return r3;
          } }, { key: "removeLayer", value: function(t4) {
            return this.get("layers").remove(t4);
          } }, { key: "removeLayerAt", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, e4 = this.getLayer(t4);
            return e4 ? this.removeLayer(e4) : null;
          } }, { key: "getLayerLabel", value: function(t4) {
            var e4 = "";
            if (t4) {
              var n4 = this.get("layerLabel"), r3 = t4.getValues(), i2 = t4.getIndex();
              if (n4) e4 = n4(t4, { index: i2, values: r3, property: this });
              else {
                var o2 = [];
                this.getProperties().map(function(t5) {
                  o2.push(r3[t5.getId()]);
                }), e4 = o2.filter(Boolean).join(" ");
              }
            }
            return e4;
          } }, { key: "getStyleFromLayer", value: function(t4) {
            var e4, n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = this.__getJoin(), i2 = this.__getJoinLayers(), s2 = this.get("toStyle"), l2 = this.getName(), c2 = t4.getValues();
            if (s2) e4 = s2(c2, { join: r3, joinLayers: i2, name: l2, layer: t4, property: this });
            else {
              var u2 = this.getProperties().map(function(t5) {
                var e5 = t5.getName(), r4 = c2[t5.getId()], i3 = (0, o.isUndefined)(r4) ? t5.getDefaultValue() : r4;
                if (n4.number && _(t5.getType())) {
                  var a2 = t5.parseValue(r4, n4.number);
                  i3 = "".concat(a2.value).concat(a2.unit);
                }
                return { name: e5, value: i3 };
              });
              e4 = this.isDetached() ? u2.reduce(function(t5, e5) {
                return t5[e5.name] = e5.value, t5;
              }, {}) : { [this.getName()]: u2.map(function(t5) {
                return t5.value;
              }).join(r3) };
            }
            return n4.camelCase ? Object.keys(e4).reduce(function(t5, n5) {
              return t5[(0, a.camelCase)(n5)] = e4[n5], t5;
            }, {}) : e4;
          } }, { key: "getStylePreview", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = {}, r3 = this.get("preview");
            return r3 && (n4 = this.getStyleFromLayer(t4, e4)), n4;
          } }, { key: "getLayerSeparator", value: function() {
            var t4 = this.get("layerSeparator");
            return (0, o.isString)(t4) ? new RegExp("".concat(t4, "(?![^\\(]*\\))")) : t4;
          } }, { key: "__upProperties", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = this.getSelectedLayer();
            n4 && (n4.upValues({ [t4.getId()]: t4.__getFullValue() }), e4.__up || this.__upTargetsStyleProps(e4));
          } }, { key: "__upLayers", value: function(t4, e4, n4) {
            this.__upTargetsStyleProps(n4 || e4);
          } }, { key: "__upTargets", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            if (!e4.__select) return x.prototype.__upTargets.call(this, t4, e4);
          } }, { key: "__upTargetsStyleProps", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            this.__upTargetsStyle(this.getStyleFromLayers(), t4);
          } }, { key: "__upTargetsStyle", value: function(t4, e4) {
            return x.prototype.__upTargetsStyle.call(this, t4, e4);
          } }, { key: "__upSelected", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = t4.noEvent, n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = this.em.get("StyleManager"), i2 = this.getSelectedLayer(), o2 = null == i2 ? void 0 : i2.getValues();
            o2 && this.getProperties().forEach(function(t5) {
              var e5, r4 = null !== (e5 = o2[t5.getId()]) && void 0 !== e5 ? e5 : "";
              t5.__getFullValue() !== r4 && t5.upValue(r4, L(L({}, n4), {}, { __up: true }));
            }), !e4 && r3.__trgEv(r3.events.layerSelect, { property: this });
          } }, { key: "_up", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = t4.__layers, r3 = void 0 === n4 ? [] : n4, i2 = (0, f.Z)(t4, R);
            return !this.isDetached() && this.__setLayers(r3), this.__upSelected({ noEvent: true }, e4), x.prototype._up.call(this, i2, e4);
          } }, { key: "__setLayers", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [], e4 = this.__getLayers(), n4 = t4.map(function(t5) {
              return { values: t5 };
            });
            e4.length === n4.length ? n4.map(function(t5, n5) {
              var r3;
              return null === (r3 = e4.at(n5)) || void 0 === r3 ? void 0 : r3.upValues(t5.values);
            }) : this.__getLayers().reset(n4), this.__upSelected({ noEvent: true });
          } }, { key: "__parseValue", value: function(t4) {
            var e4 = this, n4 = this.parseValue(t4);
            return n4.__layers = t4.split(I).map(function(t5) {
              return t5.trim();
            }).map(function(t5) {
              return e4.__parseLayer(t5);
            }).filter(Boolean), n4;
          } }, { key: "__parseLayer", value: function(t4) {
            var e4 = this.get("parseLayer"), n4 = t4.split(F), r3 = this.getProperties();
            return e4 ? e4({ value: t4, values: n4 }) : r3.reduce(function(t5, e5, r4) {
              var i2 = n4[r4];
              return t5[e5.getId()] = (0, o.isUndefined)(i2) ? e5.getDefaultValue() : i2, t5;
            }, {});
          } }, { key: "__getLayersFromStyle", value: function() {
            var t4 = this, e4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            if (!this.__styleHasProps(e4)) return null;
            var n4 = this.getName(), r3 = this.getProperties(), i2 = this.getLayerSeparator(), a2 = this.get("fromStyle"), s2 = a2 ? a2(e4, { property: this, name: n4, separatorLayers: i2 }) : [];
            if (!a2) {
              var l2 = this.__splitStyleName(e4, n4, i2).map(function(e5) {
                return e5.split(t4.getSplitSeparator());
              }).map(function(t5) {
                var e5 = {};
                return r3.forEach(function(n5, r4) {
                  var i3 = t5[r4];
                  e5[n5.getId()] = (0, o.isUndefined)(i3) ? n5.getDefaultValue() : i3;
                }), e5;
              });
              r3.forEach(function(n5) {
                var r4 = n5.getId();
                t4.__splitStyleName(e4, n5.getName(), i2).map(function(t5) {
                  return { [r4]: t5 || n5.getDefaultValue() };
                }).forEach(function(t5, e5) {
                  l2[e5] = l2[e5] ? L(L({}, l2[e5]), t5) : t5;
                });
              }), s2 = l2;
            }
            return (0, o.isArray)(s2) ? s2 : [s2];
          } }, { key: "getStyle", value: function(t4) {
            return this.getStyleFromLayers(t4);
          } }, { key: "getStyleFromLayers", value: function(t4) {
            var e4 = this, n4 = {}, r3 = this.getName(), i2 = this.getLayers(), a2 = this.getProperties();
            if (i2.map(function(n5) {
              return e4.getStyleFromLayer(n5, t4);
            }).forEach(function(t5) {
              (0, o.keys)(t5).map(function(e5) {
                n4[e5] || (n4[e5] = []), n4[e5].push(t5[e5]);
              });
            }), (0, o.keys)(n4).map(function(t5) {
              n4[t5] = n4[t5].join(e4.__getJoinLayers());
            }), this.isDetached()) n4[r3] = "", !i2.length && a2.map(function(t5) {
              n4[t5.getName()] = "";
            });
            else {
              var s2 = a2.reduce(function(t5, e5) {
                return t5[e5.getName()] = "", t5;
              }, {});
              n4[r3] = n4[r3] || "", n4 = L(L({}, n4), s2);
            }
            return n4;
          } }, { key: "__getJoinLayers", value: function() {
            var t4 = this.get("layerJoin"), e4 = this.get("layerSeparator");
            return t4 || ((0, o.isString)(e4) ? e4 : t4);
          } }, { key: "__getFullValue", value: function() {
            return this.get("detached") ? "" : this.getStyleFromLayers()[this.getName()];
          } }, { key: "hasValue", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = t4.noParent, n4 = e4 && this.getParentTarget();
            return this.getLayers().length > 0 && !n4;
          } }, { key: "clear", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return this.__getLayers().reset(), this.__upTargetsStyleProps(t4), x.prototype.clear.call(this);
          } }, { key: "__canClearProp", value: function() {
            return false;
          } }]), n3;
        }(P), B = ["complete", "partial"];
        function H(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function z(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? H(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : H(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function U(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var W = "data-clear-style", $ = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = U(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "template", value: function() {
            var t4 = this.pfx, e4 = this.ppfx;
            return '\n      <div class="'.concat(t4, 'label" data-sm-label></div>\n      <div class="').concat(e4, 'fields" data-sm-fields></div>\n    ');
          } }, { key: "templateLabel", value: function(t4) {
            var e4 = this.pfx, n4 = this.em, r3 = t4.parent, i2 = t4.attributes, o2 = i2.icon, a2 = void 0 === o2 ? "" : o2, s2 = i2.info, l2 = void 0 === s2 ? "" : s2, c2 = null == n4 ? void 0 : n4.getConfig().icons, u2 = (null == c2 ? void 0 : c2.close) || "";
            return '\n      <span class="'.concat(e4, "icon ").concat(a2, '" title="').concat(l2, '">\n        ').concat(t4.getLabel(), "\n      </span>\n      ").concat(r3 ? "" : '<div class="'.concat(e4, 'clear" style="display: none" ').concat(W, ">").concat(u2, "</div>"), "\n    ");
          } }, { key: "templateInput", value: function(t4) {
            return '\n      <div class="'.concat(this.ppfx, 'field">\n        <input placeholder="').concat(t4.getDefaultValue(), '"/>\n      </div>\n    ');
          } }, { key: "initialize", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            (0, o.bindAll)(this, "__change", "__updateStyle");
            var e4 = t4.config || {}, n4 = e4.em;
            this.config = e4, this.em = n4, this.pfx = e4.stylePrefix || "", this.ppfx = e4.pStylePrefix || "", this.__destroyFn = this.destroy ? this.destroy.bind(this) : function() {
            };
            var r3 = this.model;
            r3.view = this, this.onValueChange = (0, o.debounce)(this.onValueChange.bind(this), 10), this.updateStatus = (0, o.debounce)(this.updateStatus.bind(this)), this.listenTo(r3, "destroy remove", this.remove), this.listenTo(r3, "change:visible", this.updateVisibility), this.listenTo(r3, "change:name change:className change:full", this.render), this.listenTo(r3, "change:value", this.onValueChange), this.listenTo(r3, "change:parentTarget", this.updateStatus), this.listenTo(n4, "change:device", this.onValueChange);
            var i2 = this.init && this.init.bind(this);
            i2 && i2();
          } }, { key: "remove", value: function() {
            var t4 = this;
            l.View.prototype.remove.apply(this, arguments), ["em", "input", "$input", "view"].forEach(function(e4) {
              return t4[e4] = null;
            }), this.__destroyFn(this._getClbOpts());
          } }, { key: "updateStatus", value: function() {
            var t4, e4 = this.model, n4 = this.pfx, r3 = this.ppfx, i2 = this.config, o2 = "".concat(r3, "four-color"), a2 = "".concat(r3, "color-warn"), s2 = this.$el.children(".".concat(n4, "label")), l2 = this.getClearEl(), c2 = l2 ? l2.style : {};
            s2.removeClass("".concat(o2, " ").concat(a2)), c2.display = "none", e4.hasValue({ noParent: true }) && i2.highlightChanged ? (s2.addClass(o2), i2.clearProperties && (c2.display = "")) : e4.hasValue() && i2.highlightComputed && s2.addClass(a2), null === (t4 = this.parent) || void 0 === t4 || t4.updateStatus();
          } }, { key: "clear", value: function(t4) {
            t4 && t4.stopPropagation(), this.model.clear();
          } }, { key: "getClearEl", value: function() {
            return this.clearEl || (this.clearEl = this.el.querySelector("[".concat(W, "]"))), this.clearEl;
          } }, { key: "inputValueChanged", value: function(t4) {
            t4 && t4.stopPropagation(), this.emit || this.model.upValue(t4.target.value);
          } }, { key: "onValueChange", value: function(t4, e4) {
            this.setValue(this.model.getFullValue()), this.updateStatus();
          } }, { key: "setValue", value: function(t4) {
            var e4 = this.model, n4 = (0, o.isUndefined)(t4) || "" === t4 ? e4.getDefaultValue() : t4;
            if (this.update) return this.__update(n4);
            this.__setValueInput(n4);
          } }, { key: "__setValueInput", value: function(t4) {
            var e4 = this.getInputEl();
            e4 && (e4.value = t4);
          } }, { key: "getInputEl", value: function() {
            return this.input || (this.input = this.el.querySelector("input")), this.input;
          } }, { key: "updateVisibility", value: function() {
            this.el.style.display = this.model.isVisible() ? "" : "none";
          } }, { key: "clearCached", value: function() {
            this.clearEl = null, this.input = null, this.$input = null;
          } }, { key: "__unset", value: function() {
            var t4 = this.unset && this.unset.bind(this);
            t4 && t4(this._getClbOpts());
          } }, { key: "__update", value: function(t4) {
            var e4 = this.update && this.update.bind(this);
            e4 && e4(z(z({}, this._getClbOpts()), {}, { value: t4 }));
          } }, { key: "__change", value: function() {
            for (var t4 = this.emit && this.emit.bind(this), e4 = arguments.length, n4 = new Array(e4), r3 = 0; r3 < e4; r3++) n4[r3] = arguments[r3];
            t4 && t4.apply(void 0, [this._getClbOpts()].concat(n4));
          } }, { key: "__updateStyle", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = e4.complete, r3 = e4.partial, i2 = ((0, f.Z)(e4, B), this.model), o2 = false !== n4 && true !== r3;
            (0, a.isObject)(t4) ? i2.__upTargetsStyle(t4, { avoidStore: !o2 }) : i2.upValue(t4, { partial: !o2 });
          } }, { key: "_getClbOpts", value: function() {
            var t4 = this.model;
            return { el: this.el, createdEl: this.createdEl, property: t4, props: t4.attributes, change: this.__change, updateStyle: this.__updateStyle };
          } }, { key: "render", value: function() {
            this.clearCached();
            var t4 = this.pfx, e4 = this.model, n4 = this.el, r3 = this.$el, i2 = e4.getName(), o2 = e4.getType(), a2 = e4.get("className") || "", s2 = "".concat(t4, "property"), l2 = "number" === o2 ? "".concat(t4).concat(o2, " ").concat(t4, "integer") : "".concat(t4).concat(o2);
            this.createdEl && this.__destroyFn(this._getClbOpts()), r3.empty().append(this.template(e4)), r3.find("[data-sm-label]").append(this.templateLabel(e4));
            var c2 = this.create && this.create.bind(this);
            this.createdEl = c2 && c2(this._getClbOpts()), r3.find("[data-sm-fields]").append(this.createdEl || this.templateInput(e4)), n4.className = "".concat(s2, " ").concat(l2, " ").concat(s2, "__").concat(i2, " ").concat(a2).trim(), n4.className += e4.isFull() ? " ".concat(s2, "--full") : "";
            var u2 = this.onRender && this.onRender.bind(this);
            u2 && u2(), this.setValue(e4.getValue());
          } }]), n3;
        }(l.View);
        $.prototype.events = { change: "inputValueChanged", ["click [".concat(W, "]")]: "clear" };
        var q = n2(9283);
        function G(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var K = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = G(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "initialize", value: function(t4) {
            this.config = t4.config || {}, this.pfx = this.config.stylePrefix || "", this.properties = [], this.parent = t4.parent;
            var e4 = this.collection;
            this.listenTo(e4, "add", this.addTo), this.listenTo(e4, "reset", this.render);
          } }, { key: "addTo", value: function(t4, e4, n4) {
            this.add(t4, null, n4);
          } }, { key: "add", value: function(t4, e4) {
            var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = this.parent, i2 = this.config, o2 = e4 || this.el, a2 = new t4.typeView({ model: t4, config: i2 });
            r3 && (a2.parent = r3), a2.render();
            var s2 = a2.el;
            this.properties.push(a2), (0, q.$Q)(o2, s2, n4.at);
          } }, { key: "remove", value: function() {
            l.View.prototype.remove.apply(this, arguments), this.clearItems();
          } }, { key: "clearItems", value: function() {
            this.properties.forEach(function(t4) {
              return t4.remove();
            }), this.properties = [];
          } }, { key: "render", value: function() {
            var t4 = this, e4 = this.$el, n4 = this.pfx;
            this.clearItems();
            var r3 = document.createDocumentFragment();
            return this.collection.forEach(function(e5) {
              return t4.add(e5, r3);
            }), e4.empty(), e4.append(r3), e4.attr("class", "".concat(n4, "properties")), this;
          } }]), n3;
        }(l.View);
        function Y(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function X(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? Y(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : Y(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function J(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var Q = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = J(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "templateInput", value: function() {
            var t4 = this.pfx;
            return '\n      <div class="'.concat(t4, "field ").concat(t4, 'composite">\n        <span id="').concat(t4, 'input-holder"></span>\n      </div>\n    ');
          } }, { key: "remove", value: function() {
            var t4;
            null === (t4 = this.props) || void 0 === t4 || t4.remove(), $.prototype.remove.apply(this, arguments);
          } }, { key: "onValueChange", value: function() {
          } }, { key: "onRender", value: function() {
            var t4 = this.model, e4 = this.pfx, n4 = t4.get("properties");
            if (n4.length && !this.props) {
              var r3 = t4.isDetached(), i2 = new K({ config: X(X({}, this.config), {}, { highlightComputed: r3, highlightChanged: r3 }), collection: n4, parent: this });
              i2.render(), this.$el.find("#".concat(e4, "input-holder")).append(i2.el), this.props = i2;
            }
          } }, { key: "clearCached", value: function() {
            $.prototype.clearCached.apply(this, arguments), this.props = null;
          } }]), n3;
        }($);
        function tt(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var et = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = tt(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "events", value: function() {
            return { click: "select", "click [data-close-layer]": "removeItem", "mousedown [data-move-layer]": "initSorter", "touchstart [data-move-layer]": "initSorter" };
          } }, { key: "template", value: function() {
            var t4 = this.pfx, e4 = this.ppfx, n4 = this.em, r3 = null == n4 ? void 0 : n4.getConfig().icons, i2 = (null == r3 ? void 0 : r3.close) || "", o2 = (null == r3 ? void 0 : r3.move) || "";
            return '\n      <div class="'.concat(t4, 'label-wrp">\n        <div id="').concat(t4, 'move" class="').concat(e4, 'no-touch-actions" data-move-layer>\n          ').concat(o2, '\n        </div>\n        <div id="').concat(t4, 'label" data-label></div>\n        <div id="').concat(t4, 'preview-box" class="').concat(t4, 'layer-preview" style="display: none" data-preview-box>\n          <div id="').concat(t4, 'preview" class="').concat(t4, 'layer-preview-cnt" data-preview></div>\n        </div>\n        <div id="').concat(t4, 'close-layer" class="').concat(t4, 'btn-close" data-close-layer>\n          ').concat(i2, '\n        </div>\n      </div>\n      <div id="').concat(t4, 'inputs" data-properties></div>\n    ');
          } }, { key: "initialize", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this.model, n4 = t4.config || {};
            this.em = n4.em, this.config = n4, this.sorter = t4.sorter, this.pfx = n4.stylePrefix || "", this.ppfx = n4.pStylePrefix || "", this.propertyView = t4.propertyView;
            var r3 = this.propertyView.model;
            this.listenTo(e4, "destroy remove", this.remove), this.listenTo(e4, "change:values", this.updateLabel), this.listenTo(r3, "change:selectedLayer", this.updateVisibility), e4.view = this, e4.set({ droppable: 0, draggable: 1 }), this.$el.data("model", e4);
          } }, { key: "initSorter", value: function() {
            var t4;
            null === (t4 = this.sorter) || void 0 === t4 || t4.startSort(this.el);
          } }, { key: "removeItem", value: function(t4) {
            t4 && t4.stopPropagation(), this.model.remove();
          } }, { key: "select", value: function() {
            this.model.select();
          } }, { key: "getPropertiesWrapper", value: function() {
            return this.propsWrapEl || (this.propsWrapEl = this.el.querySelector("[data-properties]")), this.propsWrapEl;
          } }, { key: "getPreviewEl", value: function() {
            return this.previewEl || (this.previewEl = this.el.querySelector("[data-preview]")), this.previewEl;
          } }, { key: "getLabelEl", value: function() {
            return this.labelEl || (this.labelEl = this.el.querySelector("[data-label]")), this.labelEl;
          } }, { key: "updateLabel", value: function() {
            var t4 = this.model, e4 = t4.getLabel();
            if (this.getLabelEl().innerHTML = e4, t4.hasPreview()) {
              var n4 = this.getPreviewEl(), r3 = t4.getStylePreview({ number: { min: -3, max: 3 } }), i2 = (0, o.keys)(r3).map(function(t5) {
                return "".concat(t5, ":").concat(r3[t5]);
              }).join(";");
              n4.setAttribute("style", i2);
            }
          } }, { key: "updateVisibility", value: function() {
            var t4 = this.pfx, e4 = this.model, n4 = this.propertyView, r3 = this.getPropertiesWrapper(), i2 = e4.isSelected();
            r3.style.display = i2 ? "" : "none", this.$el[i2 ? "addClass" : "removeClass"]("".concat(t4, "active")), i2 && r3.appendChild(n4.props.el);
          } }, { key: "render", value: function() {
            var t4 = this.el, e4 = this.pfx, n4 = this.model;
            return t4.innerHTML = this.template(), t4.className = "".concat(e4, "layer"), n4.hasPreview() && (t4.querySelector("[data-preview-box]").style.display = ""), this.updateLabel(), this.updateVisibility(), this;
          } }]), n3;
        }(l.View);
        function nt(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var rt = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = nt(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "initialize", value: function(t4) {
            var e4 = this.collection, n4 = t4.config || {}, r3 = n4.em, i2 = n4.stylePrefix || "", o2 = n4.pStylePrefix || "";
            this.config = n4, this.pfx = i2, this.ppfx = o2, this.propertyView = t4.propertyView, this.className = "".concat(i2, "layers ").concat(o2, "field"), this.listenTo(e4, "add", this.addTo), this.listenTo(e4, "reset", this.reset), this.items = [];
            var a2 = r3 ? r3.get("Utils") : "";
            this.sorter = a2 ? new a2.Sorter({ container: this.el, ignoreViewChildren: 1, containerSel: ".".concat(i2, "layers"), itemSel: ".".concat(i2, "layer"), pfx: n4.pStylePrefix }) : "", e4.view = this, this.$el.data("model", e4), this.$el.data("collection", e4);
          } }, { key: "addTo", value: function(t4) {
            var e4 = this.collection.indexOf(t4);
            this.addToCollection(t4, null, e4);
          } }, { key: "addToCollection", value: function(t4, e4, n4) {
            var r3 = e4 || null, i2 = this.propertyView, o2 = this.config, a2 = this.sorter, s2 = this.$el, l2 = new et({ model: t4, config: o2, sorter: a2, propertyView: i2 }), c2 = l2.render().el;
            if (this.items.push(l2), r3) r3.appendChild(c2);
            else if (void 0 !== n4) {
              var u2 = "before";
              s2.children().length === n4 && (n4--, u2 = "after"), n4 < 0 ? s2.append(c2) : s2.children().eq(n4)[u2](c2);
            } else s2.append(c2);
            return c2;
          } }, { key: "reset", value: function(t4, e4) {
            this.clearItems(e4), this.render();
          } }, { key: "remove", value: function() {
            this.clearItems(), l.View.prototype.remove.apply(this, arguments);
          } }, { key: "clearItems", value: function() {
            this.items.forEach(function(t4) {
              return t4.remove();
            }), this.items = [];
          } }, { key: "render", value: function() {
            var t4 = this, e4 = this.$el, n4 = this.sorter, r3 = document.createDocumentFragment();
            return e4.empty(), this.collection.forEach(function(e5) {
              return t4.addToCollection(e5, r3);
            }), e4.append(r3), e4.attr("class", this.className), n4 && (n4.plh = null), this;
          } }]), n3;
        }(l.View);
        function it(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function ot(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? it(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : it(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function at(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var st = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = at(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "events", value: function() {
            return ot(ot({}, Q.prototype.events), {}, { "click [data-add-layer]": "addLayer", change: "" });
          } }, { key: "templateInput", value: function() {
            var t4 = this.pfx, e4 = this.em, n4 = null == e4 ? void 0 : e4.getConfig().icons, r3 = (null == n4 ? void 0 : n4.plus) || "+";
            return '\n      <div class="'.concat(t4, "field ").concat(t4, 'stack">\n        <button type="button" id="').concat(t4, 'add" data-add-layer>\n          ').concat(r3, "\n        </button>\n        <div data-layers-wrapper></div>\n      </div>\n    ");
          } }, { key: "init", value: function() {
            var t4 = this.model;
            this.listenTo(t4.__getLayers(), "change reset", this.updateStatus);
          } }, { key: "addLayer", value: function() {
            this.model.addLayer({}, { at: 0 });
          } }, { key: "setValue", value: function() {
          } }, { key: "remove", value: function() {
            var t4;
            null === (t4 = this.layersView) || void 0 === t4 || t4.remove(), Q.prototype.remove.apply(this, arguments);
          } }, { key: "clearCached", value: function() {
            Q.prototype.clearCached.apply(this, arguments), this.layersView = null;
          } }, { key: "onRender", value: function() {
            var t4 = this.model, e4 = this.el, n4 = this.config, r3 = t4.get("properties");
            if (r3.length && !this.props) {
              var i2 = new K({ config: ot(ot({}, n4), {}, { highlightComputed: false, highlightChanged: false }), collection: r3, parent: this });
              i2.render();
              var o2 = new rt({ collection: t4.__getLayers(), config: n4, propertyView: this });
              o2.render(), e4.querySelector("[data-layers-wrapper]").appendChild(o2.el), this.props = i2, this.layersView = o2;
            }
          } }]), n3;
        }(Q);
        function lt(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function ct(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? lt(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : lt(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function ut(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var ft = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = ut(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "events", value: function() {
            return ct(ct({}, $.prototype.events), {}, { "click [data-clear-asset]": "clear", "click [data-open-assets]": "openAssetManager" });
          } }, { key: "templateInput", value: function() {
            var t4, e4 = this.pfx, n4 = this.em, r3 = null === (t4 = this.em) || void 0 === t4 ? void 0 : t4.getConfig().icons, i2 = null == r3 ? void 0 : r3.close;
            return '\n      <div class="'.concat(e4, "field ").concat(e4, `file">
        <div id='`).concat(e4, `input-holder'>
          <div class="`).concat(e4, 'btn-c">\n            <button class="').concat(e4, 'btn" id="').concat(e4, 'images" type="button" data-open-assets>\n              ').concat(n4.t("styleManager.fileButton"), '\n            </button>\n          </div>\n          <div style="clear:both;"></div>\n        </div>\n        <div id="').concat(e4, 'preview-box" class="').concat(e4, 'preview-file" data-preview-box>\n          <div id="').concat(e4, 'preview-file" class="').concat(e4, 'preview-file-cnt" data-preview></div>\n          <div id="').concat(e4, 'close" class="').concat(e4, 'preview-file-close" data-clear-asset>').concat(i2, "</div>\n        </div>\n      </div>\n    ");
          } }, { key: "__setValueInput", value: function(t4) {
            var e4 = this.model, n4 = this.el, r3 = e4.getDefaultValue(), i2 = n4.querySelector("[data-preview-box]"), o2 = n4.querySelector("[data-preview]");
            i2.style.display = t4 && t4 !== r3 ? "" : "none", o2.style.backgroundImage = t4 || e4.getDefaultValue();
          } }, { key: "openAssetManager", value: function() {
            var t4, e4 = this, n4 = null === (t4 = this.em) || void 0 === t4 ? void 0 : t4.get("AssetManager");
            null == n4 || n4.open({ select: function(t5, r3) {
              var i2 = (0, o.isString)(t5) ? t5 : t5.get("src");
              e4.model.upValue(i2, { partial: !r3 }), r3 && n4.close();
            }, types: ["image"], accept: "image/*" });
          } }]), n3;
        }($);
        function ht(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var dt = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = ht(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "templateInput", value: function() {
            return "";
          } }, { key: "init", value: function() {
            var t4 = this.model;
            this.listenTo(t4, "change:unit", this.onValueChange), this.listenTo(t4, "change:units", this.render);
          } }, { key: "setValue", value: function() {
          } }, { key: "onRender", value: function() {
            var t4 = this.ppfx, e4 = this.model, n4 = this.el;
            if (!this.inputInst) {
              var r3 = e4.input;
              r3.ppfx = t4, r3.render(), n4.querySelector(".".concat(t4, "fields")).appendChild(r3.el), this.input = r3.inputEl.get(0), this.inputInst = r3;
            }
          } }, { key: "clearCached", value: function() {
            $.prototype.clearCached.apply(this, arguments), this.inputInst = null;
          } }]), n3;
        }($), pt = n2(1511);
        function gt(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var vt = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = gt(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "setValue", value: function(t4) {
            var e4;
            null === (e4 = this.inputInst) || void 0 === e4 || e4.setValue(t4, { fromTarget: 1, def: this.model.getDefaultValue() });
          } }, { key: "remove", value: function() {
            var t4 = this;
            dt.prototype.remove.apply(this, arguments);
            var e4 = this.inputInst;
            e4 && e4.remove && e4.remove(), ["inputInst", "$color"].forEach(function(e5) {
              return t4[e5] = null;
            });
          } }, { key: "__handleChange", value: function(t4, e4) {
            this.model.upValue(t4, { partial: e4 });
          } }, { key: "onRender", value: function() {
            if (!this.inputInst) {
              this.__handleChange = this.__handleChange.bind(this);
              var t4 = this.ppfx, e4 = this.model, n4 = this.em, r3 = this.el, i2 = new pt.Z({ target: n4, model: e4, ppfx: t4, onChange: this.__handleChange }).render();
              r3.querySelector(".".concat(t4, "fields")).appendChild(i2.el), this.input = i2.inputEl.get(0), this.inputInst = i2;
            }
          } }]), n3;
        }(dt);
        function mt(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function yt(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? mt(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : mt(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function bt(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var wt = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = bt(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "defaults", value: function() {
            return yt(yt({}, x.getDefaults()), {}, { options: [], full: 0 });
          } }, { key: "getOptions", value: function() {
            var t4 = this.attributes, e4 = t4.options, n4 = t4.list;
            return (e4 && e4.length ? e4 : n4) || [];
          } }, { key: "getOption", value: function(t4) {
            var e4 = this, n4 = t4 || this.getValue();
            return this.getOptions().filter(function(t5) {
              return e4.getOptionId(t5) === n4;
            })[0] || null;
          } }, { key: "setOptions", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
            return this.set("options", t4), this;
          } }, { key: "addOption", value: function(t4) {
            if (t4) {
              var e4 = this.getOptions();
              this.setOptions([].concat((0, r2.Z)(e4), [t4]));
            }
            return this;
          } }, { key: "getOptionId", value: function(t4) {
            return (0, a.isDef)(t4.id) ? t4.id : t4.value;
          } }, { key: "getOptionLabel", value: function(t4) {
            var e4, n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = n4.locale, i2 = void 0 === r3 || r3, a2 = ((0, o.isString)(t4) ? this.getOption(t4) : t4) || {}, s2 = this.getOptionId(a2), l2 = a2.label || a2.name || s2, c2 = this.getId();
            return i2 && (null === (e4 = this.em) || void 0 === e4 ? void 0 : e4.t("styleManager.options.".concat(c2, ".").concat(s2))) || l2;
          } }, { key: "initialize", value: function() {
            for (var t4 = arguments.length, e4 = new Array(t4), n4 = 0; n4 < t4; n4++) e4[n4] = arguments[n4];
            x.prototype.initialize.apply(this, e4), this.listenTo(this, "change:options", this.__onOptionChange);
          } }, { key: "__onOptionChange", value: function() {
            this.set("list", this.get("options"));
          } }]), n3;
        }(x);
        function kt(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var xt = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = kt(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "templateInput", value: function() {
            var t4 = this.pfx, e4 = this.ppfx;
            return '\n      <div class="'.concat(e4, "field ").concat(e4, 'select">\n        <span id="').concat(t4, 'input-holder"></span>\n        <div class="').concat(e4, 'sel-arrow">\n          <div class="').concat(e4, 'd-s-arrow"></div>\n        </div>\n      </div>\n    ');
          } }, { key: "initialize", value: function() {
            for (var t4 = arguments.length, e4 = new Array(t4), n4 = 0; n4 < t4; n4++) e4[n4] = arguments[n4];
            $.prototype.initialize.apply(this, e4), this.listenTo(this.model, "change:options", this.updateOptions);
          } }, { key: "updateOptions", value: function() {
            this.input = null, this.onRender();
          } }, { key: "onRender", value: function() {
            var t4 = this.model, e4 = this.pfx, n4 = t4.getOptions();
            if (!this.input) {
              var r3 = [];
              n4.forEach(function(e5) {
                var n5 = t4.getOptionId(e5), i3 = t4.getOptionLabel(n5), o2 = e5.style ? e5.style.replace(/"/g, "&quot;") : "", a2 = o2 ? 'style="'.concat(o2, '"') : "", s2 = n5.replace(/"/g, "&quot;");
                r3.push('<option value="'.concat(s2, '" ').concat(a2, ">").concat(i3, "</option>"));
              });
              var i2 = this.el.querySelector("#".concat(e4, "input-holder"));
              i2.innerHTML = "<select>".concat(r3.join(""), "</select>"), this.input = i2.firstChild;
            }
          } }, { key: "__setValueInput", value: function(t4) {
            var e4 = this.model, n4 = this.getInputEl(), r3 = e4.getOptions()[0], i2 = r3 ? e4.getOptionId(r3) : "";
            n4 && (n4.value = t4 || i2);
          } }]), n3;
        }($);
        function Ot(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function Ct(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? Ot(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : Ot(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function St(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var _t = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = St(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "defaults", value: function() {
            return Ct(Ct({}, wt.getDefaults()), {}, { full: 1 });
          } }]), n3;
        }(wt);
        function Pt(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var Tt = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = Pt(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "templateInput", value: function() {
            var t4 = this.ppfx;
            return '<div class="'.concat(t4, "field ").concat(t4, 'field-radio"></div>');
          } }, { key: "onRender", value: function() {
            var t4 = this.pfx, e4 = this.ppfx, n4 = this.model, r3 = "".concat(e4, "radio-item-label"), i2 = n4.getName(), o2 = n4.getOptions(), a2 = "".concat(t4, "radio ").concat(t4, "radio-").concat(i2), s2 = n4.cid;
            if (!this.input) {
              var l2 = [];
              o2.forEach(function(o3) {
                var c3 = o3.className ? "".concat(o3.className, " ").concat(t4, "icon ").concat(r3) : "", u2 = n4.getOptionId(o3), f2 = "".concat(i2, "-").concat(u2, "-").concat(s2), h2 = c3 ? "" : n4.getOptionLabel(u2), d2 = o3.title ? 'title="'.concat(o3.title, '"') : "", p2 = n4.getValue() === u2 ? "checked" : "";
                l2.push('\n          <div class="'.concat(e4, 'radio-item">\n            <input type="radio" class="').concat(a2, '" id="').concat(f2, '" name="').concat(i2, "-").concat(s2, '" value="').concat(u2, '" ').concat(p2, '/>\n            <label class="').concat(c3 || r3, '" ').concat(d2, ' for="').concat(f2, '">').concat(h2, "</label>\n          </div>\n        "));
              });
              var c2 = this.el.querySelector(".".concat(e4, "field"));
              c2.innerHTML = '<div class="'.concat(e4, 'radio-items">').concat(l2.join(""), "</div>"), this.input = c2.firstChild;
            }
          } }, { key: "__setValueInput", value: function(t4) {
            var e4, n4 = this.model, r3 = t4 || n4.getDefaultValue(), i2 = null === (e4 = this.getInputEl()) || void 0 === e4 ? void 0 : e4.querySelector('[value="'.concat(r3, '"]'));
            i2 && (i2.checked = true);
          } }]), n3;
        }(xt), Et = n2(7610);
        function jt(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function At(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? jt(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : jt(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function Dt(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var Mt = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = Dt(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "defaults", value: function() {
            return At(At({}, x.getDefaults()), {}, { units: [], unit: "", min: "", max: "", step: 1 });
          } }, { key: "getUnits", value: function() {
            return this.get("units") || [];
          } }, { key: "getUnit", value: function() {
            return this.get("unit");
          } }, { key: "getMin", value: function() {
            return this.get("min");
          } }, { key: "getMax", value: function() {
            return this.get("max");
          } }, { key: "getStep", value: function() {
            return this.get("step");
          } }, { key: "upUnit", value: function(t4, e4) {
            return this._up({ unit: t4 }, e4);
          } }, { key: "initialize", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            x.callParentInit(x, this, t4, e4);
            var n4 = this.get("unit"), r3 = this.get("units");
            this.input = (0, a.hasWin)() && new Et.Z({ model: this }), r3.length && !n4 && this.set("unit", r3[0], { silent: 1 }), x.callInit(this, t4, e4);
          } }, { key: "__getClearProps", value: function() {
            return At(At({}, x.prototype.__getClearProps()), {}, { unit: "" });
          } }, { key: "parseValue", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = x.prototype.parseValue.apply(this, arguments), r3 = this.input.validateInputValue(n4.value, At({ deepCheck: 1 }, e4)), i2 = r3.value, o2 = r3.unit;
            return n4.value = i2, n4.unit = o2, n4;
          } }, { key: "getFullValue", value: function() {
            var t4 = this.get("value"), e4 = this.get("unit");
            return t4 = (0, o.isUndefined)(t4) ? "" : t4, e4 = !(0, o.isUndefined)(e4) && t4 ? e4 : "", t4 = "".concat(t4).concat(e4), x.prototype.getFullValue.apply(this, [t4]);
          } }]), n3;
        }(x);
        function Rt(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function Zt(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? Rt(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : Rt(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function Lt(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var Nt = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = Lt(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "defaults", value: function() {
            return Zt(Zt({}, Mt.getDefaults()), {}, { showInput: 1 });
          } }]), n3;
        }(Mt);
        function It(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function Ft(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? It(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : It(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function Vt(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var Bt = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = Vt(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "events", value: function() {
            return Ft(Ft({}, dt.prototype.events), {}, { "change [type=range]": "inputValueChanged", "input [type=range]": "inputValueChangedSoft", change: "" });
          } }, { key: "templateInput", value: function(t4) {
            var e4 = this.ppfx;
            return '\n      <div class="'.concat(e4, "field ").concat(e4, 'field-range">\n        <input type="range" min="').concat(t4.get("min"), '" max="').concat(t4.get("max"), '" step="').concat(t4.get("step"), '"/>\n      </div>\n    ');
          } }, { key: "getSliderEl", value: function() {
            return this.slider || (this.slider = this.el.querySelector("input[type=range]")), this.slider;
          } }, { key: "inputValueChanged", value: function() {
            this.model.upValue(this.getSliderEl().value);
          } }, { key: "inputValueChangedSoft", value: function() {
            this.model.upValue(this.getSliderEl().value, { partial: true });
          } }, { key: "setValue", value: function(t4) {
            var e4 = this.model, n4 = e4.parseValue(t4);
            this.getSliderEl().value = "" === t4 ? e4.getDefaultValue() : parseFloat(n4.value), dt.prototype.setValue.apply(this, arguments);
          } }, { key: "onRender", value: function() {
            dt.prototype.onRender.apply(this, arguments), this.model.get("showInput") || (this.inputInst.el.style.display = "none");
          } }, { key: "clearCached", value: function() {
            dt.prototype.clearCached.apply(this, arguments), this.slider = null;
          } }]), n3;
        }(dt);
        const Ht = c().Collection.extend(m.Z).extend({ extendViewApi: 1, init: function() {
          var t3 = this.opts, e3 = this.em, n3 = t3.module || (null == e3 ? void 0 : e3.get("StyleManager"));
          n3 && (n3.__listenAdd(this, n3.events.propertyAdd), n3.__listenRemove(this, n3.events.propertyRemove));
        }, types: [{ id: "stack", model: V, view: st, isType: function(t3) {
          if (t3 && "stack" == t3.type) return t3;
        } }, { id: "composite", model: P, view: Q, isType: function(t3) {
          if (t3 && "composite" == t3.type) return t3;
        } }, { id: "file", model: x, view: ft, isType: function(t3) {
          if (t3 && "file" == t3.type) return t3;
        } }, { id: "color", model: x, view: vt, isType: function(t3) {
          if (t3 && "color" == t3.type) return t3;
        } }, { id: "select", model: wt, view: xt, isType: function(t3) {
          if (t3 && "select" == t3.type) return t3;
        } }, { id: "radio", model: _t, view: Tt, isType: function(t3) {
          if (t3 && "radio" == t3.type) return t3;
        } }, { id: "slider", model: Nt, view: Bt, isType: function(t3) {
          if (t3 && "slider" == t3.type) return t3;
        } }, { id: "integer", model: Mt, view: dt, isType: function(t3) {
          if (t3 && "integer" == t3.type) return t3;
        } }, { id: "number", model: Mt, view: dt, isType: function(t3) {
          if (t3 && "number" == t3.type) return t3;
        } }, { id: "base", model: x, view: $, isType: function(t3) {
          return t3.type = "base", t3;
        } }] });
        var zt = ["extend"];
        function Ut(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function Wt(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? Ut(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : Ut(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function $t(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var qt = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = $t(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "defaults", value: function() {
            return { id: "", name: "", open: true, visible: true, buildProps: "", extendBuilded: 1, properties: [] };
          } }, { key: "initialize", value: function(t4) {
            var e4 = this, n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = n4.em;
            this.em = r3;
            var i2 = t4 || {}, a2 = this.buildProperties(i2.buildProps), s2 = this.get("name") || "", l2 = [];
            !this.get("id") && this.set("id", s2.replace(/ /g, "_").toLowerCase()), l2 = (l2 = a2 ? this.extendProperties(a2) : this.get("properties").map(function(t5) {
              return (0, o.isString)(t5) ? e4.buildProperties(t5)[0] : t5;
            }).filter(Boolean)).map(function(t5) {
              return e4.checkExtend(t5);
            });
            var c2 = new Ht(l2, { em: r3 });
            c2.sector = this, this.set("properties", c2);
          } }, { key: "getId", value: function() {
            return this.get("id");
          } }, { key: "getName", value: function() {
            var t4, e4 = this.getId();
            return (null === (t4 = this.em) || void 0 === t4 ? void 0 : t4.t("styleManager.sectors.".concat(e4))) || this.get("name");
          } }, { key: "setName", value: function(t4) {
            return this.set("name", t4);
          } }, { key: "isOpen", value: function() {
            return !!this.get("open");
          } }, { key: "setOpen", value: function(t4) {
            return this.set("open", t4);
          } }, { key: "isVisible", value: function() {
            return !!this.get("visible");
          } }, { key: "getProperties", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this.get("properties"), n4 = e4.models ? (0, r2.Z)(e4.models) : e4;
            return n4.filter(function(e5) {
              var n5 = true;
              (t4.withValue && (n5 = e5.hasValue({ noParent: true })), t4.withParentValue) && (n5 = !e5.hasValue({ noParent: true }) && e5.hasValue());
              return n5;
            });
          } }, { key: "getProperty", value: function(t4) {
            return this.getProperties().filter(function(e4) {
              return e4.get("id") === t4;
            })[0] || null;
          } }, { key: "addProperty", value: function(t4, e4) {
            return this.get("properties").add(this.checkExtend(t4), e4);
          } }, { key: "extendProperties", value: function(t4, e4, n4) {
            for (var r3 = t4.length, i2 = e4 || this.get("properties"), a2 = this.get("extendBuilded"), s2 = [], l2 = 0, c2 = i2.length; l2 < c2; l2++) {
              for (var u2 = i2[l2], f2 = 0, h2 = 0; h2 < r3; h2++) {
                var d2 = t4[h2];
                if (u2.property != d2.property && u2.id != d2.property) ;
                else {
                  var p2 = u2.properties;
                  p2 && p2.length && (u2.properties = this.extendProperties(d2.properties || [], p2, 1)), t4[h2] = a2 ? (0, o.extend)(d2, u2) : u2, s2[h2] = t4[h2], f2 = 1;
                }
              }
              f2 || (t4.push(u2), s2.push(u2));
            }
            return n4 ? s2.filter(function(t5) {
              return t5;
            }) : t4;
          } }, { key: "checkExtend", value: function(t4) {
            var e4 = ((0, o.isString)(t4) ? { extend: t4 } : t4) || {}, n4 = e4.extend, r3 = (0, f.Z)(e4, zt);
            return n4 ? Wt(Wt({}, this.buildProperties([n4])[0] || {}), r3) : t4;
          } }, { key: "buildProperties", value: function(t4) {
            var e4, n4 = t4 || [];
            if (!n4.length) return [];
            var r3 = null === (e4 = this.em) || void 0 === e4 ? void 0 : e4.get("StyleManager").builtIn;
            return null == r3 ? void 0 : r3.build(n4);
          } }]), n3;
        }(l.Model);
        function Gt(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function Kt(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? Gt(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : Gt(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function Yt(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var Xt = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = Yt(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "initialize", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = e4.module, r3 = e4.em;
            this.em = r3, this.module = n4, this.listenTo(this, "reset", this.onReset);
          } }, { key: "model", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = e4.collection.em;
            return new qt(t4, Kt(Kt({}, e4), {}, { em: n4 }));
          } }, { key: "onReset", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = e4.previousModels || [];
            n4.forEach(function(t5) {
              return t5.get("properties").reset();
            });
          } }]), n3;
        }(l.Collection), Jt = n2(885), Qt = ["extend"];
        function te(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function ee(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? te(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : te(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var ne, re = function(t3) {
          return t3.map(function(t4) {
            return { id: t4 };
          });
        }, ie = function() {
          function t3() {
            (0, h.Z)(this, t3), this.typeNumber = "number", this.typeColor = "color", this.typeRadio = "radio", this.typeSelect = "select", this.typeFile = "file", this.typeSlider = "slider", this.typeComposite = "composite", this.typeStack = "stack", this.unitsSize = ["px", "%", "em", "rem", "vh", "vw"], this.unitsSizeNoPerc = ["px", "em", "rem", "vh", "vw"], this.unitsTime = ["s", "ms"], this.unitsAngle = ["deg", "rad", "grad"], this.fixedValues = ["initial", "inherit", "auto"];
            var e3 = ", sans-serif", n3 = ["flex-start", "flex-end", "center"], i2 = [].concat(n3, ["baseline", "stretch"]);
            this.optsBgSize = re(["auto", "cover", "contain"]), this.optsBgAttach = re(["scroll", "fixed", "local"]), this.optsBgRepeat = re(["repeat", "repeat-x", "repeat-y", "no-repeat"]), this.optsWrap = re(["nowrap", "wrap", "wrap-reverse"]), this.optsOverflow = re(["visible", "hidden", "scroll", "auto"]), this.optsDir = re(["row", "row-reverse", "column", "column-reverse"]), this.opstDisplay = re(["block", "inline", "inline-block", "flex", "none"]), this.optsTransitFn = re(["linear", "ease", "ease-in", "ease-out", "ease-in-out"]), this.optsCursor = re(["auto", "pointer", "copy", "crosshair", "grab", "grabbing", "help", "move", "text"]), this.optsFloat = re(["none", "left", "right"]), this.optsPos = re(["static", "relative", "absolute", "fixed"]), this.optsTextAlign = re(["left", "center", "right", "justify"]), this.optsFlexAlign = re(i2), this.optsJustCont = re([].concat(n3, ["space-between", "space-around", "space-evenly"])), this.optsAlignCont = re([].concat(n3, ["space-between", "space-around", "stretch"])), this.optsAlignSelf = re(["auto"].concat((0, r2.Z)(i2))), this.optsTransitProp = re(["all", "width", "height", "background-color", "transform", "box-shadow", "opacity"]), this.optsBorderStyle = re(["none", "solid", "dotted", "dashed", "double", "groove", "ridge", "inset", "outset"]), this.optsBgPos = re(["left top", "left center", "left bottom", "right top", "right center", "right bottom", "center top", "center center", "center bottom"]), this.optsWeight = [{ id: "100", label: "Thin" }, { id: "200", label: "Extra-Light" }, { id: "300", label: "Light" }, { id: "400", label: "Normal" }, { id: "500", label: "Medium" }, { id: "600", label: "Semi-Bold" }, { id: "700", label: "Bold" }, { id: "800", label: "Extra-Bold" }, { id: "900", label: "Ultra-Bold" }], this.optsShadowType = [{ id: "", label: "Outside" }, { id: "inset", label: "Inside" }], this.optsFonts = ["Arial, Helvetica" + e3, "Arial Black, Gadget" + e3, "Brush Script MT" + e3, "Comic Sans MS, cursive" + e3, "Courier New, Courier, monospace", "Georgia, serif", "Helvetica" + e3, "Impact, Charcoal" + e3, "Lucida Sans Unicode, Lucida Grande" + e3, "Tahoma, Geneva" + e3, "Times New Roman, Times, serif", "Trebuchet MS, Helvetica" + e3, "Verdana, Geneva" + e3].map(function(t4) {
              return { id: t4, label: t4.split(",")[0] };
            }), this.fixedFontSizes = ["medium", "xx-small", "x-small", "small", "large", "x-large", "xx-large", "smaller", "larger", "length", "initial", "inherit"], this.fixedLetSpace = ["normal", "initial", "inherit"], this.requireFlex = { display: ["flex"] }, this.init();
          }
          return (0, d.Z)(t3, [{ key: "__sub", value: function(t4) {
            var e3 = this;
            return function() {
              return t4.map(function(t5) {
                if ((0, o.isString)(t5)) return e3.get(t5);
                var n3 = t5.extend, r3 = (0, f.Z)(t5, Qt);
                return ee(ee({}, e3.get(n3)), r3);
              });
            };
          } }, { key: "init", value: function() {
            var t4 = this, e3 = this.fixedValues, n3 = this.requireFlex, r3 = this.typeNumber;
            return this.props = {}, [["text-shadow-h", { type: r3, default: "0", units: this.unitsSizeNoPerc }], ["top", { default: "auto", units: this.unitsSize, fixedValues: e3 }, "text-shadow-h"], ["right", {}, "top"], ["bottom", {}, "top"], ["left", {}, "top"], ["margin-top", { default: "0" }, "top"], ["margin-right", {}, "margin-top"], ["margin-bottom", {}, "margin-top"], ["margin-left", {}, "margin-top"], ["padding-top", { min: 0 }, "margin-top"], ["padding-right", {}, "padding-top"], ["padding-bottom", {}, "padding-top"], ["padding-left", {}, "padding-top"], ["width", { min: 0 }, "top"], ["min-width", {}, "width"], ["max-width", {}, "width"], ["height", {}, "width"], ["min-height", {}, "width"], ["max-height", {}, "width"], ["flex-basis", { requiresParent: n3 }, "width"], ["font-size", { default: "medium", fixedValues: this.fixedFontSizes }, "width"], ["letter-spacing", { default: "normal", fixedValues: this.fixedLetSpace }, "top"], ["line-height", {}, "letter-spacing"], ["text-shadow-v", {}, "text-shadow-h"], ["text-shadow-blur", { min: 0 }, "text-shadow-h"], ["border-radius-c", { property: "border-radius", fixedValues: void 0 }, "padding-top"], ["border-top-left-radius", {}, "border-radius-c"], ["border-top-right-radius", {}, "border-radius-c"], ["border-bottom-left-radius", {}, "border-radius-c"], ["border-bottom-right-radius", {}, "border-radius-c"], ["border-width", { units: this.unitsSizeNoPerc }, "border-radius-c"], ["box-shadow-h", {}, "text-shadow-h"], ["box-shadow-v", {}, "text-shadow-h"], ["box-shadow-blur", { default: "5px" }, "text-shadow-blur"], ["box-shadow-spread", {}, "text-shadow-h"], ["transition-duration", { default: "2s", units: this.unitsTime }, "border-radius-c"], ["perspective", {}, "border-radius-c"], ["order", { type: r3, default: "0", requiresParent: n3 }], ["flex-grow", {}, "order"], ["flex-shrink", { default: "1" }, "order"], ["float", { type: this.typeRadio, default: "none", options: this.optsFloat }], ["position", { default: "static", options: this.optsPos }, "float"], ["text-align", { default: "left", options: this.optsTextAlign }, "float"], ["color", { type: this.typeColor, default: "black" }], ["text-shadow-color", {}, "color"], ["border-color", {}, "color"], ["box-shadow-color", {}, "color"], ["background-color", { default: "none" }, "color"], ["background-image", { type: this.typeFile, functionName: "url", default: "none", full: true }], ["opacity", { type: this.typeSlider, default: "1", min: 0, max: 1, step: 0.01 }], ["display", { type: this.typeSelect, default: "block", options: this.opstDisplay }], ["flex-direction", { default: "row", options: this.optsDir, requires: n3 }, "display"], ["flex-wrap", { default: "nowrap", options: this.optsWrap }, "flex-direction"], ["justify-content", { default: "flex-start", options: this.optsJustCont }, "flex-wrap"], ["align-items", { default: "stretch", options: this.optsFlexAlign }, "flex-wrap"], ["align-content", { options: this.optsAlignCont }, "align-items"], ["align-self", { default: "auto", options: this.optsAlignSelf, requiresParent: n3 }, "display"], ["font-family", { default: "Arial, Helvetica, sans-serif", options: this.optsFonts }, "display"], ["font-weight", { default: "400", options: this.optsWeight }, "display"], ["border-style", { default: "solid", options: this.optsBorderStyle }, "display"], ["box-shadow-type", { default: "", options: this.optsShadowType }, "display"], ["background-repeat", { default: "repeat", options: this.optsBgRepeat }, "display"], ["background-position", { default: "left top", options: this.optsBgPos }, "display"], ["background-attachment", { default: "scroll", options: this.optsBgAttach }, "display"], ["background-size", { default: "auto", options: this.optsBgSize }, "display"], ["transition-property", { default: "width", options: this.optsTransitProp }, "display"], ["transition-timing-function", { default: "ease", options: this.optsTransitFn }, "display"], ["cursor", { default: "auto", options: this.optsCursor }, "display"], ["overflow", { default: "visible", options: this.optsOverflow }, "display"], ["overflow-x", {}, "overflow"], ["overflow-y", {}, "overflow"], ["margin", { type: this.typeComposite, properties: this.__sub([{ extend: "margin-top", id: "margin-top-sub" }, { extend: "margin-right", id: "margin-right-sub" }, { extend: "margin-bottom", id: "margin-bottom-sub" }, { extend: "margin-left", id: "margin-left-sub" }]) }], ["padding", { properties: this.__sub([{ extend: "padding-top", id: "padding-top-sub" }, { extend: "padding-right", id: "padding-right-sub" }, { extend: "padding-bottom", id: "padding-bottom-sub" }, { extend: "padding-left", id: "padding-left-sub" }]) }, "margin"], ["border", { properties: this.__sub([{ extend: "border-width", id: "border-width-sub" }, { extend: "border-style", id: "border-style-sub" }, { extend: "border-color", id: "border-color-sub" }]) }, "margin"], ["border-radius", { properties: this.__sub([{ extend: "border-top-left-radius", id: "border-top-left-radius-sub" }, { extend: "border-top-right-radius", id: "border-top-right-radius-sub" }, { extend: "border-bottom-right-radius", id: "border-bottom-right-radius-sub" }, { extend: "border-bottom-left-radius", id: "border-bottom-left-radius-sub" }]) }, "margin"], ["transition", { type: this.typeStack, properties: this.__sub([{ extend: "transition-property", id: "transition-property-sub" }, { extend: "transition-duration", id: "transition-duration-sub" }, { extend: "transition-timing-function", id: "transition-timing-function-sub" }]) }], ["box-shadow", { preview: true, layerLabel: function(t5, e4) {
              var n4 = e4.values, r4 = n4["box-shadow-h"], i2 = n4["box-shadow-v"], o2 = n4["box-shadow-blur"], a2 = n4["box-shadow-spread"];
              return "".concat(r4, " ").concat(i2, " ").concat(o2, " ").concat(a2);
            }, properties: this.__sub(["box-shadow-h", "box-shadow-v", "box-shadow-blur", "box-shadow-spread", "box-shadow-color", "box-shadow-type"]) }, "transition"], ["text-shadow", { default: "none", layerLabel: function(t5, e4) {
              var n4 = e4.values, r4 = n4["text-shadow-h"], i2 = n4["text-shadow-v"], o2 = n4["text-shadow-blur"];
              return "".concat(r4, " ").concat(i2, " ").concat(o2);
            }, properties: this.__sub(["text-shadow-h", "text-shadow-v", "text-shadow-blur", "text-shadow-color"]) }, "box-shadow"], ["background", { detached: true, layerLabel: function(t5, e4) {
              var n4 = e4.values;
              return [n4["background-repeat-sub"] || "", n4["background-position-sub"] || "", n4["background-attachment-sub"] || "", n4["background-size-sub"] || ""].join(" ");
            }, properties: this.__sub([{ extend: "background-image", id: "background-image-sub" }, { extend: "background-repeat", id: "background-repeat-sub" }, { extend: "background-position", id: "background-position-sub" }, { extend: "background-attachment", id: "background-attachment-sub" }, { extend: "background-size", id: "background-size-sub" }]) }, "box-shadow"], ["transform", { type: "stack", layerSeparator: " ", fromStyle: function(t5, e4) {
              var n4 = e4.property, r4 = t5[e4.name] || "", i2 = n4.getLayerSeparator();
              return r4 ? r4.split(i2).map(function(t6) {
                var e5 = n4.__parseFn(t6);
                return { name: e5.name, value: e5.value };
              }) : [];
            }, toStyle: function(t5, e4) {
              return { [e4.name]: "".concat(t5.name, "(").concat(t5.value, ")") };
            }, properties: [{ property: "name", name: "Type", type: this.typeSelect, default: "rotateZ", full: true, options: [{ id: "scaleX", propValue: { units: [""], step: 0.01 } }, { id: "scaleY", propValue: { units: [""], step: 0.01 } }, { id: "scaleZ", propValue: { units: [""], step: 0.01 } }, { id: "rotateX", propValue: { units: this.unitsAngle, step: 1 } }, { id: "rotateY", propValue: { units: this.unitsAngle, step: 1 } }, { id: "rotateZ", propValue: { units: this.unitsAngle, step: 1 } }, { id: "translateX", propValue: { units: this.unitsSize, step: 1 } }, { id: "translateY", propValue: { units: this.unitsSize, step: 1 } }], onChange: function(t5) {
              var e4 = t5.property;
              if (t5.to.value) {
                var n4 = ee({}, e4.getOption().propValue || {}), r4 = e4.getParent().getProperty("value"), i2 = r4.getUnit();
                (!i2 || (null == n4 ? void 0 : n4.units.indexOf(i2)) < 0) && (n4.unit = (null == n4 ? void 0 : n4.units[0]) || ""), r4.up(n4);
              }
            } }, { property: "value", type: this.typeNumber, default: "0", full: true }] }]].forEach(function(e4) {
              var n4 = (0, Jt.Z)(e4, 3), r4 = n4[0], i2 = n4[1], o2 = n4[2];
              t4.add(r4, i2 || {}, { from: o2 });
            }), this;
          } }, { key: "add", value: function(t4) {
            var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = n3.from || "", i2 = this.props[r3 || t4] || {}, a2 = ee(ee({}, i2), {}, { property: t4 }, e3);
            return a2.properties && (0, o.isFunction)(a2.properties) && (a2.properties = a2.properties()), this.props[t4] = a2, a2;
          } }, { key: "get", value: function(t4) {
            return this.props[t4] || null;
          } }, { key: "build", value: function(t4) {
            var e3 = this, n3 = [];
            return ((0, o.isString)(t4) ? [t4] : t4).forEach(function(t5) {
              n3.push(e3.get(t5) || { property: t5 });
            }), n3;
          } }]), t3;
        }(), oe = n2(168), ae = n2(7539);
        function se(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var le = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = se(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "template", value: function(t4) {
            var e4, n4 = t4.pfx, r3 = t4.label, i2 = null === (e4 = this.em) || void 0 === e4 ? void 0 : e4.getConfig().icons, o2 = (null == i2 ? void 0 : i2.caret) || "", a2 = "".concat(n4, "sector-");
            return (0, ae.Z)(ne || (ne = (0, oe.Z)(['\n      <div class="', 'title" data-sector-title>\n        <div class="', 'caret">$', '</div>\n        <div class="', 'label">', "</div>\n      </div>\n    "])), a2, a2, o2, a2, r3);
          } }, { key: "events", value: function() {
            return { "click [data-sector-title]": "toggle" };
          } }, { key: "initialize", value: function(t4) {
            var e4 = t4.config || {}, n4 = this.model, r3 = e4.em;
            this.config = e4, this.em = r3, this.pfx = e4.stylePrefix || "", this.listenTo(n4, "destroy remove", this.remove), this.listenTo(n4, "change:open", this.updateOpen), this.listenTo(n4, "change:visible", this.updateVisibility);
          } }, { key: "updateOpen", value: function() {
            var t4 = this.$el, e4 = this.model, n4 = this.pfx, r3 = e4.isOpen();
            t4[r3 ? "addClass" : "removeClass"]("".concat(n4, "open")), this.getPropertiesEl().style.display = r3 ? "" : "none";
          } }, { key: "updateVisibility", value: function() {
            this.el.style.display = this.model.isVisible() ? "" : "none";
          } }, { key: "getPropertiesEl", value: function() {
            var t4 = this.$el, e4 = this.pfx;
            return t4.find(".".concat(e4, "properties")).get(0);
          } }, { key: "toggle", value: function() {
            var t4 = this.model;
            t4.setOpen(!t4.get("open"));
          } }, { key: "renderProperties", value: function() {
            var t4 = this.model, e4 = this.config, n4 = t4.get("properties");
            if (n4) {
              var r3 = new K({ collection: n4, config: e4 });
              this.$el.append(r3.render().el);
            }
          } }, { key: "render", value: function() {
            var t4 = this.pfx, e4 = this.model, n4 = this.$el, r3 = e4.getId(), i2 = e4.getName();
            return n4.html(this.template({ pfx: t4, label: i2 })), this.renderProperties(), n4.attr("class", "".concat(t4, "sector ").concat(t4, "sector__").concat(r3, " no-select")), this.updateOpen(), this;
          } }]), n3;
        }(l.View);
        function ce(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, v.Z)(t3);
            if (e3) {
              var i2 = (0, v.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, g.Z)(this, n3);
          };
        }
        var ue = function(t3) {
          (0, p.Z)(n3, t3);
          var e3 = ce(n3);
          function n3() {
            return (0, h.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, d.Z)(n3, [{ key: "initialize", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = t4.module, n4 = t4.config, r3 = void 0 === n4 ? {} : n4, i2 = this.collection;
            this.pfx = r3.stylePrefix || "", this.ppfx = r3.pStylePrefix || "", this.config = r3, this.module = e4, this.listenTo(i2, "add", this.addTo), this.listenTo(i2, "reset", this.render);
          } }, { key: "remove", value: function() {
            var t4 = this;
            l.View.prototype.remove.apply(this, arguments), ["config", "module", "em"].forEach(function(e4) {
              return t4[e4] = {};
            });
          } }, { key: "addTo", value: function(t4, e4) {
            var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
            this.addToCollection(t4, null, n4);
          } }, { key: "addToCollection", value: function(t4, e4) {
            var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = this.config, i2 = this.el, o2 = e4 || i2, a2 = new le({ model: t4, config: r3 }).render().el;
            return (0, q.$Q)(o2, a2, n4.at), a2;
          } }, { key: "render", value: function() {
            var t4 = this, e4 = this.$el, n4 = this.pfx, r3 = this.ppfx;
            e4.empty();
            var i2 = document.createDocumentFragment();
            return this.collection.each(function(e5) {
              return t4.addToCollection(e5, i2);
            }), e4.append(i2), e4.addClass("".concat(n4, "sectors ").concat(r3, "one-bg ").concat(r3, "two-color")), this;
          } }]), n3;
        }(l.View);
        function fe(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function he(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? fe(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : fe(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var de = "style", pe = "".concat(de, ":"), ge = "".concat(pe, "sector"), ve = "".concat(ge, ":add"), me = "".concat(ge, ":remove"), ye = "".concat(ge, ":update"), be = "".concat(pe, "property"), we = "".concat(be, ":add"), ke = "".concat(be, ":remove"), xe = "".concat(be, ":update"), Oe = "".concat(pe, "layer:select"), Ce = "".concat(pe, "target"), Se = "".concat(pe, "custom"), _e = function(t3) {
          return t3 || 0 === t3;
        };
        const Pe = function() {
          var t3, e3, n3;
          return he(he({}, s.Z), {}, { Sector: qt, events: { all: de, sectorAdd: ve, sectorRemove: me, sectorUpdate: ye, propertyAdd: we, propertyRemove: ke, propertyUpdate: xe, layerSelect: Oe, target: Ce, custom: Se }, name: "StyleManager", init: function() {
            var n4 = this, r3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            (0, o.bindAll)(this, "__clearStateTarget"), this.__initConfig(u, r3);
            var i2 = this.config, a2 = i2.em, s2 = i2.pStylePrefix;
            s2 && (i2.stylePrefix = s2 + i2.stylePrefix), this.builtIn = new ie(), t3 = new Ht([], { em: a2, module: this }), e3 = new Xt([], he(he({}, i2), {}, { module: this }));
            var c2 = new l.Model({ targets: [] });
            this.model = c2, this.__listenAdd(e3, ve), this.__listenRemove(e3, me), this.__listenUpdate(e3, ye);
            var f2 = "component:toggled component:update:classes change:state change:device frame:resized selector:type", h2 = (0, o.debounce)(function() {
              return n4.__upSel();
            });
            c2.listenTo(a2, f2, h2), c2.listenTo(a2, "component:toggled", this.__clearStateTarget);
            var d2 = (0, o.debounce)(function() {
              n4.__upProps(), n4.__trgCustom();
            });
            c2.listenTo(a2, "styleable:change undo redo", d2);
            var p2 = (0, o.debounce)(function() {
              return n4.__trgCustom();
            });
            return c2.listenTo(a2, "".concat(Oe, " ").concat(Ce), p2), c2.on("change:lastTarget", function() {
              return a2.trigger(Ce, n4.getSelected());
            }), this;
          }, __upSel: function() {
            this.select(this.em.getSelectedAll());
          }, __trgCustom: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            this.__ctn = this.__ctn || t4.container, this.em.trigger(this.events.custom, { container: this.__ctn });
          }, __trgEv: function(t4) {
            for (var e4, n4 = arguments.length, r3 = new Array(n4 > 1 ? n4 - 1 : 0), i2 = 1; i2 < n4; i2++) r3[i2 - 1] = arguments[i2];
            (e4 = this.em).trigger.apply(e4, [t4].concat(r3));
          }, __clearStateTarget: function() {
            var t4 = this, e4 = this.em, n4 = this.__getStateTarget();
            n4 && (null == e4 || e4.skip(function() {
              e4.get("CssComposer").remove(n4), t4.model.set({ stateTarget: null });
            }));
          }, onLoad: function() {
            e3.add(this.config.sectors, { silent: true });
          }, postRender: function() {
            this.__appendTo();
          }, addSector: function(t4, n4) {
            var r3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, i2 = this.getSector(t4);
            return i2 || (n4.id = t4, i2 = e3.add(n4, r3)), i2;
          }, getSector: function(t4) {
            var n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = e3.where({ id: t4 })[0];
            return !r3 && n4.warn && this._logNoSector(t4), r3 || null;
          }, getSectors: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n4 = e3 && e3.models ? t4.array ? (0, r2.Z)(e3.models) : e3 : [];
            return t4.visible ? n4.filter(function(t5) {
              return t5.isVisible();
            }) : n4;
          }, removeSector: function(t4) {
            return this.getSectors().remove(this.getSector(t4, { warn: 1 }));
          }, addProperty: function(t4, e4) {
            var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = this.getSector(t4, { warn: 1 }), i2 = null;
            return r3 && (i2 = r3.addProperty(e4, n4)), i2;
          }, getProperty: function(t4, e4) {
            var n4, r3 = this.getSector(t4, { warn: 1 });
            return r3 && (n4 = r3.get("properties").filter(function(t5) {
              return t5.get("property") === e4 || t5.get("id") === e4;
            })[0]), n4 || null;
          }, getProperties: function(t4) {
            var e4 = null, n4 = this.getSector(t4, { warn: 1 });
            return n4 && (e4 = n4.get("properties")), e4;
          }, removeProperty: function(t4, e4) {
            var n4 = this.getProperties(t4);
            return n4 ? n4.remove(this.getProperty(t4, e4)) : null;
          }, select: function(t4) {
            var e4 = this, n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = this.em, i2 = (0, o.isArray)(t4) ? t4 : [t4], s2 = n4.stylable, l2 = r3.get("CssComposer"), c2 = [];
            i2.filter(Boolean).forEach(function(t5) {
              var e5 = t5;
              if ((0, o.isString)(t5)) {
                var n5 = l2.getRule(t5) || l2.setRule(t5);
                !(0, o.isUndefined)(s2) && n5.set({ stylable: s2 }), e5 = n5;
              }
              c2.push(e5);
            });
            var u2 = n4.component || c2.filter(function(t5) {
              return (0, a.isComponent)(t5);
            }).reverse()[0];
            c2 = c2.map(function(t5) {
              return e4.getModelToStyle(t5);
            });
            var f2 = r3.getState(), h2 = c2.slice().reverse()[0], d2 = this.getParentRules(h2, { state: f2, component: u2 }), p2 = this.__getStateTarget();
            return r3.skip(function() {
              var t5;
              if (f2 && null != h2 && null !== (t5 = h2.getState) && void 0 !== t5 && t5.call(h2)) {
                var e5 = h2.getStyle();
                p2 ? p2.setStyle(e5) : p2 = l2.getAll().add({ selectors: "gjs-selected", style: e5, shallow: true, important: true });
              } else p2 && (l2.remove(p2), p2 = null);
            }), this.model.set({ targets: c2, lastTarget: h2, lastTargetParents: d2, stateTarget: p2, component: u2 }), this.__upProps(n4), c2;
          }, getSelected: function() {
            return this.model.get("lastTarget") || null;
          }, getSelectedAll: function() {
            return this.model.get("targets");
          }, getSelectedParents: function() {
            return this.model.get("lastTargetParents") || [];
          }, __getStateTarget: function() {
            return this.model.get("stateTarget") || null;
          }, addStyleTargets: function(t4, e4) {
            this.getSelectedAll().map(function(n5) {
              return n5.addStyle(t4, e4);
            });
            var n4 = this.getSelected(), r3 = this.__getStateTarget();
            n4 && (null == r3 || r3.setStyle(n4.getStyle(), e4));
          }, getBuiltIn: function(t4) {
            return this.builtIn.get(t4);
          }, getBuiltInAll: function() {
            return this.builtIn.props;
          }, addBuiltIn: function(t4, e4) {
            return this.builtIn.add(t4, e4);
          }, getModelToStyle: function(t4) {
            var e4, n4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = this.em, i2 = n4.skipAdd;
            if (r3 && null !== (e4 = t4) && void 0 !== e4 && e4.toHTML) {
              var o2, a2 = r3.getConfig(), s2 = r3.get("UndoManager"), l2 = r3.get("CssComposer"), c2 = r3.get("SelectorManager"), u2 = c2 ? c2.getConfig() : {}, f2 = a2.devicePreviewMode ? "" : r3.get("state"), h2 = t4.get("classes"), d2 = h2.getStyleable(), p2 = d2.length, g2 = !u2.componentFirst || n4.useClasses, v2 = { noCount: 1 }, m2 = { state: f2, addOpts: v2 };
              if (s2.stop(), p2 && g2) {
                var y2 = r3.getCurrentMedia();
                (o2 = l2.get(d2, f2, y2)) || i2 || (o2 = l2.add(d2, f2, y2, {}, v2));
              } else if (a2.avoidInlineStyle) {
                var b2 = t4.getId();
                !(o2 = l2.getIdRule(b2, m2)) && !i2 && (o2 = l2.setIdRule(b2, {}, m2)), t4.is("wrapper") && o2.set("wrapper", 1, v2);
              }
              o2 && (t4 = o2), s2.start();
            }
            return t4;
          }, getParentRules: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = e4.state, r3 = e4.component, i2 = this.em, a2 = [];
            if (i2 && t4) {
              var s2 = r3, l2 = i2.get("CssComposer"), c2 = i2.get("CodeManager").getGenerator("css"), u2 = t4.toHTML ? t4 : t4.getComponent(), f2 = { combination: true, array: true }, h2 = [], d2 = [], p2 = [];
              u2 ? (h2 = l2.getRules("#".concat(u2.getId())), p2 = (d2 = s2 ? l2.getRules(s2.getSelectors().getFullName(f2)) : []).concat(h2)) : (h2 = s2 ? l2.getRules("#".concat(s2.getId())) : [], d2 = l2.getRules(t4.getSelectors().getFullName(f2)), p2 = h2.concat(d2));
              var g2 = p2.filter(function(t5) {
                return (0, o.isUndefined)(n4) ? 1 : t5.get("state") === n4;
              }).sort(c2.sortRules).reverse();
              a2 = g2.slice(g2.indexOf(t4) + 1);
            }
            return a2;
          }, addType: function(e4, n4) {
            t3.addType(e4, n4);
          }, getType: function(e4) {
            return t3.getType(e4);
          }, getTypes: function() {
            return t3.getTypes();
          }, createType: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = e4.model, r3 = void 0 === n4 ? {} : n4, i2 = e4.view, o2 = void 0 === i2 ? {} : i2, a2 = this.config, s2 = this.getType(t4);
            if (s2) return new s2.view(he({ model: new s2.model(r3), config: a2 }, o2));
          }, render: function() {
            var t4 = this.config, r3 = this.em, i2 = n3 && n3.el;
            return (n3 = new ue({ el: i2, em: r3, config: t4, collection: e3, module: this })).render().el;
          }, _logNoSector: function(t4) {
            var e4 = this.em;
            e4 && e4.logWarning("'".concat(t4, "' sector not found"));
          }, __upProps: function(t4) {
            var n4 = this, r3 = this.getSelected();
            if (r3) {
              var i2 = this.model.get("component"), o2 = this.getSelectedParents(), a2 = r3.getStyle(), s2 = o2.map(function(t5) {
                return { target: t5, style: t5.getStyle() };
              });
              e3.map(function(e4) {
                e4.getProperties().map(function(e5) {
                  n4.__upProp(e5, a2, s2, t4);
                });
              }), e3.forEach(function(t5) {
                var n5 = t5.getProperties();
                n5.forEach(function(t6) {
                  var n6 = t6.__checkVisibility({ target: r3, component: i2, sectors: e3 });
                  t6.set("visible", n6);
                });
                var o3 = n5.some(function(t6) {
                  return t6.isVisible();
                });
                t5.set("visible", o3);
              });
            }
          }, __upProp: function(t4, e4, n4, r3) {
            var i2 = this, o2 = t4.getName(), a2 = e4[o2], s2 = _e(a2), l2 = "stack" === t4.getType(), c2 = "composite" === t4.getType(), u2 = he(he({}, r3), {}, { __up: true }), f2 = !c2 && !l2, h2 = l2 ? t4.__getLayersFromStyle(e4) : [], d2 = c2 ? t4.__getPropsFromStyle(e4) : {}, p2 = s2 ? a2 : null, g2 = null;
            if (l2 && null === h2 || c2 && null === d2) {
              var v2 = l2 ? "__getLayersFromStyle" : "__getPropsFromStyle", m2 = n4.filter(function(e5) {
                return null !== t4[v2](e5.style);
              })[0];
              if (m2) {
                p2 = m2.style[o2], g2 = m2.target;
                var y2 = t4[v2](m2.style);
                l2 ? h2 = y2 : d2 = y2;
              }
            } else if (!s2) {
              p2 = null;
              var b2 = n4.filter(function(t5) {
                return _e(t5.style[o2]);
              })[0];
              b2 && (p2 = b2.style[o2], g2 = b2.target);
            }
            if (t4.__setParentTarget(g2), f2 && t4.__getFullValue() !== p2 && t4.upValue(p2, u2), l2 && t4.__setLayers(h2 || []), c2) {
              var w2 = t4.getProperties();
              if (t4.isDetached()) {
                var k2 = t4.__getPropsFromStyle(e4, { byName: true }) || {}, x2 = n4.map(function(e5) {
                  return he(he({}, e5), {}, { style: t4.__getPropsFromStyle(e5.style, { byName: true }) || {} });
                });
                w2.map(function(t5) {
                  return i2.__upProp(t5, k2, x2, r3);
                });
              } else t4.__setProperties(d2 || {}, u2), t4.getProperties().map(function(t5) {
                return t5.__setParentTarget(g2);
              });
            }
          }, destroy: function() {
            [t3, e3].forEach(function(t4) {
              t4.reset(), t4.stopListening();
            }), n3 && n3.remove(), [t3, e3, n3].forEach(function(t4) {
              return {};
            }), this.em = {}, this.config = {}, this.builtIn = {}, this.model = {};
          } });
        };
      }, 6388: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => z, evAll: () => V, evCustom: () => H, evPfx: () => B });
        var r2 = n2(4942), i = n2(9050), o = n2(9304), a = n2(2316), s = n2.n(a);
        const l = { stylePrefix: "trt-", appendTo: "", optionsTarget: [{ value: false }, { value: "_blank" }] };
        var c = n2(5671), u = n2(3144), f = n2(7326), h = n2(9340), d = n2(2963), p = n2(1120), g = n2(6602), v = n2(885), m = n2(1163);
        function y(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function b(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? y(Object(n3), true).forEach(function(e4) {
              (0, r2.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : y(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function w(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, p.Z)(t3);
            if (e3) {
              var i2 = (0, p.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, d.Z)(this, n3);
          };
        }
        var k = s().$, x = function(t3) {
          (0, h.Z)(n3, t3);
          var e3 = w(n3);
          function n3() {
            var t4, i2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            (0, c.Z)(this, n3), t4 = e3.call(this, i2), (0, r2.Z)((0, f.Z)(t4), "events", {}), (0, r2.Z)((0, f.Z)(t4), "appendInput", true);
            var o2 = i2.config, a2 = void 0 === o2 ? {} : o2, s2 = (0, f.Z)(t4), l2 = s2.model, u2 = s2.eventCapture, h2 = l2.target, d2 = l2.attributes.type;
            t4.config = a2, t4.em = a2.em, t4.pfx = a2.stylePrefix || "", t4.ppfx = a2.pStylePrefix || "", t4.target = h2;
            var p2 = (0, f.Z)(t4), g2 = p2.ppfx;
            return t4.clsField = "".concat(g2, "field ").concat(g2, "field-").concat(d2), [["change:value", t4.onValueChange], ["remove", t4.removeView]].forEach(function(e4) {
              var n4 = (0, v.Z)(e4, 2), r3 = n4[0], i3 = n4[1];
              l2.off(r3, i3), t4.listenTo(l2, r3, i3);
            }), l2.view = (0, f.Z)(t4), t4.listenTo(l2, "change:label", t4.render), t4.listenTo(l2, "change:placeholder", t4.rerender), t4.events = {}, u2.forEach(function(e4) {
              return t4.events[e4] = "onChange";
            }), t4.delegateEvents(), t4.init(), t4;
          }
          return (0, u.Z)(n3, [{ key: "attributes", value: function() {
            return this.model.get("attributes");
          } }, { key: "templateLabel", value: function() {
            var t4 = this.ppfx, e4 = this.getLabel();
            return '<div class="'.concat(t4, 'label" title="').concat(e4, '">').concat(e4, "</div>");
          } }, { key: "templateInput", value: function() {
            var t4 = this.clsField;
            return '<div class="'.concat(t4, '" data-input></div>');
          } }, { key: "getClbOpts", value: function() {
            return { component: this.target, trait: this.model, elInput: this.getInputElem() };
          } }, { key: "removeView", value: function() {
            this.remove(), this.removed();
          } }, { key: "init", value: function() {
          } }, { key: "removed", value: function() {
          } }, { key: "onRender", value: function() {
          } }, { key: "onUpdate", value: function() {
          } }, { key: "onEvent", value: function() {
          } }, { key: "onChange", value: function(t4) {
            var e4 = this.getInputElem();
            e4 && !(0, i.isUndefined)(e4.value) && this.model.set("value", e4.value), this.onEvent(b(b({}, this.getClbOpts()), {}, { event: t4 }));
          } }, { key: "getValueForTarget", value: function() {
            return this.model.get("value");
          } }, { key: "setInputValue", value: function(t4) {
            var e4 = this.getInputElem();
            e4 && (e4.value = t4);
          } }, { key: "onValueChange", value: function(t4, e4) {
            var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
            if (n4.fromTarget) this.setInputValue(t4.get("value")), this.postUpdate();
            else {
              var r3 = this.getValueForTarget();
              t4.setTargetValue(r3, n4);
            }
          } }, { key: "renderLabel", value: function() {
            var t4 = this.$el, e4 = this.target, n4 = this.getLabel(), r3 = this.templateLabel(e4);
            this.createLabel && (r3 = this.createLabel({ label: n4, component: e4, trait: this }) || ""), t4.find("[data-label]").append(r3);
          } }, { key: "getLabel", value: function() {
            var t4 = this.em, e4 = this.model.attributes, n4 = e4.label, r3 = e4.name;
            return t4.t("traitManager.traits.labels.".concat(r3)) || (0, m.capitalize)(n4 || r3).replace(/-/g, " ");
          } }, { key: "getComponent", value: function() {
            return this.target;
          } }, { key: "getInputEl", value: function() {
            if (!this.$input) {
              var t4 = this.em, e4 = this.model, n4 = e4, r3 = e4.attributes.name, o2 = n4.get("placeholder") || n4.get("default") || "", a2 = n4.get("type") || "text", s2 = n4.get("min"), l2 = n4.get("max"), c2 = this.getModelValue(), u2 = k('<input type="'.concat(a2, '" placeholder="').concat(o2, '">')), f2 = t4.t("traitManager.traits.attributes.".concat(r3)) || {};
              u2.attr(f2), (0, i.isUndefined)(c2) || (n4.set({ value: c2 }, { silent: true }), u2.prop("value", c2)), s2 && u2.prop("min", s2), l2 && u2.prop("max", l2), this.$input = u2;
            }
            return this.$input.get(0);
          } }, { key: "getInputElem", value: function() {
            var t4 = this.input, e4 = this.$input;
            return t4 || e4 && e4.get && e4.get(0) || this.getElInput();
          } }, { key: "getModelValue", value: function() {
            var t4, e4 = this.model, n4 = this.target, r3 = e4.get("name");
            if (e4.get("changeProp")) t4 = n4.get(r3);
            else {
              var o2 = n4.get("attributes");
              t4 = e4.get("value") || o2[r3];
            }
            return (0, i.isUndefined)(t4) ? "" : t4;
          } }, { key: "getElInput", value: function() {
            return this.elInput;
          } }, { key: "renderField", value: function() {
            var t4 = this.$el, e4 = this.appendInput, n4 = this.model, r3 = t4.find("[data-input]"), o2 = r3[r3.length - 1], a2 = n4.el;
            a2 || (a2 = this.createInput ? this.createInput(this.getClbOpts()) : this.getInputEl()), (0, i.isString)(a2) ? (o2.innerHTML = a2, this.elInput = o2.firstChild) : (e4 ? o2.appendChild(a2) : o2.insertBefore(a2, o2.firstChild), this.elInput = a2), n4.el = this.elInput;
          } }, { key: "hasLabel", value: function() {
            var t4 = this.model.attributes.label;
            return !this.noLabel && false !== t4;
          } }, { key: "rerender", value: function() {
            this.model.el = null, this.render();
          } }, { key: "postUpdate", value: function() {
            this.onUpdate(this.getClbOpts());
          } }, { key: "render", value: function() {
            var t4 = this.$el, e4 = this.pfx, n4 = this.ppfx, r3 = this.model.attributes, o2 = r3.type, a2 = r3.id, s2 = this.hasLabel && this.hasLabel(), l2 = "".concat(e4, "trait");
            this.$input = null;
            var c2 = '<div class="'.concat(l2, " ").concat(l2, "--").concat(o2, '">\n      ').concat(s2 ? '<div class="'.concat(n4, 'label-wrp" data-label></div>') : "", '\n      <div class="').concat(n4, "field-wrp ").concat(n4, "field-wrp--").concat(o2, '" data-input>\n        ').concat(this.templateInput ? (0, i.isFunction)(this.templateInput) ? this.templateInput(this.getClbOpts()) : this.templateInput : "", "\n      </div>\n    </div>");
            return t4.empty().append(c2), s2 && this.renderLabel(), this.renderField(), this.el.className = "".concat(l2, "__wrp ").concat(l2, "__wrp-").concat(a2), this.postUpdate(), this.onRender(this.getClbOpts()), this;
          } }]), n3;
        }(s().View);
        function O(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, p.Z)(t3);
            if (e3) {
              var i2 = (0, p.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, d.Z)(this, n3);
          };
        }
        x.prototype.eventCapture = ["change"];
        var C = function(t3) {
          (0, h.Z)(n3, t3);
          var e3 = O(n3);
          function n3() {
            var t4, i2 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, o2 = arguments.length > 1 ? arguments[1] : void 0;
            (0, c.Z)(this, n3), t4 = e3.call(this, i2), (0, r2.Z)((0, f.Z)(t4), "reuseView", true), t4.itemsView = o2;
            var a2 = i2.config || {}, s2 = a2.stylePrefix || "", l2 = i2.editor;
            return t4.config = a2, t4.em = l2, t4.pfx = s2, t4.ppfx = a2.pStylePrefix || "", t4.className = "".concat(s2, "traits"), t4.listenTo(l2, "component:toggled", t4.updatedCollection), t4.updatedCollection(), t4;
          }
          return (0, u.Z)(n3, [{ key: "updatedCollection", value: function() {
            var t4 = this.ppfx, e4 = this.className, n4 = this.em.getSelected();
            this.el.className = "".concat(e4, " ").concat(t4, "one-bg ").concat(t4, "two-color"), this.collection = n4 ? n4.get("traits") : [], this.render();
          } }]), n3;
        }(g.Z);
        function S(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, p.Z)(t3);
            if (e3) {
              var i2 = (0, p.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, d.Z)(this, n3);
          };
        }
        C.prototype.itemView = x;
        var _ = s().$, P = function(t3) {
          (0, h.Z)(n3, t3);
          var e3 = S(n3);
          function n3() {
            var t4, r3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return (0, c.Z)(this, n3), (t4 = e3.call(this, r3)).listenTo(t4.model, "change:options", t4.rerender), t4;
          }
          return (0, u.Z)(n3, [{ key: "templateInput", value: function() {
            var t4 = this.ppfx, e4 = this.clsField;
            return '<div class="'.concat(e4, '">\n      <div data-input></div>\n      <div class="').concat(t4, 'sel-arrow">\n        <div class="').concat(t4, 'd-s-arrow"></div>\n      </div>\n    </div>');
          } }, { key: "getInputEl", value: function() {
            if (!this.$input) {
              var t4 = this.model, e4 = this.em, n4 = t4.get("name"), r3 = t4.get("options") || [], o2 = [], a2 = "<select>";
              r3.forEach(function(t5) {
                var r4, s3, l3, c2 = "";
                (0, i.isString)(t5) ? (r4 = t5, s3 = t5) : (r4 = t5.name || t5.label || t5.value, s3 = "".concat((0, i.isUndefined)(t5.value) ? t5.id : t5.value).replace(/"/g, "&quot;"), c2 += (l3 = t5.style ? t5.style.replace(/"/g, "&quot;") : "") ? ' style="'.concat(l3, '"') : "");
                var u2 = e4.t("traitManager.traits.options.".concat(n4, ".").concat(s3)) || r4;
                a2 += '<option value="'.concat(s3, '"').concat(c2, ">").concat(u2, "</option>"), o2.push(s3);
              }), a2 += "</select>", this.$input = _(a2);
              var s2 = t4.getTargetValue(), l2 = o2.indexOf(s2) >= 0 ? s2 : t4.get("default");
              !(0, i.isUndefined)(l2) && this.$input.val(l2);
            }
            return this.$input.get(0);
          } }]), n3;
        }(x);
        function T(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, p.Z)(t3);
            if (e3) {
              var i2 = (0, p.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, d.Z)(this, n3);
          };
        }
        var E = function(t3) {
          (0, h.Z)(n3, t3);
          var e3 = T(n3);
          function n3() {
            var t4;
            (0, c.Z)(this, n3);
            for (var i2 = arguments.length, o2 = new Array(i2), a2 = 0; a2 < i2; a2++) o2[a2] = arguments[a2];
            return t4 = e3.call.apply(e3, [this].concat(o2)), (0, r2.Z)((0, f.Z)(t4), "appendInput", false), t4;
          }
          return (0, u.Z)(n3, [{ key: "templateInput", value: function() {
            var t4 = this.ppfx, e4 = this.clsField;
            return '<label class="'.concat(e4, '" data-input>\n    <i class="').concat(t4, 'chk-icon"></i>\n  </label>');
          } }, { key: "onChange", value: function() {
            var t4 = this.getInputElem().checked;
            this.model.set("value", this.getCheckedValue(t4));
          } }, { key: "getCheckedValue", value: function(t4) {
            var e4 = t4, n4 = this.model.attributes, r3 = n4.valueTrue, o2 = n4.valueFalse;
            return e4 && !(0, i.isUndefined)(r3) && (e4 = r3), e4 || (0, i.isUndefined)(o2) || (e4 = o2), e4;
          } }, { key: "getInputEl", value: function() {
            for (var t4 = !this.$input, e4 = arguments.length, n4 = new Array(e4), r3 = 0; r3 < e4; r3++) n4[r3] = arguments[r3];
            var o2 = x.prototype.getInputEl.apply(this, n4);
            if (t4) {
              var a2, s2, l2 = this.model, c2 = this.target, u2 = l2.attributes, f2 = (u2.valueTrue, u2.valueFalse), h2 = l2.get("name");
              l2.get("changeProp") ? s2 = a2 = c2.get(h2) : a2 = !(!(s2 = c2.get("attributes")[h2]) && "" !== s2), (0, i.isUndefined)(f2) || s2 !== f2 || (a2 = false), o2.checked = a2;
            }
            return o2;
          } }]), n3;
        }(x), j = n2(7610);
        function A(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, p.Z)(t3);
            if (e3) {
              var i2 = (0, p.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, d.Z)(this, n3);
          };
        }
        var D = function(t3) {
          (0, h.Z)(n3, t3);
          var e3 = A(n3);
          function n3() {
            return (0, c.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, u.Z)(n3, [{ key: "getValueForTarget", value: function() {
            var t4 = this.model, e4 = t4.attributes, n4 = e4.value, r3 = e4.unit;
            return (0, i.isUndefined)(n4) || "" === n4 ? t4.get("default") : n4 + r3;
          } }, { key: "getInputEl", value: function() {
            if (!this.input) {
              var t4 = this.ppfx, e4 = this.model, n4 = this.getModelValue(), r3 = new j.Z({ contClass: "".concat(t4, "field-int"), type: "number", model: e4, ppfx: t4 });
              this.input = r3.render(), this.$input = this.input.inputEl, this.$unit = this.input.unitEl, e4.set("value", n4, { fromTarget: 1 }), this.$input.val(n4), this.input = r3.el;
            }
            return this.input;
          } }]), n3;
        }(x), M = n2(1511);
        function R(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, p.Z)(t3);
            if (e3) {
              var i2 = (0, p.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, d.Z)(this, n3);
          };
        }
        var Z = function(t3) {
          (0, h.Z)(n3, t3);
          var e3 = R(n3);
          function n3() {
            var t4;
            (0, c.Z)(this, n3);
            for (var i2 = arguments.length, o2 = new Array(i2), a2 = 0; a2 < i2; a2++) o2[a2] = arguments[a2];
            return t4 = e3.call.apply(e3, [this].concat(o2)), (0, r2.Z)((0, f.Z)(t4), "templateInput", ""), t4;
          }
          return (0, u.Z)(n3, [{ key: "getInputEl", value: function() {
            if (!this.input) {
              var t4 = this.model, e4 = this.getModelValue(), n4 = new M.Z({ model: t4, target: this.config.em, contClass: this.ppfx + "field-color", ppfx: this.ppfx }).render();
              n4.setValue(e4, { fromTarget: 1 }), this.input = n4.el;
            }
            return this.input;
          } }]), n3;
        }(x);
        function L(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, p.Z)(t3);
            if (e3) {
              var i2 = (0, p.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, d.Z)(this, n3);
          };
        }
        var N = function(t3) {
          (0, h.Z)(n3, t3);
          var e3 = L(n3);
          function n3() {
            var t4;
            (0, c.Z)(this, n3);
            for (var i2 = arguments.length, o2 = new Array(i2), a2 = 0; a2 < i2; a2++) o2[a2] = arguments[a2];
            return t4 = e3.call.apply(e3, [this].concat(o2)), (0, r2.Z)((0, f.Z)(t4), "templateInput", ""), t4;
          }
          return (0, u.Z)(n3, [{ key: "onChange", value: function() {
            this.handleClick();
          } }, { key: "handleClick", value: function() {
            var t4 = this.model, e4 = this.em, n4 = t4.get("command");
            n4 && ((0, i.isString)(n4) ? e4.get("Commands").run(n4) : n4(e4.get("Editor"), t4));
          } }, { key: "renderLabel", value: function() {
            this.model.get("label") && x.prototype.renderLabel.apply(this, arguments);
          } }, { key: "getInputEl", value: function() {
            var t4 = this.model, e4 = this.ppfx, n4 = t4.props(), r3 = n4.labelButton, i2 = n4.text, o2 = n4.full, a2 = r3 || i2, s2 = "".concat(e4, "btn");
            return '<button type="button" class="'.concat(s2, "-prim").concat(o2 ? " ".concat(s2, "--full") : "", '">').concat(a2, "</button>");
          } }]), n3;
        }(x);
        function I(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function F(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? I(Object(n3), true).forEach(function(e4) {
              (0, r2.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : I(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        N.prototype.eventCapture = ["click button"];
        var V = "trait", B = "".concat(V, ":"), H = "".concat(B, "custom");
        const z = function() {
          var t3 = { text: x, number: D, select: P, checkbox: E, color: Z, button: N };
          return F(F({}, o.Z), {}, { TraitsView: C, events: { all: V, custom: H }, name: "TraitManager", init: function() {
            var e3 = this, n3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            this.__initConfig(l, n3);
            var r3 = this.config, o2 = new a.Model();
            this.model = o2;
            var s2 = this.em, c2 = r3.pStylePrefix;
            this.types = F({}, t3), c2 && (r3.stylePrefix = "".concat(c2).concat(r3.stylePrefix));
            var u2 = (0, i.debounce)(function() {
              return e3.__upSel();
            });
            o2.listenTo(s2, "component:toggled", u2);
            var f2 = (0, i.debounce)(function() {
              return e3.__onUp();
            });
            return o2.listenTo(s2, "trait:update", f2), this;
          }, __upSel: function() {
            this.select(this.em.getSelected());
          }, __onUp: function() {
            this.select(this.getSelected());
          }, select: function(t4) {
            var e3 = t4 ? t4.getTraits() : [];
            this.model.set({ component: t4, traits: e3 }), this.__trgCustom();
          }, getSelected: function() {
            return this.model.get("component") || null;
          }, getCurrent: function() {
            return this.model.get("traits") || [];
          }, __trgCustom: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            this.__ctn = this.__ctn || t4.container, this.em.trigger(this.events.custom, { container: this.__ctn });
          }, postRender: function() {
            this.__appendTo();
          }, getTraitsViewer: function() {
            return this.view;
          }, addType: function(t4, e3) {
            var n3 = this.getType("text");
            this.types[t4] = n3.extend(e3);
          }, getType: function(t4) {
            return this.getTypes()[t4];
          }, getTypes: function() {
            return this.types;
          }, render: function() {
            var t4 = this.view, e3 = this.getConfig(), n3 = t4 && t4.el;
            return t4 = new C({ el: n3, collection: [], editor: e3.em, config: e3 }, this.getTypes()), this.view = t4, t4.el;
          }, destroy: function() {
            this.__destroy();
          } });
        };
      }, 8202: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => u });
        var r2 = n2(2982), i = n2(4942), o = n2(3410), a = n2.n(o), s = n2(9050);
        function l(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function c(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? l(Object(n3), true).forEach(function(e4) {
              (0, i.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : l(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        const u = function() {
          var t3, e3, n3, i2, o2 = { maximumStackLength: 500, trackSelection: 1 }, l2 = function(t4) {
            return t4.avoidStore || t4.noUndo;
          }, u2 = function(t4) {
            return Object.keys(t4.changedAttributes());
          };
          return { name: "UndoManager", init: function() {
            var f = this, h = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            n3 = c(c({}, o2), h), t3 = n3.em, this.em = t3, n3._disable && (n3 = c(c({}, n3), {}, { maximumStackLength: 0 }));
            var d = true;
            return (e3 = new (a())(c({ track: true, register: [] }, n3))).changeUndoType("change", { condition: function(t4) {
              var e4 = t4.get("_undo");
              if (e4) {
                var n4 = t4.get("_undoexc");
                if ((0, s.isArray)(n4) && u2(t4).some(function(t5) {
                  return n4.indexOf(t5) >= 0;
                })) return false;
                if ((0, s.isBoolean)(e4)) return true;
                if ((0, s.isArray)(e4) && u2(t4).some(function(t5) {
                  return e4.indexOf(t5) >= 0;
                })) return true;
              }
              return false;
            }, on: function(t4, e4, n4) {
              !i2 && (i2 = t4.previousAttributes());
              var r3 = n4 || e4 || {};
              if (r3.noUndo && setTimeout(function() {
                i2 = null;
              }), !l2(r3)) {
                var o3 = t4.toJSON({ fromUndo: d }), a2 = { object: t4, before: i2, after: o3 };
                if (i2 = null, !(0, s.isEmpty)(o3)) return a2;
              }
            } }), e3.changeUndoType("add", { on: function(t4, e4) {
              var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
              if (!l2(n4) && f.isRegistered(e4)) return { object: e4, before: void 0, after: t4, options: c(c({}, n4), {}, { fromUndo: d }) };
            } }), e3.changeUndoType("remove", { on: function(t4, e4) {
              var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
              if (!l2(n4) && f.isRegistered(e4)) return { object: e4, before: t4, after: void 0, options: c(c({}, n4), {}, { fromUndo: d }) };
            } }), e3.changeUndoType("reset", { undo: function(t4, e4) {
              t4.reset(e4, { fromUndo: d });
            }, redo: function(t4, e4, n4) {
              t4.reset(n4, { fromUndo: d });
            }, on: function(t4) {
              var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
              if (!l2(e4) && f.isRegistered(t4)) return { object: t4, before: e4.previousModels, after: (0, r2.Z)(t4.models), options: c(c({}, e4), {}, { fromUndo: d }) };
            } }), e3.on("undo redo", function() {
              t3.trigger("change:canvasOffset"), t3.getSelectedAll().map(function(t4) {
                return t4.trigger("rerender:layer");
              });
            }), ["undo", "redo"].forEach(function(n4) {
              return e3.on(n4, function() {
                return t3.trigger(n4);
              });
            }), this;
          }, postLoad: function() {
            n3.trackSelection && t3 && this.add(t3.get("selected"));
          }, getConfig: function() {
            return n3;
          }, add: function(t4) {
            return e3.register(t4), this;
          }, remove: function(t4) {
            return e3.unregister(t4), this;
          }, removeAll: function() {
            return e3.unregisterAll(), this;
          }, start: function() {
            return e3.startTracking(), this;
          }, stop: function() {
            return e3.stopTracking(), this;
          }, undo: function() {
            var n4 = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
            return !t3.isEditing() && e3.undo(n4), this;
          }, undoAll: function() {
            return e3.undoAll(), this;
          }, redo: function() {
            var n4 = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
            return !t3.isEditing() && e3.redo(n4), this;
          }, redoAll: function() {
            return e3.redoAll(), this;
          }, hasUndo: function() {
            return e3.isAvailable("undo");
          }, hasRedo: function() {
            return e3.isAvailable("redo");
          }, isRegistered: function(t4) {
            return !!this.getInstance().objectRegistry.isRegistered(t4);
          }, getStack: function() {
            return e3.stack;
          }, getStackGroup: function() {
            var t4 = [], e4 = [];
            return this.getStack().forEach(function(n4) {
              var r3 = n4.get("magicFusionIndex");
              e4.indexOf(r3) < 0 && (e4.push(r3), t4.push(n4));
            }), t4;
          }, skip: function(t4) {
            this.stop(), t4(), this.start();
          }, getGroupedStack: function() {
            var t4 = {}, e4 = this.getStack();
            return e4.forEach(function(e5, n4) {
              var r3 = e5.get("magicFusionIndex"), i3 = function(t5, e6) {
                var n5 = t5.attributes, r4 = n5.type, i4 = n5.after, o3 = n5.before, a2 = n5.object, s2 = n5.options;
                return { index: e6, type: r4, after: i4, before: o3, object: a2, options: void 0 === s2 ? {} : s2 };
              }(e5, n4);
              t4[r3] ? t4[r3].push(i3) : t4[r3] = [i3];
            }), Object.keys(t4).map(function(e5) {
              var n4 = t4[e5];
              return { index: n4[n4.length - 1].index, actions: n4, labels: (0, s.unique)(n4.reduce(function(t5, e6) {
                var n5, r3 = null === (n5 = e6.options) || void 0 === n5 ? void 0 : n5.action;
                return r3 && t5.push(r3), t5;
              }, [])) };
            });
          }, goToGroup: function(t4) {
            var e4 = this;
            if (t4) {
              var n4 = this.getPointer(), r3 = t4.index - n4;
              (0, s.times)(Math.abs(r3), function() {
                e4[r3 < 0 ? "undo" : "redo"](false);
              });
            }
          }, getPointer: function() {
            return this.getStack().pointer;
          }, clear: function() {
            return e3.clear(), this;
          }, getInstance: function() {
            return e3;
          }, destroy: function() {
            this.clear().removeAll(), [t3, e3, n3, i2].forEach(function(t4) {
              return {};
            }), this.em = {};
          } };
        };
      }, 5610: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => u });
        var r2 = n2(4942), i = n2(5671), o = n2(3144), a = n2(9050), s = n2(1163);
        function l(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function c(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? l(Object(n3), true).forEach(function(e4) {
              (0, r2.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : l(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var u = function() {
          function t3() {
            var e3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return (0, i.Z)(this, t3), this.opts = { container: null, onStart: null, onDrag: null, onEnd: null, setPosition: null, getPosition: null, guidesStatic: null, guidesTarget: null, snapOffset: 5, doc: 0, scale: 1 }, (0, a.bindAll)(this, "drag", "stop", "keyHandle", "handleScroll"), this.setOptions(e3), this.delta = { x: 0, y: 0 }, this;
          }
          return (0, o.Z)(t3, [{ key: "setOptions", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            this.opts = c(c({}, this.opts), t4);
          } }, { key: "toggleDrag", value: function(t4) {
            var e3 = this.getDocumentEl(), n3 = this.getContainerEl(), r3 = this.getWindowEl(), i2 = t4 ? "on" : "off", o2 = { on: s.on, off: s.off };
            o2[i2](n3, "mousemove dragover", this.drag), o2[i2](e3, "mouseup dragend touchend", this.stop), o2[i2](e3, "keydown", this.keyHandle), o2[i2](r3, "scroll", this.handleScroll);
          } }, { key: "handleScroll", value: function() {
            var t4 = this.lastScroll, e3 = this.delta, n3 = this.getScrollInfo(), r3 = { x: n3.x - t4.x, y: n3.y - t4.y };
            this.move(e3.x + r3.x, e3.y + r3.y), this.lastScrollDiff = r3;
          } }, { key: "start", value: function(t4) {
            var e3 = this.opts, n3 = e3.onStart;
            this.toggleDrag(1), this.startPointer = this.getPointerPos(t4), this.guidesStatic = (0, a.result)(e3, "guidesStatic") || [], this.guidesTarget = (0, a.result)(e3, "guidesTarget") || [], (0, a.isFunction)(n3) && n3(t4, this), this.startPosition = this.getStartPosition(), this.lastScrollDiff = { x: 0, y: 0 }, this.globScrollDiff = { x: 0, y: 0 }, this.drag(t4);
          } }, { key: "drag", value: function(t4) {
            var e3 = this, n3 = this.opts, r3 = this.lastScrollDiff, i2 = this.globScrollDiff, o2 = n3.onDrag, s2 = this.startPointer, l2 = this.getPointerPos(t4), u2 = { x: i2.x + r3.x, y: i2.y + r3.y };
            this.globScrollDiff = u2;
            var f = { x: l2.x - s2.x + u2.x, y: l2.y - s2.y + u2.y };
            this.lastScrollDiff = { x: 0, y: 0 };
            var h = this.lockedAxis;
            "x" === (h = t4.shiftKey ? !h && this.detectAxisLock(f.x, f.y) : null) ? f.x = s2.x : "y" === h && (f.y = s2.y);
            var d = function(r4) {
              ["x", "y"].forEach(function(t5) {
                return r4[t5] = r4[t5] * (0, a.result)(n3, "scale");
              }), e3.delta = r4, e3.move(r4.x, r4.y), (0, a.isFunction)(o2) && o2(t4, e3);
            }, p = c({}, f);
            if (this.currentPointer = l2, this.lockedAxis = h, this.lastScroll = this.getScrollInfo(), d(f), this.guidesTarget.length) {
              var g = this.snapGuides(p), v = g.newDelta, m = g.trgX, y = g.trgY;
              (m || y) && d(v);
            }
            0 === t4.which && this.stop(t4);
          } }, { key: "snapGuides", value: function(t4) {
            var e3 = this, n3 = t4, r3 = this.trgX, i2 = this.trgY;
            return this.guidesTarget.forEach(function(n4) {
              n4.x && e3.trgX || n4.y && e3.trgY || (n4.active = 0, e3.guidesStatic.forEach(function(o2) {
                if (!(n4.y && o2.x || n4.x && o2.y)) {
                  var s2 = n4.y && o2.y, l2 = s2 ? "y" : "x", c2 = n4[l2], u2 = o2[l2], f = t4[l2], h = s2 ? i2 : r3;
                  if (e3.isPointIn(c2, u2) && (0, a.isUndefined)(h)) {
                    var d = f - (c2 - u2);
                    e3.setGuideLock(n4, d);
                  }
                }
              }));
            }), r3 = this.trgX, i2 = this.trgY, ["x", "y"].forEach(function(r4) {
              var i3 = r4.toUpperCase(), o2 = e3["trg".concat(i3)];
              o2 && !e3.isPointIn(t4[r4], o2.lock) && (e3.setGuideLock(o2, null), o2 = null), o2 && !(0, a.isUndefined)(o2.lock) && (n3[r4] = o2.lock);
            }), { newDelta: n3, trgX: this.trgX, trgY: this.trgY };
          } }, { key: "isPointIn", value: function(t4, e3) {
            var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, r3 = n3.offset, i2 = r3 || this.opts.snapOffset;
            return t4 >= e3 && t4 <= e3 + i2 || t4 <= e3 && t4 >= e3 - i2;
          } }, { key: "setGuideLock", value: function(t4, e3) {
            var n3 = (0, a.isUndefined)(t4.x) ? "Y" : "X", r3 = "trg".concat(n3);
            return null !== e3 ? (t4.active = 1, t4.lock = e3, this[r3] = t4) : (delete t4.active, delete t4.lock, delete this[r3]), t4;
          } }, { key: "stop", value: function(t4) {
            var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n3 = this.delta, r3 = e3.cancel, i2 = r3 ? 0 : n3.x, o2 = r3 ? 0 : n3.y;
            this.toggleDrag(), this.lockedAxis = null, this.move(i2, o2, 1);
            var s2 = this.opts.onEnd;
            (0, a.isFunction)(s2) && s2(t4, this, { cancelled: r3 });
          } }, { key: "keyHandle", value: function(t4) {
            (0, s.isEscKey)(t4) && this.stop(t4, { cancel: 1 });
          } }, { key: "move", value: function(t4, e3, n3) {
            var r3 = this.el, i2 = this.opts, o2 = this.startPosition;
            if (o2) {
              var s2 = i2.setPosition, l2 = o2.x + t4, c2 = o2.y + e3;
              this.position = { x: l2, y: c2, end: n3 }, (0, a.isFunction)(s2) && s2(this.position), r3 && (r3.style.left = "".concat(l2, "px"), r3.style.top = "".concat(c2, "px"));
            }
          } }, { key: "getContainerEl", value: function() {
            var t4 = this.opts.container;
            return t4 ? [t4] : this.getDocumentEl();
          } }, { key: "getWindowEl", value: function() {
            return this.getContainerEl().map(function(t4) {
              var e3 = t4.ownerDocument || t4;
              return e3.defaultView || e3.parentWindow;
            });
          } }, { key: "getDocumentEl", value: function(t4) {
            var e3 = this.opts.doc;
            if (t4 = t4 || this.el, !this.docs) {
              var n3 = [document];
              t4 && n3.push(t4.ownerDocument), e3 && n3.push(e3), this.docs = n3;
            }
            return this.docs;
          } }, { key: "getPointerPos", value: function(t4) {
            var e3 = this.opts.getPointerPosition, n3 = (0, s.getPointerEvent)(t4);
            return e3 ? e3(t4) : { x: n3.clientX, y: n3.clientY };
          } }, { key: "getStartPosition", value: function() {
            var t4 = this.el, e3 = this.opts.getPosition, n3 = { x: 0, y: 0 };
            return (0, a.isFunction)(e3) ? n3 = e3() : t4 && (n3 = { x: parseFloat(t4.style.left), y: parseFloat(t4.style.top) }), n3;
          } }, { key: "getScrollInfo", value: function() {
            var t4 = this.opts.doc, e3 = t4 && t4.body;
            return { y: e3 ? e3.scrollTop : 0, x: e3 ? e3.scrollLeft : 0 };
          } }, { key: "detectAxisLock", value: function(t4, e3) {
            var n3 = t4, r3 = e3, i2 = Math.abs(n3), o2 = Math.abs(r3);
            return r3 >= i2 || r3 <= -i2 ? "x" : n3 > o2 || n3 < -o2 ? "y" : void 0;
          } }]), t3;
        }();
      }, 2579: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => vt });
        var r2 = "undefined" != typeof document ? document : null, i = "undefined" != typeof window ? window : null, o = Array.prototype, a = o.filter, s = o.indexOf, l = o.map, c = o.push, u = o.reverse, f = o.slice, h = o.splice, d = /^#[\w-]*$/, p = /^\.[\w-]*$/, g = /<.+>/, v = /^\w+$/;
        function m(t3, e3) {
          return void 0 === e3 && (e3 = r2), p.test(t3) ? e3.getElementsByClassName(t3.slice(1)) : v.test(t3) ? e3.getElementsByTagName(t3) : e3.querySelectorAll(t3);
        }
        function y(t3, e3) {
          if (void 0 === e3 && (e3 = r2), t3) {
            if (t3.__cash) return t3;
            var n3 = t3;
            if (T(t3)) {
              if (e3.__cash && (e3 = e3[0]), !(n3 = d.test(t3) ? e3.getElementById(t3.slice(1)) : g.test(t3) ? dt(t3) : m(t3, e3))) return;
            } else if (P(t3)) return this.ready(t3);
            (n3.nodeType || n3 === i) && (n3 = [n3]), this.length = n3.length;
            for (var o2 = 0, a2 = this.length; o2 < a2; o2++) this[o2] = n3[o2];
          }
        }
        function b(t3, e3) {
          return new y(t3, e3);
        }
        var w = b.fn = b.prototype = y.prototype = { constructor: b, __cash: true, length: 0, splice: h };
        w.get = function(t3) {
          return void 0 === t3 ? f.call(this) : this[t3 < 0 ? t3 + this.length : t3];
        }, w.eq = function(t3) {
          return b(this.get(t3));
        }, w.first = function() {
          return this.eq(0);
        }, w.last = function() {
          return this.eq(-1);
        }, w.map = function(t3) {
          return b(l.call(this, function(e3, n3) {
            return t3.call(e3, n3, e3);
          }));
        }, w.slice = function() {
          return b(f.apply(this, arguments));
        };
        var k = /(?:^\w|[A-Z]|\b\w)/g, x = /[\s-_]+/g;
        function O(t3) {
          return t3.replace(k, function(t4, e3) {
            return t4[e3 ? "toUpperCase" : "toLowerCase"]();
          }).replace(x, "");
        }
        function C(t3, e3) {
          for (var n3 = 0, r3 = t3.length; n3 < r3 && false !== e3.call(t3[n3], t3[n3], n3, t3); n3++) ;
        }
        b.camelCase = O, b.each = C, w.each = function(t3) {
          return C(this, function(e3, n3) {
            return t3.call(e3, n3, e3);
          }), this;
        }, w.removeProp = function(t3) {
          return this.each(function(e3, n3) {
            delete n3[t3];
          });
        }, b.extend = w.extend = function(t3) {
          void 0 === t3 && (t3 = this);
          for (var e3 = arguments, n3 = e3.length, r3 = n3 < 2 ? 0 : 1; r3 < n3; r3++) for (var i2 in e3[r3]) t3[i2] = e3[r3][i2];
          return t3;
        };
        var S = 1;
        function _(t3, e3) {
          var n3 = t3 && (t3.matches || t3.webkitMatchesSelector || t3.mozMatchesSelector || t3.msMatchesSelector || t3.oMatchesSelector);
          return !!n3 && n3.call(t3, e3);
        }
        function P(t3) {
          return "function" == typeof t3;
        }
        function T(t3) {
          return "string" == typeof t3;
        }
        function E(t3) {
          return !isNaN(parseFloat(t3)) && isFinite(t3);
        }
        b.guid = S, b.matches = _, b.isFunction = P, b.isString = T, b.isNumeric = E;
        var j = Array.isArray;
        function A(t3) {
          return T(t3) ? function(e3, n3) {
            return _(n3, t3);
          } : t3.__cash ? function(e3, n3) {
            return t3.is(n3);
          } : function(t4, e3, n3) {
            return e3 === n3;
          };
        }
        b.isArray = j, w.prop = function(t3, e3) {
          if (t3) {
            if (T(t3)) return arguments.length < 2 ? this[0] && this[0][t3] : this.each(function(n4, r3) {
              r3[t3] = e3;
            });
            for (var n3 in t3) this.prop(n3, t3[n3]);
            return this;
          }
        }, w.filter = function(t3) {
          if (!t3) return b();
          var e3 = P(t3) ? t3 : A(t3);
          return b(a.call(this, function(n3, r3) {
            return e3.call(n3, r3, n3, t3);
          }));
        };
        var D = /\S+/g;
        function M(t3) {
          return T(t3) && t3.match(D) || [];
        }
        function R(t3) {
          return t3.filter(function(t4, e3, n3) {
            return n3.indexOf(t4) === e3;
          });
        }
        function Z(t3, e3, n3) {
          if (1 === t3.nodeType) {
            var r3 = i.getComputedStyle(t3, null);
            return e3 ? n3 ? r3.getPropertyValue(e3) : r3[e3] : r3;
          }
        }
        function L(t3, e3) {
          return parseInt(Z(t3, e3), 10) || 0;
        }
        w.hasClass = function(t3) {
          var e3 = M(t3), n3 = false;
          return e3.length && this.each(function(t4, r3) {
            return !(n3 = r3.classList.contains(e3[0]));
          }), n3;
        }, w.removeAttr = function(t3) {
          var e3 = M(t3);
          return e3.length ? this.each(function(t4, n3) {
            C(e3, function(t5) {
              n3.removeAttribute(t5);
            });
          }) : this;
        }, w.attr = function(t3, e3) {
          if (t3) {
            if (T(t3)) {
              if (arguments.length < 2) {
                if (!this[0]) return;
                var n3 = this[0].getAttribute(t3);
                return null === n3 ? void 0 : n3;
              }
              return null === e3 ? this.removeAttr(t3) : this.each(function(n4, r4) {
                r4.setAttribute(t3, e3);
              });
            }
            for (var r3 in t3) this.attr(r3, t3[r3]);
            return this;
          }
        }, w.toggleClass = function(t3, e3) {
          var n3 = M(t3), r3 = void 0 !== e3;
          return n3.length ? this.each(function(t4, i2) {
            C(n3, function(t5) {
              r3 ? e3 ? i2.classList.add(t5) : i2.classList.remove(t5) : i2.classList.toggle(t5);
            });
          }) : this;
        }, w.addClass = function(t3) {
          return this.toggleClass(t3, true);
        }, w.removeClass = function(t3) {
          return arguments.length ? this.toggleClass(t3, false) : this.attr("class", "");
        }, b.unique = R, w.add = function(t3, e3) {
          return b(R(this.get().concat(b(t3, e3).get())));
        };
        var N = /^--/;
        function I(t3) {
          return N.test(t3);
        }
        var F = {}, V = r2 && r2.createElement("div"), B = V ? V.style : {}, H = ["webkit", "moz", "ms", "o"];
        function z(t3, e3) {
          if (void 0 === e3 && (e3 = I(t3)), e3) return t3;
          if (!F[t3]) {
            var n3 = O(t3), r3 = "" + n3.charAt(0).toUpperCase() + n3.slice(1);
            C((n3 + " " + H.join(r3 + " ") + r3).split(" "), function(e4) {
              if (e4 in B) return F[t3] = e4, false;
            });
          }
          return F[t3];
        }
        b.prefixedProp = z;
        var U = { animationIterationCount: true, columnCount: true, flexGrow: true, flexShrink: true, fontWeight: true, lineHeight: true, opacity: true, order: true, orphans: true, widows: true, zIndex: true };
        function W(t3, e3, n3) {
          return void 0 === n3 && (n3 = I(t3)), n3 || U[t3] || !E(e3) ? e3 : e3 + "px";
        }
        w.css = function(t3, e3) {
          if (T(t3)) {
            var n3 = I(t3);
            return t3 = z(t3, n3), arguments.length < 2 ? this[0] && Z(this[0], t3, n3) : t3 ? (e3 = W(t3, e3, n3), this.each(function(r4, i2) {
              1 === i2.nodeType && (n3 ? i2.style.setProperty(t3, e3) : i2.style[t3] = e3);
            })) : this;
          }
          for (var r3 in t3) this.css(r3, t3[r3]);
          return this;
        };
        var $ = "__cashData", q = /^data-(.*)/;
        function G(t3) {
          return t3[$] = t3[$] || {};
        }
        function K(t3, e3) {
          var n3 = G(t3);
          if (e3) {
            if (!(e3 in n3)) {
              var r3 = t3.dataset ? t3.dataset[e3] || t3.dataset[O(e3)] : b(t3).attr("data-" + e3);
              if (void 0 !== r3) {
                try {
                  r3 = JSON.parse(r3);
                } catch (t4) {
                }
                n3[e3] = r3;
              }
            }
            return n3[e3];
          }
          return n3;
        }
        function Y(t3, e3) {
          return L(t3, "border" + (e3 ? "Left" : "Top") + "Width") + L(t3, "padding" + (e3 ? "Left" : "Top")) + L(t3, "padding" + (e3 ? "Right" : "Bottom")) + L(t3, "border" + (e3 ? "Right" : "Bottom") + "Width");
        }
        function X(t3, e3) {
          for (var n3 = 0, r3 = e3.length; n3 < r3; n3++) if (t3.indexOf(e3[n3]) < 0) return false;
          return true;
        }
        function J(t3, e3, n3) {
          C(t3[n3], function(t4) {
            t4[0];
            var r3 = t4[1];
            e3.removeEventListener(n3, r3);
          }), delete t3[n3];
        }
        b.hasData = function(t3) {
          return $ in t3;
        }, w.data = function(t3, e3) {
          var n3 = this;
          if (!t3) {
            if (!this[0]) return;
            return C(this[0].attributes, function(t4) {
              var e4 = t4.name.match(q);
              e4 && n3.data(e4[1]);
            }), K(this[0]);
          }
          if (T(t3)) return void 0 === e3 ? this[0] && K(this[0], t3) : this.each(function(n4, r4) {
            return function(t4, e4, n5) {
              G(t4)[e4] = n5;
            }(r4, t3, e3);
          });
          for (var r3 in t3) this.data(r3, t3[r3]);
          return this;
        }, w.removeData = function(t3) {
          return this.each(function(e3, n3) {
            return function(t4, e4) {
              void 0 === e4 ? delete t4[$] : delete G(t4)[e4];
            }(n3, t3);
          });
        }, C(["Width", "Height"], function(t3) {
          w["inner" + t3] = function() {
            if (this[0]) return this[0] === i ? i["inner" + t3] : this[0]["client" + t3];
          };
        }), C(["width", "height"], function(t3, e3) {
          w[t3] = function(n3) {
            return this[0] ? arguments.length ? (n3 = parseInt(n3, 10), this.each(function(r3, i2) {
              if (1 === i2.nodeType) {
                var o2 = Z(i2, "boxSizing");
                i2.style[t3] = W(t3, n3 + ("border-box" === o2 ? Y(i2, !e3) : 0));
              }
            })) : this[0] === i ? this[0][O("outer-" + t3)] : this[0].getBoundingClientRect()[t3] - Y(this[0], !e3) : void 0 === n3 ? void 0 : this;
          };
        }), C(["Width", "Height"], function(t3, e3) {
          w["outer" + t3] = function(n3) {
            if (this[0]) return this[0] === i ? i["outer" + t3] : this[0]["offset" + t3] + (n3 ? L(this[0], "margin" + (e3 ? "Top" : "Left")) + L(this[0], "margin" + (e3 ? "Bottom" : "Right")) : 0);
          };
        });
        var Q = "__cashEvents", tt = ".";
        function et(t3) {
          return t3[Q] = t3[Q] || {};
        }
        function nt(t3) {
          var e3 = t3.split(tt);
          return [e3[0], e3.slice(1).sort()];
        }
        function rt(t3, e3, n3, r3) {
          var i2 = et(t3);
          if (e3) {
            var o2 = i2[e3];
            if (!o2) return;
            r3 && (r3.guid = r3.guid || S++), i2[e3] = o2.filter(function(i3) {
              var o3 = i3[0], a2 = i3[1];
              if (r3 && a2.guid !== r3.guid || !X(o3, n3)) return true;
              t3.removeEventListener(e3, a2);
            });
          } else if (n3 && n3.length) for (e3 in i2) rt(t3, e3, n3, r3);
          else for (e3 in i2) J(i2, t3, e3);
        }
        w.off = function(t3, e3) {
          var n3 = this;
          return void 0 === t3 ? this.each(function(t4, e4) {
            return rt(e4);
          }) : C(M(t3), function(t4) {
            var r3 = nt(t4), i2 = r3[0], o2 = r3[1];
            n3.each(function(t5, n4) {
              return rt(n4, i2, o2, e3);
            });
          }), this;
        }, w.on = function(t3, e3, n3, r3) {
          var i2 = this;
          if (!T(t3)) {
            for (var o2 in t3) this.on(o2, e3, t3[o2]);
            return this;
          }
          return P(e3) && (n3 = e3, e3 = false), C(M(t3), function(t4) {
            var o3 = nt(t4), a2 = o3[0], s2 = o3[1];
            i2.each(function(t5, i3) {
              var o4 = function t6(o5) {
                if (!o5.namespace || X(s2, o5.namespace.split(tt))) {
                  var l2 = i3;
                  if (e3) {
                    for (var c2 = o5.target; !_(c2, e3); ) {
                      if (c2 === i3) return;
                      if (!(c2 = c2.parentNode)) return;
                    }
                    l2 = c2;
                  }
                  o5.namespace = o5.namespace || "";
                  var u2 = n3.call(l2, o5, o5.data);
                  r3 && rt(i3, a2, s2, t6), false === u2 && (o5.preventDefault(), o5.stopPropagation());
                }
              };
              o4.guid = n3.guid = n3.guid || S++, function(t6, e4, n4, r4) {
                r4.guid = r4.guid || S++;
                var i4 = et(t6);
                i4[e4] = i4[e4] || [], i4[e4].push([n4, r4]), t6.addEventListener(e4, r4);
              }(i3, a2, s2, o4);
            });
          }), this;
        }, w.one = function(t3, e3, n3) {
          return this.on(t3, e3, n3, true);
        }, w.ready = function(t3) {
          var e3 = function() {
            return t3(b);
          };
          return "loading" !== r2.readyState ? setTimeout(e3) : r2.addEventListener("DOMContentLoaded", e3), this;
        }, w.trigger = function(t3, e3) {
          var n3 = t3;
          if (T(t3)) {
            var i2 = nt(t3), o2 = i2[0], a2 = i2[1];
            (n3 = r2.createEvent("HTMLEvents")).initEvent(o2, true, true), n3.namespace = a2.join(tt);
          }
          return n3.data = e3, this.each(function(t4, e4) {
            e4.dispatchEvent(n3);
          });
        };
        var it = /select-one/i, ot = /select-multiple/i;
        function at(t3) {
          var e3 = t3.type;
          return it.test(e3) ? function(t4) {
            return t4.selectedIndex < 0 ? null : t4.options[t4.selectedIndex].value;
          }(t3) : ot.test(e3) ? function(t4) {
            var e4 = [];
            return C(t4.options, function(t5) {
              !t5.selected || t5.disabled || t5.parentNode.disabled || e4.push(t5.value);
            }), e4;
          }(t3) : t3.value;
        }
        var st = /%20/g;
        var lt = /file|reset|submit|button|image/i, ct = /radio|checkbox/i;
        w.serialize = function() {
          var t3 = "";
          return this.each(function(e3, n3) {
            C(n3.elements || [n3], function(e4) {
              if (!e4.disabled && e4.name && "FIELDSET" !== e4.tagName && !lt.test(e4.type) && (!ct.test(e4.type) || e4.checked)) {
                var n4 = at(e4);
                if (void 0 !== n4) C(j(n4) ? n4 : [n4], function(n5) {
                  t3 += function(t4, e5) {
                    return "&" + encodeURIComponent(t4) + "=" + encodeURIComponent(e5).replace(st, "+");
                  }(e4.name, n5);
                });
              }
            });
          }), t3.substr(1);
        }, w.val = function(t3) {
          return void 0 === t3 ? this[0] && at(this[0]) : this.each(function(e3, n3) {
            var r3 = ot.test(n3.type), i2 = null === t3 ? r3 ? [] : "" : t3;
            r3 && j(i2) ? C(n3.options, function(t4) {
              t4.selected = i2.indexOf(t4.value) >= 0;
            }) : n3.value = i2;
          });
        }, w.clone = function() {
          return this.map(function(t3, e3) {
            return e3.cloneNode(true);
          });
        }, w.detach = function() {
          return this.each(function(t3, e3) {
            e3.parentNode && e3.parentNode.removeChild(e3);
          });
        };
        var ut, ft = /^\s*<(\w+)[^>]*>/, ht = /^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;
        function dt(t3) {
          if (function() {
            if (!ut) {
              var t4 = r2.createElement("table"), e4 = r2.createElement("tr");
              ut = { "*": r2.createElement("div"), tr: r2.createElement("tbody"), td: e4, th: e4, thead: t4, tbody: t4, tfoot: t4 };
            }
          }(), !T(t3)) return [];
          if (ht.test(t3)) return [r2.createElement(RegExp.$1)];
          var e3 = ft.test(t3) && RegExp.$1, n3 = ut[e3] || ut["*"];
          return n3.innerHTML = t3, b(n3.childNodes).detach().get();
        }
        function pt(t3, e3, n3) {
          if (void 0 !== e3) {
            var r3 = T(e3);
            !r3 && e3.length ? C(e3, function(e4) {
              return pt(t3, e4, n3);
            }) : C(t3, r3 ? function(t4) {
              t4.insertAdjacentHTML(n3 ? "afterbegin" : "beforeend", e3);
            } : function(t4, r4) {
              return function(t5, e4, n4) {
                n4 ? t5.insertBefore(e4, t5.childNodes[0]) : t5.appendChild(e4);
              }(t4, r4 ? e3.cloneNode(true) : e3, n3);
            });
          }
        }
        b.parseHTML = dt, w.empty = function() {
          var t3 = this[0];
          if (t3) for (; t3.firstChild; ) t3.removeChild(t3.firstChild);
          return this;
        }, w.append = function() {
          var t3 = this;
          return C(arguments, function(e3) {
            pt(t3, e3);
          }), this;
        }, w.appendTo = function(t3) {
          return pt(b(t3), this), this;
        }, w.html = function(t3) {
          if (void 0 === t3) return this[0] && this[0].innerHTML;
          var e3 = t3.nodeType ? t3[0].outerHTML : t3;
          return this.each(function(t4, n3) {
            n3.innerHTML = e3;
          });
        }, w.insertAfter = function(t3) {
          var e3 = this;
          return b(t3).each(function(t4, n3) {
            var r3 = n3.parentNode;
            e3.each(function(e4, i2) {
              r3.insertBefore(t4 ? i2.cloneNode(true) : i2, n3.nextSibling);
            });
          }), this;
        }, w.after = function() {
          var t3 = this;
          return C(u.apply(arguments), function(e3) {
            u.apply(b(e3).slice()).insertAfter(t3);
          }), this;
        }, w.insertBefore = function(t3) {
          var e3 = this;
          return b(t3).each(function(t4, n3) {
            var r3 = n3.parentNode;
            e3.each(function(e4, i2) {
              r3.insertBefore(t4 ? i2.cloneNode(true) : i2, n3);
            });
          }), this;
        }, w.before = function() {
          var t3 = this;
          return C(arguments, function(e3) {
            b(e3).insertBefore(t3);
          }), this;
        }, w.prepend = function() {
          var t3 = this;
          return C(arguments, function(e3) {
            pt(t3, e3, true);
          }), this;
        }, w.prependTo = function(t3) {
          return pt(b(t3), u.apply(this.slice()), true), this;
        }, w.remove = function() {
          return this.detach().off();
        }, w.replaceWith = function(t3) {
          var e3 = this;
          return this.each(function(n3, r3) {
            var i2 = r3.parentNode;
            if (i2) {
              var o2 = n3 ? b(t3).clone() : b(t3);
              if (!o2[0]) return e3.remove(), false;
              i2.replaceChild(o2[0], r3), b(o2[0]).after(o2.slice(1));
            }
          });
        }, w.replaceAll = function(t3) {
          return b(t3).replaceWith(this), this;
        }, w.text = function(t3) {
          return void 0 === t3 ? this[0] ? this[0].textContent : "" : this.each(function(e3, n3) {
            n3.textContent = t3;
          });
        };
        var gt = r2 && r2.documentElement;
        w.offset = function() {
          var t3 = this[0];
          if (t3) {
            var e3 = t3.getBoundingClientRect();
            return { top: e3.top + i.pageYOffset - gt.clientTop, left: e3.left + i.pageXOffset - gt.clientLeft };
          }
        }, w.offsetParent = function() {
          return b(this[0] && this[0].offsetParent);
        }, w.position = function() {
          var t3 = this[0];
          if (t3) return { left: t3.offsetLeft, top: t3.offsetTop };
        }, w.children = function(t3) {
          var e3 = [];
          return this.each(function(t4, n3) {
            c.apply(e3, n3.children);
          }), e3 = b(R(e3)), t3 ? e3.filter(function(e4, n3) {
            return _(n3, t3);
          }) : e3;
        }, w.contents = function() {
          var t3 = [];
          return this.each(function(e3, n3) {
            c.apply(t3, "IFRAME" === n3.tagName ? [n3.contentDocument] : n3.childNodes);
          }), b(t3.length && R(t3));
        }, w.find = function(t3) {
          for (var e3 = [], n3 = 0, r3 = this.length; n3 < r3; n3++) {
            var i2 = m(t3, this[n3]);
            i2.length && c.apply(e3, i2);
          }
          return b(e3.length && R(e3));
        }, w.has = function(t3) {
          var e3 = T(t3) ? function(e4, n3) {
            return !!m(t3, n3).length;
          } : function(e4, n3) {
            return n3.contains(t3);
          };
          return this.filter(e3);
        }, w.is = function(t3) {
          if (!t3 || !this[0]) return false;
          var e3 = A(t3), n3 = false;
          return this.each(function(r3, i2) {
            return !(n3 = e3(r3, i2, t3));
          }), n3;
        }, w.next = function() {
          return b(this[0] && this[0].nextElementSibling);
        }, w.not = function(t3) {
          if (!t3 || !this[0]) return this;
          var e3 = A(t3);
          return this.filter(function(n3, r3) {
            return !e3(n3, r3, t3);
          });
        }, w.parent = function() {
          var t3 = [];
          return this.each(function(e3, n3) {
            n3 && n3.parentNode && t3.push(n3.parentNode);
          }), b(R(t3));
        }, w.index = function(t3) {
          var e3 = t3 ? b(t3)[0] : this[0], n3 = t3 ? this : b(e3).parent().children();
          return s.call(n3, e3);
        }, w.closest = function(t3) {
          return t3 && this[0] ? this.is(t3) ? this.filter(t3) : this.parent().closest(t3) : b();
        }, w.parents = function(t3) {
          var e3, n3 = [];
          return this.each(function(i2, o2) {
            for (e3 = o2; e3 && e3.parentNode && e3 !== r2.body.parentNode; ) e3 = e3.parentNode, (!t3 || t3 && _(e3, t3)) && n3.push(e3);
          }), b(R(n3));
        }, w.prev = function() {
          return b(this[0] && this[0].previousElementSibling);
        }, w.siblings = function() {
          var t3 = this[0];
          return this.parent().children().filter(function(e3, n3) {
            return n3 !== t3;
          });
        };
        const vt = b;
      }, 9283: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { $Q: () => d, FW: () => u, G1: () => a, L_: () => l, Mx: () => s, R3: () => p, SJ: () => y, dL: () => h, pn: () => f, rw: () => v, sE: () => c, t3: () => m, ut: () => g });
        var r2 = n2(9050), i = "tag", o = "attributes", a = "transitionend oTransitionEnd transitionend webkitTransitionEnd", s = function(t3) {
          return t3 && 9 === t3.nodeType;
        }, l = function(t3) {
          var e3 = t3 && t3.parentNode;
          e3 && e3.removeChild(t3);
        }, c = function(t3, e3) {
          return t3.querySelectorAll(e3);
        }, u = function(t3) {
          var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          return t3 && t3.setAttribute && (0, r2.each)(e3, function(e4, n3) {
            return t3.setAttribute(n3, e4);
          });
        }, f = function(t3) {
          return t3 && !!(t3.offsetWidth || t3.offsetHeight || t3.getClientRects().length);
        }, h = function(t3, e3) {
          t3.parentNode.replaceChild(e3, t3);
        }, d = function(t3, e3, n3) {
          var i2 = t3.childNodes, o2 = i2.length, a2 = (0, r2.isUndefined)(n3) ? o2 : n3;
          (0, r2.isString)(e3) && (t3.insertAdjacentHTML("beforeEnd", e3), e3 = t3.lastChild, t3.removeChild(e3)), a2 >= o2 ? t3.appendChild(e3) : t3.insertBefore(e3, i2[a2]);
        }, p = function(t3, e3) {
          return d(t3, e3);
        }, g = function(t3) {
          var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n3 = arguments.length > 2 ? arguments[2] : void 0, i2 = document.createElement(t3);
          return e3 && (0, r2.each)(e3, function(t4, e4) {
            return i2.setAttribute(e4, t4);
          }), n3 && ((0, r2.isString)(n3) ? i2.innerHTML = n3 : i2.appendChild(n3)), i2;
        }, v = function(t3) {
          return document.createTextNode(t3);
        }, m = function(t3, e3) {
          var n3, r3 = t3.type;
          try {
            n3 = new window[e3](r3, t3);
          } catch (t4) {
            (n3 = document.createEvent(e3)).initEvent(r3, true, true);
          }
          return n3._parentEvent = t3, 0 === r3.indexOf("key") && (n3.keyCodeVal = t3.keyCode, ["keyCode", "which"].forEach(function(t4) {
            Object.defineProperty(n3, t4, { get: function() {
              return this.keyCodeVal;
            } });
          })), n3;
        }, y = function(t3) {
          var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [], n3 = Array.isArray(e3) ? e3 : [e3];
          n3.forEach(function(e4) {
            var n4 = e4[i] || "div", a2 = e4[o] || {}, s2 = document.createElement(n4);
            (0, r2.each)(a2, function(t4, e5) {
              s2.setAttribute(e5, t4);
            }), t3.appendChild(s2);
          });
        };
      }, 9661: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => m });
        var r2 = n2(1002);
        const i = function(t3) {
          var e3 = this.constructor;
          return this.then(function(n3) {
            return e3.resolve(t3()).then(function() {
              return n3;
            });
          }, function(n3) {
            return e3.resolve(t3()).then(function() {
              return e3.reject(n3);
            });
          });
        };
        const o = function(t3) {
          return new this(function(e3, n3) {
            if (!t3 || void 0 === t3.length) return n3(new TypeError((0, r2.Z)(t3) + " " + t3 + " is not iterable(cannot read property Symbol(Symbol.iterator))"));
            var i2 = Array.prototype.slice.call(t3);
            if (0 === i2.length) return e3([]);
            var o2 = i2.length;
            function a2(t4, n4) {
              if (n4 && ("object" === (0, r2.Z)(n4) || "function" == typeof n4)) {
                var s3 = n4.then;
                if ("function" == typeof s3) return void s3.call(n4, function(e4) {
                  a2(t4, e4);
                }, function(n5) {
                  i2[t4] = { status: "rejected", reason: n5 }, 0 == --o2 && e3(i2);
                });
              }
              i2[t4] = { status: "fulfilled", value: n4 }, 0 == --o2 && e3(i2);
            }
            for (var s2 = 0; s2 < i2.length; s2++) a2(s2, i2[s2]);
          });
        };
        var a = setTimeout;
        function s(t3) {
          return Boolean(t3 && void 0 !== t3.length);
        }
        function l() {
        }
        function c(t3) {
          if (!(this instanceof c)) throw new TypeError("Promises must be constructed via new");
          if ("function" != typeof t3) throw new TypeError("not a function");
          this._state = 0, this._handled = false, this._value = void 0, this._deferreds = [], g(t3, this);
        }
        function u(t3, e3) {
          for (; 3 === t3._state; ) t3 = t3._value;
          0 !== t3._state ? (t3._handled = true, c._immediateFn(function() {
            var n3 = 1 === t3._state ? e3.onFulfilled : e3.onRejected;
            if (null !== n3) {
              var r3;
              try {
                r3 = n3(t3._value);
              } catch (t4) {
                return void h(e3.promise, t4);
              }
              f(e3.promise, r3);
            } else (1 === t3._state ? f : h)(e3.promise, t3._value);
          })) : t3._deferreds.push(e3);
        }
        function f(t3, e3) {
          try {
            if (e3 === t3) throw new TypeError("A promise cannot be resolved with itself.");
            if (e3 && ("object" === (0, r2.Z)(e3) || "function" == typeof e3)) {
              var n3 = e3.then;
              if (e3 instanceof c) return t3._state = 3, t3._value = e3, void d(t3);
              if ("function" == typeof n3) return void g((i2 = n3, o2 = e3, function() {
                i2.apply(o2, arguments);
              }), t3);
            }
            t3._state = 1, t3._value = e3, d(t3);
          } catch (e4) {
            h(t3, e4);
          }
          var i2, o2;
        }
        function h(t3, e3) {
          t3._state = 2, t3._value = e3, d(t3);
        }
        function d(t3) {
          2 === t3._state && 0 === t3._deferreds.length && c._immediateFn(function() {
            t3._handled || c._unhandledRejectionFn(t3._value);
          });
          for (var e3 = 0, n3 = t3._deferreds.length; e3 < n3; e3++) u(t3, t3._deferreds[e3]);
          t3._deferreds = null;
        }
        function p(t3, e3, n3) {
          this.onFulfilled = "function" == typeof t3 ? t3 : null, this.onRejected = "function" == typeof e3 ? e3 : null, this.promise = n3;
        }
        function g(t3, e3) {
          var n3 = false;
          try {
            t3(function(t4) {
              n3 || (n3 = true, f(e3, t4));
            }, function(t4) {
              n3 || (n3 = true, h(e3, t4));
            });
          } catch (t4) {
            if (n3) return;
            n3 = true, h(e3, t4);
          }
        }
        c.prototype["catch"] = function(t3) {
          return this.then(null, t3);
        }, c.prototype.then = function(t3, e3) {
          var n3 = new this.constructor(l);
          return u(this, new p(t3, e3, n3)), n3;
        }, c.prototype["finally"] = i, c.all = function(t3) {
          return new c(function(e3, n3) {
            if (!s(t3)) return n3(new TypeError("Promise.all accepts an array"));
            var i2 = Array.prototype.slice.call(t3);
            if (0 === i2.length) return e3([]);
            var o2 = i2.length;
            function a2(t4, s2) {
              try {
                if (s2 && ("object" === (0, r2.Z)(s2) || "function" == typeof s2)) {
                  var l3 = s2.then;
                  if ("function" == typeof l3) return void l3.call(s2, function(e4) {
                    a2(t4, e4);
                  }, n3);
                }
                i2[t4] = s2, 0 == --o2 && e3(i2);
              } catch (t5) {
                n3(t5);
              }
            }
            for (var l2 = 0; l2 < i2.length; l2++) a2(l2, i2[l2]);
          });
        }, c.allSettled = o, c.resolve = function(t3) {
          return t3 && "object" === (0, r2.Z)(t3) && t3.constructor === c ? t3 : new c(function(e3) {
            e3(t3);
          });
        }, c.reject = function(t3) {
          return new c(function(e3, n3) {
            n3(t3);
          });
        }, c.race = function(t3) {
          return new c(function(e3, n3) {
            if (!s(t3)) return n3(new TypeError("Promise.race accepts an array"));
            for (var r3 = 0, i2 = t3.length; r3 < i2; r3++) c.resolve(t3[r3]).then(e3, n3);
          });
        }, c._immediateFn = "function" == typeof setImmediate && function(t3) {
          setImmediate(t3);
        } || function(t3) {
          a(t3, 0);
        }, c._unhandledRejectionFn = function(t3) {
          "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", t3);
        };
        const v = c;
        (0, n2(1163).hasWin)() && (window.Promise = window.Promise || v);
        const m = "function" == typeof fetch ? fetch.bind() : function(t3, e3) {
          return new v(function(n3, r3) {
            var i2 = new XMLHttpRequest();
            for (var o2 in i2.open(e3.method || "get", t3), i2.withCredentials = "include" == e3.credentials, e3.headers || {}) i2.setRequestHeader(o2, e3.headers[o2]);
            i2.onload = function(t4) {
              return n3({ status: i2.status, statusText: i2.statusText, text: function() {
                return v.resolve(i2.responseText);
              } });
            }, i2.onerror = r3, i2.upload && e3.onProgress && (i2.upload.onprogress = e3.onProgress), e3.body ? i2.send(e3.body) : i2.send();
          });
        };
      }, 6718: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => C });
        var r2 = n2(4942), i = n2(5610), o = n2(2316), a = n2.n(o), s = n2(9050), l = n2(1163);
        function c(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function u(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? c(Object(n3), true).forEach(function(e4) {
              (0, r2.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : c(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var f = a().$, h = function() {
        };
        const d = a().View.extend({ initialize: function(t3) {
          this.opt = t3 || {}, (0, s.bindAll)(this, "startSort", "onMove", "endMove", "rollback", "updateOffset", "moveDragHelper");
          var e3 = t3 || {};
          this.elT = 0, this.elL = 0, this.borderOffset = e3.borderOffset || 10;
          var n3 = e3.container;
          this.el = "string" == typeof n3 ? document.querySelector(n3) : n3, this.$el = f(this.el), this.containerSel = e3.containerSel || "div", this.itemSel = e3.itemSel || "div", this.draggable = e3.draggable || true, this.nested = e3.nested || 0, this.pfx = e3.pfx || "", this.ppfx = e3.ppfx || "", this.freezeClass = e3.freezeClass || this.pfx + "freezed", this.onStart = e3.onStart || h, this.onEndMove = e3.onEndMove || "", this.customTarget = e3.customTarget, this.onEnd = e3.onEnd, this.direction = e3.direction || "v", this.onMoveClb = e3.onMove || "", this.relative = e3.relative || 0, this.ignoreViewChildren = e3.ignoreViewChildren || 0, this.ignoreModels = e3.ignoreModels || 0, this.plh = e3.placer || "", this.wmargin = e3.wmargin || 0, this.offTop = e3.offsetTop || 0, this.offLeft = e3.offsetLeft || 0, this.document = e3.document || document, this.$document = f(this.document), this.dropContent = null, this.em = e3.em || null, this.dragHelper = null, this.canvasRelative = e3.canvasRelative || 0, this.selectOnEnd = !e3.avoidSelectOnEnd, this.scale = e3.scale, this.activeTextModel = null, this.em && this.em.on && (this.em.on("change:canvasOffset", this.updateOffset), this.updateOffset());
        }, getScale: function() {
          return (0, s.result)(this, scale) || 1;
        }, getContainerEl: function(t3) {
          if (t3 && (this.el = t3), !this.el) {
            var e3 = this.opt.container;
            this.el = "string" == typeof e3 ? document.querySelector(e3) : e3, this.$el = f(this.el);
          }
          return this.el;
        }, getDocuments: function(t3) {
          var e3 = this.em, n3 = t3 ? t3.ownerDocument : e3 && e3.get("Canvas").getBody().ownerDocument, r3 = [document];
          return n3 && r3.push(n3), r3;
        }, updateOffset: function() {
          var t3, e3 = (null === (t3 = this.em) || void 0 === t3 ? void 0 : t3.get("canvasOffset")) || {};
          this.offTop = e3.top, this.offLeft = e3.left;
        }, setDropContent: function(t3) {
          this.dropModel = null, this.dropContent = t3;
        }, updateTextViewCursorPosition: function(t3) {
          var e3 = this.em;
          if (e3) {
            var n3 = e3.get("Canvas"), r3 = n3.getDocument(), i2 = null;
            if (r3.caretRangeFromPoint) {
              var o2 = (0, l.getPointerEvent)(t3);
              i2 = r3.caretRangeFromPoint(o2.clientX, o2.clientY);
            } else t3.rangeParent && (i2 = r3.createRange()).setStart(t3.rangeParent, t3.rangeOffset);
            var a2 = n3.getWindow().getSelection();
            n3.getFrameEl().focus(), a2.removeAllRanges(), i2 && a2.addRange(i2), this.setContentEditable(this.activeTextModel, true);
          }
        }, setContentEditable: function(t3, e3) {
          if (t3) {
            var n3 = t3.getEl();
            n3.contentEditable != e3 && (n3.contentEditable = e3);
          }
        }, toggleSortCursor: function(t3) {
          var e3 = this.em, n3 = e3 && e3.get("Canvas");
          n3 && (t3 ? n3.startAutoscroll() : n3.stopAutoscroll());
        }, setDragHelper: function(t3, e3) {
          for (var n3 = e3 || "", r3 = t3.cloneNode(1), i2 = t3.getBoundingClientRect(), o2 = getComputedStyle(t3), a2 = "", s2 = 0; s2 < o2.length; s2++) {
            var l2 = o2[s2];
            a2 += "".concat(l2, ":").concat(o2.getPropertyValue(l2), ";");
          }
          document.body.appendChild(r3), r3.className += " ".concat(this.pfx, "bdrag"), r3.setAttribute("style", a2), this.dragHelper = r3, r3.style.width = "".concat(i2.width, "px"), r3.style.height = "".concat(i2.height, "px"), n3 && this.moveDragHelper(n3), this.em && f(this.em.get("Canvas").getBody().ownerDocument).off("mousemove", this.moveDragHelper).on("mousemove", this.moveDragHelper), f(document).off("mousemove", this.moveDragHelper).on("mousemove", this.moveDragHelper);
        }, moveDragHelper: function(t3) {
          var e3 = t3.target.ownerDocument;
          if (this.dragHelper && e3) {
            var n3 = t3.pageY, r3 = t3.pageX, i2 = 0, o2 = 0, a2 = (e3.defaultView || e3.parentWindow).frameElement, s2 = this.dragHelper.style;
            if (a2) {
              var l2 = a2.getBoundingClientRect();
              i2 = l2.top + document.documentElement.scrollTop, o2 = l2.left + document.documentElement.scrollLeft, n3 = t3.clientY, r3 = t3.clientX;
            }
            s2.top = n3 + i2 + "px", s2.left = r3 + o2 + "px";
          }
        }, matches: function(t3, e3, n3) {
          return l.matches.call(t3, e3);
        }, closest: function(t3, e3) {
          if (t3) {
            for (var n3 = t3.parentNode; n3 && 1 === n3.nodeType; ) {
              if (this.matches(n3, e3)) return n3;
              n3 = n3.parentNode;
            }
            return null;
          }
        }, offset: function(t3) {
          var e3 = t3.getBoundingClientRect();
          return { top: e3.top + document.body.scrollTop, left: e3.left + document.body.scrollLeft };
        }, createPlaceholder: function() {
          var t3 = this.pfx, e3 = document.createElement("div"), n3 = document.createElement("div");
          return e3.className = t3 + "placeholder", e3.style.display = "none", e3.style["pointer-events"] = "none", n3.className = t3 + "placeholder-int", e3.appendChild(n3), e3;
        }, startSort: function(t3) {
          var e3, n3, r3, i2, o2, a2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, s2 = this.em, c2 = this.itemSel, u2 = this.containerSel, f2 = this.plh, h2 = this.getContainerEl(a2.container), d2 = this.getDocuments(t3);
          this.dropModel = null, this.target = null, this.prevTarget = null, this.moved = 0, t3 && !this.matches(t3, "".concat(c2, ", ").concat(u2)) && (t3 = this.closest(t3, c2)), this.sourceEl = t3, f2 || (this.plh = this.createPlaceholder(), h2.appendChild(this.plh)), t3 && ((o2 = this.getSourceModel(t3)) && o2.set && o2.set("status", "freezed"), this.srcModel = o2), (0, l.on)(h2, "mousemove dragover", this.onMove), (0, l.on)(d2, "mouseup dragend touchend", this.endMove), (0, l.on)(d2, "keydown", this.rollback), this.onStart({ sorter: this, target: o2, parent: o2 && (null === (e3 = (n3 = o2).parent) || void 0 === e3 ? void 0 : e3.call(n3)), index: o2 && (null === (r3 = (i2 = o2).index) || void 0 === r3 ? void 0 : r3.call(i2)) }), null == s2 || s2.clearSelection(), this.toggleSortCursor(1), null == s2 || s2.trigger("sorter:drag:start", t3, o2);
        }, getTargetModel: function(t3) {
          var e3 = t3 || this.target;
          return f(e3).data("model");
        }, getSourceModel: function(t3) {
          var e3 = this, n3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r3 = n3.target, i2 = n3.avoidChildren, o2 = void 0 === i2 ? 1 : i2, a2 = this.em, s2 = this.sourceEl, l2 = t3 || s2, c2 = this.dropModel, h2 = this.dropContent, d2 = function(t4) {
            return t4 && r3 && t4.opt && t4.opt.avoidChildren && e3.isTextableActive(t4, r3);
          };
          if (h2 && a2) {
            if (d2(c2) && (c2 = null), !c2) {
              var p2 = a2.get("DomComponents").getComponents(), g2 = { avoidChildren: o2, avoidStore: 1, avoidUpdateStyle: 1 }, v2 = p2.add(h2, u(u({}, g2), {}, { temporary: 1 }));
              if (c2 = (c2 = p2.remove(v2, g2)) instanceof Array ? c2[0] : c2, this.dropModel = c2, d2(c2)) return this.getSourceModel(l2, { target: r3, avoidChildren: 0 });
            }
            return c2;
          }
          return l2 && f(l2).data("model");
        }, selectTargetModel: function(t3, e3) {
          if (!(t3 instanceof a().Collection || e3 && e3 === t3)) {
            var n3 = this.targetModel;
            n3 && n3 !== this.srcModel && n3.set("status", ""), t3 && t3.set && (t3.set("status", "selected-parent"), this.targetModel = t3);
          }
        }, onMove: function(t3) {
          var e3 = t3, n3 = this.em, r3 = this.onMoveClb, i2 = this.plh, o2 = this.customTarget;
          this.moved = 1;
          var a2 = i2.style.display;
          a2 && "none" !== a2 || (i2.style.display = "block");
          var l2 = this.offset(this.el);
          this.elT = this.wmargin ? Math.abs(l2.top) : l2.top, this.elL = this.wmargin ? Math.abs(l2.left) : l2.left;
          var c2 = t3.pageY - this.elT + this.el.scrollTop, u2 = t3.pageX - this.elL + this.el.scrollLeft;
          if (this.canvasRelative && n3) {
            var h2 = n3.get("Canvas").getMouseRelativeCanvas(t3, { noScroll: 1 });
            u2 = h2.x, c2 = h2.y;
          }
          this.rX = u2, this.rY = c2, this.eventMove = t3;
          var d2 = this.getSourceModel(), p2 = o2 ? o2({ sorter: this, event: t3 }) : t3.target, g2 = this.dimsFromTarget(p2, u2, c2), v2 = this.target, m2 = v2 && this.getTargetModel(v2);
          if (this.selectTargetModel(m2, d2), m2 || (i2.style.display = "none"), v2) {
            this.lastDims = g2;
            var y2 = this.findPosition(g2, u2, c2);
            this.isTextableActive(d2, m2) ? (this.activeTextModel = m2, i2.style.display = "none", this.lastPos = y2, this.updateTextViewCursorPosition(e3)) : (this.disableTextable(), this.activeTextModel = null, this.lastPos && this.lastPos.index == y2.index && this.lastPos.method == y2.method || (this.movePlaceholder(this.plh, g2, y2, this.prevTargetDim), this.$plh || (this.$plh = f(this.plh)), this.canvasRelative || (this.offTop && this.$plh.css("top", "+=" + this.offTop + "px"), this.offLeft && this.$plh.css("left", "+=" + this.offLeft + "px")), this.lastPos = y2)), (0, s.isFunction)(r3) && r3({ event: t3, target: d2, parent: m2, index: y2.index + ("after" == y2.method ? 1 : 0) }), n3 && n3.trigger("sorter:drag", { target: v2, targetModel: m2, sourceModel: d2, dims: g2, pos: y2, x: u2, y: c2 });
          }
        }, isTextableActive: function(t3, e3) {
          return t3 && t3.get && t3.get("textable") && e3 && e3.is("text");
        }, disableTextable: function() {
          var t3 = this.activeTextModel;
          t3 && t3.getView().disableEditing(), this.setContentEditable(t3, false);
        }, isInFlow: function(t3, e3) {
          if (!t3) return false;
          e3 = e3 || document.body;
          var n3 = t3;
          return n3.offsetHeight, !!this.styleInFlow(n3, e3);
        }, styleInFlow: function(t3, e3) {
          if (!(0, l.isTextNode)(t3)) {
            var n3 = t3.style || {}, r3 = f(t3), i2 = e3 && f(e3);
            if (!n3.overflow || "visible" === n3.overflow) {
              var o2 = r3.css("float");
              if (!(o2 && "none" !== o2 || i2 && "flex" == i2.css("display") && "column" !== i2.css("flex-direction"))) {
                switch (n3.position) {
                  case "static":
                  case "relative":
                  case "":
                    break;
                  default:
                    return;
                }
                switch (t3.tagName) {
                  case "TR":
                  case "TBODY":
                  case "THEAD":
                  case "TFOOT":
                    return true;
                }
                switch (r3.css("display")) {
                  case "block":
                  case "list-item":
                  case "table":
                  case "flex":
                    return true;
                }
              }
            }
          }
        }, validTarget: function(t3, e3) {
          var n3 = this.getTargetModel(t3), r3 = this.getSourceModel(e3, { target: n3 }), i2 = { valid: true, src: e3 = r3 && r3.view && r3.view.el, srcModel: r3, trg: t3 = n3 && n3.view && n3.view.el, trgModel: n3 };
          if (!e3 || !t3) return i2.valid = false, i2;
          var o2 = r3.get("draggable");
          if ((0, s.isFunction)(o2)) {
            var l2 = o2(r3, n3);
            i2.dragInfo = l2, i2.draggable = l2, o2 = l2;
          } else o2 = o2 instanceof Array ? o2.join(", ") : o2, i2.dragInfo = o2, o2 = (0, s.isString)(o2) ? this.matches(t3, o2) : o2, i2.draggable = o2;
          var c2 = n3.get("droppable");
          if ((0, s.isFunction)(c2)) {
            var u2 = c2(r3, n3);
            i2.droppable = u2, i2.dropInfo = u2, c2 = u2;
          } else c2 = (c2 = c2 instanceof a().Collection ? 1 : c2) instanceof Array ? c2.join(", ") : c2, i2.dropInfo = c2, c2 = (0, s.isString)(c2) ? this.matches(e3, c2) : c2, c2 = o2 && this.isTextableActive(r3, n3) ? 1 : c2, i2.droppable = c2;
          return c2 && o2 || (i2.valid = false), i2;
        }, dimsFromTarget: function(t3, e3, n3) {
          var r3 = this.em, i2 = [];
          if (!t3) return i2;
          if (this.matches(t3, "".concat(this.itemSel, ", ").concat(this.containerSel)) || (t3 = this.closest(t3, this.itemSel)), this.draggable instanceof Array && (t3 = this.closest(t3, this.draggable.join(","))), !t3) return i2;
          if (this.prevTarget && this.prevTarget != t3 && (this.prevTarget = null), !this.prevTarget) {
            this.targetP = this.closest(t3, this.containerSel);
            var o2 = this.validTarget(t3);
            if (r3 && r3.trigger("sorter:drag:validation", o2), !o2.valid && this.targetP) return this.dimsFromTarget(this.targetP, e3, n3);
            this.prevTarget = t3, this.prevTargetDim = this.getDim(t3), this.cacheDimsP = this.getChildrenDim(this.targetP), this.cacheDims = this.getChildrenDim(t3);
          }
          if (this.prevTarget == t3 && (i2 = this.cacheDims), this.target = this.prevTarget, this.nearBorders(this.prevTargetDim, e3, n3) || !this.nested && !this.cacheDims.length) {
            var a2 = this.targetP;
            a2 && this.validTarget(a2).valid && (i2 = this.cacheDimsP, this.target = a2);
          }
          return this.lastPos = null, i2;
        }, getTargetFromEl: function(t3) {
          var e3, n3 = t3, r3 = this.targetPrev, i2 = this.em, o2 = this.containerSel, a2 = this.itemSel;
          if (this.matches(n3, "".concat(a2, ", ").concat(o2)) || (n3 = this.closest(n3, a2)), this.draggable instanceof Array && (n3 = this.closest(n3, this.draggable.join(","))), r3 && r3 != n3 && (this.targetPrev = ""), !this.targetPrev) {
            e3 = this.closest(n3, o2);
            var s2 = this.validTarget(n3);
            if (i2 && i2.trigger("sorter:drag:validation", s2), !s2.valid && e3) return this.getTargetFromEl(e3);
            this.targetPrev = n3;
          }
          return this.nearElBorders(n3) && (e3 = this.closest(n3, o2)) && this.validTarget(e3).valid && (n3 = e3), n3;
        }, nearElBorders: function(t3) {
          var e3 = 10, n3 = t3.getBoundingClientRect(), r3 = t3.ownerDocument.body, i2 = this.getCurrentPos(), o2 = i2.x, a2 = i2.y, s2 = n3.top + r3.scrollTop, l2 = n3.left + r3.scrollLeft, c2 = n3.width, u2 = n3.height;
          if (a2 < s2 + e3 || a2 > s2 + u2 - e3 || o2 < l2 + e3 || o2 > l2 + c2 - e3) return 1;
        }, getCurrentPos: function() {
          var t3 = this.eventMove;
          return { x: t3.pageX || 0, y: t3.pageY || 0 };
        }, getDim: function(t3) {
          var e3, n3, r3, i2, o2 = this.em, a2 = this.canvasRelative, s2 = o2 && o2.get("Canvas"), l2 = s2 ? s2.getElementOffsets(t3) : {};
          if (a2 && o2) {
            var c2 = s2.getElementPos(t3, { noScroll: 1 });
            e3 = c2.top, n3 = c2.left, r3 = c2.height, i2 = c2.width;
          } else {
            var u2 = this.offset(t3);
            e3 = this.relative ? t3.offsetTop : u2.top - (this.wmargin ? -1 : 1) * this.elT, n3 = this.relative ? t3.offsetLeft : u2.left - (this.wmargin ? -1 : 1) * this.elL, r3 = t3.offsetHeight, i2 = t3.offsetWidth;
          }
          return { top: e3, left: n3, height: r3, width: i2, offsets: l2 };
        }, getChildrenDim: function(t3) {
          var e3 = this, n3 = [];
          if (!t3) return n3;
          var r3 = this.getTargetModel(t3);
          if (r3 && r3.view && !this.ignoreViewChildren) {
            var i2 = r3.getCurrentView ? r3.getCurrentView() : r3.view;
            t3 = i2.getChildrenContainer();
          }
          return (0, s.each)(t3.children, function(r4, i3) {
            var o2 = (0, l.getModel)(r4, f), a2 = o2 && o2.index ? o2.index() : i3;
            if ((0, l.isTextNode)(r4) || e3.matches(r4, e3.itemSel)) {
              var s2 = e3.getDim(r4), c2 = e3.direction;
              c2 = "v" == c2 || "h" != c2 && e3.isInFlow(r4, t3), s2.dir = c2, s2.el = r4, s2.indexEl = a2, n3.push(s2);
            }
          }), n3;
        }, nearBorders: function(t3, e3, n3) {
          var r3 = 0, i2 = this.borderOffset, o2 = e3 || 0, a2 = n3 || 0, s2 = t3.top, l2 = t3.left, c2 = t3.height, u2 = t3.width;
          return (s2 + i2 > a2 || a2 > s2 + c2 - i2 || l2 + i2 > o2 || o2 > l2 + u2 - i2) && (r3 = 1), !!r3;
        }, findPosition: function(t3, e3, n3) {
          for (var r3 = { index: 0, indexEl: 0, method: "before" }, i2 = 0, o2 = 0, a2 = 0, s2 = 0, l2 = 0, c2 = 0, u2 = 0, f2 = 0, h2 = t3.length; f2 < h2; f2++) {
            var d2 = u2 = t3[f2], p2 = d2.top, g2 = d2.left, v2 = d2.height, m2 = d2.width;
            if (c2 = p2 + v2, s2 = g2 + m2 / 2, l2 = p2 + v2 / 2, !(o2 && g2 > o2 || a2 && l2 >= a2 || i2 && g2 + m2 < i2)) if (r3.index = f2, r3.indexEl = u2.indexEl, u2.dir) {
              if (n3 < l2) {
                r3.method = "before";
                break;
              }
              r3.method = "after";
            } else n3 < c2 && (a2 = c2), e3 < s2 ? (o2 = s2, r3.method = "before") : (i2 = s2, r3.method = "after");
          }
          return r3;
        }, movePlaceholder: function(t3, e3, n3, r3) {
          var i2 = 0, o2 = 0, a2 = 0, s2 = 0, l2 = 0, c2 = "px", u2 = 5, f2 = n3.method, h2 = e3[n3.index];
          if (t3.classList.remove("vertical"), t3.classList.add("horizontal"), h2) {
            var d2 = h2.top, p2 = h2.left, g2 = h2.height, v2 = h2.width;
            h2.dir ? (s2 = v2 + c2, l2 = "auto", o2 = "before" == f2 ? d2 - i2 : d2 + g2 - i2, a2 = p2) : (s2 = "auto", l2 = g2 - 2 * i2 + c2, o2 = d2 + i2, a2 = "before" == f2 ? p2 - i2 : p2 + v2 - i2, t3.classList.remove("horizontal"), t3.classList.add("vertical"));
          } else {
            if (!this.nested) return void (t3.style.display = "none");
            if (r3) {
              var m2 = r3.offsets || {}, y2 = m2.paddingTop || u2, b2 = m2.paddingLeft || u2;
              o2 = r3.top + y2, a2 = r3.left + b2, s2 = parseInt(r3.width) - 2 * b2 + c2, l2 = "auto";
            }
          }
          t3.style.top = o2 + c2, t3.style.left = a2 + c2, s2 && (t3.style.width = s2), l2 && (t3.style.height = l2);
        }, parents: function(t3) {
          return t3 ? [t3].concat(this.parents(t3.parent())) : [];
        }, sort: function(t3, e3) {
          var n3 = t3.parents.filter(function(t4) {
            return e3.parents.includes(t4);
          })[0];
          if (!n3) return e3.model.index() - t3.model.index();
          var r3 = t3.parents[t3.parents.indexOf(n3) - 1];
          return e3.parents[e3.parents.indexOf(n3) - 1].index() - r3.index();
        }, endMove: function(t3) {
          var e3, n3 = this, r3 = this.sourceEl, i2 = [], o2 = this.getDocuments(), a2 = this.getContainerEl(), c2 = this.onEndMove, f2 = this.onEnd, h2 = this.target, d2 = this.lastPos;
          if ((0, l.off)(a2, "mousemove dragover", this.onMove), (0, l.off)(o2, "mouseup dragend touchend", this.endMove), (0, l.off)(o2, "keydown", this.rollback), this.plh.style.display = "none", r3 && (e3 = this.getSourceModel(), this.selectOnEnd && e3 && e3.set && (e3.set("status", ""), e3.set("status", "selected"))), this.moved && h2) {
            var p2 = this.toMove, g2 = (0, s.isArray)(p2) ? p2 : p2 ? [p2] : [r3], v2 = 0;
            1 === g2.length ? i2.push(this.move(h2, g2[0], d2)) : g2.map(function(t4) {
              return { model: t4, parents: n3.parents(t4) };
            }).sort(this.sort).forEach(function(t4) {
              var e4 = t4.model, r4 = e4.index(), o3 = e4.parent().getEl();
              i2.push(n3.move(h2, e4, u(u({}, d2), {}, { indexEl: d2.indexEl - v2, index: d2.index - v2 }))), o3 === h2 && r4 <= d2.index && v2++;
            });
          }
          this.plh && (this.plh.style.display = "none");
          var m2 = this.dragHelper;
          if (m2 && (m2.parentNode.removeChild(m2), this.dragHelper = null), this.disableTextable(), this.selectTargetModel(), this.toggleSortCursor(), this.toMove = null, this.eventMove = 0, this.dropModel = null, (0, s.isFunction)(c2)) {
            var y2 = { target: e3, parent: e3 && e3.parent(), index: e3 && e3.index() };
            i2.length ? i2.forEach(function(t4) {
              return c2(t4, n3, y2);
            }) : c2(null, this, u(u({}, y2), {}, { cancelled: 1 }));
          }
          (0, s.isFunction)(f2) && f2({ sorter: this });
        }, move: function(t3, e3, n3) {
          var r3, i2, o2 = this.em, c2 = this.dropContent, u2 = (0, l.getElement)(e3), h2 = [], d2 = "after" === n3.method ? n3.indexEl + 1 : n3.indexEl, p2 = this.validTarget(t3, u2), g2 = f(t3).data("collection"), v2 = p2.trgModel, m2 = p2.srcModel, y2 = p2.draggable, b2 = v2 instanceof a().Collection ? 1 : p2.droppable;
          if (g2 && b2 && y2) {
            var w2 = { at: d2, action: "move-component" }, k2 = this.isTextableActive(m2, v2);
            if (c2) r3 = (0, s.isFunction)(c2) ? c2() : c2, w2.avoidUpdateStyle = true, w2.action = "add-component";
            else {
              var x2 = m2.collection.indexOf(m2), O2 = g2 === m2.collection;
              (!O2 || !(x2 === d2 || x2 === d2 - 1) || k2) && (r3 = m2.collection.remove(m2, { temporary: true }), O2 && d2 > x2 && (w2.at = d2 - 1));
            }
            r3 && (k2 ? (delete w2.at, i2 = v2.getView().insertComponent(r3, w2)) : i2 = g2.add(r3, w2)), this.dropContent = null, this.prevTarget = null;
          } else if (o2) {
            var C2 = p2.dropInfo || (null == v2 ? void 0 : v2.get("droppable")), S = p2.dragInfo || (null == m2 ? void 0 : m2.get("draggable"));
            !g2 && h2.push("Target collection not found"), !b2 && C2 && h2.push("Target is not droppable, accepts [".concat(C2, "]")), !y2 && S && h2.push("Component not draggable, acceptable by [".concat(S, "]")), o2.logWarning("Invalid target position", { errors: h2, model: m2, context: "sorter", target: v2 });
          }
          return null == o2 || o2.trigger("sorter:drag:end", { targetCollection: g2, modelToDrop: r3, warns: h2, validResult: p2, dst: t3, srcEl: u2 }), i2;
        }, rollback: function(t3) {
          (0, l.off)(this.getDocuments(), "keydown", this.rollback), 27 == (t3.which || t3.keyCode) && (this.moved = 0, this.endMove());
        } });
        var p = n2(5671), g = n2(3144);
        function v(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function m(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? v(Object(n3), true).forEach(function(e4) {
              (0, r2.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : v(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var y = { mousePosFetcher: null, updateTarget: null, ratioDefault: 0, posFetcher: null, onStart: null, onMove: null, onEnd: null, onUpdateContainer: function() {
        }, step: 1, minDim: 10, maxDim: "", unitHeight: "px", unitWidth: "px", keyHeight: "height", keyWidth: "width", currentUnit: 1, silentFrames: 0, avoidContainerUpdate: 0, keepAutoHeight: false, keepAutoWidth: false, autoHeight: false, autoWidth: false, tl: 1, tc: 1, tr: 1, cl: 1, cr: 1, bl: 1, bc: 1, br: 1 }, b = function(t3, e3) {
          var n3 = e3 || window, r3 = t3.getBoundingClientRect();
          return { left: r3.left + n3.pageXOffset, top: r3.top + n3.pageYOffset, width: r3.width, height: r3.height };
        }, w = function() {
          function t3() {
            var e3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            return (0, p.Z)(this, t3), this.setOptions(e3), (0, s.bindAll)(this, "handleKeyDown", "handleMouseDown", "move", "stop"), this;
          }
          return (0, g.Z)(t3, [{ key: "getConfig", value: function() {
            return this.opts;
          } }, { key: "setOptions", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            this.opts = (0, s.defaults)(t4, y), this.setup();
          } }, { key: "setup", value: function() {
            var t4 = this.opts, e3 = t4.prefix || "", n3 = t4.appendTo || document.body, r3 = this.container;
            for (r3 || ((r3 = document.createElement("div")).className = "".concat(e3, "resizer-c"), n3.appendChild(r3), this.container = r3); r3.firstChild; ) r3.removeChild(r3.firstChild);
            var i2 = {};
            for (var o2 in ["tl", "tc", "tr", "cl", "cr", "bl", "bc", "br"].forEach(function(e4) {
              return i2[e4] = t4[e4] ? function(t5, e5) {
                var n4 = e5.prefix || "", r4 = document.createElement("i");
                return r4.className = n4 + "resizer-h " + n4 + "resizer-h-" + t5, r4.setAttribute("data-" + n4 + "handler", t5), r4;
              }(e4, t4) : "";
            }), i2) {
              var a2 = i2[o2];
              a2 && r3.appendChild(a2);
            }
            this.handlers = i2, this.mousePosFetcher = t4.mousePosFetcher, this.updateTarget = t4.updateTarget, this.posFetcher = t4.posFetcher, this.onStart = t4.onStart, this.onMove = t4.onMove, this.onEnd = t4.onEnd, this.onUpdateContainer = t4.onUpdateContainer;
          } }, { key: "toggleFrames", value: function(t4) {
            if (this.opts.silentFrames) {
              var e3 = document.querySelectorAll("iframe");
              (0, s.each)(e3, function(e4) {
                return e4.style.pointerEvents = t4 ? "none" : "";
              });
            }
          } }, { key: "isHandler", value: function(t4) {
            var e3 = this.handlers;
            for (var n3 in e3) if (e3[n3] === t4) return true;
            return false;
          } }, { key: "getFocusedEl", value: function() {
            return this.el;
          } }, { key: "getParentEl", value: function() {
            return this.el.parentElement;
          } }, { key: "getDocumentEl", value: function() {
            return [this.el.ownerDocument, document];
          } }, { key: "getElementPos", value: function(t4) {
            var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n3 = this.posFetcher || "";
            return n3 ? n3(t4, e3) : b(t4);
          } }, { key: "focus", value: function(t4) {
            t4 && t4 === this.el || (this.el = t4, this.updateContainer({ forceShow: 1 }), (0, l.on)(this.getDocumentEl(), "pointerdown", this.handleMouseDown));
          } }, { key: "blur", value: function() {
            this.container.style.display = "none", this.el && ((0, l.off)(this.getDocumentEl(), "pointerdown", this.handleMouseDown), this.el = null);
          } }, { key: "start", value: function(t4) {
            if (0 === t4.button) {
              t4.preventDefault(), t4.stopPropagation();
              var e3 = this.el, n3 = this.getParentEl(), r3 = this.opts || {}, i2 = "data-" + r3.prefix + "handler", o2 = this.getElementPos(e3, { target: "el" }), a2 = this.getElementPos(n3);
              this.handlerAttr = t4.target.getAttribute(i2), this.clickedHandler = t4.target, this.startDim = { t: o2.top, l: o2.left, w: o2.width, h: o2.height }, this.rectDim = { t: o2.top, l: o2.left, w: o2.width, h: o2.height }, this.startPos = { x: t4.clientX, y: t4.clientY }, this.parentDim = { t: a2.top, l: a2.left, w: a2.width, h: a2.height };
              var c2 = this.getDocumentEl();
              this.docs = c2, (0, l.on)(c2, "pointermove", this.move), (0, l.on)(c2, "keydown", this.handleKeyDown), (0, l.on)(c2, "pointerup", this.stop), (0, s.isFunction)(this.onStart) && this.onStart(t4, { docs: c2, config: r3, el: e3, resizer: this }), this.toggleFrames(1), this.move(t4);
            }
          } }, { key: "move", value: function(t4) {
            var e3 = this.onMove, n3 = this.mousePosFetcher, r3 = n3 ? n3(t4) : { x: t4.clientX, y: t4.clientY };
            this.currentPos = r3, this.delta = { x: r3.x - this.startPos.x, y: r3.y - this.startPos.y }, this.keys = { shift: t4.shiftKey, ctrl: t4.ctrlKey, alt: t4.altKey }, this.rectDim = this.calc(this), this.updateRect(0), e3 && e3(t4);
          } }, { key: "stop", value: function(t4) {
            var e3 = this.opts, n3 = this.docs || this.getDocumentEl();
            (0, l.off)(n3, "pointermove", this.move), (0, l.off)(n3, "keydown", this.handleKeyDown), (0, l.off)(n3, "pointerup", this.stop), this.updateRect(1), this.toggleFrames(), (0, s.isFunction)(this.onEnd) && this.onEnd(t4, { docs: n3, config: e3 }), delete this.docs;
          } }, { key: "updateRect", value: function(t4) {
            var e3 = this.el, n3 = this.opts, r3 = this.rectDim, i2 = this.updateTarget, o2 = this.getSelectedHandler(), a2 = n3.unitHeight, l2 = n3.unitWidth, c2 = n3.keyWidth, u2 = n3.keyHeight;
            if ((0, s.isFunction)(i2)) i2(e3, r3, { store: t4, selectedHandler: o2, resizer: this, config: n3 });
            else {
              var f2 = e3.style;
              f2[c2] = r3.w + l2, f2[u2] = r3.h + a2;
            }
            this.updateContainer();
          } }, { key: "updateContainer", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e3 = this.opts, n3 = this.container, r3 = this.el, i2 = n3.style;
            !e3.avoidContainerUpdate && r3 && t4.forceShow && (i2.display = "block"), this.onUpdateContainer({ el: n3, resizer: this, opts: m(m({}, e3), t4) });
          } }, { key: "getSelectedHandler", value: function() {
            var t4 = this.handlers;
            if (this.selectedHandler) {
              for (var e3 in t4) if (t4[e3] === this.selectedHandler) return e3;
            }
          } }, { key: "handleKeyDown", value: function(t4) {
            27 === t4.keyCode && (this.rectDim = this.startDim, this.stop(t4));
          } }, { key: "handleMouseDown", value: function(t4) {
            var e3 = t4.target;
            this.isHandler(e3) ? (this.selectedHandler = e3, this.start(t4)) : e3 !== this.el && (this.selectedHandler = "", this.blur());
          } }, { key: "calc", value: function(t4) {
            var e3, n3 = this.opts || {}, r3 = n3.step, i2 = this.startDim, o2 = n3.minDim, a2 = n3.maxDim, s2 = t4.delta.x, c2 = t4.delta.y, u2 = this.parentDim.w, f2 = this.parentDim.h, h2 = this.opts.unitWidth, d2 = this.opts.unitHeight, p2 = "%" === h2 ? i2.w / 100 * u2 : i2.w, g2 = "%" === d2 ? i2.h / 100 * f2 : i2.h, v2 = { t: 0, l: 0, w: p2, h: g2 };
            if (t4) {
              var m2 = t4.handlerAttr;
              ~m2.indexOf("r") && (e3 = "%" === h2 ? (0, l.normalizeFloat)((p2 + s2 * r3) / u2 * 100, 0.01) : (0, l.normalizeFloat)(p2 + s2 * r3, r3), e3 = Math.max(o2, e3), a2 && (e3 = Math.min(a2, e3)), v2.w = e3), ~m2.indexOf("b") && (e3 = "%" === d2 ? (0, l.normalizeFloat)((g2 + c2 * r3) / f2 * 100, 0.01) : (0, l.normalizeFloat)(g2 + c2 * r3, r3), e3 = Math.max(o2, e3), a2 && (e3 = Math.min(a2, e3)), v2.h = e3), ~m2.indexOf("l") && (e3 = "%" === h2 ? (0, l.normalizeFloat)((p2 - s2 * r3) / u2 * 100, 0.01) : (0, l.normalizeFloat)(p2 - s2 * r3, r3), e3 = Math.max(o2, e3), a2 && (e3 = Math.min(a2, e3)), v2.w = e3), ~m2.indexOf("t") && (e3 = "%" === d2 ? (0, l.normalizeFloat)((g2 - c2 * r3) / f2 * 100, 0.01) : (0, l.normalizeFloat)(g2 - c2 * r3, r3), e3 = Math.max(o2, e3), a2 && (e3 = Math.min(a2, e3)), v2.h = e3);
              var y2 = n3.ratioDefault ? !t4.keys.shift : t4.keys.shift;
              if (m2.indexOf("c") < 0 && y2) {
                var b2 = i2.w / i2.h;
                v2.w / v2.h > b2 ? v2.h = Math.round(v2.w / b2) : v2.w = Math.round(v2.h * b2);
              }
              return ~m2.indexOf("l") && (v2.l = i2.w - v2.w), ~m2.indexOf("t") && (v2.t = i2.h - v2.h), v2;
            }
          } }]), t3;
        }();
        const k = { init: function(t3) {
          return new w(t3);
        } };
        function x(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function O(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? x(Object(n3), true).forEach(function(e4) {
              (0, r2.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : x(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        const C = function() {
          return { name: "Utils", init: function() {
            return this;
          }, destroy: function() {
          }, Sorter: d, Resizer: k, Dragger: i.Z, helpers: O({}, l) };
        };
      }, 7904: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => s });
        var r2, i = n2(2316), o = n2.n(i), a = (r2 = function(t3, e3) {
          return r2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, r2(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          r2(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        });
        const s = function(t3) {
          function e3(e4, n3, r3) {
            var i2 = t3.call(this, n3, r3) || this;
            return i2._module = e4, i2;
          }
          return a(e3, t3), Object.defineProperty(e3.prototype, "module", { get: function() {
            return this._module;
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "config", { get: function() {
            return this._module.config;
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "em", { get: function() {
            return this._module.em;
          }, enumerable: false, configurable: true }), e3;
        }(o().Model);
      }, 6434: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { O: () => f, Z: () => u });
        var r2, i = n2(9050), o = n2(1163), a = (r2 = function(t3, e3) {
          return r2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, r2(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          r2(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        }), s = function() {
          return s = Object.assign || function(t3) {
            for (var e3, n3 = 1, r3 = arguments.length; n3 < r3; n3++) for (var i2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, i2) && (t3[i2] = e3[i2]);
            return t3;
          }, s.apply(this, arguments);
        }, l = function(t3, e3, n3) {
          if (n3 || 2 === arguments.length) for (var r3, i2 = 0, o2 = e3.length; i2 < o2; i2++) !r3 && i2 in e3 || (r3 || (r3 = Array.prototype.slice.call(e3, 0, i2)), r3[i2] = e3[i2]);
          return t3.concat(r3 || Array.prototype.slice.call(e3));
        }, c = function() {
          function t3(t4, e3, n3) {
            this.cls = [], this.isPrivate = false, this._em = t4, this._name = e3;
            var r3 = this.name.charAt(0).toLowerCase() + this.name.slice(1), a2 = (0, i.isUndefined)(t4.config[r3]) ? t4.config[this.name] : t4.config[r3], s2 = true === a2 ? {} : a2 || {};
            s2.pStylePrefix = t4.config.pStylePrefix || "", (0, i.isUndefined)(a2) || a2 || (s2._disable = 1), s2.em = t4, this._config = (0, o.deepMerge)(n3 || {}, s2);
          }
          return Object.defineProperty(t3.prototype, "em", { get: function() {
            return this._em;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "config", { get: function() {
            return this._config;
          }, enumerable: false, configurable: true }), t3.prototype.init = function(t4) {
          }, t3.prototype.postLoad = function(t4) {
          }, Object.defineProperty(t3.prototype, "name", { get: function() {
            return this._name;
          }, enumerable: false, configurable: true }), t3.prototype.getConfig = function(t4) {
            return t4 ? this.config[t4] : this.config;
          }, t3.prototype.__logWarn = function(t4, e3) {
            void 0 === e3 && (e3 = {}), this.em.logWarning("[".concat(this.name, "]: ").concat(t4), e3);
          }, t3.prototype.__appendTo = function() {
            var t4 = this.getConfig().appendTo;
            if (t4) {
              var e3 = (0, i.isElement)(t4) ? t4 : document.querySelector(t4);
              if (!e3) return this.__logWarn('"appendTo" element not found');
              e3.appendChild(this.render());
            }
          }, t3;
        }();
        const u = c;
        var f = function(t3) {
          function e3(e4, n3, r3, i2) {
            var o2 = t3.call(this, e4, n3) || this;
            return o2.cls = [], o2.private = false, o2.all = r3, o2.events = i2, o2.__initListen(), o2;
          }
          return a(e3, t3), e3.prototype.postLoad = function(t4) {
          }, e3.prototype.render = function() {
          }, e3.prototype.getProjectData = function(t4) {
            var e4 = {}, n3 = this.storageKey;
            return n3 && (e4[n3] = t4 || this.getAll()), e4;
          }, e3.prototype.loadProjectData = function(t4, e4) {
            void 0 === t4 && (t4 = {}), void 0 === e4 && (e4 = {});
            var n3 = e4.all, r3 = e4.onResult, i2 = e4.reset, a2 = this.storageKey, s2 = { action: "load" }, l2 = n3 || this.all, c2 = t4[a2];
            if ("string" == typeof c2) try {
              c2 = JSON.parse(c2);
            } catch (t5) {
              this.__logWarn("Data parsing failed", { input: c2 });
            }
            return i2 && c2 && l2.reset(void 0, s2), r3 ? c2 && r3(c2, s2) : c2 && (0, o.isDef)(c2.length) && l2.reset(c2, s2), c2;
          }, e3.prototype.clear = function(t4) {
            void 0 === t4 && (t4 = {});
            var e4 = this.all;
            return e4 && e4.reset(void 0, t4), this;
          }, e3.prototype.getAll = function() {
            return l([], this.all.models, true);
          }, e3.prototype.getAllMap = function() {
            return this.getAll().reduce(function(t4, e4) {
              return t4[e4.get(e4.idAttribute)] = e4, t4;
            }, {});
          }, e3.prototype.__initListen = function(t4) {
            void 0 === t4 && (t4 = {});
            var e4 = this, n3 = e4.all, r3 = e4.em, i2 = e4.events;
            n3 && r3 && n3.on("add", function(t5, e5, n4) {
              return r3.trigger(i2.add, t5, n4);
            }).on("remove", function(t5, e5, n4) {
              return r3.trigger(i2.remove, t5, n4);
            }).on("change", function(t5, e5) {
              return r3.trigger(i2.update, t5, t5.changedAttributes(), e5);
            }).on("all", this.__catchAllEvent, this), this.cls = [n3].concat(t4.collections || []), (t4.propagate || []).forEach(function(t5) {
              var e5 = t5.entity, i3 = t5.event;
              e5.on("all", function(t6, e6, o2, a2) {
                var l2 = s({ event: t6 }, a2 || o2);
                [r3, n3].map(function(t7) {
                  return t7.trigger(i3, e6, l2);
                });
              });
            });
          }, e3.prototype.__remove = function(t4, e4) {
            var n3 = this;
            void 0 === e4 && (e4 = {});
            var r3 = this.em, i2 = isString(t4) ? this.get(t4) : t4, o2 = function() {
              return i2 && n3.all.remove(i2, e4), i2;
            };
            return !e4.silent && (null == r3 || r3.trigger(this.events.removeBefore, i2, o2, e4)), !e4.abort && o2();
          }, e3.prototype.__catchAllEvent = function(t4, e4, n3, r3) {
            var i2 = this.em, o2 = this.events, a2 = r3 || n3;
            i2 && o2.all && i2.trigger(o2.all, { event: t4, model: e4, options: a2 }), this.__onAllEvent();
          }, e3.prototype.__appendTo = function() {
            var t4 = this.config.appendTo;
            if (t4) {
              var e4 = (0, i.isElement)(t4) ? t4 : document.querySelector(t4);
              if (!e4) return this.__logWarn('"appendTo" element not found');
              e4.appendChild(this.render());
            }
          }, e3.prototype.__onAllEvent = function() {
          }, e3.prototype._createId = function(t4) {
            void 0 === t4 && (t4 = 16);
            var e4, n3 = this.getAll().length + t4, r3 = this.getAllMap();
            do {
              e4 = (0, o.createId)(n3);
            } while (r3[e4]);
            return e4;
          }, e3.prototype.__listenAdd = function(t4, e4) {
            var n3 = this;
            t4.on("add", function(t5, r3, i2) {
              return n3.em.trigger(e4, t5, i2);
            });
          }, e3.prototype.__listenRemove = function(t4, e4) {
            var n3 = this;
            t4.on("remove", function(t5, r3, i2) {
              return n3.em.trigger(e4, t5, i2);
            });
          }, e3.prototype.__listenUpdate = function(t4, e4) {
            var n3 = this;
            t4.on("change", function(t5, r3) {
              return n3.em.trigger(e4, t5, t5.changedAttributes(), r3);
            });
          }, e3.prototype.__destroy = function() {
            var t4;
            this.cls.forEach(function(t5) {
              t5.stopListening(), t5.reset();
            }), null === (t4 = this.view) || void 0 === t4 || t4.remove(), this.view = void 0;
          }, e3;
        }(c);
      }, 9281: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => q });
        var r2 = n2(9050), i = n2(6434), o = n2(1163);
        const a = { stylePrefix: "cv-", scripts: [], styles: [], customBadgeLabel: "", autoscrollLimit: 50, extHl: 0, frameContent: "<!DOCTYPE html>", frameStyle: "\n    body { background-color: #fff }\n    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }\n    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }\n    * ::-webkit-scrollbar { width: 10px }\n  ", notTextable: ["button", "a", "input[type=checkbox]", "input[type=radio]"] };
        var s, l = n2(7904), c = n2(7948), u = n2(3560), f = (s = function(t3, e3) {
          return s = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, s(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          s(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        }), h = function(t3) {
          function e3(e4) {
            var n3 = this, r3 = e4.em, i2 = e4.config, o2 = i2.scripts, a2 = i2.styles;
            return (n3 = t3.call(this, e4, { scripts: o2, styles: a2 }) || this).set("frames", new u.Z(e4)), n3.listenTo(n3, "change:zoom", n3.onZoomChange), n3.listenTo(r3, "change:device", n3.updateDevice), n3.listenTo(r3, c.evPageSelect, n3._pageUpdated), n3;
          }
          return f(e3, t3), e3.prototype.defaults = function() {
            return { frame: "", frames: [], rulers: false, zoom: 100, x: 0, y: 0, scripts: [], styles: [] };
          }, Object.defineProperty(e3.prototype, "frames", { get: function() {
            return this.get("frames");
          }, enumerable: false, configurable: true }), e3.prototype.init = function() {
            var t4 = this.em.get("PageManager").getMain(), e4 = t4.getMainFrame();
            this.set("frames", t4.getFrames()), this.updateDevice({ frame: e4 });
          }, e3.prototype._pageUpdated = function(t4, e4) {
            var n3 = this.em;
            n3.setSelected(), n3.get("readyCanvas") && n3.stopDefault(), null == e4 || e4.getFrames().map(function(t5) {
              return t5.disable();
            }), this.set("frames", t4.getFrames());
          }, e3.prototype.updateDevice = function(t4) {
            void 0 === t4 && (t4 = {});
            var e4 = this.em, n3 = e4.getDeviceModel(), r3 = t4.frame || e4.getCurrentFrameModel();
            if (r3 && n3) {
              var i2 = n3.attributes, o2 = i2.width, a2 = i2.height;
              r3.set({ width: o2, height: a2 }, { noUndo: 1 });
            }
          }, e3.prototype.onZoomChange = function() {
            this.get("zoom") < 1 && this.set("zoom", 1);
          }, e3;
        }(l.Z);
        const d = h;
        var p = n2(6840), g = n2(2316), v = n2.n(g), m = /* @__PURE__ */ function() {
          var t3 = function(e3, n3) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n4 in e4) Object.prototype.hasOwnProperty.call(e4, n4) && (t4[n4] = e4[n4]);
            }, t3(e3, n3);
          };
          return function(e3, n3) {
            if ("function" != typeof n3 && null !== n3) throw new TypeError("Class extends value " + String(n3) + " is not a constructor or null");
            function r3() {
              this.constructor = e3;
            }
            t3(e3, n3), e3.prototype = null === n3 ? Object.create(n3) : (r3.prototype = n3.prototype, new r3());
          };
        }();
        const y = function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return m(e3, t3), Object.defineProperty(e3.prototype, "pfx", { get: function() {
            return this.ppfx + this.config.stylePrefix || "";
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "ppfx", { get: function() {
            return this.em.config.stylePrefix || "";
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "module", { get: function() {
            var t4, e4;
            return null !== (e4 = null === (t4 = this.model) || void 0 === t4 ? void 0 : t4.module) && void 0 !== e4 ? e4 : this.collection.module;
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "em", { get: function() {
            return this.module.em;
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "config", { get: function() {
            return this.module.config;
          }, enumerable: false, configurable: true }), e3;
        }(v().View);
        var b = n2(9283), w = /* @__PURE__ */ function() {
          var t3 = function(e3, n3) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n4 in e4) Object.prototype.hasOwnProperty.call(e4, n4) && (t4[n4] = e4[n4]);
            }, t3(e3, n3);
          };
          return function(e3, n3) {
            if ("function" != typeof n3 && null !== n3) throw new TypeError("Class extends value " + String(n3) + " is not a constructor or null");
            function r3() {
              this.constructor = e3;
            }
            t3(e3, n3), e3.prototype = null === n3 ? Object.create(n3) : (r3.prototype = n3.prototype, new r3());
          };
        }();
        const k = function(t3) {
          function e3(e4, n3) {
            void 0 === e4 && (e4 = {}), void 0 === n3 && (n3 = false);
            var r3 = t3.call(this, e4) || this;
            return r3.itemsView = "", r3.itemType = "type", r3.reuseView = false, r3.viewCollection = [], n3 && r3.listenTo(r3.collection, "add", r3.addTo), r3;
          }
          return w(e3, t3), e3.prototype.addTo = function(t4) {
            this.add(t4);
          }, e3.prototype.itemViewNotFound = function(t4) {
          }, e3.prototype.add = function(t4, e4) {
            var n3, r3 = this, i2 = r3.reuseView, o2 = r3.viewCollection, a2 = (r3.itemsView, e4 || null), s2 = t4.get(this.itemType);
            n3 = t4.view && i2 ? t4.view : this.renderView(t4, s2), o2.push(n3);
            var l2 = n3.render().el;
            a2 ? a2.appendChild(l2) : this.$el.append(l2);
          }, e3.prototype.render = function() {
            var t4 = this, e4 = document.createDocumentFragment();
            return this.clearItems(), this.$el.empty(), this.collection.length && this.collection.each(function(n3) {
              t4.add(n3, e4);
            }, this), this.$el.append(e4), this.onRender(), this;
          }, e3.prototype.onRender = function() {
          }, e3.prototype.onRemoveBefore = function(t4, e4) {
          }, e3.prototype.onRemove = function(t4, e4) {
          }, e3.prototype.remove = function(t4) {
            void 0 === t4 && (t4 = {});
            var e4 = this.viewCollection;
            return this.onRemoveBefore(e4, t4), this.clearItems(), v().View.prototype.remove.apply(this, t4), this.onRemove(e4, t4), this;
          }, e3.prototype.clearItems = function() {
            this.viewCollection;
          }, e3;
        }(y);
        var x = n2(4868), O = n2(4942), C = n2(5671), S = n2(3144);
        function _(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        var P = function() {
          function t3(e3, n3) {
            var i2 = this;
            (0, C.Z)(this, t3), this.em = e3;
            var o2 = n3 || e3.get("Canvas").getFrames().map(function(t4) {
              return t4.getComponent().getEl();
            }), a2 = Array.isArray(o2) ? o2 : [o2];
            return this.el = o2, this.counter = 0, (0, r2.bindAll)(this, "handleDragEnter", "handleDragOver", "handleDrop", "handleDragLeave"), a2.forEach(function(t4) {
              return i2.toggleEffects(t4, 1);
            }), this;
          }
          return (0, S.Z)(t3, [{ key: "toggleEffects", value: function(t4, e3) {
            var n3 = { on: o.on, off: o.off }, r3 = e3 ? "on" : "off";
            n3[r3](t4, "dragenter", this.handleDragEnter), n3[r3](t4, "dragover", this.handleDragOver), n3[r3](t4, "drop", this.handleDrop), n3[r3](t4, "dragleave", this.handleDragLeave);
          } }, { key: "__customTglEff", value: function(t4) {
            var e3 = t4 ? o.on : o.off, n3 = this.el.ownerDocument, r3 = n3.defaultView.frameElement;
            this.sortOpts = t4 ? { onStart: function(t5) {
              var e4 = t5.sorter;
              (0, o.on)(r3, "pointermove", e4.onMove);
            }, onEnd: function(t5) {
              var e4 = t5.sorter;
              (0, o.off)(r3, "pointermove", e4.onMove);
            }, customTarget: function(t5) {
              var e4 = t5.event;
              return n3.elementFromPoint(e4.clientX, e4.clientY);
            } } : null, e3(r3, "pointerenter", this.handleDragEnter), e3(r3, "pointermove", this.handleDragOver), e3(document, "pointerup", this.handleDrop), e3(r3, "pointerout", this.handleDragLeave);
          } }, { key: "startCustom", value: function() {
            this.__customTglEff(true);
          } }, { key: "endCustom", value: function(t4) {
            this.over ? this.endDrop(t4) : this.__customTglEff(false);
          } }, { key: "endDrop", value: function(t4, e3) {
            var n3 = this.em, r3 = this.dragStop;
            this.counter = 0, r3 && r3(t4), this.__customTglEff(false), n3.trigger("canvas:dragend", e3);
          } }, { key: "handleDragLeave", value: function(t4) {
            this.updateCounter(-1, t4);
          } }, { key: "updateCounter", value: function(t4, e3) {
            this.counter += t4, 0 === this.counter && this.endDrop(1, e3);
          } }, { key: "handleDragEnter", value: function(t4) {
            var e3 = this, n3 = this.em, r3 = t4.dataTransfer;
            if (this.updateCounter(1, t4), !this.over) {
              this.over = 1;
              var i2, o2, a2 = n3.get("Utils"), s2 = n3.get("Canvas"), l2 = n3.get("dragContent") || "<br>";
              if (n3.stopDefault(), n3.inAbsoluteMode()) {
                var c2 = n3.get("DomComponents").getWrapper(), u2 = c2.append({})[0], f2 = n3.get("Commands").run("core:component-drag", { event: t4, guidesInfo: 1, center: 1, target: u2, onEnd: function(t5, n4, i3) {
                  var o3;
                  if (!i3.cancelled) {
                    o3 = c2.append(l2)[0];
                    var a3 = editor.Canvas.getOffset(), s3 = u2.getStyle(), f3 = s3.top, h3 = s3.left, d2 = s3.position;
                    o3.addStyle({ left: parseFloat(h3) - a3.left + "px", top: parseFloat(f3) - a3.top + "px", position: d2 });
                  }
                  e3.handleDragEnd(o3, r3), u2.remove();
                } });
                i2 = function(e4) {
                  return f2.stop(t4, { cancel: e4 });
                }, o2 = function(t5) {
                  return l2 = t5;
                };
              } else {
                var h2 = new a2.Sorter(function(t5) {
                  for (var e4 = 1; e4 < arguments.length; e4++) {
                    var n4 = null != arguments[e4] ? arguments[e4] : {};
                    e4 % 2 ? _(Object(n4), true).forEach(function(e5) {
                      (0, O.Z)(t5, e5, n4[e5]);
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t5, Object.getOwnPropertyDescriptors(n4)) : _(Object(n4)).forEach(function(e5) {
                      Object.defineProperty(t5, e5, Object.getOwnPropertyDescriptor(n4, e5));
                    });
                  }
                  return t5;
                }({ em: n3, wmargin: 1, nested: 1, canvasRelative: 1, direction: "a", container: this.el, placer: s2.getPlacerEl(), containerSel: "*", itemSel: "*", pfx: "gjs-", onEndMove: function(t5) {
                  return e3.handleDragEnd(t5, r3);
                }, document: this.el.ownerDocument }, this.sortOpts || {}));
                h2.setDropContent(l2), h2.startSort(), this.sorter = h2, i2 = function(t5) {
                  t5 && (h2.moved = 0), h2.endMove();
                }, o2 = function(t5) {
                  return h2.setDropContent(t5);
                };
              }
              this.dragStop = i2, this.dragContent = o2, n3.trigger("canvas:dragenter", r3, l2);
            }
          } }, { key: "handleDragEnd", value: function(t4, e3) {
            var n3 = this.em;
            this.over = 0, t4 && (n3.set("dragResult", t4), n3.trigger("canvas:drop", e3, t4)), n3.runDefault({ preserveSelected: 1 });
          } }, { key: "handleDragOver", value: function(t4) {
            t4.preventDefault(), this.em.trigger("canvas:dragover", t4);
          } }, { key: "handleDrop", value: function(t4) {
            t4.preventDefault();
            var e3 = this.dragContent, n3 = t4.dataTransfer, r3 = this.getContentByData(n3).content;
            t4.target.style.border = "", r3 && e3 && e3(r3), this.endDrop(!r3, t4);
          } }, { key: "getContentByData", value: function(t4) {
            var e3 = this.em, n3 = t4 && t4.types, i2 = t4 && t4.files || [], o2 = e3.get("dragContent"), a2 = t4 && t4.getData("text");
            if (i2.length) {
              a2 = [];
              for (var s2 = 0; s2 < i2.length; s2++) {
                var l2 = i2[s2], c2 = l2.type.split("/")[0];
                "image" == c2 && a2.push({ type: c2, file: l2, attributes: { alt: l2.name } });
              }
            } else if (o2) a2 = o2;
            else if ((0, r2.indexOf)(n3, "text/html") >= 0) a2 = t4 && t4.getData("text/html").replace(/<\/?meta[^>]*>/g, "");
            else if ((0, r2.indexOf)(n3, "text/uri-list") >= 0) a2 = { type: "link", attributes: { href: a2 }, content: a2 };
            else if ((0, r2.indexOf)(n3, "text/json") >= 0) {
              var u2 = t4 && t4.getData("text/json");
              u2 && (a2 = JSON.parse(u2));
            } else 1 === n3.length && "text/plain" === n3[0] && (a2 = "<div>".concat(a2, "</div>"));
            var f2 = { content: a2 };
            return e3.trigger("canvas:dragdata", t4, f2), f2;
          } }]), t3;
        }(), T = /* @__PURE__ */ function() {
          var t3 = function(e3, n3) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n4 in e4) Object.prototype.hasOwnProperty.call(e4, n4) && (t4[n4] = e4[n4]);
            }, t3(e3, n3);
          };
          return function(e3, n3) {
            if ("function" != typeof n3 && null !== n3) throw new TypeError("Class extends value " + String(n3) + " is not a constructor or null");
            function r3() {
              this.constructor = e3;
            }
            t3(e3, n3), e3.prototype = null === n3 ? Object.create(n3) : (r3.prototype = n3.prototype, new r3());
          };
        }(), E = function() {
          return E = Object.assign || function(t3) {
            for (var e3, n3 = 1, r3 = arguments.length; n3 < r3; n3++) for (var i2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, i2) && (t3[i2] = e3[i2]);
            return t3;
          }, E.apply(this, arguments);
        }, j = function(t3, e3, n3) {
          if (n3 || 2 === arguments.length) for (var r3, i2 = 0, o2 = e3.length; i2 < o2; i2++) !r3 && i2 in e3 || (r3 || (r3 = Array.prototype.slice.call(e3, 0, i2)), r3[i2] = e3[i2]);
          return t3.concat(r3 || Array.prototype.slice.call(e3));
        }, A = function(t3) {
          function e3(e4, n3) {
            var i2 = t3.call(this, { model: e4 }) || this;
            i2.dragging = false, i2.lastMaxHeight = 0, i2.tools = {}, (0, r2.bindAll)(i2, "updateClientY", "stopAutoscroll", "autoscroll", "_emitUpdate");
            var a2 = i2, s2 = a2.el;
            a2.em;
            i2.module._config = E(E({}, i2.config || {}), { frameView: i2 }), i2.frameWrapView = n3, i2.showGlobalTools = (0, r2.debounce)(i2.showGlobalTools.bind(i2), 50);
            var l2 = i2.getCanvasModel();
            return i2.listenTo(e4, "change:head", i2.updateHead), i2.listenTo(l2, "change:styles", i2.renderStyles), e4.view = i2, (0, o.setViewEl)(s2, i2), i2;
          }
          return T(e3, t3), Object.defineProperty(e3.prototype, "tagName", { get: function() {
            return "iframe";
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "attributes", { get: function() {
            return { allowfullscreen: "allowfullscreen" };
          }, enumerable: false, configurable: true }), e3.prototype.updateHead = function() {
            var t4 = this.model, e4 = this.getHead(), n3 = [], r3 = [], i2 = t4.head, o2 = t4.previous("head"), a2 = function(t5) {
              return void 0 === t5 && (t5 = {}), Object.keys(t5).sort().map(function(e5) {
                return "[".concat(e5, '="').concat(t5[e5], '"]');
              }).join("");
            }, s2 = function(t5, e5, n4) {
              t5.forEach(function(t6) {
                var r4 = t6.tag, i3 = t6.attributes;
                !e5.some(function(t7) {
                  return t7.tag === r4 && a2(t7.attributes) === a2(i3);
                }) && n4.push(t6);
              });
            };
            s2(i2, o2, r3), s2(o2, i2, n3), n3.forEach(function(t5) {
              var n4, r4 = e4.querySelector("".concat(t5.tag).concat(a2(t5.attributes)));
              null === (n4 = null == r4 ? void 0 : r4.parentNode) || void 0 === n4 || n4.removeChild(r4);
            }), (0, b.SJ)(e4, r3);
          }, e3.prototype.getEl = function() {
            return this.el;
          }, e3.prototype.getCanvasModel = function() {
            return this.em.get("Canvas").getModel();
          }, e3.prototype.getWindow = function() {
            return this.getEl().contentWindow;
          }, e3.prototype.getDoc = function() {
            return this.getEl().contentDocument;
          }, e3.prototype.getHead = function() {
            return this.getDoc().querySelector("head");
          }, e3.prototype.getBody = function() {
            return this.getDoc().querySelector("body");
          }, e3.prototype.getWrapper = function() {
            return this.getBody().querySelector("[data-gjs-type=wrapper]");
          }, e3.prototype.getJsContainer = function() {
            return this.jsContainer || (this.jsContainer = (0, b.ut)("div", { class: "".concat(this.ppfx, "js-cont") })), this.jsContainer;
          }, e3.prototype.getToolsEl = function() {
            var t4;
            return null === (t4 = this.frameWrapView) || void 0 === t4 ? void 0 : t4.elTools;
          }, e3.prototype.getGlobalToolsEl = function() {
            return this.em.get("Canvas").getGlobalToolsEl();
          }, e3.prototype.getHighlighter = function() {
            return this._getTool("[data-hl]");
          }, e3.prototype.getBadgeEl = function() {
            return this._getTool("[data-badge]");
          }, e3.prototype.getOffsetViewerEl = function() {
            return this._getTool("[data-offset]");
          }, e3.prototype.getRect = function() {
            return this.rect || (this.rect = this.el.getBoundingClientRect()), this.rect;
          }, e3.prototype.getOffsetRect = function() {
            var t4 = this.el, e4 = this.getBody(), n3 = e4.scrollTop, r3 = e4.scrollLeft, i2 = t4.offsetHeight, o2 = t4.offsetWidth;
            return { top: t4.offsetTop, left: t4.offsetLeft, height: i2, width: o2, scrollTop: n3, scrollLeft: r3, scrollBottom: n3 + i2, scrollRight: r3 + o2 };
          }, e3.prototype._getTool = function(t4) {
            var e4 = this.tools, n3 = this.getToolsEl();
            return e4[t4] || (e4[t4] = n3.querySelector(t4)), e4[t4];
          }, e3.prototype.remove = function() {
            for (var t4 = [], e4 = 0; e4 < arguments.length; e4++) t4[e4] = arguments[e4];
            var n3 = this.wrapper;
            return this._toggleEffects(false), this.tools = {}, n3 && n3.remove(), y.prototype.remove.apply(this, t4), this;
          }, e3.prototype.startAutoscroll = function() {
            var t4 = this;
            this.lastMaxHeight = this.getWrapper().offsetHeight - this.el.offsetHeight, setTimeout(function() {
              t4._toggleAutoscrollFx(true), requestAnimationFrame(t4.autoscroll);
            }, 0);
          }, e3.prototype.autoscroll = function() {
            if (this.dragging) {
              var t4 = this.lastClientY, e4 = this.em.get("Canvas"), n3 = this.getWindow(), i2 = n3.pageYOffset, o2 = t4 || 0, a2 = e4.getConfig().autoscrollLimit, s2 = this.getRect().height - a2, l2 = i2;
              if (o2 < a2 && (l2 -= a2 - o2), o2 > s2 && (l2 += o2 - s2), !(0, r2.isUndefined)(t4) && l2 !== i2 && l2 > 0 && l2 < this.lastMaxHeight) this.getGlobalToolsEl().style.opacity = 0, this.showGlobalTools(), n3.scrollTo(0, l2);
              requestAnimationFrame(this.autoscroll);
            }
          }, e3.prototype.updateClientY = function(t4) {
            t4.preventDefault(), this.lastClientY = (0, o.getPointerEvent)(t4).clientY * this.em.getZoomDecimal();
          }, e3.prototype.showGlobalTools = function() {
            this.getGlobalToolsEl().style.opacity = "";
          }, e3.prototype.stopAutoscroll = function() {
            this.dragging && this._toggleAutoscrollFx(false);
          }, e3.prototype._toggleAutoscrollFx = function(t4) {
            this.dragging = t4;
            var e4 = this.getWindow(), n3 = t4 ? "on" : "off", r3 = { on: o.on, off: o.off };
            r3[n3](e4, "mousemove dragover", this.updateClientY), r3[n3](e4, "mouseup", this.stopAutoscroll);
          }, e3.prototype.render = function() {
            var t4 = this.$el, e4 = this.ppfx;
            return t4.attr({ class: "".concat(e4, "frame") }), this.renderScripts(), this;
          }, e3.prototype.renderScripts = function() {
            var t4 = this, e4 = this, n3 = e4.el, i2 = e4.model, o2 = e4.em, a2 = "frame:load", s2 = { el: n3, model: i2, view: this }, l2 = this.getCanvasModel(), c2 = function(e5) {
              var i3;
              if (e5.length > 0) {
                var l3 = e5.shift(), u2 = (0, b.ut)("script", E({ type: "text/javascript" }, (0, r2.isString)(l3) ? { src: l3 } : l3));
                u2.onerror = u2.onload = c2.bind(null, e5), null === (i3 = n3.contentDocument) || void 0 === i3 || i3.head.appendChild(u2);
              } else t4.renderBody(), o2 && o2.trigger(a2, s2);
            };
            n3.onload = function() {
              var e5 = t4.config.frameContent;
              if (e5) {
                var n4 = t4.getDoc();
                n4.open(), n4.write(e5), n4.close();
              }
              o2 && o2.trigger("".concat(a2, ":before"), s2), c2(j([], l2.get("scripts"), true));
            };
          }, e3.prototype.renderStyles = function(t4) {
            void 0 === t4 && (t4 = {});
            var e4 = this.getHead(), n3 = this.getCanvasModel(), i2 = function(t5) {
              return t5.map(function(t6) {
                return { tag: "link", attributes: E({ rel: "stylesheet" }, (0, r2.isString)(t6) ? { href: t6 } : t6) };
              });
            }, o2 = i2(t4.prev || n3.previous("styles")), a2 = i2(n3.get("styles")), s2 = [], l2 = [], c2 = function(t5, e5, n4) {
              t5.forEach(function(t6) {
                var r3 = t6.attributes.href;
                !e5.some(function(t7) {
                  return t7.attributes.href === r3;
                }) && n4.push(t6);
              });
            };
            c2(a2, o2, l2), c2(o2, a2, s2), s2.forEach(function(t5) {
              var n4, r3 = e4.querySelector('link[href="'.concat(t5.attributes.href, '"]'));
              null === (n4 = null == r3 ? void 0 : r3.parentNode) || void 0 === n4 || n4.removeChild(r3);
            }), (0, b.SJ)(e4, l2);
          }, e3.prototype.renderBody = function() {
            var t4, e4, n3 = this, r3 = this, i2 = r3.config, a2 = r3.em, s2 = r3.model, l2 = r3.ppfx, c2 = this.getDoc(), u2 = this.getBody(), f2 = this.getWindow(), h2 = a2.config;
            f2._isEditor = true, this.renderStyles({ prev: [] });
            (0, b.R3)(u2, "<style>\n      ".concat(h2.baseCss || i2.frameStyle || "", '\n\n      [data-gjs-type="wrapper"] {\n        min-height: 100vh;\n        padding-top: 0.001em;\n      }\n\n      .').concat(l2, "dashed *[data-gjs-highlightable] {\n        outline: 1px dashed rgba(170,170,170,0.7);\n        outline-offset: -2px;\n      }\n\n      .").concat(l2, "selected {\n        outline: 2px solid #3b97e3 !important;\n        outline-offset: -2px;\n      }\n\n      .").concat(l2, "selected-parent {\n        outline: 2px solid ").concat("#ffca6f", " !important\n      }\n\n      .").concat(l2, "no-select {\n        user-select: none;\n        -webkit-user-select:none;\n        -moz-user-select: none;\n      }\n\n      .").concat(l2, "freezed {\n        opacity: 0.5;\n        pointer-events: none;\n      }\n\n      .").concat(l2, "no-pointer {\n        pointer-events: none;\n      }\n\n      .").concat(l2, "plh-image {\n        background: #f5f5f5;\n        border: none;\n        height: 100px;\n        width: 100px;\n        display: block;\n        outline: 3px solid #ffca6f;\n        cursor: pointer;\n        outline-offset: -2px\n      }\n\n      .").concat(l2, "grabbing {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n      }\n\n      .").concat(l2, "is__grabbing {\n        overflow-x: hidden;\n      }\n\n      .").concat(l2, "is__grabbing,\n      .").concat(l2, "is__grabbing * {\n        cursor: grabbing !important;\n      }\n\n      ").concat(h2.canvasCss || "", "\n      ").concat(h2.protectedCss || "", "\n    </style>"));
            var d2 = s2.getComponent(), p2 = a2.get("DomComponents").getType("wrapper").view;
            this.wrapper = new p2({ model: d2, config: E(E({}, d2.config), { em: a2, frameView: this }) }).render(), (0, b.R3)(u2, null === (t4 = this.wrapper) || void 0 === t4 ? void 0 : t4.el), (0, b.R3)(u2, new x.Z({ collection: s2.getStyles(), config: E(E({}, a2.get("CssComposer").getConfig()), { frameView: this }) }).render().el), (0, b.R3)(u2, this.getJsContainer()), (0, o.on)(u2, "click", function(t5) {
              var e5;
              return t5 && "A" == (null === (e5 = t5.target) || void 0 === e5 ? void 0 : e5.tagName) && t5.preventDefault();
            }), (0, o.on)(u2, "submit", function(t5) {
              return t5 && t5.preventDefault();
            }), [{ event: "keydown keyup keypress", class: "KeyboardEvent" }, { event: "mousedown mousemove mouseup", class: "MouseEvent" }, { event: "pointerdown pointermove pointerup", class: "PointerEvent" }, { event: "wheel", class: "WheelEvent" }].forEach(function(t5) {
              return t5.event.split(" ").forEach(function(e5) {
                c2.addEventListener(e5, function(e6) {
                  return n3.el.dispatchEvent((0, b.t3)(e6, t5.class));
                });
              });
            }), this._toggleEffects(true), this.droppable = (0, o.hasDnd)(a2) && new P(a2, null === (e4 = this.wrapper) || void 0 === e4 ? void 0 : e4.el), s2.trigger("loaded");
          }, e3.prototype._toggleEffects = function(t4) {
            var e4 = t4 ? o.on : o.off, n3 = this.getWindow();
            n3 && e4(n3, "".concat(b.G1, " resize"), this._emitUpdate);
          }, e3.prototype._emitUpdate = function() {
            this.model._emitUpdated();
          }, e3;
        }(y);
        const D = A;
        var M = n2(5610), R = /* @__PURE__ */ function() {
          var t3 = function(e3, n3) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n4 in e4) Object.prototype.hasOwnProperty.call(e4, n4) && (t4[n4] = e4[n4]);
            }, t3(e3, n3);
          };
          return function(e3, n3) {
            if ("function" != typeof n3 && null !== n3) throw new TypeError("Class extends value " + String(n3) + " is not a constructor or null");
            function r3() {
              this.constructor = e3;
            }
            t3(e3, n3), e3.prototype = null === n3 ? Object.create(n3) : (r3.prototype = n3.prototype, new r3());
          };
        }(), Z = function() {
          return Z = Object.assign || function(t3) {
            for (var e3, n3 = 1, r3 = arguments.length; n3 < r3; n3++) for (var i2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, i2) && (t3[i2] = e3[i2]);
            return t3;
          }, Z.apply(this, arguments);
        };
        const L = function(t3) {
          function e3(e4, n3) {
            var i2 = t3.call(this, { model: e4 }) || this;
            (0, r2.bindAll)(i2, "onScroll", "frameLoaded", "updateOffset", "remove", "startDrag");
            Z(Z({}, e4.config), { frameWrapView: i2 });
            return i2.cv = n3, i2.frame = new D(e4, i2), i2.classAnim = "".concat(i2.ppfx, "frame-wrapper--anim"), i2.updateOffset = (0, r2.debounce)(i2.updateOffset.bind(i2), 0), i2.updateSize = (0, r2.debounce)(i2.updateSize.bind(i2), 0), i2.listenTo(e4, "loaded", i2.frameLoaded), i2.listenTo(e4, "change:x change:y", i2.updatePos), i2.listenTo(e4, "change:width change:height", i2.updateSize), i2.listenTo(e4, "destroy remove", i2.remove), i2.updatePos(), i2.setupDragger(), i2;
          }
          return R(e3, t3), e3.prototype.events = function() {
            return { "click [data-action-remove]": "remove", "mousedown [data-action-move]": "startDrag" };
          }, e3.prototype.setupDragger = function() {
            var t4, e4, n3, r3 = this, i2 = this.module, o2 = this.model, a2 = function(t5) {
              i2.toggleFramesEvents(t5);
            };
            this.dragger = new M.Z({ onStart: function() {
              var i3 = o2.attributes, s2 = i3.x, l2 = i3.y;
              n3 = r3.em.getZoomMultiplier(), t4 = s2, e4 = l2, a2(false);
            }, onEnd: function() {
              return a2(true);
            }, setPosition: function(r4) {
              o2.set({ x: t4 + r4.x * n3, y: e4 + r4.y * n3 });
            } });
          }, e3.prototype.startDrag = function(t4) {
            var e4;
            t4 && (null === (e4 = this.dragger) || void 0 === e4 || e4.start(t4));
          }, e3.prototype.__clear = function(t4) {
            var e4 = this.frame;
            e4 && e4.remove(t4), (0, b.L_)(this.elTools);
          }, e3.prototype.remove = function(t4) {
            var e4 = this;
            return this.__clear(t4), y.prototype.remove.apply(this, t4), ["frame", "dragger", "cv", "elTools"].forEach(function(t5) {
              return e4[t5] = 0;
            }), this;
          }, e3.prototype.updateOffset = function() {
            var t4, e4 = this, n3 = e4.em, r3 = e4.$el, i2 = e4.frame;
            n3 && (n3.runDefault({ preserveSelected: 1 }), r3.removeClass(this.classAnim), null === (t4 = null == i2 ? void 0 : i2.model) || void 0 === t4 || t4._emitUpdated());
          }, e3.prototype.updatePos = function(t4) {
            var e4 = this.model, n3 = this.el, r3 = e4.attributes, i2 = r3.x, o2 = r3.y, a2 = n3.style;
            this.frame.rect = void 0, a2.left = isNaN(i2) ? i2 : "".concat(i2, "px"), a2.top = isNaN(o2) ? o2 : "".concat(o2, "px"), t4 && this.updateOffset();
          }, e3.prototype.updateSize = function() {
            this.updateDim();
          }, e3.prototype.updateDim = function() {
            var t4 = this, e4 = t4.em, n3 = t4.el, i2 = t4.$el, o2 = t4.model, a2 = t4.classAnim, s2 = t4.frame;
            if (s2) {
              s2.rect = void 0, i2.addClass(a2);
              var l2 = this.__handleSize(), c2 = l2.noChanges, u2 = l2.width, f2 = l2.height;
              ((0, r2.isNull)(u2) || (0, r2.isNull)(f2)) && o2.set(Z(Z({}, u2 ? {} : { width: n3.offsetWidth }), f2 ? {} : { height: n3.offsetHeight }), { silent: 1 }), e4.stopDefault({ preserveSelected: 1 }), c2 ? this.updateOffset() : setTimeout(this.updateOffset, 350);
            }
          }, e3.prototype.onScroll = function() {
            var t4 = this.frame;
            this.em.trigger("frame:scroll", { frame: t4, body: t4.getBody(), target: t4.getWindow() });
          }, e3.prototype.frameLoaded = function() {
            this.frame.getWindow().onscroll = this.onScroll, this.updateDim();
          }, e3.prototype.__handleSize = function() {
            var t4 = "px", e4 = this.model, n3 = this.el.style, i2 = e4.attributes, o2 = i2.width, a2 = i2.height, s2 = n3.width || "", l2 = n3.height || "", c2 = o2 || "", u2 = a2 || "", f2 = s2 == c2 && l2 == u2;
            return n3.width = (0, r2.isNumber)(c2) ? "".concat(c2).concat(t4) : c2, n3.height = (0, r2.isNumber)(u2) ? "".concat(u2).concat(t4) : u2, { noChanges: f2, width: o2, height: a2, newW: c2, newH: u2 };
          }, e3.prototype.render = function() {
            var t4 = this, e4 = t4.frame, n3 = t4.$el, r3 = t4.ppfx, i2 = t4.cv, o2 = t4.model, a2 = t4.el, s2 = o2.attributes.onRender;
            this.__clear(), this.__handleSize(), e4.render(), n3.empty().attr({ class: "".concat(r3, "frame-wrapper") }).append('\n      <div class="'.concat(r3, 'frame-wrapper__top gjs-two-color" data-frame-top>\n        <div class="').concat(r3, 'frame-wrapper__name" data-action-move>\n          ').concat(o2.get("name") || "", '\n        </div>\n        <div class="').concat(r3, 'frame-wrapper__top-r">\n          <div class="').concat(r3, 'frame-wrapper__icon" data-action-remove style="display: none">\n            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(r3, 'frame-wrapper__right" data-frame-right></div>\n      <div class="').concat(r3, 'frame-wrapper__left" data-frame-left></div>\n      <div class="').concat(r3, 'frame-wrapper__bottom" data-frame-bottom></div>\n      ')).append(e4.el);
            var l2 = (0, b.ut)("div", { class: "".concat(r3, "tools"), style: "pointer-events:none; display: none" }, '\n      <div class="'.concat(r3, 'highlighter" data-hl></div>\n      <div class="').concat(r3, 'badge" data-badge></div>\n      <div class="').concat(r3, 'placeholder">\n        <div class="').concat(r3, 'placeholder-int"></div>\n      </div>\n      <div class="').concat(r3, 'ghost"></div>\n      <div class="').concat(r3, 'toolbar" style="pointer-events:all"></div>\n      <div class="').concat(r3, 'resizer"></div>\n      <div class="').concat(r3, 'offset-v" data-offset>\n        <div class="gjs-marginName" data-offset-m>\n          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>\n          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>\n          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>\n          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>\n        </div>\n        <div class="gjs-paddingName" data-offset-m>\n          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>\n          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>\n          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>\n          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>\n        </div>\n      </div>\n      <div class="').concat(r3, 'offset-fixed-v"></div>\n    '));
            this.elTools = l2;
            var c2 = null == i2 ? void 0 : i2.toolsWrapper;
            return c2 && c2.appendChild(l2), s2 && s2({ el: a2, elTop: a2.querySelector("[data-frame-top]"), elRight: a2.querySelector("[data-frame-right]"), elBottom: a2.querySelector("[data-frame-bottom]"), elLeft: a2.querySelector("[data-frame-left]"), frame: o2, frameWrapperView: this, remove: this.remove, startDrag: this.startDrag }), this;
          }, e3;
        }(y);
        var N = /* @__PURE__ */ function() {
          var t3 = function(e3, n3) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n4 in e4) Object.prototype.hasOwnProperty.call(e4, n4) && (t4[n4] = e4[n4]);
            }, t3(e3, n3);
          };
          return function(e3, n3) {
            if ("function" != typeof n3 && null !== n3) throw new TypeError("Class extends value " + String(n3) + " is not a constructor or null");
            function r3() {
              this.constructor = e3;
            }
            t3(e3, n3), e3.prototype = null === n3 ? Object.create(n3) : (r3.prototype = n3.prototype, new r3());
          };
        }(), I = function(t3) {
          function e3(e4, n3) {
            void 0 === e4 && (e4 = {});
            var r3 = t3.call(this, e4, true) || this;
            return r3.listenTo(r3.collection, "reset", r3.render), r3.canvasView = n3.canvasView, r3._module = n3.module, r3;
          }
          return N(e3, t3), e3.prototype.onRemoveBefore = function(t4, e4) {
            void 0 === e4 && (e4 = {}), t4.forEach(function(t5) {
              return t5.remove(e4);
            });
          }, e3.prototype.onRender = function() {
            var t4 = this.$el, e4 = this.ppfx;
            t4.attr({ class: "".concat(e4, "frames") });
          }, e3.prototype.renderView = function(t4, e4) {
            return new L(t4, this.canvasView);
          }, e3;
        }(k);
        const F = I;
        var V = /* @__PURE__ */ function() {
          var t3 = function(e3, n3) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n4 in e4) Object.prototype.hasOwnProperty.call(e4, n4) && (t4[n4] = e4[n4]);
            }, t3(e3, n3);
          };
          return function(e3, n3) {
            if ("function" != typeof n3 && null !== n3) throw new TypeError("Class extends value " + String(n3) + " is not a constructor or null");
            function r3() {
              this.constructor = e3;
            }
            t3(e3, n3), e3.prototype = null === n3 ? Object.create(n3) : (r3.prototype = n3.prototype, new r3());
          };
        }(), B = function() {
          return B = Object.assign || function(t3) {
            for (var e3, n3 = 1, r3 = arguments.length; n3 < r3; n3++) for (var i2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, i2) && (t3[i2] = e3[i2]);
            return t3;
          }, B.apply(this, arguments);
        }, H = function(t3) {
          function e3(e4) {
            var n3 = t3.call(this, { model: e4 }) || this;
            n3.ready = false, (0, r2.bindAll)(n3, "clearOff", "onKeyPress", "onCanvasMove"), n3.className = n3.pfx + "canvas";
            var i2 = n3.em;
            return n3._initFrames(), n3.listenTo(i2, "change:canvasOffset", n3.clearOff), n3.listenTo(i2, "component:selected", n3.checkSelected), n3.listenTo(e4, "change:zoom change:x change:y", n3.updateFrames), n3.listenTo(e4, "change:frames", n3._onFramesUpdate), n3.toggleListeners(true), n3;
          }
          return V(e3, t3), e3.prototype.events = function() {
            return { wheel: "onWheel" };
          }, e3.prototype.template = function() {
            var t4 = this.pfx;
            return '\n      <div class="'.concat(t4, 'canvas__frames" data-frames></div>\n      <div id="').concat(t4, 'tools" class="').concat(t4, 'canvas__tools" data-tools></div>\n    ');
          }, e3.prototype._onFramesUpdate = function() {
            this._initFrames(), this._renderFrames();
          }, e3.prototype._initFrames = function() {
            var t4 = this, e4 = t4.frames, n3 = t4.model, r3 = t4.config, i2 = t4.em, o2 = n3.frames;
            i2.set("readyCanvas", 0), o2.once("loaded:all", function() {
              return i2.set("readyCanvas", 1);
            }), null == e4 || e4.remove(), this.frames = new F({ collection: o2 }, B(B({}, r3), { canvasView: this }));
          }, e3.prototype.checkSelected = function(t4, e4) {
            var n3;
            void 0 === e4 && (e4 = {});
            var r3 = e4.scroll, i2 = this.em.get("currentFrame");
            r3 && (null === (n3 = t4.views) || void 0 === n3 || n3.forEach(function(t5) {
              t5._getFrame() === i2 && t5.scrollIntoView(r3);
            }));
          }, e3.prototype.remove = function() {
            for (var t4, e4 = [], n3 = 0; n3 < arguments.length; n3++) e4[n3] = arguments[n3];
            return null === (t4 = this.frames) || void 0 === t4 || t4.remove(), this.frames = void 0, y.prototype.remove.apply(this, e4), this.toggleListeners(false), this;
          }, e3.prototype.preventDefault = function(t4) {
            var e4;
            t4 && (t4.preventDefault(), null === (e4 = t4._parentEvent) || void 0 === e4 || e4.preventDefault());
          }, e3.prototype.onCanvasMove = function(t4) {
          }, e3.prototype.toggleListeners = function(t4) {
            this.el;
            var e4 = t4 ? o.on : o.off;
            e4(document, "keypress", this.onKeyPress), e4(window, "scroll resize", this.clearOff);
          }, e3.prototype.onKeyPress = function(t4) {
            var e4 = this.em;
            " " !== (0, o.getKeyChar)(t4) || 1 === e4.getZoomDecimal() || e4.get("Canvas").isInputFocused() || (this.preventDefault(t4), e4.get("Editor").runCommand("core:canvas-move"));
          }, e3.prototype.onWheel = function(t4) {
            if ((t4.ctrlKey || t4.metaKey) && this.em.getConfig().multiFrames) {
              this.preventDefault(t4);
              var e4 = this.model, n3 = Math.max(-1, Math.min(1, t4.wheelDelta || -t4.detail)), r3 = e4.get("zoom");
              e4.set("zoom", r3 + 2 * n3);
            }
          }, e3.prototype.updateFrames = function(t4) {
            var e4 = this.em, n3 = this.model.attributes, r3 = n3.x, i2 = n3.y, o2 = this.getZoom(), a2 = { preserveSelected: 1 }, s2 = o2 ? 1 / o2 : 1;
            this.framesArea.style.transform = "scale(".concat(o2, ") translate(").concat(r3 * s2, "px, ").concat(i2 * s2, "px)"), this.clearOff(), e4.stopDefault(a2), e4.trigger("canvas:update", t4), this.timerZoom && clearTimeout(this.timerZoom), this.timerZoom = setTimeout(function() {
              return e4.runDefault(a2);
            }, 300);
          }, e3.prototype.getZoom = function() {
            return this.em.getZoomDecimal();
          }, e3.prototype.isElInViewport = function(t4) {
            var e4 = (0, o.getElement)(t4), n3 = (0, o.getElRect)(e4), r3 = this.getFrameOffset(e4), i2 = n3.top, a2 = n3.left;
            return i2 >= 0 && a2 >= 0 && i2 <= r3.height && a2 <= r3.width;
          }, e3.prototype.offset = function(t4, e4) {
            var n3, r3;
            void 0 === e4 && (e4 = {});
            var i2 = (0, o.getElRect)(t4), a2 = null == t4 ? void 0 : t4.ownerDocument.body, s2 = e4.noScroll;
            return { top: i2.top + (s2 ? 0 : null !== (n3 = null == a2 ? void 0 : a2.scrollTop) && void 0 !== n3 ? n3 : 0), left: i2.left + (s2 ? 0 : null !== (r3 = null == a2 ? void 0 : a2.scrollLeft) && void 0 !== r3 ? r3 : 0), width: i2.width, height: i2.height };
          }, e3.prototype.clearOff = function() {
            this.frmOff = void 0, this.cvsOff = void 0;
          }, e3.prototype.getFrameOffset = function(t4) {
            var e4;
            if (!this.frmOff || t4) {
              var n3 = null === (e4 = this.frame) || void 0 === e4 ? void 0 : e4.el, r3 = null == t4 ? void 0 : t4.ownerDocument.defaultView, i2 = r3 ? r3.frameElement : n3;
              this.frmOff = this.offset(i2 || n3);
            }
            return this.frmOff;
          }, e3.prototype.getCanvasOffset = function() {
            return this.cvsOff || (this.cvsOff = this.offset(this.el)), this.cvsOff;
          }, e3.prototype.getElementPos = function(t4, e4) {
            void 0 === e4 && (e4 = {});
            var n3 = this.getZoom(), r3 = e4 || {}, i2 = this.getFrameOffset(t4), o2 = this.el, a2 = this.getCanvasOffset(), s2 = this.offset(t4, e4), l2 = r3.avoidFrameOffset ? 0 : i2.top, c2 = r3.avoidFrameOffset ? 0 : i2.left;
            return { top: s2.top * n3 + l2 - a2.top + o2.scrollTop, left: s2.left * n3 + c2 - a2.left + o2.scrollLeft, height: s2.height * n3, width: s2.width * n3, zoom: n3, rect: s2 };
          }, e3.prototype.getElementOffsets = function(t4) {
            var e4 = this;
            if (!t4 || (0, o.isTextNode)(t4)) return {};
            var n3 = {}, r3 = window.getComputedStyle(t4);
            return ["marginTop", "marginRight", "marginBottom", "marginLeft", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft"].forEach(function(t5) {
              n3[t5] = parseFloat(r3[t5]) * e4.getZoom();
            }), n3;
          }, e3.prototype.getPosition = function(t4) {
            var e4;
            void 0 === t4 && (t4 = {});
            var n3 = null === (e4 = this.frame) || void 0 === e4 ? void 0 : e4.el.contentDocument;
            if (n3) {
              var r3 = n3.body, i2 = this.getZoom(), o2 = this.getFrameOffset(), a2 = this.getCanvasOffset(), s2 = t4.noScroll;
              return { top: o2.top + (s2 ? 0 : r3.scrollTop) * i2 - a2.top, left: o2.left + (s2 ? 0 : r3.scrollLeft) * i2 - a2.left, width: a2.width, height: a2.height };
            }
          }, e3.prototype.updateScript = function(t4) {
            var e4 = t4.model, n3 = e4.getId();
            t4.scriptContainer || (t4.scriptContainer = (0, b.ut)("div", { "data-id": n3 }), this.getJsContainer().appendChild(t4.scriptContainer)), t4.el.id = n3, t4.scriptContainer.innerHTML = "";
            var r3 = document.createElement("script"), i2 = e4.getScriptString(), o2 = e4.get("script-props") ? i2 : "function(){\n".concat(i2, "\n;}"), a2 = JSON.stringify(e4.__getScriptProps());
            r3.innerHTML = "\n      setTimeout(function() {\n        var item = document.getElementById('".concat(n3, "');\n        if (!item) return;\n        (").concat(o2, ".bind(item))(").concat(a2, ")\n      }, 1);"), setTimeout(function() {
              var e5 = t4.scriptContainer;
              null == e5 || e5.appendChild(r3);
            }, 0);
          }, e3.prototype.getJsContainer = function(t4) {
            var e4 = this.getFrameView(t4);
            return e4 && e4.getJsContainer();
          }, e3.prototype.getFrameView = function(t4) {
            return (null == t4 ? void 0 : t4._getFrame()) || this.em.get("currentFrame");
          }, e3.prototype._renderFrames = function() {
            if (this.ready) {
              var t4 = this, e4 = t4.model, n3 = t4.frames, r3 = t4.em, i2 = t4.framesArea, o2 = e4.frames;
              o2.listenToLoad(), n3.render();
              var a2 = o2.at(0), s2 = null == a2 ? void 0 : a2.view;
              r3.setCurrentFrame(s2), null == i2 || i2.appendChild(n3.el), this.frame = s2;
            }
          }, e3.prototype.render = function() {
            var t4 = this, e4 = t4.el, n3 = t4.$el, r3 = t4.ppfx, i2 = t4.config, a2 = t4.em;
            n3.html(this.template());
            var s2 = n3.find("[data-frames]");
            this.framesArea = s2.get(0);
            var l2 = n3.find("[data-tools]");
            this.toolsWrapper = l2.get(0), l2.append('\n      <div class="'.concat(r3, "tools ").concat(r3, 'tools-gl" style="pointer-events:none">\n        <div class="').concat(r3, 'placeholder">\n          <div class="').concat(r3, 'placeholder-int"></div>\n        </div>\n      </div>\n      <div id="').concat(r3, 'tools" style="pointer-events:none">\n        ').concat(i2.extHl ? '<div class="'.concat(r3, 'highlighter-sel"></div>') : "", '\n        <div class="').concat(r3, 'badge"></div>\n        <div class="').concat(r3, 'ghost"></div>\n        <div class="').concat(r3, 'toolbar" style="pointer-events:all"></div>\n        <div class="').concat(r3, 'resizer"></div>\n        <div class="').concat(r3, 'offset-v"></div>\n        <div class="').concat(r3, 'offset-fixed-v"></div>\n      </div>\n    '));
            var c2 = e4.querySelector("#".concat(r3, "tools"));
            return this.hlEl = e4.querySelector(".".concat(r3, "highlighter")), this.badgeEl = e4.querySelector(".".concat(r3, "badge")), this.placerEl = e4.querySelector(".".concat(r3, "placeholder")), this.ghostEl = e4.querySelector(".".concat(r3, "ghost")), this.toolbarEl = e4.querySelector(".".concat(r3, "toolbar")), this.resizerEl = e4.querySelector(".".concat(r3, "resizer")), this.offsetEl = e4.querySelector(".".concat(r3, "offset-v")), this.fixedOffsetEl = e4.querySelector(".".concat(r3, "offset-fixed-v")), this.toolsGlobEl = e4.querySelector(".".concat(r3, "tools-gl")), this.toolsEl = c2, this.el.className = (0, o.getUiClass)(a2, this.className), this.ready = true, this._renderFrames(), this;
          }, e3;
        }(y);
        const z = H;
        var U = /* @__PURE__ */ function() {
          var t3 = function(e3, n3) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n4 in e4) Object.prototype.hasOwnProperty.call(e4, n4) && (t4[n4] = e4[n4]);
            }, t3(e3, n3);
          };
          return function(e3, n3) {
            if ("function" != typeof n3 && null !== n3) throw new TypeError("Class extends value " + String(n3) + " is not a constructor or null");
            function r3() {
              this.constructor = e3;
            }
            t3(e3, n3), e3.prototype = null === n3 ? Object.create(n3) : (r3.prototype = n3.prototype, new r3());
          };
        }(), W = function() {
          return W = Object.assign || function(t3) {
            for (var e3, n3 = 1, r3 = arguments.length; n3 < r3; n3++) for (var i2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, i2) && (t3[i2] = e3[i2]);
            return t3;
          }, W.apply(this, arguments);
        }, $ = function(t3, e3, n3) {
          if (n3 || 2 === arguments.length) for (var r3, i2 = 0, o2 = e3.length; i2 < o2; i2++) !r3 && i2 in e3 || (r3 || (r3 = Array.prototype.slice.call(e3, 0, i2)), r3[i2] = e3[i2]);
          return t3.concat(r3 || Array.prototype.slice.call(e3));
        };
        const q = function(t3) {
          function e3(e4) {
            var n3 = t3.call(this, e4, "Canvas", a) || this;
            return n3.canvas = new d(n3), n3.model = n3.canvas, n3.startAutoscroll = n3.startAutoscroll.bind(n3), n3.stopAutoscroll = n3.stopAutoscroll.bind(n3), n3;
          }
          return U(e3, t3), e3.prototype.getCanvasView = function() {
            return this.canvasView;
          }, e3.prototype.init = function() {
          }, e3.prototype.onLoad = function() {
            this.model.init();
          }, e3.prototype.getModel = function() {
            return this.canvas;
          }, e3.prototype.getElement = function() {
            return this.getCanvasView().el;
          }, e3.prototype.getFrame = function(t4) {
            return this.getFrames()[t4 || 0];
          }, e3.prototype.getFrameEl = function() {
            var t4 = (this.canvasView || {}).frame;
            return null == t4 ? void 0 : t4.el;
          }, e3.prototype.getFramesEl = function() {
            var t4;
            return null === (t4 = this.canvasView) || void 0 === t4 ? void 0 : t4.framesArea;
          }, e3.prototype.getWindow = function() {
            var t4 = (this.canvasView || {}).frame;
            return null == t4 ? void 0 : t4.getWindow();
          }, e3.prototype.getDocument = function() {
            var t4 = this.getFrameEl();
            return null == t4 ? void 0 : t4.contentDocument;
          }, e3.prototype.getBody = function() {
            var t4 = this.getDocument();
            return null == t4 ? void 0 : t4.body;
          }, e3.prototype._getLocalEl = function(t4, e4, n3) {
            var r3 = t4, i2 = null == e4 ? void 0 : e4._getFrame();
            return r3 = i2 ? i2[n3]() : r3;
          }, e3.prototype.getGlobalToolsEl = function() {
            var t4;
            return null === (t4 = this.canvasView) || void 0 === t4 ? void 0 : t4.toolsGlobEl;
          }, e3.prototype.getToolsEl = function(t4) {
            return this._getLocalEl(this.getCanvasView().toolsEl, t4, "getToolsEl");
          }, e3.prototype.getHighlighter = function(t4) {
            return this._getLocalEl(this.getCanvasView().hlEl, t4, "getHighlighter");
          }, e3.prototype.getBadgeEl = function(t4) {
            return this._getLocalEl(this.getCanvasView().badgeEl, t4, "getBadgeEl");
          }, e3.prototype.getPlacerEl = function() {
            return this.getCanvasView().placerEl;
          }, e3.prototype.getGhostEl = function() {
            return this.getCanvasView().ghostEl;
          }, e3.prototype.getToolbarEl = function() {
            return this.getCanvasView().toolbarEl;
          }, e3.prototype.getResizerEl = function() {
            return this.getCanvasView().resizerEl;
          }, e3.prototype.getOffsetViewerEl = function(t4) {
            return this._getLocalEl(this.getCanvasView().offsetEl, t4, "getOffsetViewerEl");
          }, e3.prototype.getFixedOffsetViewerEl = function() {
            return this.getCanvasView().fixedOffsetEl;
          }, e3.prototype.render = function() {
            var t4;
            return null === (t4 = this.canvasView) || void 0 === t4 || t4.remove(), this.canvasView = new z(this.canvas), this.canvasView.render().el;
          }, e3.prototype.getOffset = function() {
            var t4 = this.offset(this.getFrameEl()), e4 = this.offset(this.getElement());
            return { top: t4.top - e4.top, left: t4.left - e4.left };
          }, e3.prototype.offset = function(t4) {
            return this.getCanvasView().offset(t4);
          }, e3.prototype.setCustomBadgeLabel = function(t4) {
            this.config.customBadgeLabel = t4;
          }, e3.prototype.getElementPos = function(t4, e4) {
            return this.getCanvasView().getElementPos(t4, e4);
          }, e3.prototype.getElementOffsets = function(t4) {
            return this.getCanvasView().getElementOffsets(t4);
          }, e3.prototype.getRect = function() {
            var t4, e4 = null !== (t4 = this.getCanvasView().getPosition()) && void 0 !== t4 ? t4 : {}, n3 = e4.top, r3 = void 0 === n3 ? 0 : n3, i2 = e4.left, o2 = void 0 === i2 ? 0 : i2;
            return W(W({}, this.getCanvasView().getCanvasOffset()), { topScroll: r3, leftScroll: o2 });
          }, e3.prototype.getTargetToElementDim = function(t4, e4, n3) {
            void 0 === n3 && (n3 = {});
            var r3 = n3 || {}, i2 = this.getCanvasView().getPosition();
            if (i2) {
              var o2 = r3.elPos || this.getCanvasView().getElementPos(e4), a2 = n3.toRight || 0, s2 = r3.targetHeight || t4.offsetHeight, l2 = r3.targetWidth || t4.offsetWidth, c2 = r3.event || null, u2 = o2.top - s2, f2 = o2.left;
              f2 += a2 ? o2.width : 0;
              var h2 = (f2 = a2 ? f2 - l2 : f2) < i2.left ? i2.left : f2, d2 = u2 < i2.top ? i2.top : u2, p2 = { top: d2 = d2 > o2.top + o2.height ? o2.top + o2.height : d2, left: h2, elementTop: o2.top, elementLeft: o2.left, elementWidth: o2.width, elementHeight: o2.height, targetWidth: t4.offsetWidth, targetHeight: t4.offsetHeight, canvasTop: i2.top, canvasLeft: i2.left, canvasWidth: i2.width, canvasHeight: i2.height };
              return c2 && this.em && this.em.trigger(c2, p2), p2;
            }
          }, e3.prototype.canvasRectOffset = function(t4, e4, n3) {
            var r3 = this;
            void 0 === n3 && (n3 = {});
            var i2 = function(t5, e5, i3) {
              void 0 === e5 && (e5 = 1);
              var o2 = r3.em.getZoomDecimal(), a2 = e5 ? "top" : "left", s2 = t5.ownerDocument, l2 = n3.offset ? function(t6) {
                var e6 = t6.defaultView;
                return null == e6 ? void 0 : e6.frameElement;
              }(s2) : {}, c2 = l2.offsetTop, u2 = void 0 === c2 ? 0 : c2, f2 = l2.offsetLeft, h2 = void 0 === f2 ? 0 : f2, d2 = s2.body || {}, p2 = d2.scrollTop, g2 = void 0 === p2 ? 0 : p2, v2 = d2.scrollLeft, m2 = e5 ? g2 : void 0 === v2 ? 0 : v2, y2 = e5 ? u2 : h2;
              return i3[a2] - (m2 - y2) * o2;
            };
            return { top: i2(t4, 1, e4), left: i2(t4, 0, e4) };
          }, e3.prototype.getTargetToElementFixed = function(t4, e4, n3) {
            var i2;
            void 0 === n3 && (n3 = {});
            var o2 = n3.pos || this.getElementPos(t4), a2 = n3.canvasOff || this.canvasRectOffset(t4, o2), s2 = e4.offsetHeight || 0, l2 = e4.offsetWidth || 0, c2 = o2.left + o2.width, u2 = this.getCanvasView(), f2 = u2.getPosition(), h2 = u2.getFrameOffset(t4), d2 = n3.event, p2 = -s2, g2 = (0, r2.isUndefined)(n3.left) ? o2.width - l2 : n3.left;
            g2 = o2.left < -g2 ? -o2.left : g2;
            var v2 = null !== (i2 = null == f2 ? void 0 : f2.width) && void 0 !== i2 ? i2 : 0;
            g2 = c2 > v2 ? g2 - (c2 - v2) : g2;
            var m2 = o2.height + s2, y2 = m2 < h2.height;
            a2.top < s2 && (y2 ? p2 += m2 : p2 = -a2.top < o2.height ? -a2.top : o2.height);
            var b2 = { top: p2, left: g2, canvasOffsetTop: a2.top, canvasOffsetLeft: a2.left };
            return d2 && this.em.trigger(d2, b2), b2;
          }, e3.prototype.getMouseRelativePos = function(t4, e4) {
            void 0 === e4 && (e4 = {});
            var n3 = 0, r3 = 0, i2 = e4.subWinOffset, o2 = t4.target.ownerDocument, a2 = o2.defaultView || o2.parentWindow, s2 = a2.frameElement, l2 = i2 ? a2.pageYOffset : 0, c2 = i2 ? a2.pageXOffset : 0;
            if (s2) {
              var u2 = s2.getBoundingClientRect();
              n3 = u2.top || 0, r3 = u2.left || 0;
            }
            return { y: t4.clientY + n3 - l2, x: t4.clientX + r3 - c2 };
          }, e3.prototype.getMouseRelativeCanvas = function(t4, e4) {
            var n3, r3 = this.getZoomDecimal(), i2 = null !== (n3 = this.getCanvasView().getPosition(e4)) && void 0 !== n3 ? n3 : {}, o2 = i2.top, a2 = void 0 === o2 ? 0 : o2, s2 = i2.left, l2 = void 0 === s2 ? 0 : s2;
            return { y: t4.clientY * r3 + a2, x: t4.clientX * r3 + l2 };
          }, e3.prototype.hasFocus = function() {
            return this.getDocument().hasFocus();
          }, e3.prototype.isInputFocused = function() {
            var t4 = this.getDocument(), e4 = this.getFrameEl(), n3 = $(["body"], this.config.notTextable, true), r3 = e4 && document.activeElement === e4 ? t4 && t4.activeElement : document.activeElement;
            return r3 && !n3.some(function(t5) {
              return r3.matches(t5);
            });
          }, e3.prototype.scrollTo = function(t4, e4) {
            void 0 === e4 && (e4 = {});
            var n3 = (0, o.getElement)(t4), r3 = n3 && (0, o.getViewEl)(n3);
            r3 && r3.scrollIntoView(e4);
          }, e3.prototype.startAutoscroll = function(t4) {
            var e4 = t4 && t4.view || this.em.getCurrentFrame();
            e4 && e4.startAutoscroll();
          }, e3.prototype.stopAutoscroll = function(t4) {
            var e4 = t4 && t4.view || this.em.getCurrentFrame();
            e4 && e4.stopAutoscroll();
          }, e3.prototype.setZoom = function(t4) {
            return this.canvas.set("zoom", parseFloat(t4)), this;
          }, e3.prototype.getZoom = function() {
            return parseFloat(this.canvas.get("zoom"));
          }, e3.prototype.setCoords = function(t4, e4) {
            return this.canvas.set({ x: parseFloat(t4), y: parseFloat(e4) }), this;
          }, e3.prototype.getCoords = function() {
            var t4 = this.canvas.attributes;
            return { x: t4.x, y: t4.y };
          }, e3.prototype.getZoomDecimal = function() {
            return this.getZoom() / 100;
          }, e3.prototype.getZoomMultiplier = function() {
            var t4 = this.getZoomDecimal();
            return t4 ? 1 / t4 : 1;
          }, e3.prototype.toggleFramesEvents = function(t4) {
            this.getFramesEl().style.pointerEvents = t4 ? "" : "none";
          }, e3.prototype.getFrames = function() {
            return this.canvas.frames.map(function(t4) {
              return t4;
            });
          }, e3.prototype.addFrame = function(t4, e4) {
            return void 0 === t4 && (t4 = {}), void 0 === e4 && (e4 = {}), this.canvas.frames.add(new p.Z(this, W({}, t4)), e4);
          }, e3.prototype.destroy = function() {
            var t4, e4 = this;
            this.canvas.stopListening(), null === (t4 = this.canvasView) || void 0 === t4 || t4.remove(), ["model", "droppable"].forEach(function(t5) {
              return e4[t5] = {};
            });
          }, e3;
        }(i.Z);
      }, 6840: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => h });
        var r2, i = n2(9050), o = n2(7904), a = n2(1163), s = (r2 = function(t3, e3) {
          return r2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, r2(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          r2(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        }), l = function() {
          return l = Object.assign || function(t3) {
            for (var e3, n3 = 1, r3 = arguments.length; n3 < r3; n3++) for (var i2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, i2) && (t3[i2] = e3[i2]);
            return t3;
          }, l.apply(this, arguments);
        }, c = function(t3, e3, n3) {
          if (n3 || 2 === arguments.length) for (var r3, i2 = 0, o2 = e3.length; i2 < o2; i2++) !r3 && i2 in e3 || (r3 || (r3 = Array.prototype.slice.call(e3, 0, i2)), r3[i2] = e3[i2]);
          return t3.concat(r3 || Array.prototype.slice.call(e3));
        }, u = "__aw", f = "__ah";
        const h = function(t3) {
          function e3(e4, n3) {
            var r3 = t3.call(this, e4, n3) || this, o2 = r3.em, s2 = r3.attributes, l2 = s2.styles, c2 = s2.component, h2 = o2.get("DomComponents"), d = h2.getConfig(), p = o2.get("CssComposer").getAll(), g = {}, v = { em: o2, config: d, frame: r3, idMap: g };
            if (!(0, a.isComponent)(c2)) {
              var m = (0, a.isObject)(c2) ? c2 : { components: c2 };
              !m.type && (m.type = "wrapper");
              var y = h2.getType("wrapper").model;
              r3.set("component", new y(m, v));
            }
            if (l2) {
              if (!(0, a.isObject)(l2)) {
                Object.keys(g).length && Array.isArray(l2) && l2.forEach(function(t4) {
                  var e5 = t4.selectors;
                  if (e5 && 1 == e5.length) {
                    var n4 = e5[0], r4 = n4.name && 2 === n4.type && n4;
                    if (r4 && g[r4.name]) r4.name = g[r4.name];
                    else if ((0, i.isString)(n4) && "#" === n4[0]) {
                      var o3 = n4.substring(1);
                      o3 && g[o3] && (e5[0] = "#".concat(g[o3]));
                    }
                  }
                }), p.add(l2), r3.set("styles", p);
              }
            } else r3.set("styles", p);
            return !n3.width && r3.set(u, 1), !n3.height && r3.set(f, 1), r3;
          }
          return s(e3, t3), e3.prototype.defaults = function() {
            return { x: 0, y: 0, changesCount: 0, attributes: {}, width: null, height: null, head: [], component: "", styles: "", _undo: true, _undoexc: ["changesCount"] };
          }, Object.defineProperty(e3.prototype, "head", { get: function() {
            return this.get("head");
          }, enumerable: false, configurable: true }), e3.prototype.onRemove = function() {
            this.getComponent().remove({ root: 1 });
          }, e3.prototype.changesUp = function(t4) {
            void 0 === t4 && (t4 = {}), t4.temporary || t4.noCount || t4.avoidStore || this.set("changesCount", this.get("changesCount") + 1);
          }, e3.prototype.getComponent = function() {
            return this.get("component");
          }, e3.prototype.getStyles = function() {
            return this.get("styles");
          }, e3.prototype.disable = function() {
            this.trigger("disable");
          }, e3.prototype.remove = function() {
            this.view = void 0;
            var t4 = this.collection;
            return t4 && t4.remove(this);
          }, e3.prototype.getHead = function() {
            return c([], this.head, true);
          }, e3.prototype.setHead = function(t4) {
            return this.set("head", c([], t4, true));
          }, e3.prototype.addHeadItem = function(t4) {
            this.head.push(t4);
          }, e3.prototype.getHeadByAttr = function(t4, e4, n3) {
            return this.head.filter(function(r3) {
              return r3.attributes && r3.attributes[t4] == e4 && (!n3 || n3 === r3.tag);
            })[0];
          }, e3.prototype.removeHeadByAttr = function(t4, e4, n3) {
            var r3 = this.getHeadByAttr(t4, e4, n3), i2 = this.head.indexOf(r3);
            i2 >= 0 && this.head.splice(i2, 1);
          }, e3.prototype.addLink = function(t4) {
            var e4 = "link";
            !this.getHeadByAttr("href", t4, e4) && this.addHeadItem({ tag: e4, attributes: { href: t4, rel: "stylesheet" } });
          }, e3.prototype.removeLink = function(t4) {
            this.removeHeadByAttr("href", t4, "link");
          }, e3.prototype.addScript = function(t4) {
            var e4 = "script";
            !this.getHeadByAttr("src", t4, e4) && this.addHeadItem({ tag: e4, attributes: { src: t4 } });
          }, e3.prototype.removeScript = function(t4) {
            this.removeHeadByAttr("src", t4, "script");
          }, e3.prototype.getPage = function() {
            var t4;
            return null === (t4 = this.collection) || void 0 === t4 ? void 0 : t4.page;
          }, e3.prototype._emitUpdated = function(t4) {
            void 0 === t4 && (t4 = {}), this.em.trigger("frame:updated", l({ frame: this }, t4));
          }, e3.prototype.toJSON = function(t4) {
            void 0 === t4 && (t4 = {});
            var e4 = o.Z.prototype.toJSON.call(this, t4), n3 = (0, i.result)(this, "defaults");
            return t4.fromUndo && delete e4.component, delete e4.styles, delete e4.changesCount, e4[u] && delete e4.width, e4[f] && delete e4.height, (0, i.forEach)(e4, function(t5, n4) {
              0 === n4.indexOf("_") && delete e4[n4];
            }), (0, i.forEach)(n3, function(t5, n4) {
              e4[n4] === t5 && delete e4[n4];
            }), (0, i.forEach)(["attributes", "head"], function(t5) {
              (0, i.isEmpty)(e4[t5]) && delete e4[t5];
            }), e4;
          }, e3;
        }(o.Z);
      }, 3560: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => s });
        var r2, i = n2(9050), o = n2(2316), a = (r2 = function(t3, e3) {
          return r2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, r2(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          r2(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        });
        const s = function(t3) {
          function e3(e4, n3) {
            void 0 === n3 && (n3 = []);
            var r3 = t3.call(this, n3) || this;
            return r3.loadedItems = 0, r3.itemsToLoad = 0, r3.module = e4, (0, i.bindAll)(r3, "itemLoaded"), r3.on("reset", r3.onReset), r3.on("remove", r3.onRemove), r3;
          }
          return a(e3, t3), e3.prototype.onReset = function(t4, e4) {
            var n3 = this;
            ((null == e4 ? void 0 : e4.previousModels) || []).map(function(t5) {
              return n3.onRemove(t5);
            });
          }, e3.prototype.onRemove = function(t4) {
            null == t4 || t4.onRemove();
          }, e3.prototype.itemLoaded = function() {
            this.loadedItems++, this.loadedItems >= this.itemsToLoad && (this.trigger("loaded:all"), this.listenToLoadItems(false));
          }, e3.prototype.listenToLoad = function() {
            this.loadedItems = 0, this.itemsToLoad = this.length, this.listenToLoadItems(true);
          }, e3.prototype.listenToLoadItems = function(t4) {
            var e4 = this;
            this.forEach(function(n3) {
              return n3[t4 ? "on" : "off"]("loaded", e4.itemLoaded);
            });
          }, e3;
        }(o.Collection);
      }, 5819: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => Pe });
        var r2 = n2(9050);
        const i = { stylePrefix: "comp-", components: [], draggableComponents: 1, processor: 0, voidElements: ["area", "base", "br", "col", "embed", "hr", "img", "input", "keygen", "link", "menuitem", "meta", "param", "source", "track", "wbr"] };
        var o = n2(7375), a = n2(8431), s = n2(2169), l = n2(5671), c = n2(3144), u = n2(9340), f = n2(2963), h = n2(1120);
        function d(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, h.Z)(t3);
            if (e3) {
              var i2 = (0, h.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, f.Z)(this, n3);
          };
        }
        var p = function(t3) {
          (0, u.Z)(n3, t3);
          var e3 = d(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, c.Z)(n3, [{ key: "tagName", value: function() {
            return "div";
          } }]), n3;
        }(s.Z), g = n2(3505), v = n2(4942), m = n2(1163);
        function y(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function b(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? y(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : y(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        const w = o.ZP.extend({ defaults: b(b({}, o.ZP.prototype.defaults), {}, { type: "cell", tagName: "td", draggable: ["tr"] }) }, { isComponent: function(t3) {
          return ["td", "th"].indexOf((0, m.toLowerCase)(t3.tagName)) >= 0;
        } }), k = s.Z.extend({});
        function x(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function O(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? x(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : x(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var C = "tr";
        const S = o.ZP.extend({ defaults: O(O({}, o.ZP.prototype.defaults), {}, { tagName: C, draggable: ["thead", "tbody", "tfoot"], droppable: ["th", "td"] }) }, { isComponent: function(t3) {
          return (0, m.toLowerCase)(t3.tagName) === C;
        } }), _ = s.Z.extend({});
        function P(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function T(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? P(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : P(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var E = "table";
        const j = o.ZP.extend({ defaults: T(T({}, o.ZP.prototype.defaults), {}, { type: E, tagName: E, droppable: ["tbody", "thead", "tfoot"] }), initialize: function(t3, e3) {
          o.ZP.prototype.initialize.apply(this, arguments);
          var n3 = this.get("components");
          !n3.length && n3.add({ type: "tbody" });
        } }, { isComponent: function(t3) {
          return (0, m.toLowerCase)(t3.tagName) === E;
        } }), A = s.Z.extend({ events: {} });
        function D(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function M(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? D(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : D(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var R = "tbody";
        const Z = o.ZP.extend({ defaults: M(M({}, o.ZP.prototype.defaults), {}, { type: R, tagName: R, draggable: ["table"], droppable: ["tr"], columns: 1, rows: 1 }), initialize: function(t3, e3) {
          o.ZP.prototype.initialize.apply(this, arguments);
          var n3 = this.get("components"), r3 = this.get("columns"), i2 = this.get("rows");
          if (!n3.length) {
            for (var a2 = []; i2--; ) {
              for (var s2 = [], l2 = r3; l2--; ) s2.push({ type: "cell", classes: ["cell"] });
              a2.push({ type: "row", classes: ["row"], components: s2 });
            }
            n3.add(a2);
          }
        } }, { isComponent: function(t3) {
          return (0, m.toLowerCase)(t3.tagName) === R;
        } });
        function L(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function N(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? L(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : L(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var I = "thead";
        const F = Z.extend({ defaults: N(N({}, Z.prototype.defaults), {}, { type: I, tagName: I }) }, { isComponent: function(t3) {
          return (0, m.toLowerCase)(t3.tagName) === I;
        } }), V = s.Z.extend({});
        function B(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, h.Z)(t3);
            if (e3) {
              var i2 = (0, h.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, f.Z)(this, n3);
          };
        }
        var H = function(t3) {
          (0, u.Z)(n3, t3);
          var e3 = B(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, c.Z)(n3);
        }(s.Z);
        function z(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function U(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? z(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : z(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var W = "tfoot";
        const $ = Z.extend({ defaults: U(U({}, Z.prototype.defaults), {}, { type: W, tagName: W }) }, { isComponent: function(t3) {
          return (0, m.toLowerCase)(t3.tagName) === W;
        } }), q = s.Z.extend({});
        function G(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function K(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? G(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : G(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var Y = 'xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"';
        const X = o.ZP.extend({ defaults: K(K({}, o.ZP.prototype.defaults), {}, { type: "image", tagName: "img", void: true, droppable: 0, editable: 1, highlightable: 0, resizable: { ratioDefault: 1 }, traits: ["alt"], src: "<svg ".concat(Y, '>\n        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>\n      </svg>'), fallback: "<svg ".concat(Y, '>\n        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>\n      </svg>'), file: "" }), initialize: function(t3, e3) {
          o.ZP.prototype.initialize.apply(this, arguments);
          var n3 = this.get("attributes"), i2 = n3.src;
          i2 && (0, m.buildBase64UrlFromSvg)((0, r2.result)(this, "defaults").src) !== i2 && this.set("src", i2, { silent: 1 });
        }, initToolbar: function() {
          for (var t3 = arguments.length, e3 = new Array(t3), n3 = 0; n3 < t3; n3++) e3[n3] = arguments[n3];
          o.ZP.prototype.initToolbar.apply(this, e3);
          var r3 = this.em;
          if (r3) {
            var i2 = r3.get("Commands"), a2 = "image-editor";
            if (i2.has(a2)) {
              for (var s2 = false, l2 = this.get("toolbar"), c2 = 0; c2 < l2.length; c2++) if ("image-editor" === l2[c2].command) {
                s2 = true;
                break;
              }
              s2 || (l2.push({ attributes: { class: "fa fa-pencil" }, command: a2 }), this.set("toolbar", l2));
            }
          }
        }, getAttrToHTML: function() {
          for (var t3 = arguments.length, e3 = new Array(t3), n3 = 0; n3 < t3; n3++) e3[n3] = arguments[n3];
          var r3 = o.ZP.prototype.getAttrToHTML.apply(this, e3), i2 = this.getSrcResult();
          return i2 && (r3.src = i2), r3;
        }, getSrcResult: function() {
          var t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e3 = this.get(t3.fallback ? "fallback" : "src") || "", n3 = e3;
          return e3 && "<svg" === e3.substr(0, 4) && (n3 = (0, m.buildBase64UrlFromSvg)(e3)), n3;
        }, isDefaultSrc: function() {
          var t3 = this.get("src"), e3 = (0, r2.result)(this, "defaults").src;
          return t3 === e3 || t3 === (0, m.buildBase64UrlFromSvg)(e3);
        }, toJSON: function() {
          for (var t3 = arguments.length, e3 = new Array(t3), n3 = 0; n3 < t3; n3++) e3[n3] = arguments[n3];
          var r3 = o.ZP.prototype.toJSON.apply(this, e3);
          return r3.attributes && r3.src === r3.attributes.src && delete r3.src, r3;
        }, parseUri: function(t3) {
          var e3 = document.createElement("a");
          e3.href = t3;
          for (var n3 = {}, r3 = e3.search.substring(1).split("&"), i2 = 0; i2 < r3.length; i2++) {
            var o2 = r3[i2].split("="), a2 = decodeURIComponent(o2[0]);
            a2 && (n3[a2] = decodeURIComponent(o2[1]));
          }
          return { hostname: e3.hostname, pathname: e3.pathname, protocol: e3.protocol, search: e3.search, hash: e3.hash, port: e3.port, query: n3 };
        } }, { isComponent: function(t3) {
          return "img" === (0, m.toLowerCase)(t3.tagName);
        } });
        function J(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function Q(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? J(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : J(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        const tt = X.extend({ defaults: Q(Q({}, X.prototype.defaults), {}, { type: "map", src: "", void: 0, mapUrl: "https://maps.google.com/maps", tagName: "iframe", mapType: "q", address: "", zoom: "1", attributes: { frameborder: 0 }, toolbar: o.ZP.prototype.defaults.toolbar, traits: [{ label: "Address", name: "address", placeholder: "eg. London, UK", changeProp: 1 }, { type: "select", label: "Map type", name: "mapType", changeProp: 1, options: [{ value: "q", name: "Roadmap" }, { value: "w", name: "Satellite" }] }, { label: "Zoom", name: "zoom", type: "range", min: "1", max: "20", changeProp: 1 }] }), initialize: function(t3, e3) {
          this.get("src") ? this.parseFromSrc() : this.updateSrc(), X.prototype.initialize.apply(this, arguments), this.listenTo(this, "change:address change:zoom change:mapType", this.updateSrc);
        }, updateSrc: function() {
          this.set("src", this.getMapUrl());
        }, getMapUrl: function() {
          var t3 = this, e3 = t3.get("address"), n3 = t3.get("zoom"), r3 = t3.get("mapType");
          e3 = e3 ? "&q=" + e3 : "", n3 = n3 ? "&z=" + n3 : "", r3 = r3 ? "&t=" + r3 : "";
          var i2 = t3.get("mapUrl") + "?" + e3 + n3 + r3;
          return i2 += "&output=embed";
        }, parseFromSrc: function() {
          var t3 = this.parseUri(this.get("src")).query;
          t3.q && this.set("address", t3.q), t3.z && this.set("zoom", t3.z), t3.t && this.set("mapType", t3.t);
        } }, { isComponent: function(t3) {
          var e3 = "";
          return "iframe" == (0, m.toLowerCase)(t3.tagName) && /maps\.google\.com/.test(t3.src) && (e3 = { type: "map", src: t3.src }), e3;
        } });
        function et(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, h.Z)(t3);
            if (e3) {
              var i2 = (0, h.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, f.Z)(this, n3);
          };
        }
        var nt = function(t3) {
          (0, u.Z)(n3, t3);
          var e3 = et(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, c.Z)(n3, [{ key: "tagName", value: function() {
            return "img";
          } }, { key: "events", value: function() {
            return { dblclick: "onActive", click: "initResize", error: "onError", load: "onLoad", dragstart: "noDrag" };
          } }, { key: "initialize", value: function(t4) {
            s.Z.prototype.initialize.apply(this, arguments), this.listenTo(this.model, "change:src", this.updateSrc), this.classEmpty = "".concat(this.ppfx, "plh-image"), this.fetchFile();
          } }, { key: "fetchFile", value: function() {
            if (!this.modelOpt.temporary) {
              var t4 = this.model, e4 = this.em, n4 = t4.get("file");
              if (n4 && e4) {
                var i2 = e4.get("AssetManager").FileUploader();
                null == i2 || i2.uploadFile({ dataTransfer: { files: [n4] } }, function(e5) {
                  var n5 = e5 && e5.data && e5.data[0], i3 = n5 && ((0, r2.isString)(n5) ? n5 : n5.src);
                  i3 && t4.set({ src: i3 });
                }), t4.set("file", "");
              }
            }
          } }, { key: "updateSrc", value: function() {
            var t4 = this.model, e4 = this.classEmpty, n4 = this.$el, r3 = t4.getSrcResult(), i2 = r3 && !t4.isDefaultSrc();
            t4.addAttributes({ src: r3 }), n4[i2 ? "removeClass" : "addClass"](e4);
          } }, { key: "onActive", value: function(t4) {
            t4 && t4.stopPropagation();
            var e4 = this.em, n4 = this.model, r3 = e4 && e4.get("AssetManager");
            r3 && n4.get("editable") && r3.open({ select: function(t5, e5) {
              n4.set({ src: t5.getSrc() }), e5 && r3.close();
            }, target: n4, types: ["image"], accept: "image/*" });
          } }, { key: "onError", value: function() {
            var t4 = this.model.getSrcResult({ fallback: 1 });
            t4 && (this.el.src = t4);
          } }, { key: "onLoad", value: function() {
            this.em.trigger("change:canvasOffset");
          } }, { key: "noDrag", value: function(t4) {
            return t4.preventDefault(), false;
          } }, { key: "render", value: function() {
            if (this.renderAttributes(), this.modelOpt.temporary) return this;
            this.updateSrc();
            var t4 = this.$el, e4 = this.model, n4 = t4.attr("class") || "";
            return !e4.get("src") && t4.attr("class", "".concat(n4, " ").concat(this.classEmpty).trim()), this.postRender(), this;
          } }]), n3;
        }(s.Z);
        function rt(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, h.Z)(t3);
            if (e3) {
              var i2 = (0, h.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, f.Z)(this, n3);
          };
        }
        var it = function(t3) {
          (0, u.Z)(n3, t3);
          var e3 = rt(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, c.Z)(n3, [{ key: "tagName", value: function() {
            return "div";
          } }, { key: "events", value: function() {
            return {};
          } }, { key: "initialize", value: function(t4) {
            nt.prototype.initialize.apply(this, arguments), this.classEmpty = this.ppfx + "plh-map";
          } }, { key: "updateSrc", value: function() {
            this.getIframe().src = this.model.get("src");
          } }, { key: "getIframe", value: function() {
            if (!this.iframe) {
              var t4 = document.createElement("iframe");
              t4.src = this.model.get("src"), t4.frameBorder = 0, t4.style.height = "100%", t4.style.width = "100%", t4.className = this.ppfx + "no-pointer", this.iframe = t4;
            }
            return this.iframe;
          } }, { key: "render", value: function() {
            for (var t4 = arguments.length, e4 = new Array(t4), n4 = 0; n4 < t4; n4++) e4[n4] = arguments[n4];
            return nt.prototype.render.apply(this, e4), this.updateClasses(), this.el.appendChild(this.getIframe()), this;
          } }]), n3;
        }(nt);
        function ot(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function at(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? ot(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : ot(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function st(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, h.Z)(t3);
            if (e3) {
              var i2 = (0, h.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, f.Z)(this, n3);
          };
        }
        var lt = function(t3) {
          (0, u.Z)(n3, t3);
          var e3 = st(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, c.Z)(n3);
        }(o.ZP);
        function ct(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function ut(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? ct(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : ct(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function ft(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, h.Z)(t3);
            if (e3) {
              var i2 = (0, h.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, f.Z)(this, n3);
          };
        }
        lt.prototype.defaults = at(at({}, o.ZP.getDefaults()), {}, { type: "text", droppable: false, editable: true });
        var ht = "link", dt = function(t3) {
          (0, u.Z)(n3, t3);
          var e3 = ft(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, c.Z)(n3);
        }(lt);
        dt.prototype.defaults = ut(ut({}, lt.getDefaults()), {}, { type: ht, tagName: "a", traits: ["title", "href", "target"] }), dt.isComponent = function(t3) {
          var e3, n3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          if ("a" === (0, m.toLowerCase)(t3.tagName)) {
            var i2 = n3.textTags || [];
            e3 = { type: ht, editable: false };
            var o2 = t3.childNodes, a2 = o2.length;
            a2 || delete e3.editable, (0, r2.forEach)(o2, function(t4) {
              var n4 = t4.tagName;
              (3 == t4.nodeType && "" !== t4.textContent.trim() || n4 && i2.indexOf((0, m.toLowerCase)(n4)) >= 0) && delete e3.editable;
            });
          }
          return e3;
        };
        var pt = n2(5861), gt = n2(7757), vt = n2.n(gt);
        function mt(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function yt(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? mt(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : mt(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function bt(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, h.Z)(t3);
            if (e3) {
              var i2 = (0, h.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, f.Z)(this, n3);
          };
        }
        var wt = s.Z.prototype, kt = function(t3) {
          (0, u.Z)(o2, t3);
          var e3, n3, i2 = bt(o2);
          function o2() {
            return (0, l.Z)(this, o2), i2.apply(this, arguments);
          }
          return (0, c.Z)(o2, [{ key: "events", value: function() {
            return { dblclick: "onActive", input: "onInput" };
          } }, { key: "initialize", value: function(t4) {
            wt.initialize.apply(this, arguments), (0, r2.bindAll)(this, "disableEditing", "onDisable");
            var e4 = this.model, n4 = this.em;
            this.listenTo(e4, "focus", this.onActive), this.listenTo(e4, "change:content", this.updateContentText), this.listenTo(e4, "sync:content", this.syncContent), this.rte = n4 && n4.get("RichTextEditor");
          } }, { key: "updateContentText", value: function(t4, e4) {
            var n4 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
            !n4.fromDisable && this.disableEditing();
          } }, { key: "canActivate", value: function() {
            var t4, e4 = this.model, n4 = this.rteEnabled, r3 = this.em, i3 = (null == r3 ? void 0 : r3.getEditing()) === e4, o3 = true, a2 = false;
            if ((n4 || !e4.get("editable") || i3 || (a2 = e4.isChildOf("text"))) && (o3 = false, a2 && !e4.get("textable"))) {
              for (var s2 = e4.parent(); s2 && !s2.isInstanceOf("text"); ) s2 = s2.parent();
              s2 && s2.get("editable") ? t4 = s2 : o3 = true;
            }
            return { result: o3, delegate: t4 };
          } }, { key: "onActive", value: (n3 = (0, pt.Z)(vt().mark(function t4(e4) {
            var n4, r3, i3, o3, a2, s2, l2;
            return vt().wrap(function(t5) {
              for (; 1; ) switch (t5.prev = t5.next) {
                case 0:
                  if (r3 = this.rte, i3 = this.em, o3 = this.canActivate(), a2 = o3.result, s2 = o3.delegate, a2) {
                    t5.next = 5;
                    break;
                  }
                  return s2 && (null == e4 || null === (l2 = e4.stopPropagation) || void 0 === l2 || l2.call(e4), i3.setSelected(s2), s2.trigger("active", e4)), t5.abrupt("return");
                case 5:
                  if (null == e4 || null === (n4 = e4.stopPropagation) || void 0 === n4 || n4.call(e4), this.lastContent = this.getContent(), !r3) {
                    t5.next = 17;
                    break;
                  }
                  return t5.prev = 8, t5.next = 11, r3.enable(this, this.activeRte, { event: e4 });
                case 11:
                  this.activeRte = t5.sent, t5.next = 17;
                  break;
                case 14:
                  t5.prev = 14, t5.t0 = t5["catch"](8), i3.logError(t5.t0);
                case 17:
                  this.toggleEvents(1);
                case 18:
                case "end":
                  return t5.stop();
              }
            }, t4, this, [[8, 14]]);
          })), function(t4) {
            return n3.apply(this, arguments);
          }) }, { key: "onDisable", value: function() {
            this.disableEditing();
          } }, { key: "disableEditing", value: (e3 = (0, pt.Z)(vt().mark(function t4() {
            var e4, n4, r3, i3, o3, a2, s2 = arguments;
            return vt().wrap(function(t5) {
              for (; 1; ) switch (t5.prev = t5.next) {
                case 0:
                  if (e4 = s2.length > 0 && void 0 !== s2[0] ? s2[0] : {}, n4 = this.model, r3 = this.rte, i3 = this.activeRte, o3 = this.em, a2 = n4 && n4.get("editable"), !r3) {
                    t5.next = 13;
                    break;
                  }
                  return t5.prev = 4, t5.next = 7, r3.disable(this, i3);
                case 7:
                  t5.next = 12;
                  break;
                case 9:
                  t5.prev = 9, t5.t0 = t5["catch"](4), o3.logError(t5.t0);
                case 12:
                  a2 && this.getContent() !== this.lastContent && (this.syncContent(e4), this.lastContent = "");
                case 13:
                  this.toggleEvents();
                case 14:
                case "end":
                  return t5.stop();
              }
            }, t4, this, [[4, 9]]);
          })), function() {
            return e3.apply(this, arguments);
          }) }, { key: "getContent", value: function() {
            var t4 = this.activeRte;
            return t4 && "function" == typeof t4.getContent ? t4.getContent() : this.getChildrenContainer().innerHTML;
          } }, { key: "syncContent", value: function() {
            var t4 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, e4 = this.model, n4 = this.rte, r3 = this.rteEnabled;
            if (r3 || t4.force) {
              var i3 = this.getContent(), o3 = e4.components(), a2 = yt({ fromDisable: 1 }, t4);
              e4.set("content", "", a2), n4.customRte ? (o3.length && o3.reset(null, t4), e4.set("content", i3, a2)) : o3.resetFromString(i3, t4);
            }
          } }, { key: "insertComponent", value: function(t4) {
            var e4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n4 = this.model, r3 = this.el, i3 = r3.ownerDocument, o3 = i3.getSelection();
            if (null != o3 && o3.rangeCount) {
              var a2, s2 = o3.getRangeAt(0), l2 = s2.startContainer, c2 = s2.startOffset, u2 = (0, m.getModel)(l2), f2 = [];
              if (u2 && null !== (a2 = u2.is) && void 0 !== a2 && a2.call(u2, "textnode")) {
                var h2 = u2.collection;
                h2.forEach(function(e5) {
                  if (e5 === u2) {
                    var n5 = "textnode", r4 = e5.get("content");
                    f2.push({ type: n5, content: r4.slice(0, c2) }), f2.push(t4), f2.push({ type: n5, content: r4.slice(c2) });
                  } else f2.push(e5);
                });
                var d2 = f2.filter(Boolean), p2 = d2.indexOf(t4);
                return h2.reset(d2, e4), h2.at(p2);
              }
            }
            return n4.append(t4, e4);
          } }, { key: "onInput", value: function() {
            var t4 = this.em, e4 = "component", n4 = ["".concat(e4, ":update"), "".concat(e4, ":input")].join(" ");
            t4 && t4.trigger(n4, this.model);
          } }, { key: "disablePropagation", value: function(t4) {
            t4.stopPropagation();
          } }, { key: "toggleEvents", value: function(t4) {
            var e4 = this.em, n4 = this.model, r3 = this.$el, i3 = { on: m.on, off: m.off }, o3 = t4 ? "on" : "off";
            e4.setEditing(t4 ? this : 0), this.rteEnabled = !!t4;
            var a2 = [this.el.ownerDocument, document];
            if (i3.off(a2, "mousedown", this.onDisable), i3[o3](a2, "mousedown", this.onDisable), e4[o3]("toolbar:run:before", this.onDisable), n4 && (n4[o3]("removed", this.onDisable), n4.trigger("rte:".concat(t4 ? "enable" : "disable"))), r3 && r3.off("mousedown", this.disablePropagation), r3 && r3[o3]("mousedown", this.disablePropagation), this.config.draggableComponents) for (var s2 = this.el; s2; ) s2.draggable = !t4, (s2 = s2.parentNode) && "BODY" == s2.tagName && (s2 = 0);
          } }]), o2;
        }(s.Z);
        function xt(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, h.Z)(t3);
            if (e3) {
              var i2 = (0, h.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, f.Z)(this, n3);
          };
        }
        var Ot = function(t3) {
          (0, u.Z)(n3, t3);
          var e3 = xt(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, c.Z)(n3, [{ key: "render", value: function() {
            for (var t4 = arguments.length, e4 = new Array(t4), n4 = 0; n4 < t4; n4++) e4[n4] = arguments[n4];
            return kt.prototype.render.apply(this, e4), this.el.addEventListener("click", this.prevDef, true), this;
          } }]), n3;
        }(kt);
        function Ct(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function St(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? Ct(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : Ct(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var _t = "label";
        const Pt = lt.extend({ defaults: St(St({}, lt.prototype.defaults), {}, { type: _t, tagName: _t, traits: ["id", "title", "for"] }) }, { isComponent: function(t3) {
          return (0, m.toLowerCase)(t3.tagName) === _t;
        } });
        function Tt(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, h.Z)(t3);
            if (e3) {
              var i2 = (0, h.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, f.Z)(this, n3);
          };
        }
        var Et = function(t3) {
          (0, u.Z)(n3, t3);
          var e3 = Tt(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, c.Z)(n3, [{ key: "tagName", value: function() {
            return "span";
          } }]), n3;
        }(Ot);
        function jt(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function At(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? jt(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : jt(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var Dt = "video", Mt = "yt", Rt = "vi", Zt = "ytnc", Lt = function(t3) {
          return t3 && "0" !== t3;
        };
        const Nt = X.extend({ defaults: At(At({}, X.prototype.defaults), {}, { type: Dt, tagName: Dt, videoId: "", void: 0, provider: "so", ytUrl: "https://www.youtube.com/embed/", ytncUrl: "https://www.youtube-nocookie.com/embed/", viUrl: "https://player.vimeo.com/video/", loop: 0, poster: "", muted: 0, autoplay: 0, controls: 1, color: "", list: "", rel: 1, modestbranding: 0, sources: [], attributes: { allowfullscreen: "allowfullscreen" } }), initialize: function(t3, e3) {
          this.em = e3.em, this.get("src") && this.parseFromSrc(), this.updateTraits(), this.listenTo(this, "change:provider", this.updateTraits), this.listenTo(this, "change:videoId change:provider", this.updateSrc), X.prototype.initialize.apply(this, arguments);
        }, updateTraits: function() {
          var t3, e3 = "iframe";
          switch (this.get("provider")) {
            case Mt:
            case Zt:
              t3 = this.getYoutubeTraits();
              break;
            case Rt:
              t3 = this.getVimeoTraits();
              break;
            default:
              e3 = "video", t3 = this.getSourceTraits();
          }
          this.set({ tagName: e3 }, { silent: 1 }), this.set({ traits: t3 }), this.em.trigger("component:toggled");
        }, parseFromSrc: function() {
          var t3 = this.get("provider"), e3 = this.parseUri(this.get("src")), n3 = e3.query;
          switch (t3) {
            case Mt:
            case Zt:
            case Rt:
              this.set("videoId", e3.pathname.split("/").pop()), n3.list && this.set("list", n3.list), Lt(n3.autoplay) && this.set("autoplay", 1), Lt(n3.loop) && this.set("loop", 1), 0 === parseInt(n3.controls) && this.set("controls", 0), Lt(n3.color) && this.set("color", n3.color), "0" === n3.rel && this.set("rel", 0), "1" === n3.modestbranding && this.set("modestbranding", 1);
          }
        }, updateSrc: function() {
          var t3 = "";
          switch (this.get("provider")) {
            case Mt:
              t3 = this.getYoutubeSrc();
              break;
            case Zt:
              t3 = this.getYoutubeNoCookieSrc();
              break;
            case Rt:
              t3 = this.getVimeoSrc();
          }
          this.set({ src: t3 });
        }, getAttrToHTML: function() {
          for (var t3 = arguments.length, e3 = new Array(t3), n3 = 0; n3 < t3; n3++) e3[n3] = arguments[n3];
          var r3 = X.prototype.getAttrToHTML.apply(this, e3), i2 = this.get("provider");
          switch (i2) {
            case Mt:
            case Zt:
            case Rt:
              break;
            default:
              this.get("loop") && (r3.loop = "loop"), this.get("autoplay") && (r3.autoplay = "autoplay"), this.get("controls") && (r3.controls = "controls");
          }
          return r3;
        }, getProviderTrait: function() {
          return { type: "select", label: "Provider", name: "provider", changeProp: 1, options: [{ value: "so", name: "HTML5 Source" }, { value: Mt, name: "Youtube" }, { value: Zt, name: "Youtube (no cookie)" }, { value: Rt, name: "Vimeo" }] };
        }, getSourceTraits: function() {
          return [this.getProviderTrait(), { label: "Source", name: "src", placeholder: "eg. ./media/video.mp4", changeProp: 1 }, { label: "Poster", name: "poster", placeholder: "eg. ./media/image.jpg" }, this.getAutoplayTrait(), this.getLoopTrait(), this.getControlsTrait()];
        }, getYoutubeTraits: function() {
          return [this.getProviderTrait(), { label: "Video ID", name: "videoId", placeholder: "eg. jNQXAC9IVRw", changeProp: 1 }, this.getAutoplayTrait(), this.getLoopTrait(), this.getControlsTrait(), { type: "checkbox", label: "Related", name: "rel", changeProp: 1 }, { type: "checkbox", label: "Modest", name: "modestbranding", changeProp: 1 }];
        }, getVimeoTraits: function() {
          return [this.getProviderTrait(), { label: "Video ID", name: "videoId", placeholder: "eg. 123456789", changeProp: 1 }, { label: "Color", name: "color", placeholder: "eg. FF0000", changeProp: 1 }, this.getAutoplayTrait(), this.getLoopTrait()];
        }, getAutoplayTrait: function() {
          return { type: "checkbox", label: "Autoplay", name: "autoplay", changeProp: 1 };
        }, getLoopTrait: function() {
          return { type: "checkbox", label: "Loop", name: "loop", changeProp: 1 };
        }, getControlsTrait: function() {
          return { type: "checkbox", label: "Controls", name: "controls", changeProp: 1 };
        }, getYoutubeSrc: function() {
          var t3 = this.get("videoId"), e3 = this.get("ytUrl"), n3 = this.get("list");
          return e3 += t3 + (t3.indexOf("?") < 0 ? "?" : ""), e3 += n3 ? "&list=".concat(n3) : "", e3 += this.get("autoplay") ? "&autoplay=1" : "", e3 += this.get("controls") ? "" : "&controls=0&showinfo=0", e3 += this.get("loop") ? "&loop=1&playlist=".concat(t3) : "", e3 += this.get("rel") ? "" : "&rel=0", e3 += this.get("modestbranding") ? "&modestbranding=1" : "";
        }, getYoutubeNoCookieSrc: function() {
          var t3 = this.getYoutubeSrc();
          return t3 = t3.replace(this.get("ytUrl"), this.get("ytncUrl"));
        }, getVimeoSrc: function() {
          var t3 = this.get("viUrl");
          return t3 += this.get("videoId") + "?", t3 += this.get("autoplay") ? "&autoplay=1" : "", t3 += this.get("loop") ? "&loop=1" : "", t3 += this.get("controls") ? "" : "&title=0&portrait=0&badge=0", t3 += this.get("color") ? "&color=" + this.get("color") : "";
        } }, { isComponent: function(t3) {
          var e3 = "", n3 = t3.tagName, r3 = t3.src, i2 = /youtube\.com\/embed/.test(r3), o2 = /youtube-nocookie\.com\/embed/.test(r3), a2 = /player\.vimeo\.com\/video/.test(r3), s2 = i2 || o2 || a2;
          return ((0, m.toLowerCase)(n3) == Dt || "iframe" == (0, m.toLowerCase)(n3) && s2) && (e3 = { type: "video" }, r3 && (e3.src = r3), s2 && (i2 ? e3.provider = Mt : o2 ? e3.provider = Zt : a2 && (e3.provider = Rt))), e3;
        } });
        function It(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, h.Z)(t3);
            if (e3) {
              var i2 = (0, h.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, f.Z)(this, n3);
          };
        }
        var Ft = function(t3) {
          (0, u.Z)(n3, t3);
          var e3 = It(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, c.Z)(n3, [{ key: "tagName", value: function() {
            return "div";
          } }, { key: "events", value: function() {
            return {};
          } }, { key: "initialize", value: function(t4) {
            s.Z.prototype.initialize.apply(this, arguments);
            var e4 = this.model, n4 = ["loop", "autoplay", "controls", "color", "rel", "modestbranding", "poster"], r3 = n4.map(function(t5) {
              return "change:".concat(t5);
            }).join(" ");
            this.listenTo(e4, "change:provider", this.updateProvider), this.listenTo(e4, "change:src", this.updateSrc), this.listenTo(e4, r3, this.updateVideo);
          } }, { key: "updateProvider", value: function() {
            var t4 = this.model.get("provider");
            this.el.innerHTML = "", this.el.appendChild(this.renderByProvider(t4));
          } }, { key: "updateSrc", value: function() {
            var t4 = this.model, e4 = this.videoEl;
            if (e4) {
              var n4 = t4.get("provider"), r3 = t4.get("src");
              switch (n4) {
                case "yt":
                  r3 = t4.getYoutubeSrc();
                  break;
                case "ytnc":
                  r3 = t4.getYoutubeNoCookieSrc();
                  break;
                case "vi":
                  r3 = t4.getVimeoSrc();
              }
              e4.src = r3;
            }
          } }, { key: "updateVideo", value: function() {
            var t4 = this.model.get("provider"), e4 = this.videoEl, n4 = this.model;
            switch (t4) {
              case "yt":
              case "ytnc":
              case "vi":
                this.model.trigger("change:videoId");
                break;
              default:
                e4.loop = n4.get("loop"), e4.autoplay = n4.get("autoplay"), e4.controls = n4.get("controls"), e4.poster = n4.get("poster");
            }
          } }, { key: "renderByProvider", value: function(t4) {
            var e4;
            switch (t4) {
              case "yt":
                e4 = this.renderYoutube();
                break;
              case "ytnc":
                e4 = this.renderYoutubeNoCookie();
                break;
              case "vi":
                e4 = this.renderVimeo();
                break;
              default:
                e4 = this.renderSource();
            }
            return this.videoEl = e4, e4;
          } }, { key: "renderSource", value: function() {
            var t4 = document.createElement("video");
            return t4.src = this.model.get("src"), this.initVideoEl(t4), t4;
          } }, { key: "renderYoutube", value: function() {
            var t4 = document.createElement("iframe");
            return t4.src = this.model.getYoutubeSrc(), t4.frameBorder = 0, t4.setAttribute("allowfullscreen", true), this.initVideoEl(t4), t4;
          } }, { key: "renderYoutubeNoCookie", value: function() {
            var t4 = document.createElement("iframe");
            return t4.src = this.model.getYoutubeNoCookieSrc(), t4.frameBorder = 0, t4.setAttribute("allowfullscreen", true), this.initVideoEl(t4), t4;
          } }, { key: "renderVimeo", value: function() {
            var t4 = document.createElement("iframe");
            return t4.src = this.model.getVimeoSrc(), t4.frameBorder = 0, t4.setAttribute("allowfullscreen", true), this.initVideoEl(t4), t4;
          } }, { key: "initVideoEl", value: function(t4) {
            t4.className = this.ppfx + "no-pointer", t4.style.height = "100%", t4.style.width = "100%";
          } }, { key: "render", value: function() {
            for (var t4 = arguments.length, e4 = new Array(t4), n4 = 0; n4 < t4; n4++) e4[n4] = arguments[n4];
            nt.prototype.render.apply(this, e4), this.updateClasses();
            var r3 = this.model.get("provider");
            return this.el.appendChild(this.renderByProvider(r3)), this.updateVideo(), this;
          } }]), n3;
        }(nt);
        function Vt(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function Bt(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? Vt(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : Vt(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var Ht = "script";
        const zt = o.ZP.extend({ defaults: Bt(Bt({}, o.ZP.prototype.defaults), {}, { type: Ht, tagName: Ht, droppable: false, draggable: false, layerable: false }) }, { isComponent: function(t3) {
          if ((0, m.toLowerCase)(t3.tagName) == Ht) {
            var e3 = { type: Ht };
            return t3.src && (e3.src = t3.src, e3.onload = t3.onload), e3;
          }
        } });
        function Ut(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, h.Z)(t3);
            if (e3) {
              var i2 = (0, h.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, f.Z)(this, n3);
          };
        }
        var Wt = function(t3) {
          (0, u.Z)(n3, t3);
          var e3 = Ut(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, c.Z)(n3, [{ key: "tagName", value: function() {
            return "script";
          } }, { key: "events", value: function() {
            return {};
          } }, { key: "render", value: function() {
            var t4 = this.model, e4 = this.em, n4 = t4.get("src"), r3 = e4 && e4.get("scriptCount"), i2 = r3 || 0, o2 = "";
            if (n4) {
              var a2 = t4.get("onload"), s2 = "script".concat(i2), l2 = "script".concat(i2 + 1), c2 = "".concat(s2, "Start"), u2 = "".concat(l2, "Start");
              o2 = "\n        var ".concat(s2, " = document.createElement('script');\n        ").concat(s2, ".onload = function() {\n          ").concat(a2 ? "".concat(a2, "();\n") : "", "\n          typeof ").concat(u2, " == 'function' && ").concat(u2, "();\n        };\n        ").concat(s2, ".src = '").concat(n4, "';\n        function ").concat(c2, "() { document.body.appendChild(").concat(s2, "); };\n        ").concat(i2 ? "" : "".concat(c2, "();"), "\n      "), e4 && e4.set("scriptCount", i2 + 1);
            } else o2 = t4.__innerHTML();
            return this.el.innerHTML = o2, this.postRender(), this;
          } }]), n3;
        }(nt);
        function $t(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function qt(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? $t(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : $t(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        var Gt = "svg";
        const Kt = o.ZP.extend({ defaults: qt(qt({}, o.ZP.prototype.defaults), {}, { type: Gt, tagName: Gt, highlightable: 0, resizable: { ratioDefault: 1 } }), getName: function() {
          var t3 = this.get("tagName"), e3 = this.get("custom-name");
          return t3 = t3.charAt(0).toUpperCase() + t3.slice(1), e3 || t3;
        } }, { isComponent: function(t3) {
          return (0, m.toLowerCase)(t3.tagName) === Gt;
        } });
        function Yt(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function Xt(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? Yt(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : Yt(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        const Jt = Kt.extend({ defaults: Xt(Xt({}, Kt.prototype.defaults), {}, { selectable: false, hoverable: false, layerable: false }) }, { isComponent: function(t3) {
          var e3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
          return !!e3.inSvg;
        } });
        function Qt(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, h.Z)(t3);
            if (e3) {
              var i2 = (0, h.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, f.Z)(this, n3);
          };
        }
        var te = function(t3) {
          (0, u.Z)(n3, t3);
          var e3 = Qt(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, c.Z)(n3, [{ key: "_createElement", value: function(t4) {
            return document.createElementNS("http://www.w3.org/2000/svg", t4);
          } }]), n3;
        }(s.Z);
        function ee(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function ne(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? ee(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : ee(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        const re = o.ZP.extend({ defaults: ne(ne({}, o.ZP.prototype.defaults), {}, { tagName: "", droppable: false, layerable: false, selectable: false, editable: true }), toHTML: function() {
          var t3 = this.parent(), e3 = this.get("content");
          return t3 && t3.is("script") ? e3 : (0, m.escape)(e3);
        } }, { isComponent: function(t3) {
          var e3 = "";
          return 3 === t3.nodeType && (e3 = { type: "textnode", content: t3.textContent }), e3;
        } });
        function ie(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        const oe = re.extend({ defaults: function(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? ie(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : ie(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }({}, re.prototype.defaults), toHTML: function() {
          return "<!--".concat(this.get("content"), "-->");
        } }, { isComponent: function(t3) {
          if (8 == t3.nodeType) return { tagName: "NULL", type: "comment", content: t3.textContent };
        } });
        function ae(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, h.Z)(t3);
            if (e3) {
              var i2 = (0, h.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, f.Z)(this, n3);
          };
        }
        var se = function(t3) {
          (0, u.Z)(n3, t3);
          var e3 = ae(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, c.Z)(n3, [{ key: "initialize", value: function() {
            s.Z.prototype.initialize.apply(this, arguments);
          } }, { key: "_setAttributes", value: function() {
          } }, { key: "renderAttributes", value: function() {
          } }, { key: "updateStatus", value: function() {
          } }, { key: "updateClasses", value: function() {
          } }, { key: "setAttribute", value: function() {
          } }, { key: "updateAttributes", value: function() {
          } }, { key: "initClasses", value: function() {
          } }, { key: "initComponents", value: function() {
          } }, { key: "delegateEvents", value: function() {
          } }, { key: "_createElement", value: function() {
            return document.createTextNode("");
          } }, { key: "render", value: function() {
            var t4 = this.model, e4 = this.el;
            return t4.opt.temporary || (e4.textContent = t4.get("content")), this;
          } }]), n3;
        }(s.Z);
        function le(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, h.Z)(t3);
            if (e3) {
              var i2 = (0, h.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, f.Z)(this, n3);
          };
        }
        var ce = function(t3) {
          (0, u.Z)(n3, t3);
          var e3 = le(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, c.Z)(n3, [{ key: "_createElement", value: function() {
            return document.createComment(this.model.get("content"));
          } }]), n3;
        }(se);
        function ue(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function fe(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? ue(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : ue(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        function he(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, h.Z)(t3);
            if (e3) {
              var i2 = (0, h.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, f.Z)(this, n3);
          };
        }
        var de = function(t3) {
          (0, u.Z)(n3, t3);
          var e3 = he(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, c.Z)(n3, [{ key: "defaults", value: function() {
            return fe(fe({}, o.ZP.getDefaults()), {}, { tagName: "body", removable: false, copyable: false, draggable: false, components: [], traits: [], stylable: ["background", "background-color", "background-image", "background-repeat", "background-attachment", "background-position", "background-size"] });
          } }, { key: "__postAdd", value: function() {
            var t4 = this.em && this.em.get("UndoManager");
            return t4 && !this.__hasUm && t4.add(this), o.ZP.prototype.__postAdd.call(this, arguments);
          } }, { key: "__postRemove", value: function() {
            var t4 = this.em && this.em.get("UndoManager");
            return t4 && t4.remove(this), o.ZP.prototype.__postRemove.call(this, arguments);
          } }]), n3;
        }(o.ZP);
        function pe(t3, e3) {
          var n3 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r3 = Object.getOwnPropertySymbols(t3);
            e3 && (r3 = r3.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n3.push.apply(n3, r3);
          }
          return n3;
        }
        function ge(t3) {
          for (var e3 = 1; e3 < arguments.length; e3++) {
            var n3 = null != arguments[e3] ? arguments[e3] : {};
            e3 % 2 ? pe(Object(n3), true).forEach(function(e4) {
              (0, v.Z)(t3, e4, n3[e4]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t3, Object.getOwnPropertyDescriptors(n3)) : pe(Object(n3)).forEach(function(e4) {
              Object.defineProperty(t3, e4, Object.getOwnPropertyDescriptor(n3, e4));
            });
          }
          return t3;
        }
        de.isComponent = function() {
          return false;
        };
        var ve = "iframe";
        const me = o.ZP.extend({ defaults: function() {
          return ge(ge({}, o.ZP.prototype.defaults), {}, { type: ve, tagName: ve, droppable: false, resizable: true, traits: ["id", "title", "src"], attributes: { frameborder: "0" } });
        } }, { isComponent: function(t3) {
          return (0, m.toLowerCase)(t3.tagName) === ve;
        } });
        var ye = n2(9283);
        function be(t3) {
          var e3 = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return false;
            if (Reflect.construct.sham) return false;
            if ("function" == typeof Proxy) return true;
            try {
              return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
              })), true;
            } catch (t4) {
              return false;
            }
          }();
          return function() {
            var n3, r3 = (0, h.Z)(t3);
            if (e3) {
              var i2 = (0, h.Z)(this).constructor;
              n3 = Reflect.construct(r3, arguments, i2);
            } else n3 = r3.apply(this, arguments);
            return (0, f.Z)(this, n3);
          };
        }
        var we, ke = function(t3) {
          (0, u.Z)(n3, t3);
          var e3 = be(n3);
          function n3() {
            return (0, l.Z)(this, n3), e3.apply(this, arguments);
          }
          return (0, c.Z)(n3, [{ key: "tagName", value: function() {
            return "div";
          } }, { key: "initialize", value: function() {
            for (var t4 = arguments.length, e4 = new Array(t4), n4 = 0; n4 < t4; n4++) e4[n4] = arguments[n4];
            s.Z.prototype.initialize.apply(this, e4), this.listenTo(this.model, "change:attributes:src", this.updateSrc);
          } }, { key: "updateSrc", value: function() {
            var t4 = (0, ye.sE)(this.el, "iframe")[0];
            t4 && (0, ye.FW)(t4, { src: this.__getSrc() });
          } }, { key: "render", value: function() {
            for (var t4 = arguments.length, e4 = new Array(t4), n4 = 0; n4 < t4; n4++) e4[n4] = arguments[n4];
            s.Z.prototype.render.apply(this, e4);
            var r3 = (0, ye.ut)("iframe", { class: "".concat(this.ppfx, "no-pointer"), style: "width: 100%; height: 100%; border: none", src: this.__getSrc() });
            return this.el.appendChild(r3), this;
          } }, { key: "__getSrc", value: function() {
            return this.model.getAttributes().src || "";
          } }]), n3;
        }(s.Z.extend), xe = n2(6434), Oe = (we = function(t3, e3) {
          return we = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, we(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          we(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        }), Ce = function() {
          return Ce = Object.assign || function(t3) {
            for (var e3, n3 = 1, r3 = arguments.length; n3 < r3; n3++) for (var i2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, i2) && (t3[i2] = e3[i2]);
            return t3;
          }, Ce.apply(this, arguments);
        }, Se = function(t3, e3) {
          var n3 = {};
          for (var r3 in t3) Object.prototype.hasOwnProperty.call(t3, r3) && e3.indexOf(r3) < 0 && (n3[r3] = t3[r3]);
          if (null != t3 && "function" == typeof Object.getOwnPropertySymbols) {
            var i2 = 0;
            for (r3 = Object.getOwnPropertySymbols(t3); i2 < r3.length; i2++) e3.indexOf(r3[i2]) < 0 && Object.prototype.propertyIsEnumerable.call(t3, r3[i2]) && (n3[r3[i2]] = t3[r3[i2]]);
          }
          return n3;
        }, _e = function(t3) {
          function e3(e4) {
            var n3 = t3.call(this, e4, "DomComponents", new a.Z(void 0, { em: e4 })) || this;
            for (var r3 in n3.componentTypes = [{ id: "cell", model: w, view: k }, { id: "row", model: S, view: _ }, { id: "table", model: j, view: A }, { id: "thead", model: F, view: V }, { id: "tbody", model: Z, view: H }, { id: "tfoot", model: $, view: q }, { id: "map", model: tt, view: it }, { id: "link", model: dt, view: Ot }, { id: "label", model: Pt, view: Et }, { id: "video", model: Nt, view: Ft }, { id: "image", model: X, view: nt }, { id: "script", model: zt, view: Wt }, { id: "svg-in", model: Jt, view: te }, { id: "svg", model: Kt, view: te }, { id: "iframe", model: me, view: ke }, { id: "comment", model: oe, view: ce }, { id: "textnode", model: re, view: se }, { id: "text", model: lt, view: kt }, { id: "wrapper", model: de, view: p }, { id: "default", model: o.ZP, view: s.Z }], n3.componentsById = {}, n3.Component = o.ZP, n3.Components = a.Z, n3.ComponentsView = g.Z, n3.storageKey = "components", e4 && (n3.config.components = e4.config.components || n3.config.components), i) r3 in n3.config || (n3.config[r3] = i[r3]);
            var l2 = n3.config.pStylePrefix;
            if (l2 && (n3.config.stylePrefix = l2 + n3.config.stylePrefix), e4) {
              n3.config.modal = e4.get("Modal") || "", n3.config.am = e4.get("AssetManager") || "", e4.get("Parser").compTypes = n3.componentTypes, e4.on("change:componentHovered", n3.componentHovered, n3);
              var c2 = e4.get("selected");
              e4.listenTo(c2, "add", function(t4, e5, r4) {
                return n3.selectAdd(c2.getComponent(t4), r4);
              }), e4.listenTo(c2, "remove", function(t4, e5, r4) {
                return n3.selectRemove(c2.getComponent(t4), r4);
              });
            }
            return n3;
          }
          return Oe(e3, t3), e3.prototype.load = function(t4) {
            var e4 = this;
            return this.loadProjectData(t4, { onResult: function(t5) {
              var n3 = e4.getWrapper();
              if (n3 || (e4.em.get("PageManager").add({}, { select: true }), n3 = e4.getWrapper()), (0, r2.isArray)(t5)) t5.length && n3.components(t5);
              else {
                var i2 = t5.components, o2 = void 0 === i2 ? [] : i2, a2 = Se(t5, ["components"]);
                n3.set(a2), n3.components(o2);
              }
            } });
          }, e3.prototype.store = function() {
            return {};
          }, e3.prototype.getComponent = function() {
            var t4 = this.em.get("PageManager").getSelected(), e4 = t4 && t4.getMainFrame();
            return e4 && e4.getComponent();
          }, e3.prototype.getWrapper = function() {
            return this.getComponent();
          }, e3.prototype.getComponents = function() {
            var t4 = this.getWrapper();
            return t4 && t4.get("components");
          }, e3.prototype.addComponent = function(t4, e4) {
            return void 0 === e4 && (e4 = {}), this.getComponents().add(t4, e4);
          }, e3.prototype.render = function() {
            var t4;
            return null === (t4 = this.componentView) || void 0 === t4 ? void 0 : t4.render().el;
          }, e3.prototype.clear = function(t4) {
            void 0 === t4 && (t4 = {});
            var e4 = this.getComponents();
            return null == e4 || e4.filter(Boolean).forEach(function(e5) {
              return e5.remove(t4);
            }), this;
          }, e3.prototype.setComponents = function(t4, e4) {
            void 0 === e4 && (e4 = {}), this.clear(e4).addComponent(t4, e4);
          }, e3.prototype.addType = function(t4, e4) {
            var n3 = this.em, i2 = e4.model, o2 = void 0 === i2 ? {} : i2, a2 = e4.view, s2 = void 0 === a2 ? {} : a2, l2 = e4.isComponent, c2 = e4.extend, u2 = e4.extendView, f2 = e4.extendFn, h2 = void 0 === f2 ? [] : f2, d2 = e4.extendFnView, p2 = void 0 === d2 ? [] : d2, g2 = this.getType(t4), v2 = this.getType(c2), m2 = this.getType(u2), y2 = v2 || (g2 || this.getType("default")), b2 = y2.model, w2 = m2 ? m2.view : y2.view, k2 = function(t5, e5, n4) {
              return t5.reduce(function(t6, r3) {
                var i3 = e5[r3], o3 = n4.prototype[r3];
                return i3 && o3 && (t6[r3] = function() {
                  for (var t7 = [], e6 = 0; e6 < arguments.length; e6++) t7[e6] = arguments[e6];
                  o3.bind(this).apply(void 0, t7), i3.bind(this).apply(void 0, t7);
                }), t6;
              }, {});
            };
            "object" == typeof o2 && (e4.model = b2.extend(Ce(Ce(Ce({}, o2), k2(h2, o2, b2)), { defaults: Ce(Ce({}, (0, r2.result)(b2.prototype, "defaults") || {}), (0, r2.result)(o2, "defaults") || {}) }), { isComponent: !g2 || v2 || l2 ? l2 || function() {
              return 0;
            } : b2.isComponent })), "object" == typeof s2 && (e4.view = w2.extend(Ce(Ce({}, s2), k2(p2, s2, w2)))), g2 ? (g2.model = e4.model, g2.view = e4.view) : (e4.id = t4, this.componentTypes.unshift(e4));
            var x2 = "component:type:".concat(g2 ? "update" : "add");
            return null == n3 || n3.trigger(x2, g2 || e4), this;
          }, e3.prototype.getType = function(t4) {
            for (var e4 = this.componentTypes, n3 = 0; n3 < e4.length; n3++) {
              if (e4[n3].id == t4) return e4[n3];
            }
          }, e3.prototype.removeType = function(t4) {
            var e4 = this.componentTypes, n3 = this.getType(t4);
            if (n3) {
              var r3 = e4.indexOf(n3);
              return e4.splice(r3, 1), n3;
            }
          }, e3.prototype.getTypes = function() {
            return this.componentTypes;
          }, e3.prototype.selectAdd = function(t4, e4) {
            var n3 = this;
            void 0 === e4 && (e4 = {}), t4 && (t4.set({ status: "selected" }), ["component:selected", "component:toggled"].forEach(function(r3) {
              return n3.em.trigger(r3, t4, e4);
            }));
          }, e3.prototype.selectRemove = function(t4, e4) {
            var n3 = this;
            if (void 0 === e4 && (e4 = {}), t4) {
              this.em;
              t4.set({ status: "", state: "" }), ["component:deselected", "component:toggled"].forEach(function(r3) {
                return n3.em.trigger(r3, t4, e4);
              });
            }
          }, e3.prototype.componentHovered = function() {
            var t4 = this.em, e4 = t4.get("componentHovered"), n3 = t4.previous("componentHovered"), i2 = "hovered";
            n3 && n3.get("status") == i2 && n3.set({ status: "", state: "" }), e4 && (0, r2.isEmpty)(e4.get("status")) && e4.set("status", i2);
          }, e3.prototype.getShallowWrapper = function() {
            var t4 = this.shallow, e4 = this.em;
            if (!t4 && e4) {
              var n3 = e4.shallow;
              if (!n3) return;
              var i2 = n3.get("DomComponents");
              if (i2.componentTypes = this.componentTypes, t4 = i2.getWrapper()) {
                var a2 = [o.GN, o.xH].join(" ");
                t4.on(a2, (0, r2.debounce)(function() {
                  return null == t4 ? void 0 : t4.components("");
                }, 100));
              }
              this.shallow = t4;
            }
            return t4;
          }, e3.prototype.canMove = function(t4, e4, n3) {
            var i2 = n3 || 0 === n3 ? n3 : null, o2 = { result: false, reason: 0, target: t4, source: null };
            if (!e4 || !t4) return o2;
            var a2 = e4.toHTML ? e4 : null;
            if (!a2) {
              var s2 = this.getShallowWrapper();
              a2 = null == s2 ? void 0 : s2.append(e4)[0];
            }
            if (o2.source = a2, !a2) return o2;
            var l2 = a2.get("draggable");
            if ((0, r2.isFunction)(l2)) l2 = !!l2(a2, t4, i2);
            else {
              var c2 = t4.getEl();
              l2 = (0, r2.isArray)(l2) ? l2.join(",") : l2, l2 = (0, r2.isString)(l2) ? null == c2 ? void 0 : c2.matches(l2) : l2;
            }
            if (!l2) return Ce(Ce({}, o2), { reason: 1 });
            var u2 = t4.get("droppable");
            if ((0, r2.isFunction)(u2)) u2 = !!u2(a2, t4, i2);
            else if (false === u2 && t4.isInstanceOf("text") && a2.get("textable")) u2 = true;
            else {
              c2 = a2.getEl();
              u2 = (0, r2.isArray)(u2) ? u2.join(",") : u2, u2 = (0, r2.isString)(u2) ? null == c2 ? void 0 : c2.matches(u2) : u2;
            }
            var f2 = [t4].concat(t4.parents()).indexOf(a2) > -1;
            return Ce(Ce({}, o2), !u2 || f2 ? { reason: 2 } : { result: true });
          }, e3.prototype.allById = function() {
            return this.componentsById;
          }, e3.prototype.getById = function(t4) {
            return this.componentsById[t4] || null;
          }, e3.prototype.destroy = function() {
            var t4, e4 = this.allById();
            Object.keys(e4).forEach(function(t5) {
              return e4[t5] && e4[t5].remove();
            }), null === (t4 = this.componentView) || void 0 === t4 || t4.remove(), [this.em, this.componentsById, this.componentView].forEach(function(t5) {
              return {};
            });
          }, e3;
        }(xe.O);
        const Pe = _e;
      }, 7892: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => j, evAll: () => k, evComponent: () => C, evCustom: () => S, evPfx: () => x, evRoot: () => O });
        var r2 = n2(9050), i = n2(7904), o = n2(6434), a = n2(1163);
        const s = { stylePrefix: "", appendTo: "", sortable: true, hidable: true, hideTextnode: true, root: "", showWrapper: true, showHover: true, scrollCanvas: { behavior: "smooth", block: "nearest" }, scrollLayers: { behavior: "auto", block: "nearest" }, highlightHover: true, custom: false, onInit: function() {
        }, onRender: function() {
        }, extend: {} };
        var l, c = n2(2316), u = n2(2169), f = n2(7375), h = (l = function(t3, e3) {
          return l = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, l(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          l(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        }), d = function(t3) {
          function e3(e4) {
            void 0 === e4 && (e4 = {});
            var n3 = t3.call(this, e4) || this;
            n3.items = [], n3.opt = e4;
            var r3 = e4.config || {};
            n3.config = r3, n3.parentView = e4.parentView;
            var i2 = r3.stylePrefix || "", o2 = r3.pStylePrefix || "", a2 = n3.collection;
            n3.listenTo(a2, "add", n3.addTo), n3.listenTo(a2, "reset resetNavigator", n3.render), n3.listenTo(a2, "remove", n3.removeChildren), n3.className = "".concat(i2, "layers");
            var s2 = r3.em;
            if (r3.sortable && !n3.opt.sorter) {
              var l2 = s2.get("Utils");
              n3.opt.sorter = new l2.Sorter({ container: r3.sortContainer || n3.el, containerSel: ".".concat(n3.className), itemSel: ".".concat(i2, "layer"), ignoreViewChildren: 1, onEndMove: function(t4, e5, n4) {
                var r4 = e5.getSourceModel();
                s2.setSelected(r4, { forceChange: 1 }), s2.trigger("".concat(f.OA, ":end"), n4);
              }, avoidSelectOnEnd: 1, nested: 1, ppfx: o2, pfx: i2 });
            }
            return n3.$el.data("collection", a2), e4.parent && n3.$el.data("model", e4.parent), n3;
          }
          return h(e3, t3), e3.prototype.removeChildren = function(t4) {
            var e4 = t4.viewLayer;
            e4 && (e4.remove(), delete t4.viewLayer);
          }, e3.prototype.addTo = function(t4) {
            var e4 = this.collection.indexOf(t4);
            this.addToCollection(t4, null, e4);
          }, e3.prototype.addToCollection = function(t4, e4, n3) {
            var r3 = this, i2 = r3.parentView, o2 = r3.opt, a2 = r3.config, s2 = o2.ItemView, l2 = o2.opened, c2 = o2.module, u2 = e4 || null, f2 = new s2({ ItemView: s2, level: o2.level, model: t4, parentView: i2, config: a2, sorter: o2.sorter, opened: l2, module: c2 }), h2 = f2.render().el;
            if (u2) u2.appendChild(h2);
            else if (void 0 !== n3) {
              var d2 = "before";
              this.$el.children().length == n3 && (n3--, d2 = "after"), n3 < 0 ? this.$el.append(h2) : this.$el.children().eq(n3)[d2](h2);
            } else this.$el.append(h2);
            return this.items.push(f2), h2;
          }, e3.prototype.remove = function() {
            for (var t4 = [], e4 = 0; e4 < arguments.length; e4++) t4[e4] = arguments[e4];
            return c.View.prototype.remove.apply(this, t4), this.items.map(function(t5) {
              return t5.remove();
            }), this;
          }, e3.prototype.render = function() {
            var t4 = this, e4 = document.createDocumentFragment(), n3 = this.el;
            return n3.innerHTML = "", this.collection.each(function(n4) {
              return t4.addToCollection(n4, e4);
            }), n3.appendChild(e4), n3.className = this.className, this;
          }, e3;
        }(c.View);
        const p = d;
        var g = /* @__PURE__ */ function() {
          var t3 = function(e3, n3) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n4 in e4) Object.prototype.hasOwnProperty.call(e4, n4) && (t4[n4] = e4[n4]);
            }, t3(e3, n3);
          };
          return function(e3, n3) {
            if ("function" != typeof n3 && null !== n3) throw new TypeError("Class extends value " + String(n3) + " is not a constructor or null");
            function r3() {
              this.constructor = e3;
            }
            t3(e3, n3), e3.prototype = null === n3 ? Object.create(n3) : (r3.prototype = n3.prototype, new r3());
          };
        }(), v = "contentEditable", m = function(t3) {
          function e3(e4) {
            var n3 = t3.call(this, e4) || this;
            (0, r2.bindAll)(n3, "__render"), n3.opt = e4, n3.module = e4.module, n3.config = e4.config || {}, n3.sorter = e4.sorter || "", n3.parentView = e4.parentView;
            var i2 = n3, o2 = i2.model, a2 = i2.pfx, s2 = i2.ppfx, l2 = o2.get("type") || "default";
            return n3.className = "".concat(a2, "layer ").concat(a2, "layer__t-").concat(l2, " no-select ").concat(s2, "two-color"), n3.inputNameCls = "".concat(s2, "layer-name"), n3.clsTitleC = "".concat(a2, "layer-title-c"), n3.clsTitle = "".concat(a2, "layer-title"), n3.clsCaret = "".concat(a2, "layer-caret"), n3.clsCount = "".concat(a2, "layer-count"), n3.clsMove = "".concat(a2, "layer-move"), n3.clsChildren = "".concat(a2, "layer-children"), n3.clsNoChild = "".concat(a2, "layer-no-chld"), n3.clsEdit = "".concat(n3.inputNameCls, "--edit"), n3.clsNoEdit = "".concat(n3.inputNameCls, "--no-edit"), n3.initComponent(), n3;
          }
          return g(e3, t3), e3.prototype.events = function() {
            return { "mousedown [data-toggle-move]": "startSort", "touchstart [data-toggle-move]": "startSort", "click [data-toggle-visible]": "toggleVisibility", "click [data-toggle-open]": "toggleOpening", "click [data-toggle-select]": "handleSelect", "mouseover [data-toggle-select]": "handleHover", "mouseout [data-toggle-select]": "handleHoverOut", "dblclick [data-name]": "handleEdit", "keydown [data-name]": "handleEditKey", "focusout [data-name]": "handleEditEnd" };
          }, e3.prototype.template = function(t4) {
            var e4 = this, n3 = e4.pfx, r3 = e4.ppfx, i2 = e4.config, o2 = e4.clsNoEdit, a2 = e4.module, s2 = e4.opt, l2 = e4.em, c2 = i2.hidable, u2 = a2.getComponents(t4).length, f2 = u2 ? "" : this.clsNoChild, h2 = "".concat(this.clsTitle, " ").concat(f2), d2 = "".concat(this.clsTitleC, " ").concat(r3, "one-bg"), p2 = "".concat(this.inputNameCls, " ").concat(o2, " ").concat(r3, "no-app"), g2 = s2.level + 1, v2 = "".concat(30 + 10 * g2, "px"), m2 = t4.getName(), y2 = t4.getIcon(), b2 = "".concat(n3, "layer"), w2 = (null == l2 ? void 0 : l2.getConfig()).icons, k2 = w2.move, x2 = w2.eye, O2 = w2.eyeOff, C2 = w2.chevron;
            return "\n      ".concat(c2 ? '<i class="'.concat(n3, 'layer-vis" data-toggle-visible>\n            <i class="').concat(n3, 'layer-vis-on">').concat(x2, '</i>\n            <i class="').concat(n3, 'layer-vis-off">').concat(O2, "</i>\n          </i>") : "", '\n      <div class="').concat(d2, '">\n        <div class="').concat(h2, '" style="padding-left: ').concat(v2, '" data-toggle-select>\n          <div class="').concat(n3, 'layer-title-inn" title="').concat(m2, '">\n            <i class="').concat(this.clsCaret, '" data-toggle-open>').concat(C2, "</i>\n            ").concat(y2 ? '<span class="'.concat(b2, '__icon">').concat(y2, "</span>") : "", '\n            <span class="').concat(p2, '" data-name>').concat(m2, '</span>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(this.clsCount, '" data-count>').concat(u2 || "", '</div>\n      <div class="').concat(this.clsMove, '" data-toggle-move>').concat(k2 || "", '</div>\n      <div class="').concat(this.clsChildren, '"></div>');
          }, Object.defineProperty(e3.prototype, "em", { get: function() {
            return this.module.em;
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "ppfx", { get: function() {
            return this.em.getConfig().stylePrefix;
          }, enumerable: false, configurable: true }), Object.defineProperty(e3.prototype, "pfx", { get: function() {
            return this.config.stylePrefix;
          }, enumerable: false, configurable: true }), e3.prototype.initComponent = function() {
            var t4 = this, e4 = this.model, n3 = this.config.onInit, r3 = e4.components();
            this.listenTo(r3, "remove add reset", this.checkChildren), [["change:status", this.updateStatus], ["change:open", this.updateOpening], ["change:layerable", this.updateLayerable], ["change:style:display", this.updateVisibility], ["rerender:layer", this.render], ["change:name change:custom-name", this.updateName]].forEach(function(n4) {
              return t4.listenTo(e4, n4[0], n4[1]);
            }), this.$el.data("model", e4), this.$el.data("collection", r3), e4.viewLayer = this, n3.bind(this)({ component: e4, render: this.__render, listenTo: this.listenTo });
          }, e3.prototype.updateName = function() {
            this.getInputName().innerText = this.model.getName();
          }, e3.prototype.getVisibilityEl = function() {
            return this.eyeEl || (this.eyeEl = this.$el.children(".".concat(this.pfx, "layer-vis"))), this.eyeEl;
          }, e3.prototype.updateVisibility = function() {
            var t4 = this, e4 = t4.pfx, n3 = t4.model, r3 = t4.module, i2 = "".concat(e4, "layer-hidden"), o2 = !r3.isVisible(n3) ? "addClass" : "removeClass";
            this.$el[o2](i2), this.getVisibilityEl()[o2]("".concat(e4, "layer-off"));
          }, e3.prototype.toggleVisibility = function(t4) {
            null == t4 || t4.stopPropagation();
            var e4 = this.module, n3 = this.model;
            e4.setVisible(n3, !e4.isVisible(n3));
          }, e3.prototype.handleEdit = function(t4) {
            null == t4 || t4.stopPropagation();
            var e4 = this, n3 = e4.em, r3 = e4.$el, i2 = e4.clsNoEdit, o2 = e4.clsEdit, a2 = this.getInputName();
            a2[v] = "true", a2.focus(), document.execCommand("selectAll", false), n3.setEditing(true), r3.find(".".concat(this.inputNameCls)).removeClass(i2).addClass(o2);
          }, e3.prototype.handleEditKey = function(t4) {
            t4.stopPropagation(), ((0, a.isEscKey)(t4) || (0, a.isEnterKey)(t4)) && this.handleEditEnd(t4);
          }, e3.prototype.handleEditEnd = function(t4) {
            null == t4 || t4.stopPropagation();
            var e4 = this, n3 = e4.em, r3 = e4.$el, i2 = e4.clsNoEdit, o2 = e4.clsEdit, a2 = this.getInputName(), s2 = a2.textContent;
            a2.scrollLeft = 0, a2[v] = "false", this.setName(s2, { component: this.model, propName: "custom-name" }), n3.setEditing(false), r3.find(".".concat(this.inputNameCls)).addClass(i2).removeClass(o2);
          }, e3.prototype.setName = function(t4, e4) {
            var n3 = e4.propName;
            this.model.set(n3, t4);
          }, e3.prototype.getInputName = function() {
            return this.inputName || (this.inputName = this.el.querySelector(".".concat(this.inputNameCls))), this.inputName;
          }, e3.prototype.updateOpening = function() {
            var t4 = this, e4 = t4.$el, n3 = t4.model, r3 = t4.pfx, i2 = "open", o2 = "".concat(r3, "layer-open"), a2 = this.getCaret();
            this.module.isOpen(n3) ? (e4.addClass(i2), a2.addClass(o2)) : (e4.removeClass(i2), a2.removeClass(o2));
          }, e3.prototype.toggleOpening = function(t4) {
            var e4 = this.model, n3 = this.module;
            null == t4 || t4.stopImmediatePropagation(), e4.get("components").length && n3.setOpen(e4, !n3.isOpen(e4));
          }, e3.prototype.handleSelect = function(t4) {
            null == t4 || t4.stopPropagation();
            var e4 = this.module, n3 = this.model;
            e4.setLayerData(n3, { selected: true }, { event: t4 });
          }, e3.prototype.handleHover = function(t4) {
            null == t4 || t4.stopPropagation();
            var e4 = this.module, n3 = this.model;
            e4.setLayerData(n3, { hovered: true });
          }, e3.prototype.handleHoverOut = function(t4) {
            null == t4 || t4.stopPropagation();
            var e4 = this.module, n3 = this.model;
            e4.setLayerData(n3, { hovered: false });
          }, e3.prototype.startSort = function(t4) {
            t4.stopPropagation();
            var e4 = this.em, n3 = this.sorter;
            t4.button && 0 !== t4.button || n3 && (n3.onStart = function(t5) {
              return e4.trigger("".concat(f.OA, ":start"), t5);
            }, n3.onMoveClb = function(t5) {
              return e4.trigger(f.OA, t5);
            }, n3.startSort(t4.target));
          }, e3.prototype.updateStatus = function() {
            u.Z.prototype.updateStatus.apply(this, [{ avoidHover: !this.config.highlightHover, noExtHl: 1 }]);
          }, e3.prototype.checkChildren = function() {
            var t4 = this, e4 = t4.model, n3 = t4.clsNoChild, r3 = t4.$el, i2 = t4.module, o2 = i2.getComponents(e4).length, a2 = r3.children(".".concat(this.clsTitleC)).children(".".concat(this.clsTitle)), s2 = this.cnt;
            s2 || (s2 = r3.children("[data-count]").get(0), this.cnt = s2), a2[o2 ? "removeClass" : "addClass"](n3), s2 && (s2.innerHTML = o2 || ""), !o2 && i2.setOpen(e4, false);
          }, e3.prototype.getCaret = function() {
            return this.caret && this.caret.length || (this.caret = this.$el.children(".".concat(this.clsTitleC)).find(".".concat(this.clsCaret))), this.caret;
          }, e3.prototype.setRoot = function(t4) {
            t4 = (0, r2.isString)(t4) ? this.em.getWrapper().find(t4)[0] : t4;
            var e4 = (0, a.getModel)(t4, 0);
            e4 && (this.stopListening(), this.model = e4, this.initComponent(), this._rendered && this.render());
          }, e3.prototype.updateLayerable = function() {
            (this.parentView || this).render();
          }, e3.prototype.__clearItems = function() {
            var t4;
            null === (t4 = this.items) || void 0 === t4 || t4.remove();
          }, e3.prototype.remove = function() {
            for (var t4 = [], e4 = 0; e4 < arguments.length; e4++) t4[e4] = arguments[e4];
            return c.View.prototype.remove.apply(this, t4), this.__clearItems(), this;
          }, e3.prototype.render = function() {
            var t4 = this, e4 = t4.model, n3 = t4.config, r3 = t4.pfx, i2 = t4.ppfx, o2 = t4.opt, a2 = t4.sorter;
            this.__clearItems();
            var s2 = o2.opened, l2 = o2.module, c2 = o2.ItemView, u2 = !l2.__isLayerable(e4), f2 = this.$el.empty(), h2 = o2.level + 1;
            delete this.inputName, this.items = new p({ ItemView: c2, collection: e4.get("components"), config: n3, sorter: a2, opened: s2, parentView: this, parent: e4, level: h2, module: l2 });
            var d2 = this.items.render().$el;
            return n3.showWrapper || 1 !== h2 ? (f2.html(this.template(e4)), f2.find(".".concat(this.clsChildren)).append(d2)) : f2.append(d2), e4.get("draggable") && n3.sortable || f2.children(".".concat(this.clsMove)).remove(), !l2.isVisible(e4) && (this.className += " ".concat(r3, "hide")), u2 && (this.className += " ".concat(i2, "hidden")), f2.attr("class", this.className), this.updateStatus(), this.updateOpening(), this.updateVisibility(), this.__render(), this._rendered = true, this;
          }, e3.prototype.__render = function() {
            var t4 = this, e4 = t4.model, n3 = t4.config, r3 = { component: e4, el: t4.el };
            n3.onRender.bind(this)(r3), this.em.trigger("layer:render", r3);
          }, e3;
        }(c.View);
        const y = m;
        var b = /* @__PURE__ */ function() {
          var t3 = function(e3, n3) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n4 in e4) Object.prototype.hasOwnProperty.call(e4, n4) && (t4[n4] = e4[n4]);
            }, t3(e3, n3);
          };
          return function(e3, n3) {
            if ("function" != typeof n3 && null !== n3) throw new TypeError("Class extends value " + String(n3) + " is not a constructor or null");
            function r3() {
              this.constructor = e3;
            }
            t3(e3, n3), e3.prototype = null === n3 ? Object.create(n3) : (r3.prototype = n3.prototype, new r3());
          };
        }(), w = function() {
          return w = Object.assign || function(t3) {
            for (var e3, n3 = 1, r3 = arguments.length; n3 < r3; n3++) for (var i2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, i2) && (t3[i2] = e3[i2]);
            return t3;
          }, w.apply(this, arguments);
        }, k = "layer", x = "".concat(k, ":"), O = "".concat(x, "root"), C = "".concat(x, "component"), S = "".concat(x, "custom"), _ = { all: k, root: O, component: C, custom: S }, P = { mediaText: "" }, T = ["open", "status", "locked", "custom-name", "components", "classes"].map(function(t3) {
          return "component:update:".concat(t3);
        }).join(" "), E = function(t3) {
          function e3(e4) {
            var n3 = t3.call(this, e4, "LayerManager", s) || this;
            return n3.events = _, (0, r2.bindAll)(n3, "componentChanged", "__onRootChange", "__onComponent"), n3.model = new i.Z(n3, { opened: {} }), n3.config.stylePrefix = n3.config.pStylePrefix, n3;
          }
          return b(e3, t3), e3.prototype.onLoad = function() {
            var t4 = this, e4 = this, n3 = e4.em, r3 = e4.config, i2 = e4.model;
            i2.listenTo(n3, "component:selected", this.componentChanged), i2.on("change:root", this.__onRootChange), i2.listenTo(n3, T, this.__onComponent), this.componentChanged(), i2.listenToOnce(n3, "load", function() {
              t4.setRoot(r3.root), t4.__appendTo();
            });
          }, e3.prototype.setRoot = function(t4) {
            var e4 = this.em.getWrapper(), n3 = (0, a.isComponent)(t4) ? t4 : e4;
            return t4 && (0, r2.isString)(t4) && (0, a.hasWin)() && (n3 = e4.find(t4)[0] || e4), this.model.set("root", n3), n3;
          }, e3.prototype.getRoot = function() {
            return this.model.get("root");
          }, e3.prototype.getComponents = function(t4) {
            var e4 = this;
            return t4.components().filter(function(t5) {
              return e4.__isLayerable(t5);
            });
          }, e3.prototype.setOpen = function(t4, e4) {
            t4.set("open", e4);
          }, e3.prototype.isOpen = function(t4) {
            return !!t4.get("open");
          }, e3.prototype.setVisible = function(t4, e4) {
            var n3 = "__prev-display", r3 = t4.getStyle(P), i2 = r3.display;
            if (e4) {
              var o2 = t4.get(n3);
              delete r3.display, o2 && (r3.display = o2, t4.unset(n3));
            } else i2 && t4.set(n3, i2), r3.display = "none";
            t4.setStyle(r3, P), this.updateLayer(t4), this.em.trigger("component:toggled");
          }, e3.prototype.isVisible = function(t4) {
            return void 0 === (e4 = t4.getStyle(P)) && (e4 = {}), !(0 === (e4.display || "").trim().indexOf("none"));
            var e4;
          }, e3.prototype.setLocked = function(t4, e4) {
            t4.set("locked", e4);
          }, e3.prototype.isLocked = function(t4) {
            return t4.get("locked");
          }, e3.prototype.setName = function(t4, e4) {
            t4.set("custom-name", e4);
          }, e3.prototype.getName = function(t4) {
            return t4.getName();
          }, e3.prototype.getLayerData = function(t4) {
            var e4 = t4.get("status");
            return { name: t4.getName(), open: this.isOpen(t4), selected: "selected" === e4, hovered: "hovered" === e4, visible: this.isVisible(t4), locked: this.isLocked(t4), components: this.getComponents(t4) };
          }, e3.prototype.setLayerData = function(t4, e4, n3) {
            var r3;
            void 0 === n3 && (n3 = {});
            var i2 = this.em, o2 = this.config, s2 = e4.open, l2 = e4.selected, c2 = e4.hovered, u2 = e4.visible, f2 = e4.locked, h2 = e4.name, d2 = w({ fromLayers: true }, n3);
            if ((0, a.isDef)(s2) && this.setOpen(t4, s2), (0, a.isDef)(l2)) if (l2) {
              i2.setSelected(t4, d2);
              var p2 = o2.scrollCanvas;
              p2 && (null === (r3 = t4.views) || void 0 === r3 || r3.forEach(function(t5) {
                return t5.scrollIntoView(p2);
              }));
            } else i2.removeSelected(t4, d2);
            (0, a.isDef)(c2) && o2.showHover && (c2 ? i2.setHovered(t4, d2) : i2.setHovered(null, d2)), (0, a.isDef)(u2) && u2 !== this.isVisible(t4) && this.setVisible(t4, u2), (0, a.isDef)(f2) && this.setLocked(t4, f2), (0, a.isDef)(h2) && this.setName(t4, h2);
          }, e3.prototype.componentChanged = function(t4, e4) {
            var n3;
            if (void 0 === e4 && (e4 = {}), !e4.fromLayers) {
              var r3 = this.em, i2 = this.config.scrollLayers, o2 = this.model.get("opened"), a2 = r3.getSelected(), s2 = null == a2 ? void 0 : a2.parent();
              for (var l2 in o2) o2[l2].set("open", false), delete o2[l2];
              for (; s2; ) s2.set("open", true), o2[s2.cid] = s2, s2 = s2.parent();
              if (a2 && i2) {
                var c2 = null === (n3 = a2.viewLayer) || void 0 === n3 ? void 0 : n3.el;
                null == c2 || c2.scrollIntoView(i2);
              }
            }
          }, e3.prototype.getAll = function() {
            return this.view;
          }, e3.prototype.render = function() {
            var t4, e4, n3 = this.config, r3 = this.model, i2 = y.extend(n3.extend);
            return this.view = new i2({ el: null === (t4 = this.view) || void 0 === t4 ? void 0 : t4.el, ItemView: i2, level: 0, config: n3, opened: r3.get("opened"), model: this.getRoot(), module: this }), null === (e4 = this.view) || void 0 === e4 ? void 0 : e4.render().el;
          }, e3.prototype.destroy = function() {
            var t4;
            null === (t4 = this.view) || void 0 === t4 || t4.remove();
          }, e3.prototype.__onRootChange = function() {
            var t4, e4 = this.getRoot();
            null === (t4 = this.view) || void 0 === t4 || t4.setRoot(e4), this.em.trigger(O, e4);
          }, e3.prototype.__onComponent = function(t4) {
            this.updateLayer(t4);
          }, e3.prototype.__isLayerable = function(t4) {
            var e4 = t4.get("tagName");
            return (!this.config.hideTextnode || !t4.is("textnode") && "br" !== e4) && t4.get("layerable");
          }, e3.prototype.__trgCustom = function(t4) {
            this.em.trigger(this.events.custom, { container: t4.container, root: this.getRoot() });
          }, e3.prototype.updateLayer = function(t4, e4) {
            this.em.trigger(C, t4, e4);
          }, e3;
        }(o.Z);
        const j = E;
      }, 7948: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => j, evAll: () => m, evPageAdd: () => x, evPageAddBefore: () => O, evPageRemove: () => C, evPageRemoveBefore: () => S, evPageSelect: () => b, evPageSelectBefore: () => w, evPageUpdate: () => k, evPfx: () => y });
        var r2, i = n2(9050), o = n2(1163), a = n2(7904), s = n2(6434), l = n2(2316), c = n2(3560), u = n2(6840), f = (r2 = function(t3, e3) {
          return r2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, r2(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          r2(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        });
        const h = function(t3) {
          function e3(e4, n3) {
            void 0 === n3 && (n3 = {});
            var r3 = t3.call(this, e4, n3) || this, i2 = n3.em, o2 = {};
            r3.em = i2, e4.frames || (o2.component = e4.component, o2.styles = e4.styles, ["component", "styles"].map(function(t4) {
              return r3.unset(t4);
            }));
            var a2 = e4.frames || [o2], s2 = new c.Z(i2.get("Canvas"), null == a2 ? void 0 : a2.map(function(t4) {
              return new u.Z(i2.get("Canvas"), t4);
            }));
            s2.page = r3, r3.set("frames", s2), !r3.getId() && r3.set("id", null == i2 ? void 0 : i2.get("PageManager")._createId());
            var l2 = null == i2 ? void 0 : i2.get("UndoManager");
            return null == l2 || l2.add(s2), r3;
          }
          return f(e3, t3), e3.prototype.defaults = function() {
            return { frames: [], _undo: true };
          }, e3.prototype.onRemove = function() {
            this.getFrames().reset();
          }, e3.prototype.getFrames = function() {
            return this.get("frames");
          }, e3.prototype.getId = function() {
            return this.id;
          }, e3.prototype.getName = function() {
            return this.get("name");
          }, e3.prototype.setName = function(t4) {
            return this.set({ name: t4 });
          }, e3.prototype.getAllFrames = function() {
            return this.getFrames().models || [];
          }, e3.prototype.getMainFrame = function() {
            return this.getFrames().at(0);
          }, e3.prototype.getMainComponent = function() {
            var t4 = this.getMainFrame();
            return null == t4 ? void 0 : t4.getComponent();
          }, e3.prototype.toJSON = function(t4) {
            void 0 === t4 && (t4 = {});
            var e4 = l.Model.prototype.toJSON.call(this, t4), n3 = (0, i.result)(this, "defaults");
            return (0, i.forEach)(e4, function(t5, n4) {
              0 === n4.indexOf("_") && delete e4[n4];
            }), (0, i.forEach)(n3, function(t5, n4) {
              e4[n4] === t5 && delete e4[n4];
            }), e4;
          }, e3;
        }(l.Model);
        var d = /* @__PURE__ */ function() {
          var t3 = function(e3, n3) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n4 in e4) Object.prototype.hasOwnProperty.call(e4, n4) && (t4[n4] = e4[n4]);
            }, t3(e3, n3);
          };
          return function(e3, n3) {
            if ("function" != typeof n3 && null !== n3) throw new TypeError("Class extends value " + String(n3) + " is not a constructor or null");
            function r3() {
              this.constructor = e3;
            }
            t3(e3, n3), e3.prototype = null === n3 ? Object.create(n3) : (r3.prototype = n3.prototype, new r3());
          };
        }(), p = function() {
          return p = Object.assign || function(t3) {
            for (var e3, n3 = 1, r3 = arguments.length; n3 < r3; n3++) for (var i2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, i2) && (t3[i2] = e3[i2]);
            return t3;
          }, p.apply(this, arguments);
        };
        const g = function(t3) {
          function e3(e4, n3) {
            var r3 = t3.call(this, e4) || this;
            return r3.on("reset", r3.onReset), r3.on("remove", r3.onRemove), r3.model = function(t4, e5) {
              return void 0 === e5 && (e5 = {}), new h(t4, p(p({}, e5), { em: n3 }));
            }, r3;
          }
          return d(e3, t3), e3.prototype.onReset = function(t4, e4) {
            var n3, r3 = this;
            null === (n3 = null == e4 ? void 0 : e4.previousModels) || void 0 === n3 || n3.map(function(t5) {
              return r3.onRemove(t5);
            });
          }, e3.prototype.onRemove = function(t4) {
            null == t4 || t4.onRemove();
          }, e3;
        }(l.Collection);
        var v = /* @__PURE__ */ function() {
          var t3 = function(e3, n3) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n4 in e4) Object.prototype.hasOwnProperty.call(e4, n4) && (t4[n4] = e4[n4]);
            }, t3(e3, n3);
          };
          return function(e3, n3) {
            if ("function" != typeof n3 && null !== n3) throw new TypeError("Class extends value " + String(n3) + " is not a constructor or null");
            function r3() {
              this.constructor = e3;
            }
            t3(e3, n3), e3.prototype = null === n3 ? Object.create(n3) : (r3.prototype = n3.prototype, new r3());
          };
        }(), m = "page", y = "".concat(m, ":"), b = "".concat(y, "select"), w = "".concat(b, ":before"), k = "".concat(y, "update"), x = "".concat(y, "add"), O = "".concat(x, ":before"), C = "".concat(y, "remove"), S = "".concat(C, ":before"), _ = "change:selected", P = "main", T = { all: m, select: b, selectBefore: w, update: k, add: x, addBefore: O, remove: C, removeBefore: S }, E = function(t3) {
          function e3(e4) {
            var n3 = t3.call(this, e4, "PageManager", new g([], e4), T) || this;
            n3.storageKey = "pages", (0, i.bindAll)(n3, "_onPageChange");
            var r3 = new a.Z({ _undo: true });
            return n3.model = r3, n3.pages.on("reset", function(t4) {
              return t4.at(0) && n3.select(t4.at(0));
            }), n3.pages.on("all", n3.__onChange, n3), r3.on(_, n3._onPageChange), n3;
          }
          return v(e3, t3), Object.defineProperty(e3.prototype, "pages", { get: function() {
            return this.all;
          }, enumerable: false, configurable: true }), e3.prototype.__onChange = function(t4, e4, n3, r3) {
            var i2 = r3 || n3;
            this.em.trigger(m, { event: t4, page: e4, options: i2 });
          }, e3.prototype.onLoad = function() {
            var t4, e4 = this, n3 = this.pages, r3 = { silent: true };
            n3.add((null === (t4 = this.config.pages) || void 0 === t4 ? void 0 : t4.map(function(t5) {
              return new h(t5, { em: e4.em, config: e4.config });
            })) || [], r3);
            var i2 = n3.length ? this.getMain() : this.add({ type: P }, r3);
            i2 && this.select(i2, r3);
          }, e3.prototype._onPageChange = function(t4, e4, n3) {
            var r3 = this.em, i2 = r3.get("LayerManager"), o2 = e4.getMainComponent();
            i2 && o2 && i2.setRoot(o2), r3.trigger(b, e4, t4.previous("selected")), this.__onChange(_, e4, n3);
          }, e3.prototype.postLoad = function() {
            var t4 = this.em, e4 = this.model, n3 = t4.get("UndoManager");
            n3 && n3.add(e4), n3 && n3.add(this.pages);
          }, e3.prototype.add = function(t4, e4) {
            var n3 = this;
            void 0 === e4 && (e4 = {});
            var r3 = this.em;
            t4.id = t4.id || this._createId();
            var i2 = function() {
              var r4 = n3.pages.add(new h(t4, { em: n3.em, config: n3.config }), e4);
              return e4.select && n3.select(r4), r4;
            };
            return !e4.silent && r3.trigger(O, t4, i2, e4), !e4.abort && i2();
          }, e3.prototype.remove = function(t4, e4) {
            var n3 = this;
            void 0 === e4 && (e4 = {});
            var r3 = this.em, o2 = (0, i.isString)(t4) ? this.get(t4) : t4, a2 = function() {
              return o2 && n3.pages.remove(o2, e4), o2;
            };
            return !e4.silent && r3.trigger(S, o2, a2, e4), !e4.abort && a2();
          }, e3.prototype.get = function(t4) {
            return this.pages.filter(function(e4) {
              return e4.get(e4.idAttribute) === t4;
            })[0];
          }, e3.prototype.getMain = function() {
            var t4 = this.pages;
            return t4.filter(function(t5) {
              return t5.get("type") === P;
            })[0] || t4.at(0);
          }, e3.prototype.getAllWrappers = function() {
            var t4 = this.getAll();
            return (0, i.unique)((0, i.flatten)(t4.map(function(t5) {
              return t5.getAllFrames().map(function(t6) {
                return t6.getComponent();
              });
            })));
          }, e3.prototype.select = function(t4, e4) {
            void 0 === e4 && (e4 = {});
            var n3 = (0, i.isString)(t4) ? this.get(t4) : t4;
            return n3 && (this.em.trigger(w, n3, e4), this.model.set("selected", n3, e4)), this;
          }, e3.prototype.getSelected = function() {
            return this.model.get("selected");
          }, e3.prototype.destroy = function() {
            var t4 = this;
            this.pages.off().reset(), this.model.stopListening(), this.model.clear({ silent: true }), ["selected", "model"].map(function(e4) {
              return t4[e4] = 0;
            });
          }, e3.prototype.store = function() {
            return this.getProjectData();
          }, e3.prototype.load = function(t4) {
            return this.loadProjectData(t4, { all: this.pages, reset: true });
          }, e3.prototype._createId = function() {
            var t4, e4 = this.getAll().length + 16, n3 = this.getAllMap();
            do {
              t4 = (0, o.createId)(e4);
            } while (n3[t4]);
            return t4;
          }, e3;
        }(s.O);
        const j = E;
      }, 3463: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { default: () => B, evAdd: () => Z, evAll: () => M, evCustom: () => F, evPfx: () => R, evRemove: () => N, evRemoveBefore: () => I, evState: () => V, evUpdate: () => L });
        var r2 = n2(9050), i = n2(1163), o = n2(9714), a = n2(2316);
        const s = { stylePrefix: "clm-", appendTo: "", selectors: [], states: [{ name: "hover" }, { name: "active" }, { name: "nth-of-type(2n)" }], escapeName: 0, selectedName: 0, iconAdd: '<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>', iconSync: '<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>', iconTagOn: '<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>', iconTagOff: '<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>', iconTagRemove: '<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>', render: 0, componentFirst: false, custom: false };
        var l, c = n2(5963), u = n2(966), f = (l = function(t3, e3) {
          return l = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, l(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          l(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        }), h = function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return f(e3, t3), e3.prototype.defaults = function() {
            return { name: "", label: "" };
          }, e3.prototype.getName = function() {
            return this.get("name");
          }, e3.prototype.getLabel = function() {
            return this.get("label") || this.getName();
          }, e3;
        }(a.Model);
        const d = h;
        h.prototype.idAttribute = "name";
        var p = n2(7539), g = /* @__PURE__ */ function() {
          var t3 = function(e3, n3) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n4 in e4) Object.prototype.hasOwnProperty.call(e4, n4) && (t4[n4] = e4[n4]);
            }, t3(e3, n3);
          };
          return function(e3, n3) {
            if ("function" != typeof n3 && null !== n3) throw new TypeError("Class extends value " + String(n3) + " is not a constructor or null");
            function r3() {
              this.constructor = e3;
            }
            t3(e3, n3), e3.prototype = null === n3 ? Object.create(n3) : (r3.prototype = n3.prototype, new r3());
          };
        }(), v = function(t3, e3) {
          return Object.defineProperty ? Object.defineProperty(t3, "raw", { value: e3 }) : t3.raw = e3, t3;
        }, m = "contentEditable";
        const y = function(t3) {
          function e3(e4) {
            void 0 === e4 && (e4 = {});
            var n3 = t3.call(this, e4) || this, r3 = e4.config || {};
            return n3.config = r3, n3.module = e4.module, n3.coll = e4.coll || null, n3.pfx = r3.stylePrefix || "", n3.ppfx = r3.pStylePrefix || "", n3.em = r3.em, n3.listenTo(n3.model, "change:active", n3.updateStatus), n3;
          }
          return g(e3, t3), e3.prototype.template = function() {
            var t4 = this, e4 = t4.pfx, n3 = t4.model, r3 = t4.config, i2 = n3.get("label") || "";
            return (0, p.Z)(b || (b = v(['\n      <span id="', 'checkbox" class="', 'tag-status" data-tag-status></span>\n      <span id="', 'tag-label" data-tag-name>', '</span>\n      <span id="', 'close" class="', 'tag-close" data-tag-remove> $', " </span>\n    "], ['\n      <span id="', 'checkbox" class="', 'tag-status" data-tag-status></span>\n      <span id="', 'tag-label" data-tag-name>', '</span>\n      <span id="', 'close" class="', 'tag-close" data-tag-remove> $', " </span>\n    "])), e4, e4, e4, i2, e4, e4, r3.iconTagRemove);
          }, e3.prototype.events = function() {
            return { "click [data-tag-remove]": "removeTag", "click [data-tag-status]": "changeStatus", "dblclick [data-tag-name]": "startEditTag", "focusout [data-tag-name]": "endEditTag" };
          }, e3.prototype.getInputEl = function() {
            return this.inputEl || (this.inputEl = this.el.querySelector("[data-tag-name]")), this.inputEl;
          }, e3.prototype.startEditTag = function() {
            var t4 = this.em, e4 = this.getInputEl();
            e4[m] = "true", e4.focus(), t4 && t4.setEditing(1);
          }, e3.prototype.endEditTag = function() {
            var t4 = this.model, e4 = this.getInputEl(), n3 = e4.textContent, r3 = this.em, i2 = r3 && r3.get("SelectorManager");
            if (e4[m] = "false", r3 && r3.setEditing(0), i2) {
              var o2 = i2.escapeName(n3);
              i2.get(o2) ? e4.innerText = t4.get("label") : t4.set({ name: o2, label: n3 });
            }
          }, e3.prototype.changeStatus = function() {
            var t4 = this.model;
            t4.set("active", !t4.get("active"));
          }, e3.prototype.removeTag = function() {
            this.module.removeSelected(this.model);
          }, e3.prototype.updateStatus = function() {
            var t4 = this, e4 = t4.model, n3 = t4.$el, r3 = t4.config, i2 = r3.iconTagOn, o2 = r3.iconTagOff, a2 = n3.find("[data-tag-status]");
            e4.get("active") ? (a2.html(i2), n3.removeClass("opac50")) : (a2.html(o2), n3.addClass("opac50"));
          }, e3.prototype.render = function() {
            var t4 = this.pfx, e4 = this.ppfx;
            return this.$el.html(this.template()), this.$el.attr("class", "".concat(t4, "tag ").concat(e4, "three-bg")), this.updateStatus(), this;
          }, e3;
        }(a.View);
        var b, w = /* @__PURE__ */ function() {
          var t3 = function(e3, n3) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n4 in e4) Object.prototype.hasOwnProperty.call(e4, n4) && (t4[n4] = e4[n4]);
            }, t3(e3, n3);
          };
          return function(e3, n3) {
            if ("function" != typeof n3 && null !== n3) throw new TypeError("Class extends value " + String(n3) + " is not a constructor or null");
            function r3() {
              this.constructor = e3;
            }
            t3(e3, n3), e3.prototype = null === n3 ? Object.create(n3) : (r3.prototype = n3.prototype, new r3());
          };
        }(), k = function(t3, e3) {
          return Object.defineProperty ? Object.defineProperty(t3, "raw", { value: e3 }) : t3.raw = e3, t3;
        };
        const x = function(t3) {
          function e3(e4) {
            void 0 === e4 && (e4 = {});
            var n3 = t3.call(this, e4) || this;
            n3.config = e4.config || {}, n3.pfx = n3.config.stylePrefix || "", n3.ppfx = n3.config.pStylePrefix || "", n3.className = n3.pfx + "tags", n3.stateInputId = n3.pfx + "states", n3.stateInputC = n3.pfx + "input-c", n3.states = n3.config.states || [];
            var i2 = n3.config.em, o2 = n3.collection;
            n3.target = i2;
            var a2 = i2.get("SelectorManager");
            n3.module = a2, n3.em = i2, n3.componentChanged = (0, r2.debounce)(n3.componentChanged.bind(n3), 0), n3.checkSync = (0, r2.debounce)(n3.checkSync.bind(n3), 0);
            return n3.listenTo(i2, "component:toggled component:update:classes", n3.componentChanged), n3.listenTo(i2, "styleManager:update", n3.componentChanged), n3.listenTo(i2, "component:update:classes change:state", n3.__handleStateChange), n3.listenTo(i2, "styleable:change change:device", n3.checkSync), n3.listenTo(o2, "add", n3.addNew), n3.listenTo(o2, "reset", n3.renderClasses), n3.listenTo(o2, "remove", n3.tagRemoved), n3.listenTo(a2.getAll(), a2.events.state, (0, r2.debounce)(function() {
              return n3.renderStates();
            }, 0)), n3.delegateEvents(), n3;
          }
          return w(e3, t3), e3.prototype.template = function(t4) {
            var e4 = t4.labelInfo, n3 = t4.labelHead, r3 = t4.iconSync, i2 = t4.iconAdd, o2 = t4.pfx, a2 = t4.ppfx;
            return (0, p.Z)(O || (O = k([' <div id="', 'up" class="', 'header">\n        <div id="', 'label" class="', 'header-label">', '</div>\n        <div id="', 'status-c" class="', 'header-status">\n          <span id="', 'input-c" data-states-c>\n            <div class="', "field ", 'select">\n              <span id="', 'input-holder">\n                <select id="', 'states" data-states></select>\n              </span>\n              <div class="', 'sel-arrow">\n                <div class="', 'd-s-arrow"></div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div id="', 'tags-field" class="', 'field">\n        <div id="', 'tags-c" data-selectors></div>\n        <input id="', 'new" data-input />\n        <span id="', 'add-tag" class="', "tags-btn ", 'tags-btn__add" data-add> $', ' </span>\n        <span class="', "tags-btn ", 'tags-btn__sync" style="display: none" data-sync-style> $', ' </span>\n      </div>\n      <div class="', 'sels-info">\n        <div class="', 'label-sel">', ':</div>\n        <div class="', 'sels" data-selected></div>\n      </div>'], [' <div id="', 'up" class="', 'header">\n        <div id="', 'label" class="', 'header-label">', '</div>\n        <div id="', 'status-c" class="', 'header-status">\n          <span id="', 'input-c" data-states-c>\n            <div class="', "field ", 'select">\n              <span id="', 'input-holder">\n                <select id="', 'states" data-states></select>\n              </span>\n              <div class="', 'sel-arrow">\n                <div class="', 'd-s-arrow"></div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div id="', 'tags-field" class="', 'field">\n        <div id="', 'tags-c" data-selectors></div>\n        <input id="', 'new" data-input />\n        <span id="', 'add-tag" class="', "tags-btn ", 'tags-btn__add" data-add> $', ' </span>\n        <span class="', "tags-btn ", 'tags-btn__sync" style="display: none" data-sync-style> $', ' </span>\n      </div>\n      <div class="', 'sels-info">\n        <div class="', 'label-sel">', ':</div>\n        <div class="', 'sels" data-selected></div>\n      </div>'])), o2, o2, o2, o2, n3, o2, o2, o2, a2, a2, a2, o2, a2, a2, o2, a2, o2, o2, o2, o2, o2, i2, o2, o2, r3, o2, o2, e4, o2);
          }, e3.prototype.events = function() {
            return { "change [data-states]": "stateChanged", "click [data-add]": "startNewTag", "focusout [data-input]": "endNewTag", "keyup [data-input]": "onInputKeyUp", "click [data-sync-style]": "syncStyle" };
          }, e3.prototype.syncStyle = function() {
            var t4, e4 = this.em, n3 = this.getTarget(), r3 = e4.get("CssComposer"), i2 = this.getCommonSelectors({ opts: { noDisabled: 1 } }), o2 = e4.get("state"), a2 = e4.getCurrentMedia(), s2 = [], l2 = r3.get(i2, o2, a2) || r3.add(i2, o2, a2);
            this.getTargets().forEach(function(e5) {
              var n4 = r3.getIdRule(e5.getId(), { state: o2, mediaText: a2 });
              t4 = n4.getStyle(), n4.setStyle({}), s2.push(n4);
            }), t4 && l2.addStyle(t4), e4.trigger("component:toggled"), e4.trigger("component:sync-style", { component: n3, selectors: i2, mediaText: a2, rule: l2, ruleComponents: s2, state: o2 });
          }, e3.prototype.tagRemoved = function(t4) {
            this.updateStateVis();
          }, e3.prototype.addNew = function(t4) {
            this.addToClasses(t4);
          }, e3.prototype.startNewTag = function() {
            var t4, e4;
            null === (t4 = this.$addBtn) || void 0 === t4 || t4.css({ display: "none" }), null === (e4 = this.$input) || void 0 === e4 || e4.show().focus();
          }, e3.prototype.endNewTag = function() {
            var t4, e4;
            null === (t4 = this.$addBtn) || void 0 === t4 || t4.css({ display: "" }), null === (e4 = this.$input) || void 0 === e4 || e4.hide().val("");
          }, e3.prototype.onInputKeyUp = function(t4) {
            var e4;
            13 === t4.keyCode ? (t4.preventDefault(), this.addNewTag(null === (e4 = this.$input) || void 0 === e4 ? void 0 : e4.val())) : 27 === t4.keyCode && this.endNewTag();
          }, e3.prototype.checkStates = function() {
            var t4 = this.em.getState(), e4 = this.getStates();
            e4 && e4.val(t4);
          }, e3.prototype.componentChanged = function(t4) {
            var e4 = (void 0 === t4 ? {} : t4).targets;
            this.updateSelection(e4);
          }, e3.prototype.updateSelection = function(t4) {
            var e4 = t4 || this.getTargets(), n3 = [];
            return (e4 = (0, r2.isArray)(e4) ? e4 : [e4]) && e4.length && (n3 = this.getCommonSelectors({ targets: e4 }), this.checkSync({ validSelectors: n3 })), this.collection.reset(n3), this.updateStateVis(e4), this.module.__trgCustom(), n3;
          }, e3.prototype.getCommonSelectors = function(t4) {
            var e4 = void 0 === t4 ? {} : t4, n3 = e4.targets, r3 = e4.opts, i2 = void 0 === r3 ? {} : r3, o2 = n3 || this.getTargets();
            return this.module.__getCommonSelectors(o2, i2);
          }, e3.prototype._commonSelectors = function() {
            for (var t4, e4 = [], n3 = 0; n3 < arguments.length; n3++) e4[n3] = arguments[n3];
            return (t4 = this.module).__common.apply(t4, e4);
          }, e3.prototype.checkSync = function() {
            var t4, e4 = this, n3 = e4.$btnSyncEl, i2 = e4.config, o2 = e4.collection, a2 = this.getTarget();
            if (a2 && i2.componentFirst && o2.length) {
              var s2 = a2.getStyle();
              t4 = !(0, r2.isEmpty)(s2);
            }
            n3 && n3[t4 ? "show" : "hide"]();
          }, e3.prototype.getTarget = function() {
            return this.target.getSelected();
          }, e3.prototype.getTargets = function() {
            return this.target.getSelectedAll();
          }, e3.prototype.updateStateVis = function(t4) {
            var e4 = this.em, n3 = e4 && e4.getConfig().avoidInlineStyle, r3 = this.collection.length || n3 ? "" : "none";
            this.getStatesC().css("display", r3), this.updateSelector(t4);
          }, e3.prototype.__handleStateChange = function() {
            this.updateSelector(this.getTargets());
          }, e3.prototype.updateSelector = function(t4) {
            var e4 = this, n3 = this.el.querySelector("[data-selected]"), i2 = [], o2 = t4 || this.getTargets();
            (o2 = (0, r2.isArray)(o2) ? o2 : [o2]).forEach(function(t5) {
              return i2.push(e4.__getName(t5));
            }), n3 && (n3.innerHTML = i2.join(", ")), this.checkStates();
          }, e3.prototype.__getName = function(t4) {
            var e4, n3 = this, i2 = n3.pfx, o2 = n3.config, a2 = n3.em, s2 = o2.selectedName, l2 = o2.componentFirst;
            if ((0, r2.isString)(t4)) e4 = (0, p.Z)(C || (C = k(['<span class="', 'sel-gen">', "</span>"], ['<span class="', 'sel-gen">', "</span>"])), i2, t4);
            else {
              var c2 = null == t4 ? void 0 : t4.getSelectors();
              if (!c2) return "";
              var u2 = c2.getStyleable(), f2 = a2.get("state"), h2 = t4.getId ? (0, p.Z)(S || (S = k(['<span class="', 'sel-cmp">', '</span>\n            <span class="', 'sel-id">#', "</span>"], ['<span class="', 'sel-cmp">', '</span>\n            <span class="', 'sel-id">#', "</span>"])), i2, t4.getName(), i2, t4.getId()) : "";
              e4 = (e4 = this.collection.getFullString(u2)) ? (0, p.Z)(_ || (_ = k(['<span class="', 'sel-rule">', "</span>"], ['<span class="', 'sel-rule">', "</span>"])), i2, e4) : t4.get("selectorsAdd") || h2, e4 = l2 && h2 ? h2 : e4, e4 += f2 ? (0, p.Z)(P || (P = k(['<span class="', 'sel-state">:', "</span>"], ['<span class="', 'sel-state">:', "</span>"])), i2, f2) : "", e4 = s2 ? s2({ result: e4, state: f2, target: t4 }) : e4;
            }
            return e4 && '<span class="'.concat(i2, 'sel">').concat(e4, "</span>");
          }, e3.prototype.stateChanged = function(t4) {
            var e4 = this.em, n3 = t4.target.value;
            e4.set("state", n3);
          }, e3.prototype.addNewTag = function(t4) {
            var e4 = t4.trim();
            e4 && (this.module.addSelected({ label: e4 }), this.endNewTag());
          }, e3.prototype.addToClasses = function(t4, e4) {
            var n3 = e4, r3 = this.getClasses(), i2 = new y({ model: t4, config: this.config, coll: this.collection, module: this.module }).render().el;
            return n3 ? n3.appendChild(i2) : r3.append(i2), i2;
          }, e3.prototype.renderClasses = function() {
            var t4 = this, e4 = document.createDocumentFragment(), n3 = this.getClasses();
            n3.empty(), this.collection.each(function(n4) {
              return t4.addToClasses(n4, e4);
            }), n3.append(e4);
          }, e3.prototype.getClasses = function() {
            return this.$el.find("[data-selectors]");
          }, e3.prototype.getStates = function() {
            if (!this.$states) {
              var t4 = this.$el.find("[data-states]");
              this.$states = t4[0] && t4;
            }
            return this.$states;
          }, e3.prototype.getStatesC = function() {
            return this.$statesC || (this.$statesC = this.$el.find("#" + this.stateInputC)), this.$statesC;
          }, e3.prototype.renderStates = function() {
            var t4 = this.module, e4 = this.em, n3 = e4.t("selectorManager.emptyState"), r3 = t4.getStates().map(function(t5) {
              var n4 = e4.t("selectorManager.states.".concat(t5.id)) || t5.getLabel() || t5.id;
              return '<option value="'.concat(t5.id, '">').concat(n4, "</option>");
            }).join(""), i2 = this.getStates();
            i2 && i2.html('<option value="">'.concat(n3, "</option>").concat(r3)), this.checkStates();
          }, e3.prototype.render = function() {
            var t4 = this, e4 = t4.em, n3 = t4.pfx, r3 = t4.ppfx, i2 = t4.config, o2 = t4.$el, a2 = t4.el, s2 = i2.render, l2 = { iconSync: i2.iconSync, iconAdd: i2.iconAdd, labelHead: e4.t("selectorManager.label"), labelInfo: e4.t("selectorManager.selected"), ppfx: r3, pfx: n3, el: a2 };
            o2.html(this.template(l2));
            var c2 = s2 && s2(l2);
            return c2 && c2 !== a2 && o2.empty().append(c2), this.$input = o2.find("[data-input]"), this.$addBtn = o2.find("[data-add]"), this.$classes = o2.find("#" + n3 + "tags-c"), this.$btnSyncEl = o2.find("[data-sync-style]"), this.$input.hide(), this.renderStates(), this.renderClasses(), o2.attr("class", "".concat(this.className, " ").concat(r3, "one-bg ").concat(r3, "two-color")), this;
          }, e3;
        }(a.View);
        var O, C, S, _, P, T = /* @__PURE__ */ function() {
          var t3 = function(e3, n3) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n4 in e4) Object.prototype.hasOwnProperty.call(e4, n4) && (t4[n4] = e4[n4]);
            }, t3(e3, n3);
          };
          return function(e3, n3) {
            if ("function" != typeof n3 && null !== n3) throw new TypeError("Class extends value " + String(n3) + " is not a constructor or null");
            function r3() {
              this.constructor = e3;
            }
            t3(e3, n3), e3.prototype = null === n3 ? Object.create(n3) : (r3.prototype = n3.prototype, new r3());
          };
        }(), E = function() {
          return E = Object.assign || function(t3) {
            for (var e3, n3 = 1, r3 = arguments.length; n3 < r3; n3++) for (var i2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, i2) && (t3[i2] = e3[i2]);
            return t3;
          }, E.apply(this, arguments);
        }, j = function(t3, e3, n3) {
          if (n3 || 2 === arguments.length) for (var r3, i2 = 0, o2 = e3.length; i2 < o2; i2++) !r3 && i2 in e3 || (r3 || (r3 = Array.prototype.slice.call(e3, 0, i2)), r3[i2] = e3[i2]);
          return t3.concat(r3 || Array.prototype.slice.call(e3));
        }, A = function(t3) {
          return (0, r2.isString)(t3) && "#" == t3[0];
        }, D = function(t3) {
          return (0, r2.isString)(t3) && "." == t3[0];
        }, M = "selector", R = "".concat(M, ":"), Z = "".concat(R, "add"), L = "".concat(R, "update"), N = "".concat(R, "remove"), I = "".concat(N, ":before"), F = "".concat(R, "custom"), V = "".concat(R, "state");
        const B = function(t3) {
          function e3() {
            var e4 = null !== t3 && t3.apply(this, arguments) || this;
            return e4.name = "SelectorManager", e4.Selector = c.Z, e4.Selectors = u.Z, e4.events = { all: M, update: L, add: Z, remove: N, removeBefore: I, state: V, custom: F }, e4.__update = (0, r2.debounce)(function() {
              e4.__trgCustom();
            }, 0), e4;
          }
          return T(e3, t3), e3.prototype.init = function(t4) {
            var e4 = this;
            void 0 === t4 && (t4 = {}), this.__initConfig(s, t4);
            var n3 = this.getConfig(), r3 = this.em, i2 = n3.pStylePrefix;
            i2 && (n3.stylePrefix = i2 + n3.stylePrefix), this.all = new u.Z(n3.selectors), this.selected = new u.Z([], { em: r3, config: n3 }), this.states = new a.Collection(n3.states.map(function(t5) {
              return new d(t5);
            }), { model: d }), this.model = new a.Model({ cFirst: n3.componentFirst, _undo: true }), this.__initListen({ collections: [this.states, this.selected], propagate: [{ entity: this.states, event: this.events.state }] }), r3.on("change:state", function(t5, e5) {
              return r3.trigger(V, e5);
            }), this.model.on("change:cFirst", function(t5, e5) {
              return r3.trigger("selector:type", e5);
            });
            return this.model.listenTo(r3, "component:toggled component:update:classes change:device styleManager:update selector:state selector:type", function() {
              return e4.__update();
            }), this;
          }, e3.prototype.__trgCustom = function(t4) {
            this.em.trigger(this.events.custom, this.__customData(t4));
          }, e3.prototype.__customData = function(t4) {
            void 0 === t4 && (t4 = {});
            var e4 = t4.container;
            return { states: this.getStates(), selected: this.getSelected(), container: e4 };
          }, e3.prototype.postRender = function() {
            this.__appendTo(), this.__trgCustom();
          }, e3.prototype.select = function(t4, e4) {
            void 0 === e4 && (e4 = {});
            var n3 = Array.isArray(t4) ? t4 : [t4], r3 = this.em.get("StyleManager").select(n3, e4), o2 = this.selectorTags, a2 = r3.filter(function(t5) {
              return t5;
            }).map(function(t5) {
              return (0, i.isComponent)(t5) || (0, i.isRule)(t5) && !t5.get("selectorsAdd") ? t5 : t5.getSelectorsString();
            });
            return o2 && o2.componentChanged({ targets: a2 }), this;
          }, e3.prototype.addSelector = function(t4, e4, n3) {
            void 0 === e4 && (e4 = {}), void 0 === n3 && (n3 = {});
            var i2 = E({}, e4);
            (0, r2.isObject)(t4) ? i2 = t4 : i2.name = t4, A(i2.name) ? (i2.name = i2.name.substr(1), i2.type = c.Z.TYPE_ID) : D(i2.name) && (i2.name = i2.name.substr(1)), i2.label && !i2.name && (i2.name = this.escapeName(i2.label));
            var o2 = i2.name, a2 = this.getConfig(), s2 = this.getAll(), l2 = this.em, u2 = o2 ? this.get(o2, i2.type) : s2.where(i2)[0];
            if (!u2) {
              var f2 = i2 instanceof c.Z ? i2 : new c.Z(i2, E(E({}, n3), { config: a2, em: l2 }));
              return s2.add(f2, n3);
            }
            return u2;
          }, e3.prototype.getSelector = function(t4, e4) {
            return void 0 === e4 && (e4 = c.Z.TYPE_CLASS), A(t4) ? (t4 = t4.substr(1), e4 = c.Z.TYPE_ID) : D(t4) && (t4 = t4.substr(1)), this.getAll().where({ name: t4, type: e4 })[0];
          }, e3.prototype.add = function(t4, e4) {
            var n3 = this;
            void 0 === e4 && (e4 = {});
            var i2 = (0, r2.isString)(t4) ? {} : e4;
            return (0, r2.isArray)(t4) ? t4.map(function(t5) {
              return n3.addSelector(t5, e4, i2);
            }) : this.addSelector(t4, e4, i2);
          }, e3.prototype.addClass = function(t4) {
            var e4 = this, n3 = [];
            return (0, r2.isString)(t4) && (t4 = t4.trim().split(" ")), t4.forEach(function(t5) {
              return n3.push(e4.addSelector(t5));
            }), n3;
          }, e3.prototype.get = function(t4, e4) {
            var n3 = this;
            if ((0, r2.isArray)(t4)) {
              var i2 = [];
              return t4.map(function(t5) {
                return n3.getSelector(t5);
              }).filter(function(t5) {
                return t5;
              }).forEach(function(t5) {
                return i2.indexOf(t5) < 0 && i2.push(t5);
              }), i2;
            }
            return this.getSelector(t4, e4) || null;
          }, e3.prototype.remove = function(t4, e4) {
            return this.__remove(t4, e4);
          }, e3.prototype.setState = function(t4) {
            return this.em.setState(t4), this;
          }, e3.prototype.getState = function() {
            return this.em.getState();
          }, e3.prototype.getStates = function() {
            return j([], this.states.models, true);
          }, e3.prototype.setStates = function(t4, e4) {
            return this.states.reset(t4.map(function(t5) {
              return new d(t5);
            }), e4);
          }, e3.prototype.getSelected = function() {
            return this.__getCommon();
          }, e3.prototype.addSelected = function(t4) {
            var e4 = this.add(t4);
            this.em.getSelectedAll().forEach(function(t5) {
              t5.getSelectors().add(e4);
            });
          }, e3.prototype.removeSelected = function(t4) {
            this.em.getSelectedAll().forEach(function(e4) {
              !t4.get("protected") && e4 && e4.getSelectors().remove(t4);
            });
          }, e3.prototype.getSelectedTargets = function() {
            return this.em.get("StyleManager").getSelectedAll();
          }, e3.prototype.setComponentFirst = function(t4) {
            this.getConfig().componentFirst = t4, this.model.set({ cFirst: t4 });
          }, e3.prototype.getComponentFirst = function() {
            return this.getConfig().componentFirst;
          }, e3.prototype.escapeName = function(t4) {
            var e4 = this.getConfig().escapeName;
            return e4 ? e4(t4) : c.Z.escapeName(t4);
          }, e3.prototype.render = function(t4) {
            this.em;
            var e4 = this.selectorTags, n3 = this.getConfig(), r3 = e4 && e4.el;
            return this.selected.reset(t4), this.selectorTags = new x({ el: r3, collection: this.selected, module: this, config: n3 }), this.selectorTags.render().el;
          }, e3.prototype.destroy = function() {
            var t4 = this.selectorTags;
            this.model.stopListening(), this.__destroy(), null == t4 || t4.remove(), this.selectorTags = void 0;
          }, e3.prototype.__getCommon = function() {
            return this.__getCommonSelectors(this.em.getSelectedAll());
          }, e3.prototype.__getCommonSelectors = function(t4, e4) {
            void 0 === e4 && (e4 = {});
            var n3 = t4.map(function(t5) {
              return t5.getSelectors && t5.getSelectors().getValid(e4);
            }).filter(Boolean);
            return this.__common.apply(this, n3);
          }, e3.prototype.__common = function() {
            for (var t4 = this, e4 = [], n3 = 0; n3 < arguments.length; n3++) e4[n3] = arguments[n3];
            return e4.length ? 1 === e4.length ? e4[0] : 2 === e4.length ? e4[0].filter(function(t5) {
              return e4[1].indexOf(t5) >= 0;
            }) : e4.slice(1).reduce(function(e5, n4) {
              return t4.__common(e5, n4);
            }, e4[0]) : [];
          }, e3;
        }(o.Z);
      }, 5963: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => u });
        var r2, i = n2(9050), o = n2(2316), a = (r2 = function(t3, e3) {
          return r2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, r2(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          r2(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        }), s = 1, l = 2, c = function(t3) {
          function e3(n3, r3) {
            void 0 === r3 && (r3 = {});
            var i2 = t3.call(this, n3, r3) || this, o2 = r3.config, a2 = void 0 === o2 ? {} : o2, s2 = i2.get("name"), l2 = i2.get("label");
            s2 ? l2 || i2.set("label", s2) : i2.set("name", l2);
            var c2 = i2.get("name"), u2 = a2.escapeName, f = u2 ? u2(c2) : e3.escapeName(c2);
            return i2.set("name", f), i2.em = r3.em, i2;
          }
          return a(e3, t3), e3.prototype.defaults = function() {
            return { name: "", label: "", type: s, active: true, private: false, protected: false, _undo: true };
          }, e3.prototype.isId = function() {
            return this.get("type") === l;
          }, e3.prototype.isClass = function() {
            return this.get("type") === s;
          }, e3.prototype.getFullName = function(t4) {
            void 0 === t4 && (t4 = {});
            var e4 = t4.escape, n3 = this.get("name"), r3 = "";
            switch (this.get("type")) {
              case s:
                r3 = ".";
                break;
              case l:
                r3 = "#";
            }
            return r3 + (e4 ? e4(n3) : n3);
          }, e3.prototype.toString = function() {
            return this.getFullName();
          }, e3.prototype.getLabel = function() {
            return this.get("label");
          }, e3.prototype.setLabel = function(t4) {
            return this.set("label", t4);
          }, e3.prototype.getActive = function() {
            return this.get("active");
          }, e3.prototype.setActive = function(t4) {
            return this.set("active", t4);
          }, e3.prototype.toJSON = function(t4) {
            void 0 === t4 && (t4 = {});
            var e4 = this.em, n3 = o.Model.prototype.toJSON.call(this, [t4]), r3 = (0, i.result)(this, "defaults");
            if (e4 && e4.getConfig().avoidDefaults) {
              (0, i.forEach)(r3, function(t5, e5) {
                n3[e5] === t5 && delete n3[e5];
              }), n3.label === n3.name && delete n3.label;
              var a2 = (0, i.keys)(n3).length;
              1 === a2 && n3.name && (n3 = n3.name), 2 === a2 && n3.name && n3.type && (n3 = this.getFullName());
            }
            return n3;
          }, e3.escapeName = function(t4) {
            return "".concat(t4).trim().replace(/([^a-z0-9\w-\:]+)/gi, "-");
          }, e3.TYPE_CLASS = s, e3.TYPE_ID = l, e3;
        }(o.Model);
        const u = c;
        c.prototype.idAttribute = "name";
      }, 966: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => u });
        var r2, i = n2(9050), o = n2(2316), a = n2(5963), s = (r2 = function(t3, e3) {
          return r2 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
          }, r2(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n3() {
            this.constructor = t3;
          }
          r2(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
        }), l = function(t3, e3) {
          return t3.reduce(function(n3, r3, i2) {
            return n3.concat(l(t3.slice(i2 + 1), "".concat(e3).concat(r3)));
          }, [e3]);
        }, c = function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return s(e3, t3), e3.prototype.modelId = function(t4) {
            return "".concat(t4.name, "_").concat(t4.type || a.Z.TYPE_CLASS);
          }, e3.prototype.getStyleable = function() {
            return (0, i.filter)(this.models, function(t4) {
              return t4.get("active") && !t4.get("private");
            });
          }, e3.prototype.getValid = function(t4) {
            var e4 = (void 0 === t4 ? {} : t4).noDisabled;
            return (0, i.filter)(this.models, function(t5) {
              return !t5.get("private");
            }).filter(function(t5) {
              return e4 ? t5.get("active") : 1;
            });
          }, e3.prototype.getFullString = function(t4, e4) {
            void 0 === e4 && (e4 = {});
            var n3 = [];
            return (t4 || this).forEach(function(t5) {
              return n3.push(t5.getFullName(e4));
            }), e4.sort && n3.sort(), n3.join("").trim();
          }, e3.prototype.getFullName = function(t4) {
            void 0 === t4 && (t4 = {});
            var e4 = t4.combination, n3 = t4.array, r3 = [], i2 = this.map(function(e5) {
              return e5.getFullName(t4);
            }).sort();
            return e4 ? i2.forEach(function(t5, e5) {
              r3 = r3.concat(l(i2.slice(e5 + 1), t5));
            }) : r3 = i2, n3 ? r3 : e4 ? r3.join(",") : r3.join("");
          }, e3;
        }(o.Collection);
        const u = c;
        c.prototype.model = a.Z;
      }, 7539: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => i });
        var r2 = n2(1163);
        function i(t3) {
          for (var e3 = [], n3 = 1; n3 < arguments.length; n3++) e3[n3 - 1] = arguments[n3];
          var i2 = t3.raw;
          return i2.reduce(function(t4, n4, o) {
            var a = e3[o - 1], s = i2[o - 1];
            return Array.isArray(a) ? a = a.join("") : s && "$" === s.slice(-1) ? t4 = t4.slice(0, -1) : a = (0, r2.escape)(a), t4 + a + n4;
          });
        }
      }, 1163: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { appendStyles: () => d, buildBase64UrlFromSvg: () => U, camelCase: () => b, capitalize: () => I, createId: () => z, deepMerge: () => T, escape: () => P, find: () => _, getElRect: () => j, getElement: () => x, getGlobal: () => l, getKeyChar: () => M, getKeyCode: () => D, getModel: () => E, getPointerEvent: () => A, getUiClass: () => h, getUnitFromValue: () => m, getViewEl: () => B, hasDnd: () => k, hasWin: () => s, isCommentNode: () => C, isComponent: () => F, isDef: () => a, isEmptyObj: () => N, isEnterKey: () => Z, isEscKey: () => R, isObject: () => L, isRule: () => V, isTaggableNode: () => S, isTextNode: () => O, matches: () => f, normalizeFloat: () => w, off: () => v, on: () => g, setViewEl: () => H, shallowDiff: () => p, toLowerCase: () => c, upFirst: () => y });
        var r2 = n2(9050), i = function() {
          return i = Object.assign || function(t3) {
            for (var e3, n3 = 1, r3 = arguments.length; n3 < r3; n3++) for (var i2 in e3 = arguments[n3]) Object.prototype.hasOwnProperty.call(e3, i2) && (t3[i2] = e3[i2]);
            return t3;
          }, i.apply(this, arguments);
        }, o = function(t3, e3, n3) {
          if (n3 || 2 === arguments.length) for (var r3, i2 = 0, o2 = e3.length; i2 < o2; i2++) !r3 && i2 in e3 || (r3 || (r3 = Array.prototype.slice.call(e3, 0, i2)), r3[i2] = e3[i2]);
          return t3.concat(r3 || Array.prototype.slice.call(e3));
        }, a = function(t3) {
          return void 0 !== t3;
        }, s = function() {
          return "undefined" != typeof window;
        }, l = function() {
          return "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : n2.g;
        }, c = function(t3) {
          return (t3 || "").toLowerCase();
        }, u = s() ? window.Element.prototype : {}, f = u.matches || u.webkitMatchesSelector || u.mozMatchesSelector || u.msMatchesSelector, h = function(t3, e3) {
          var n3 = t3.getConfig(), r3 = n3.stylePrefix;
          return [n3.customUI && "".concat(r3, "cui"), e3].filter(function(t4) {
            return t4;
          }).join(" ");
        }, d = function(t3, e3) {
          void 0 === e3 && (e3 = {});
          var n3 = (0, r2.isArray)(t3) ? o([], t3, true) : [t3];
          if (n3.length) {
            var i2 = n3.shift();
            if (i2 && (!e3.unique || !document.querySelector('link[href="'.concat(i2, '"]')))) {
              var a2 = document.head, s2 = document.createElement("link");
              s2.href = i2, s2.rel = "stylesheet", e3.prepand ? a2.insertBefore(s2, a2.firstChild) : a2.appendChild(s2);
            }
            d(n3);
          }
        }, p = function(t3, e3) {
          var n3 = {}, i2 = (0, r2.keys)(e3);
          for (var o2 in t3) if (t3.hasOwnProperty(o2)) {
            var a2 = t3[o2], s2 = e3[o2];
            i2.indexOf(o2) >= 0 ? a2 !== s2 && (n3[o2] = s2) : n3[o2] = null;
          }
          for (var o2 in e3) e3.hasOwnProperty(o2) && (0, r2.isUndefined)(t3[o2]) && (n3[o2] = e3[o2]);
          return n3;
        }, g = function(t3, e3, n3, r3) {
          var i2 = e3.split(/\s+/);
          t3 = t3 instanceof Array ? t3 : [t3];
          for (var o2 = function(e4) {
            t3.forEach(function(t4) {
              return t4 && t4.addEventListener(i2[e4], n3, r3);
            });
          }, a2 = 0; a2 < i2.length; ++a2) o2(a2);
        }, v = function(t3, e3, n3, r3) {
          var i2 = e3.split(/\s+/);
          t3 = t3 instanceof Array ? t3 : [t3];
          for (var o2 = function(e4) {
            t3.forEach(function(t4) {
              return t4 && t4.removeEventListener(i2[e4], n3, r3);
            });
          }, a2 = 0; a2 < i2.length; ++a2) o2(a2);
        }, m = function(t3) {
          return t3.replace(parseFloat(t3), "");
        }, y = function(t3) {
          return t3[0].toUpperCase() + t3.toLowerCase().slice(1);
        }, b = function(t3) {
          return t3.replace(/-./g, function(t4) {
            return t4[1].toUpperCase();
          });
        }, w = function(t3, e3, n3) {
          void 0 === e3 && (e3 = 1), void 0 === n3 && (n3 = 0);
          var r3 = 0;
          if (isNaN(t3)) return n3;
          if (t3 = parseFloat(t3), Math.floor(t3) !== t3) {
            var i2 = e3.toString().split(".")[1];
            r3 = i2 ? i2.length : 0;
          }
          return r3 ? parseFloat(t3.toFixed(r3)) : t3;
        }, k = function(t3) {
          return "draggable" in document.createElement("i") && (t3 ? t3.get("Config").nativeDnD : 1);
        }, x = function(t3) {
          return (0, r2.isElement)(t3) || O(t3) ? t3 : t3 && t3.getEl ? t3.getEl() : void 0;
        }, O = function(t3) {
          return t3 && 3 === t3.nodeType;
        }, C = function(t3) {
          return t3 && 8 === t3.nodeType;
        }, S = function(t3) {
          return t3 && !O(t3) && !C(t3);
        }, _ = function(t3, e3) {
          var n3 = null;
          return t3.some(function(r3, i2) {
            return e3(r3, i2, t3) ? (n3 = r3, 1) : 0;
          }), n3;
        }, P = function(t3) {
          return void 0 === t3 && (t3 = ""), "".concat(t3).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#039;").replace(/`/g, "&#96;");
        }, T = function() {
          for (var t3 = [], e3 = 0; e3 < arguments.length; e3++) t3[e3] = arguments[e3];
          for (var n3 = i({}, t3[0]), r3 = 1; r3 < t3.length; r3++) {
            var o2 = i({}, t3[r3]);
            for (var a2 in o2) {
              var s2 = n3[a2], l2 = o2[a2];
              L(s2) && L(l2) ? n3[a2] = T(s2, l2) : n3[a2] = l2;
            }
          }
          return n3;
        }, E = function(t3, e3) {
          var n3 = t3;
          return !e3 && t3 && t3.__cashData ? n3 = t3.__cashData.model : (0, r2.isElement)(t3) && (n3 = e3(t3).data("model")), n3;
        }, j = function(t3) {
          var e3, n3 = { top: 0, left: 0, width: 0, height: 0 };
          if (!t3) return n3;
          if (O(t3)) {
            var r3 = document.createRange();
            r3.selectNode(t3), e3 = r3.getBoundingClientRect(), r3.detach();
          }
          return e3 || (t3.getBoundingClientRect ? t3.getBoundingClientRect() : n3);
        }, A = function(t3) {
          return t3.touches && t3.touches[0] ? t3.touches[0] : t3;
        }, D = function(t3) {
          return t3.which || t3.keyCode;
        }, M = function(t3) {
          return String.fromCharCode(D(t3));
        }, R = function(t3) {
          return 27 === D(t3);
        }, Z = function(t3) {
          return 13 === D(t3);
        }, L = function(t3) {
          return null !== t3 && !Array.isArray(t3) && "object" == typeof t3;
        }, N = function(t3) {
          return Object.keys(t3).length <= 0;
        }, I = function(t3) {
          return t3 && t3.charAt(0).toUpperCase() + t3.substring(1);
        }, F = function(t3) {
          return t3 && t3.toHTML;
        }, V = function(t3) {
          return t3 && t3.toCSS;
        }, B = function(t3) {
          return t3.__gjsv;
        }, H = function(t3, e3) {
          t3.__gjsv = e3;
        }, z = function(t3) {
          void 0 === t3 && (t3 = 16);
          for (var e3 = "", n3 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", r3 = n3.length, i2 = 0; i2 < t3; i2++) e3 += n3.charAt(Math.floor(Math.random() * r3));
          return e3;
        }, U = function(t3) {
          return t3 && "<svg" === t3.substr(0, 4) ? "data:image/svg+xml;base64,".concat(window.btoa(t3)) : t3;
        };
      }, 5666: (t2) => {
        var e2 = function(t3) {
          "use strict";
          var e3, n2 = Object.prototype, r2 = n2.hasOwnProperty, i = "function" == typeof Symbol ? Symbol : {}, o = i.iterator || "@@iterator", a = i.asyncIterator || "@@asyncIterator", s = i.toStringTag || "@@toStringTag";
          function l(t4, e4, n3) {
            return Object.defineProperty(t4, e4, { value: n3, enumerable: true, configurable: true, writable: true }), t4[e4];
          }
          try {
            l({}, "");
          } catch (t4) {
            l = function(t5, e4, n3) {
              return t5[e4] = n3;
            };
          }
          function c(t4, e4, n3, r3) {
            var i2 = e4 && e4.prototype instanceof v ? e4 : v, o2 = Object.create(i2.prototype), a2 = new T(r3 || []);
            return o2._invoke = /* @__PURE__ */ function(t5, e5, n4) {
              var r4 = f;
              return function(i3, o3) {
                if (r4 === d) throw new Error("Generator is already running");
                if (r4 === p) {
                  if ("throw" === i3) throw o3;
                  return j();
                }
                for (n4.method = i3, n4.arg = o3; 1; ) {
                  var a3 = n4.delegate;
                  if (a3) {
                    var s2 = S(a3, n4);
                    if (s2) {
                      if (s2 === g) continue;
                      return s2;
                    }
                  }
                  if ("next" === n4.method) n4.sent = n4._sent = n4.arg;
                  else if ("throw" === n4.method) {
                    if (r4 === f) throw r4 = p, n4.arg;
                    n4.dispatchException(n4.arg);
                  } else "return" === n4.method && n4.abrupt("return", n4.arg);
                  r4 = d;
                  var l2 = u(t5, e5, n4);
                  if ("normal" === l2.type) {
                    if (r4 = n4.done ? p : h, l2.arg === g) continue;
                    return { value: l2.arg, done: n4.done };
                  }
                  "throw" === l2.type && (r4 = p, n4.method = "throw", n4.arg = l2.arg);
                }
              };
            }(t4, n3, a2), o2;
          }
          function u(t4, e4, n3) {
            try {
              return { type: "normal", arg: t4.call(e4, n3) };
            } catch (t5) {
              return { type: "throw", arg: t5 };
            }
          }
          t3.wrap = c;
          var f = "suspendedStart", h = "suspendedYield", d = "executing", p = "completed", g = {};
          function v() {
          }
          function m() {
          }
          function y() {
          }
          var b = {};
          b[o] = function() {
            return this;
          };
          var w = Object.getPrototypeOf, k = w && w(w(E([])));
          k && k !== n2 && r2.call(k, o) && (b = k);
          var x = y.prototype = v.prototype = Object.create(b);
          function O(t4) {
            ["next", "throw", "return"].forEach(function(e4) {
              l(t4, e4, function(t5) {
                return this._invoke(e4, t5);
              });
            });
          }
          function C(t4, e4) {
            function n3(i3, o2, a2, s2) {
              var l2 = u(t4[i3], t4, o2);
              if ("throw" !== l2.type) {
                var c2 = l2.arg, f2 = c2.value;
                return f2 && "object" == typeof f2 && r2.call(f2, "__await") ? e4.resolve(f2.__await).then(function(t5) {
                  n3("next", t5, a2, s2);
                }, function(t5) {
                  n3("throw", t5, a2, s2);
                }) : e4.resolve(f2).then(function(t5) {
                  c2.value = t5, a2(c2);
                }, function(t5) {
                  return n3("throw", t5, a2, s2);
                });
              }
              s2(l2.arg);
            }
            var i2;
            this._invoke = function(t5, r3) {
              function o2() {
                return new e4(function(e5, i3) {
                  n3(t5, r3, e5, i3);
                });
              }
              return i2 = i2 ? i2.then(o2, o2) : o2();
            };
          }
          function S(t4, n3) {
            var r3 = t4.iterator[n3.method];
            if (r3 === e3) {
              if (n3.delegate = null, "throw" === n3.method) {
                if (t4.iterator["return"] && (n3.method = "return", n3.arg = e3, S(t4, n3), "throw" === n3.method)) return g;
                n3.method = "throw", n3.arg = new TypeError("The iterator does not provide a 'throw' method");
              }
              return g;
            }
            var i2 = u(r3, t4.iterator, n3.arg);
            if ("throw" === i2.type) return n3.method = "throw", n3.arg = i2.arg, n3.delegate = null, g;
            var o2 = i2.arg;
            return o2 ? o2.done ? (n3[t4.resultName] = o2.value, n3.next = t4.nextLoc, "return" !== n3.method && (n3.method = "next", n3.arg = e3), n3.delegate = null, g) : o2 : (n3.method = "throw", n3.arg = new TypeError("iterator result is not an object"), n3.delegate = null, g);
          }
          function _(t4) {
            var e4 = { tryLoc: t4[0] };
            1 in t4 && (e4.catchLoc = t4[1]), 2 in t4 && (e4.finallyLoc = t4[2], e4.afterLoc = t4[3]), this.tryEntries.push(e4);
          }
          function P(t4) {
            var e4 = t4.completion || {};
            e4.type = "normal", delete e4.arg, t4.completion = e4;
          }
          function T(t4) {
            this.tryEntries = [{ tryLoc: "root" }], t4.forEach(_, this), this.reset(true);
          }
          function E(t4) {
            if (t4) {
              var n3 = t4[o];
              if (n3) return n3.call(t4);
              if ("function" == typeof t4.next) return t4;
              if (!isNaN(t4.length)) {
                var i2 = -1, a2 = function n4() {
                  for (; ++i2 < t4.length; ) if (r2.call(t4, i2)) return n4.value = t4[i2], n4.done = false, n4;
                  return n4.value = e3, n4.done = true, n4;
                };
                return a2.next = a2;
              }
            }
            return { next: j };
          }
          function j() {
            return { value: e3, done: true };
          }
          return m.prototype = x.constructor = y, y.constructor = m, m.displayName = l(y, s, "GeneratorFunction"), t3.isGeneratorFunction = function(t4) {
            var e4 = "function" == typeof t4 && t4.constructor;
            return !!e4 && (e4 === m || "GeneratorFunction" === (e4.displayName || e4.name));
          }, t3.mark = function(t4) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(t4, y) : (t4.__proto__ = y, l(t4, s, "GeneratorFunction")), t4.prototype = Object.create(x), t4;
          }, t3.awrap = function(t4) {
            return { __await: t4 };
          }, O(C.prototype), C.prototype[a] = function() {
            return this;
          }, t3.AsyncIterator = C, t3.async = function(e4, n3, r3, i2, o2) {
            void 0 === o2 && (o2 = Promise);
            var a2 = new C(c(e4, n3, r3, i2), o2);
            return t3.isGeneratorFunction(n3) ? a2 : a2.next().then(function(t4) {
              return t4.done ? t4.value : a2.next();
            });
          }, O(x), l(x, s, "Generator"), x[o] = function() {
            return this;
          }, x.toString = function() {
            return "[object Generator]";
          }, t3.keys = function(t4) {
            var e4 = [];
            for (var n3 in t4) e4.push(n3);
            return e4.reverse(), function n4() {
              for (; e4.length; ) {
                var r3 = e4.pop();
                if (r3 in t4) return n4.value = r3, n4.done = false, n4;
              }
              return n4.done = true, n4;
            };
          }, t3.values = E, T.prototype = { constructor: T, reset: function(t4) {
            if (this.prev = 0, this.next = 0, this.sent = this._sent = e3, this.done = false, this.delegate = null, this.method = "next", this.arg = e3, this.tryEntries.forEach(P), !t4) for (var n3 in this) "t" === n3.charAt(0) && r2.call(this, n3) && !isNaN(+n3.slice(1)) && (this[n3] = e3);
          }, stop: function() {
            this.done = true;
            var t4 = this.tryEntries[0].completion;
            if ("throw" === t4.type) throw t4.arg;
            return this.rval;
          }, dispatchException: function(t4) {
            if (this.done) throw t4;
            var n3 = this;
            function i2(r3, i3) {
              return s2.type = "throw", s2.arg = t4, n3.next = r3, i3 && (n3.method = "next", n3.arg = e3), !!i3;
            }
            for (var o2 = this.tryEntries.length - 1; o2 >= 0; --o2) {
              var a2 = this.tryEntries[o2], s2 = a2.completion;
              if ("root" === a2.tryLoc) return i2("end");
              if (a2.tryLoc <= this.prev) {
                var l2 = r2.call(a2, "catchLoc"), c2 = r2.call(a2, "finallyLoc");
                if (l2 && c2) {
                  if (this.prev < a2.catchLoc) return i2(a2.catchLoc, true);
                  if (this.prev < a2.finallyLoc) return i2(a2.finallyLoc);
                } else if (l2) {
                  if (this.prev < a2.catchLoc) return i2(a2.catchLoc, true);
                } else {
                  if (!c2) throw new Error("try statement without catch or finally");
                  if (this.prev < a2.finallyLoc) return i2(a2.finallyLoc);
                }
              }
            }
          }, abrupt: function(t4, e4) {
            for (var n3 = this.tryEntries.length - 1; n3 >= 0; --n3) {
              var i2 = this.tryEntries[n3];
              if (i2.tryLoc <= this.prev && r2.call(i2, "finallyLoc") && this.prev < i2.finallyLoc) {
                var o2 = i2;
                break;
              }
            }
            o2 && ("break" === t4 || "continue" === t4) && o2.tryLoc <= e4 && e4 <= o2.finallyLoc && (o2 = null);
            var a2 = o2 ? o2.completion : {};
            return a2.type = t4, a2.arg = e4, o2 ? (this.method = "next", this.next = o2.finallyLoc, g) : this.complete(a2);
          }, complete: function(t4, e4) {
            if ("throw" === t4.type) throw t4.arg;
            return "break" === t4.type || "continue" === t4.type ? this.next = t4.arg : "return" === t4.type ? (this.rval = this.arg = t4.arg, this.method = "return", this.next = "end") : "normal" === t4.type && e4 && (this.next = e4), g;
          }, finish: function(t4) {
            for (var e4 = this.tryEntries.length - 1; e4 >= 0; --e4) {
              var n3 = this.tryEntries[e4];
              if (n3.finallyLoc === t4) return this.complete(n3.completion, n3.afterLoc), P(n3), g;
            }
          }, catch: function(t4) {
            for (var e4 = this.tryEntries.length - 1; e4 >= 0; --e4) {
              var n3 = this.tryEntries[e4];
              if (n3.tryLoc === t4) {
                var r3 = n3.completion;
                if ("throw" === r3.type) {
                  var i2 = r3.arg;
                  P(n3);
                }
                return i2;
              }
            }
            throw new Error("illegal catch attempt");
          }, delegateYield: function(t4, n3, r3) {
            return this.delegate = { iterator: E(t4), resultName: n3, nextLoc: r3 }, "next" === this.method && (this.arg = e3), g;
          } }, t3;
        }(1 ? t2.exports : 0);
        try {
          regeneratorRuntime = e2;
        } catch (t3) {
          Function("r", "regeneratorRuntime = r")(e2);
        }
      }, 2828: (t2, e2, n2) => {
        var r2 = { "./CanvasClear": 7202, "./CanvasClear.js": 7202, "./CanvasMove": 327, "./CanvasMove.js": 327, "./CommandAbstract": 238, "./CommandAbstract.js": 238, "./ComponentDelete": 5820, "./ComponentDelete.js": 5820, "./ComponentDrag": 6694, "./ComponentDrag.js": 6694, "./ComponentEnter": 1947, "./ComponentEnter.js": 1947, "./ComponentExit": 3888, "./ComponentExit.js": 3888, "./ComponentNext": 5883, "./ComponentNext.js": 5883, "./ComponentPrev": 7508, "./ComponentPrev.js": 7508, "./ComponentStyleClear": 8769, "./ComponentStyleClear.js": 8769, "./CopyComponent": 2213, "./CopyComponent.js": 2213, "./DeleteComponent": 5049, "./DeleteComponent.js": 5049, "./ExportTemplate": 3775, "./ExportTemplate.js": 3775, "./Fullscreen": 58, "./Fullscreen.js": 58, "./MoveComponent": 8658, "./MoveComponent.js": 8658, "./OpenAssets": 9617, "./OpenAssets.js": 9617, "./OpenBlocks": 5821, "./OpenBlocks.js": 5821, "./OpenLayers": 3452, "./OpenLayers.js": 3452, "./OpenStyleManager": 2840, "./OpenStyleManager.js": 2840, "./OpenTraitManager": 8644, "./OpenTraitManager.js": 8644, "./PasteComponent": 560, "./PasteComponent.js": 560, "./Preview": 4944, "./Preview.js": 4944, "./Resize": 7538, "./Resize.js": 7538, "./SelectComponent": 2620, "./SelectComponent.js": 2620, "./SelectPosition": 8463, "./SelectPosition.js": 8463, "./ShowOffset": 7994, "./ShowOffset.js": 7994, "./SwitchVisibility": 8352, "./SwitchVisibility.js": 8352 };
        function i(t3) {
          var e3 = o(t3);
          return n2(e3);
        }
        function o(t3) {
          if (!n2.o(r2, t3)) {
            var e3 = new Error("Cannot find module '" + t3 + "'");
            throw e3.code = "MODULE_NOT_FOUND", e3;
          }
          return r2[t3];
        }
        i.keys = function() {
          return Object.keys(r2);
        }, i.resolve = o, t2.exports = i, i.id = 2828;
      }, 907: (t2, e2, n2) => {
        "use strict";
        function r2(t3, e3) {
          (null == e3 || e3 > t3.length) && (e3 = t3.length);
          for (var n3 = 0, r3 = new Array(e3); n3 < e3; n3++) r3[n3] = t3[n3];
          return r3;
        }
        n2.d(e2, { Z: () => r2 });
      }, 7326: (t2, e2, n2) => {
        "use strict";
        function r2(t3) {
          if (void 0 === t3) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
          return t3;
        }
        n2.d(e2, { Z: () => r2 });
      }, 5861: (t2, e2, n2) => {
        "use strict";
        function r2(t3, e3, n3, r3, i2, o, a) {
          try {
            var s = t3[o](a), l = s.value;
          } catch (t4) {
            return void n3(t4);
          }
          s.done ? e3(l) : Promise.resolve(l).then(r3, i2);
        }
        function i(t3) {
          return function() {
            var e3 = this, n3 = arguments;
            return new Promise(function(i2, o) {
              var a = t3.apply(e3, n3);
              function s(t4) {
                r2(a, i2, o, s, l, "next", t4);
              }
              function l(t4) {
                r2(a, i2, o, s, l, "throw", t4);
              }
              s(void 0);
            });
          };
        }
        n2.d(e2, { Z: () => i });
      }, 5671: (t2, e2, n2) => {
        "use strict";
        function r2(t3, e3) {
          if (!(t3 instanceof e3)) throw new TypeError("Cannot call a class as a function");
        }
        n2.d(e2, { Z: () => r2 });
      }, 3144: (t2, e2, n2) => {
        "use strict";
        function r2(t3, e3) {
          for (var n3 = 0; n3 < e3.length; n3++) {
            var r3 = e3[n3];
            r3.enumerable = r3.enumerable || false, r3.configurable = true, "value" in r3 && (r3.writable = true), Object.defineProperty(t3, r3.key, r3);
          }
        }
        function i(t3, e3, n3) {
          return e3 && r2(t3.prototype, e3), n3 && r2(t3, n3), Object.defineProperty(t3, "prototype", { writable: false }), t3;
        }
        n2.d(e2, { Z: () => i });
      }, 4942: (t2, e2, n2) => {
        "use strict";
        function r2(t3, e3, n3) {
          return e3 in t3 ? Object.defineProperty(t3, e3, { value: n3, enumerable: true, configurable: true, writable: true }) : t3[e3] = n3, t3;
        }
        n2.d(e2, { Z: () => r2 });
      }, 1120: (t2, e2, n2) => {
        "use strict";
        function r2(t3) {
          return r2 = Object.setPrototypeOf ? Object.getPrototypeOf : function(t4) {
            return t4.__proto__ || Object.getPrototypeOf(t4);
          }, r2(t3);
        }
        n2.d(e2, { Z: () => r2 });
      }, 9340: (t2, e2, n2) => {
        "use strict";
        function r2(t3, e3) {
          return r2 = Object.setPrototypeOf || function(t4, e4) {
            return t4.__proto__ = e4, t4;
          }, r2(t3, e3);
        }
        function i(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Super expression must either be null or a function");
          t3.prototype = Object.create(e3 && e3.prototype, { constructor: { value: t3, writable: true, configurable: true } }), Object.defineProperty(t3, "prototype", { writable: false }), e3 && r2(t3, e3);
        }
        n2.d(e2, { Z: () => i });
      }, 4925: (t2, e2, n2) => {
        "use strict";
        function r2(t3, e3) {
          if (null == t3) return {};
          var n3, r3, i = function(t4, e4) {
            if (null == t4) return {};
            var n4, r4, i2 = {}, o2 = Object.keys(t4);
            for (r4 = 0; r4 < o2.length; r4++) n4 = o2[r4], e4.indexOf(n4) >= 0 || (i2[n4] = t4[n4]);
            return i2;
          }(t3, e3);
          if (Object.getOwnPropertySymbols) {
            var o = Object.getOwnPropertySymbols(t3);
            for (r3 = 0; r3 < o.length; r3++) n3 = o[r3], e3.indexOf(n3) >= 0 || Object.prototype.propertyIsEnumerable.call(t3, n3) && (i[n3] = t3[n3]);
          }
          return i;
        }
        n2.d(e2, { Z: () => r2 });
      }, 2963: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => o });
        var r2 = n2(1002), i = n2(7326);
        function o(t3, e3) {
          if (e3 && ("object" === (0, r2.Z)(e3) || "function" == typeof e3)) return e3;
          if (void 0 !== e3) throw new TypeError("Derived constructors may only return object or undefined");
          return (0, i.Z)(t3);
        }
      }, 885: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => i });
        var r2 = n2(181);
        function i(t3, e3) {
          return function(t4) {
            if (Array.isArray(t4)) return t4;
          }(t3) || function(t4, e4) {
            var n3 = null == t4 ? null : "undefined" != typeof Symbol && t4[Symbol.iterator] || t4["@@iterator"];
            if (null != n3) {
              var r3, i2, o = [], a = true, s = false;
              try {
                for (n3 = n3.call(t4); !(a = (r3 = n3.next()).done) && (o.push(r3.value), !e4 || o.length !== e4); a = true) ;
              } catch (t5) {
                s = true, i2 = t5;
              } finally {
                try {
                  a || null == n3["return"] || n3["return"]();
                } finally {
                  if (s) throw i2;
                }
              }
              return o;
            }
          }(t3, e3) || (0, r2.Z)(t3, e3) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }();
        }
      }, 168: (t2, e2, n2) => {
        "use strict";
        function r2(t3, e3) {
          return e3 || (e3 = t3.slice(0)), Object.freeze(Object.defineProperties(t3, { raw: { value: Object.freeze(e3) } }));
        }
        n2.d(e2, { Z: () => r2 });
      }, 2982: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => o });
        var r2 = n2(907);
        var i = n2(181);
        function o(t3) {
          return function(t4) {
            if (Array.isArray(t4)) return (0, r2.Z)(t4);
          }(t3) || function(t4) {
            if ("undefined" != typeof Symbol && null != t4[Symbol.iterator] || null != t4["@@iterator"]) return Array.from(t4);
          }(t3) || (0, i.Z)(t3) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
          }();
        }
      }, 1002: (t2, e2, n2) => {
        "use strict";
        function r2(t3) {
          return r2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t4) {
            return typeof t4;
          } : function(t4) {
            return t4 && "function" == typeof Symbol && t4.constructor === Symbol && t4 !== Symbol.prototype ? "symbol" : typeof t4;
          }, r2(t3);
        }
        n2.d(e2, { Z: () => r2 });
      }, 181: (t2, e2, n2) => {
        "use strict";
        n2.d(e2, { Z: () => i });
        var r2 = n2(907);
        function i(t3, e3) {
          if (t3) {
            if ("string" == typeof t3) return (0, r2.Z)(t3, e3);
            var n3 = Object.prototype.toString.call(t3).slice(8, -1);
            return "Object" === n3 && t3.constructor && (n3 = t3.constructor.name), "Map" === n3 || "Set" === n3 ? Array.from(t3) : "Arguments" === n3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n3) ? (0, r2.Z)(t3, e3) : void 0;
          }
        }
      }, 9050: (t2, e2, n2) => {
        "use strict";
        n2.r(e2), n2.d(e2, { VERSION: () => i, after: () => Ze, all: () => en, allKeys: () => vt, any: () => nn, assign: () => Zt, before: () => Le, bind: () => Oe, bindAll: () => _e, chain: () => be, chunk: () => Fn, clone: () => Ft, collect: () => Ke, compact: () => Tn, compose: () => Re, constant: () => J, contains: () => rn, countBy: () => vn, create: () => It, debounce: () => Ae, default: () => Un, defaults: () => Lt, defer: () => Ee, delay: () => Te, detect: () => $e, difference: () => jn, drop: () => _n, each: () => Ge, escape: () => se, every: () => en, extend: () => Rt, extendOwn: () => Zt, filter: () => Qe, find: () => $e, findIndex: () => Ve, findKey: () => Ie, findLastIndex: () => Be, findWhere: () => qe, first: () => Sn, flatten: () => En, foldl: () => Xe, foldr: () => Je, forEach: () => Ge, functions: () => Dt, get: () => Ut, groupBy: () => pn, has: () => Wt, head: () => Sn, identity: () => $t, include: () => rn, includes: () => rn, indexBy: () => gn, indexOf: () => Ue, initial: () => Cn, inject: () => Xe, intersection: () => Rn, invert: () => At, invoke: () => on, isArguments: () => K, isArray: () => $, isArrayBuffer: () => N, isBoolean: () => T, isDataView: () => W, isDate: () => M, isElement: () => E, isEmpty: () => lt, isEqual: () => gt, isError: () => Z, isFinite: () => Y, isFunction: () => V, isMap: () => St, isMatch: () => ct, isNaN: () => X, isNull: () => _, isNumber: () => D, isObject: () => S, isRegExp: () => R, isSet: () => Pt, isString: () => A, isSymbol: () => L, isTypedArray: () => it, isUndefined: () => P, isWeakMap: () => _t, isWeakSet: () => Tt, iteratee: () => Xt, keys: () => st, last: () => Pn, lastIndexOf: () => We, map: () => Ke, mapObject: () => Qt, matcher: () => qt, matches: () => qt, max: () => ln, memoize: () => Pe, methods: () => Dt, min: () => cn, mixin: () => Bn, negate: () => Me, noop: () => te, now: () => ie, object: () => Nn, omit: () => On, once: () => Ne, pairs: () => jt, partial: () => xe, partition: () => mn, pick: () => xn, pluck: () => an, property: () => Gt, propertyOf: () => ee, random: () => re, range: () => In, reduce: () => Xe, reduceRight: () => Je, reject: () => tn, rest: () => _n, restArguments: () => C, result: () => ve, sample: () => un, select: () => Qe, shuffle: () => fn, size: () => wn, some: () => nn, sortBy: () => hn, sortedIndex: () => He, tail: () => _n, take: () => Sn, tap: () => Vt, template: () => ge, templateSettings: () => ce, throttle: () => je, times: () => ne, toArray: () => bn, toPath: () => Bt, transpose: () => Zn, unescape: () => le, union: () => Mn, uniq: () => Dn, unique: () => Dn, uniqueId: () => ye, unzip: () => Zn, values: () => Et, where: () => sn, without: () => An, wrap: () => De, zip: () => Ln });
        var r2 = {};
        n2.r(r2), n2.d(r2, { VERSION: () => i, after: () => Ze, all: () => en, allKeys: () => vt, any: () => nn, assign: () => Zt, before: () => Le, bind: () => Oe, bindAll: () => _e, chain: () => be, chunk: () => Fn, clone: () => Ft, collect: () => Ke, compact: () => Tn, compose: () => Re, constant: () => J, contains: () => rn, countBy: () => vn, create: () => It, debounce: () => Ae, default: () => Hn, defaults: () => Lt, defer: () => Ee, delay: () => Te, detect: () => $e, difference: () => jn, drop: () => _n, each: () => Ge, escape: () => se, every: () => en, extend: () => Rt, extendOwn: () => Zt, filter: () => Qe, find: () => $e, findIndex: () => Ve, findKey: () => Ie, findLastIndex: () => Be, findWhere: () => qe, first: () => Sn, flatten: () => En, foldl: () => Xe, foldr: () => Je, forEach: () => Ge, functions: () => Dt, get: () => Ut, groupBy: () => pn, has: () => Wt, head: () => Sn, identity: () => $t, include: () => rn, includes: () => rn, indexBy: () => gn, indexOf: () => Ue, initial: () => Cn, inject: () => Xe, intersection: () => Rn, invert: () => At, invoke: () => on, isArguments: () => K, isArray: () => $, isArrayBuffer: () => N, isBoolean: () => T, isDataView: () => W, isDate: () => M, isElement: () => E, isEmpty: () => lt, isEqual: () => gt, isError: () => Z, isFinite: () => Y, isFunction: () => V, isMap: () => St, isMatch: () => ct, isNaN: () => X, isNull: () => _, isNumber: () => D, isObject: () => S, isRegExp: () => R, isSet: () => Pt, isString: () => A, isSymbol: () => L, isTypedArray: () => it, isUndefined: () => P, isWeakMap: () => _t, isWeakSet: () => Tt, iteratee: () => Xt, keys: () => st, last: () => Pn, lastIndexOf: () => We, map: () => Ke, mapObject: () => Qt, matcher: () => qt, matches: () => qt, max: () => ln, memoize: () => Pe, methods: () => Dt, min: () => cn, mixin: () => Bn, negate: () => Me, noop: () => te, now: () => ie, object: () => Nn, omit: () => On, once: () => Ne, pairs: () => jt, partial: () => xe, partition: () => mn, pick: () => xn, pluck: () => an, property: () => Gt, propertyOf: () => ee, random: () => re, range: () => In, reduce: () => Xe, reduceRight: () => Je, reject: () => tn, rest: () => _n, restArguments: () => C, result: () => ve, sample: () => un, select: () => Qe, shuffle: () => fn, size: () => wn, some: () => nn, sortBy: () => hn, sortedIndex: () => He, tail: () => _n, take: () => Sn, tap: () => Vt, template: () => ge, templateSettings: () => ce, throttle: () => je, times: () => ne, toArray: () => bn, toPath: () => Bt, transpose: () => Zn, unescape: () => le, union: () => Mn, uniq: () => Dn, unique: () => Dn, uniqueId: () => ye, unzip: () => Zn, values: () => Et, where: () => sn, without: () => An, wrap: () => De, zip: () => Ln });
        var i = "1.13.1", o = "object" == typeof self && self.self === self && self || "object" == typeof global && global.global === global && global || Function("return this")() || {}, a = Array.prototype, s = Object.prototype, l = "undefined" != typeof Symbol ? Symbol.prototype : null, c = a.push, u = a.slice, f = s.toString, h = s.hasOwnProperty, d = "undefined" != typeof ArrayBuffer, p = "undefined" != typeof DataView, g = Array.isArray, v = Object.keys, m = Object.create, y = d && ArrayBuffer.isView, b = isNaN, w = isFinite, k = !{ toString: null }.propertyIsEnumerable("toString"), x = ["valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString"], O = Math.pow(2, 53) - 1;
        function C(t3, e3) {
          return e3 = null == e3 ? t3.length - 1 : +e3, function() {
            for (var n3 = Math.max(arguments.length - e3, 0), r3 = Array(n3), i2 = 0; i2 < n3; i2++) r3[i2] = arguments[i2 + e3];
            switch (e3) {
              case 0:
                return t3.call(this, r3);
              case 1:
                return t3.call(this, arguments[0], r3);
              case 2:
                return t3.call(this, arguments[0], arguments[1], r3);
            }
            var o2 = Array(e3 + 1);
            for (i2 = 0; i2 < e3; i2++) o2[i2] = arguments[i2];
            return o2[e3] = r3, t3.apply(this, o2);
          };
        }
        function S(t3) {
          var e3 = typeof t3;
          return "function" === e3 || "object" === e3 && !!t3;
        }
        function _(t3) {
          return null === t3;
        }
        function P(t3) {
          return void 0 === t3;
        }
        function T(t3) {
          return true === t3 || false === t3 || "[object Boolean]" === f.call(t3);
        }
        function E(t3) {
          return !(!t3 || 1 !== t3.nodeType);
        }
        function j(t3) {
          var e3 = "[object " + t3 + "]";
          return function(t4) {
            return f.call(t4) === e3;
          };
        }
        const A = j("String"), D = j("Number"), M = j("Date"), R = j("RegExp"), Z = j("Error"), L = j("Symbol"), N = j("ArrayBuffer");
        var I = j("Function"), F = o.document && o.document.childNodes;
        "object" != typeof Int8Array && "function" != typeof F && (I = function(t3) {
          return "function" == typeof t3 || false;
        });
        const V = I, B = j("Object");
        var H = p && B(new DataView(new ArrayBuffer(8))), z = "undefined" != typeof Map && B(/* @__PURE__ */ new Map()), U = j("DataView");
        const W = H ? function(t3) {
          return null != t3 && V(t3.getInt8) && N(t3.buffer);
        } : U, $ = g || j("Array");
        function q(t3, e3) {
          return null != t3 && h.call(t3, e3);
        }
        var G = j("Arguments");
        !function() {
          G(arguments) || (G = function(t3) {
            return q(t3, "callee");
          });
        }();
        const K = G;
        function Y(t3) {
          return !L(t3) && w(t3) && !isNaN(parseFloat(t3));
        }
        function X(t3) {
          return D(t3) && b(t3);
        }
        function J(t3) {
          return function() {
            return t3;
          };
        }
        function Q(t3) {
          return function(e3) {
            var n3 = t3(e3);
            return "number" == typeof n3 && n3 >= 0 && n3 <= O;
          };
        }
        function tt(t3) {
          return function(e3) {
            return null == e3 ? void 0 : e3[t3];
          };
        }
        const et = tt("byteLength"), nt = Q(et);
        var rt = /\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;
        const it = d ? function(t3) {
          return y ? y(t3) && !W(t3) : nt(t3) && rt.test(f.call(t3));
        } : J(false), ot = tt("length");
        function at(t3, e3) {
          e3 = function(t4) {
            for (var e4 = {}, n4 = t4.length, r4 = 0; r4 < n4; ++r4) e4[t4[r4]] = true;
            return { contains: function(t5) {
              return e4[t5];
            }, push: function(n5) {
              return e4[n5] = true, t4.push(n5);
            } };
          }(e3);
          var n3 = x.length, r3 = t3.constructor, i2 = V(r3) && r3.prototype || s, o2 = "constructor";
          for (q(t3, o2) && !e3.contains(o2) && e3.push(o2); n3--; ) (o2 = x[n3]) in t3 && t3[o2] !== i2[o2] && !e3.contains(o2) && e3.push(o2);
        }
        function st(t3) {
          if (!S(t3)) return [];
          if (v) return v(t3);
          var e3 = [];
          for (var n3 in t3) q(t3, n3) && e3.push(n3);
          return k && at(t3, e3), e3;
        }
        function lt(t3) {
          if (null == t3) return true;
          var e3 = ot(t3);
          return "number" == typeof e3 && ($(t3) || A(t3) || K(t3)) ? 0 === e3 : 0 === ot(st(t3));
        }
        function ct(t3, e3) {
          var n3 = st(e3), r3 = n3.length;
          if (null == t3) return !r3;
          for (var i2 = Object(t3), o2 = 0; o2 < r3; o2++) {
            var a2 = n3[o2];
            if (e3[a2] !== i2[a2] || !(a2 in i2)) return false;
          }
          return true;
        }
        function ut(t3) {
          return t3 instanceof ut ? t3 : this instanceof ut ? void (this._wrapped = t3) : new ut(t3);
        }
        function ft(t3) {
          return new Uint8Array(t3.buffer || t3, t3.byteOffset || 0, et(t3));
        }
        ut.VERSION = i, ut.prototype.value = function() {
          return this._wrapped;
        }, ut.prototype.valueOf = ut.prototype.toJSON = ut.prototype.value, ut.prototype.toString = function() {
          return String(this._wrapped);
        };
        var ht = "[object DataView]";
        function dt(t3, e3, n3, r3) {
          if (t3 === e3) return 0 !== t3 || 1 / t3 == 1 / e3;
          if (null == t3 || null == e3) return false;
          if (t3 != t3) return e3 != e3;
          var i2 = typeof t3;
          return ("function" === i2 || "object" === i2 || "object" == typeof e3) && pt(t3, e3, n3, r3);
        }
        function pt(t3, e3, n3, r3) {
          t3 instanceof ut && (t3 = t3._wrapped), e3 instanceof ut && (e3 = e3._wrapped);
          var i2 = f.call(t3);
          if (i2 !== f.call(e3)) return false;
          if (H && "[object Object]" == i2 && W(t3)) {
            if (!W(e3)) return false;
            i2 = ht;
          }
          switch (i2) {
            case "[object RegExp]":
            case "[object String]":
              return "" + t3 == "" + e3;
            case "[object Number]":
              return +t3 != +t3 ? +e3 != +e3 : 0 == +t3 ? 1 / +t3 == 1 / e3 : +t3 == +e3;
            case "[object Date]":
            case "[object Boolean]":
              return +t3 == +e3;
            case "[object Symbol]":
              return l.valueOf.call(t3) === l.valueOf.call(e3);
            case "[object ArrayBuffer]":
            case ht:
              return pt(ft(t3), ft(e3), n3, r3);
          }
          var o2 = "[object Array]" === i2;
          if (!o2 && it(t3)) {
            if (et(t3) !== et(e3)) return false;
            if (t3.buffer === e3.buffer && t3.byteOffset === e3.byteOffset) return true;
            o2 = true;
          }
          if (!o2) {
            if ("object" != typeof t3 || "object" != typeof e3) return false;
            var a2 = t3.constructor, s2 = e3.constructor;
            if (a2 !== s2 && !(V(a2) && a2 instanceof a2 && V(s2) && s2 instanceof s2) && "constructor" in t3 && "constructor" in e3) return false;
          }
          r3 = r3 || [];
          for (var c2 = (n3 = n3 || []).length; c2--; ) if (n3[c2] === t3) return r3[c2] === e3;
          if (n3.push(t3), r3.push(e3), o2) {
            if ((c2 = t3.length) !== e3.length) return false;
            for (; c2--; ) if (!dt(t3[c2], e3[c2], n3, r3)) return false;
          } else {
            var u2, h2 = st(t3);
            if (c2 = h2.length, st(e3).length !== c2) return false;
            for (; c2--; ) if (!q(e3, u2 = h2[c2]) || !dt(t3[u2], e3[u2], n3, r3)) return false;
          }
          return n3.pop(), r3.pop(), true;
        }
        function gt(t3, e3) {
          return dt(t3, e3);
        }
        function vt(t3) {
          if (!S(t3)) return [];
          var e3 = [];
          for (var n3 in t3) e3.push(n3);
          return k && at(t3, e3), e3;
        }
        function mt(t3) {
          var e3 = ot(t3);
          return function(n3) {
            if (null == n3) return false;
            var r3 = vt(n3);
            if (ot(r3)) return false;
            for (var i2 = 0; i2 < e3; i2++) if (!V(n3[t3[i2]])) return false;
            return t3 !== Ot || !V(n3[yt]);
          };
        }
        var yt = "forEach", bt = "has", wt = ["clear", "delete"], kt = ["get", bt, "set"], xt = wt.concat(yt, kt), Ot = wt.concat(kt), Ct = ["add"].concat(wt, yt, bt);
        const St = z ? mt(xt) : j("Map"), _t = z ? mt(Ot) : j("WeakMap"), Pt = z ? mt(Ct) : j("Set"), Tt = j("WeakSet");
        function Et(t3) {
          for (var e3 = st(t3), n3 = e3.length, r3 = Array(n3), i2 = 0; i2 < n3; i2++) r3[i2] = t3[e3[i2]];
          return r3;
        }
        function jt(t3) {
          for (var e3 = st(t3), n3 = e3.length, r3 = Array(n3), i2 = 0; i2 < n3; i2++) r3[i2] = [e3[i2], t3[e3[i2]]];
          return r3;
        }
        function At(t3) {
          for (var e3 = {}, n3 = st(t3), r3 = 0, i2 = n3.length; r3 < i2; r3++) e3[t3[n3[r3]]] = n3[r3];
          return e3;
        }
        function Dt(t3) {
          var e3 = [];
          for (var n3 in t3) V(t3[n3]) && e3.push(n3);
          return e3.sort();
        }
        function Mt(t3, e3) {
          return function(n3) {
            var r3 = arguments.length;
            if (e3 && (n3 = Object(n3)), r3 < 2 || null == n3) return n3;
            for (var i2 = 1; i2 < r3; i2++) for (var o2 = arguments[i2], a2 = t3(o2), s2 = a2.length, l2 = 0; l2 < s2; l2++) {
              var c2 = a2[l2];
              e3 && void 0 !== n3[c2] || (n3[c2] = o2[c2]);
            }
            return n3;
          };
        }
        const Rt = Mt(vt), Zt = Mt(st), Lt = Mt(vt, true);
        function Nt(t3) {
          if (!S(t3)) return {};
          if (m) return m(t3);
          var e3 = function() {
          };
          e3.prototype = t3;
          var n3 = new e3();
          return e3.prototype = null, n3;
        }
        function It(t3, e3) {
          var n3 = Nt(t3);
          return e3 && Zt(n3, e3), n3;
        }
        function Ft(t3) {
          return S(t3) ? $(t3) ? t3.slice() : Rt({}, t3) : t3;
        }
        function Vt(t3, e3) {
          return e3(t3), t3;
        }
        function Bt(t3) {
          return $(t3) ? t3 : [t3];
        }
        function Ht(t3) {
          return ut.toPath(t3);
        }
        function zt(t3, e3) {
          for (var n3 = e3.length, r3 = 0; r3 < n3; r3++) {
            if (null == t3) return;
            t3 = t3[e3[r3]];
          }
          return n3 ? t3 : void 0;
        }
        function Ut(t3, e3, n3) {
          var r3 = zt(t3, Ht(e3));
          return P(r3) ? n3 : r3;
        }
        function Wt(t3, e3) {
          for (var n3 = (e3 = Ht(e3)).length, r3 = 0; r3 < n3; r3++) {
            var i2 = e3[r3];
            if (!q(t3, i2)) return false;
            t3 = t3[i2];
          }
          return !!n3;
        }
        function $t(t3) {
          return t3;
        }
        function qt(t3) {
          return t3 = Zt({}, t3), function(e3) {
            return ct(e3, t3);
          };
        }
        function Gt(t3) {
          return t3 = Ht(t3), function(e3) {
            return zt(e3, t3);
          };
        }
        function Kt(t3, e3, n3) {
          if (void 0 === e3) return t3;
          switch (null == n3 ? 3 : n3) {
            case 1:
              return function(n4) {
                return t3.call(e3, n4);
              };
            case 3:
              return function(n4, r3, i2) {
                return t3.call(e3, n4, r3, i2);
              };
            case 4:
              return function(n4, r3, i2, o2) {
                return t3.call(e3, n4, r3, i2, o2);
              };
          }
          return function() {
            return t3.apply(e3, arguments);
          };
        }
        function Yt(t3, e3, n3) {
          return null == t3 ? $t : V(t3) ? Kt(t3, e3, n3) : S(t3) && !$(t3) ? qt(t3) : Gt(t3);
        }
        function Xt(t3, e3) {
          return Yt(t3, e3, 1 / 0);
        }
        function Jt(t3, e3, n3) {
          return ut.iteratee !== Xt ? ut.iteratee(t3, e3) : Yt(t3, e3, n3);
        }
        function Qt(t3, e3, n3) {
          e3 = Jt(e3, n3);
          for (var r3 = st(t3), i2 = r3.length, o2 = {}, a2 = 0; a2 < i2; a2++) {
            var s2 = r3[a2];
            o2[s2] = e3(t3[s2], s2, t3);
          }
          return o2;
        }
        function te() {
        }
        function ee(t3) {
          return null == t3 ? te : function(e3) {
            return Ut(t3, e3);
          };
        }
        function ne(t3, e3, n3) {
          var r3 = Array(Math.max(0, t3));
          e3 = Kt(e3, n3, 1);
          for (var i2 = 0; i2 < t3; i2++) r3[i2] = e3(i2);
          return r3;
        }
        function re(t3, e3) {
          return null == e3 && (e3 = t3, t3 = 0), t3 + Math.floor(Math.random() * (e3 - t3 + 1));
        }
        ut.toPath = Bt, ut.iteratee = Xt;
        const ie = Date.now || function() {
          return (/* @__PURE__ */ new Date()).getTime();
        };
        function oe(t3) {
          var e3 = function(e4) {
            return t3[e4];
          }, n3 = "(?:" + st(t3).join("|") + ")", r3 = RegExp(n3), i2 = RegExp(n3, "g");
          return function(t4) {
            return t4 = null == t4 ? "" : "" + t4, r3.test(t4) ? t4.replace(i2, e3) : t4;
          };
        }
        const ae = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;" }, se = oe(ae), le = oe(At(ae)), ce = ut.templateSettings = { evaluate: /<%([\s\S]+?)%>/g, interpolate: /<%=([\s\S]+?)%>/g, escape: /<%-([\s\S]+?)%>/g };
        var ue = /(.)^/, fe = { "'": "'", "\\": "\\", "\r": "r", "\n": "n", "\u2028": "u2028", "\u2029": "u2029" }, he = /\\|'|\r|\n|\u2028|\u2029/g;
        function de(t3) {
          return "\\" + fe[t3];
        }
        var pe = /^\s*(\w|\$)+\s*$/;
        function ge(t3, e3, n3) {
          !e3 && n3 && (e3 = n3), e3 = Lt({}, e3, ut.templateSettings);
          var r3 = RegExp([(e3.escape || ue).source, (e3.interpolate || ue).source, (e3.evaluate || ue).source].join("|") + "|$", "g"), i2 = 0, o2 = "__p+='";
          t3.replace(r3, function(e4, n4, r4, a3, s3) {
            return o2 += t3.slice(i2, s3).replace(he, de), i2 = s3 + e4.length, n4 ? o2 += "'+\n((__t=(" + n4 + "))==null?'':_.escape(__t))+\n'" : r4 ? o2 += "'+\n((__t=(" + r4 + "))==null?'':__t)+\n'" : a3 && (o2 += "';\n" + a3 + "\n__p+='"), e4;
          }), o2 += "';\n";
          var a2, s2 = e3.variable;
          if (s2) {
            if (!pe.test(s2)) throw new Error("variable is not a bare identifier: " + s2);
          } else o2 = "with(obj||{}){\n" + o2 + "}\n", s2 = "obj";
          o2 = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + o2 + "return __p;\n";
          try {
            a2 = new Function(s2, "_", o2);
          } catch (t4) {
            throw t4.source = o2, t4;
          }
          var l2 = function(t4) {
            return a2.call(this, t4, ut);
          };
          return l2.source = "function(" + s2 + "){\n" + o2 + "}", l2;
        }
        function ve(t3, e3, n3) {
          var r3 = (e3 = Ht(e3)).length;
          if (!r3) return V(n3) ? n3.call(t3) : n3;
          for (var i2 = 0; i2 < r3; i2++) {
            var o2 = null == t3 ? void 0 : t3[e3[i2]];
            void 0 === o2 && (o2 = n3, i2 = r3), t3 = V(o2) ? o2.call(t3) : o2;
          }
          return t3;
        }
        var me = 0;
        function ye(t3) {
          var e3 = ++me + "";
          return t3 ? t3 + e3 : e3;
        }
        function be(t3) {
          var e3 = ut(t3);
          return e3._chain = true, e3;
        }
        function we(t3, e3, n3, r3, i2) {
          if (!(r3 instanceof e3)) return t3.apply(n3, i2);
          var o2 = Nt(t3.prototype), a2 = t3.apply(o2, i2);
          return S(a2) ? a2 : o2;
        }
        var ke = C(function(t3, e3) {
          var n3 = ke.placeholder, r3 = function() {
            for (var i2 = 0, o2 = e3.length, a2 = Array(o2), s2 = 0; s2 < o2; s2++) a2[s2] = e3[s2] === n3 ? arguments[i2++] : e3[s2];
            for (; i2 < arguments.length; ) a2.push(arguments[i2++]);
            return we(t3, r3, this, this, a2);
          };
          return r3;
        });
        ke.placeholder = ut;
        const xe = ke, Oe = C(function(t3, e3, n3) {
          if (!V(t3)) throw new TypeError("Bind must be called on a function");
          var r3 = C(function(i2) {
            return we(t3, r3, e3, this, n3.concat(i2));
          });
          return r3;
        }), Ce = Q(ot);
        function Se(t3, e3, n3, r3) {
          if (r3 = r3 || [], e3 || 0 === e3) {
            if (e3 <= 0) return r3.concat(t3);
          } else e3 = 1 / 0;
          for (var i2 = r3.length, o2 = 0, a2 = ot(t3); o2 < a2; o2++) {
            var s2 = t3[o2];
            if (Ce(s2) && ($(s2) || K(s2))) if (e3 > 1) Se(s2, e3 - 1, n3, r3), i2 = r3.length;
            else for (var l2 = 0, c2 = s2.length; l2 < c2; ) r3[i2++] = s2[l2++];
            else n3 || (r3[i2++] = s2);
          }
          return r3;
        }
        const _e = C(function(t3, e3) {
          var n3 = (e3 = Se(e3, false, false)).length;
          if (n3 < 1) throw new Error("bindAll must be passed function names");
          for (; n3--; ) {
            var r3 = e3[n3];
            t3[r3] = Oe(t3[r3], t3);
          }
          return t3;
        });
        function Pe(t3, e3) {
          var n3 = function(r3) {
            var i2 = n3.cache, o2 = "" + (e3 ? e3.apply(this, arguments) : r3);
            return q(i2, o2) || (i2[o2] = t3.apply(this, arguments)), i2[o2];
          };
          return n3.cache = {}, n3;
        }
        const Te = C(function(t3, e3, n3) {
          return setTimeout(function() {
            return t3.apply(null, n3);
          }, e3);
        }), Ee = xe(Te, ut, 1);
        function je(t3, e3, n3) {
          var r3, i2, o2, a2, s2 = 0;
          n3 || (n3 = {});
          var l2 = function() {
            s2 = false === n3.leading ? 0 : ie(), r3 = null, a2 = t3.apply(i2, o2), r3 || (i2 = o2 = null);
          }, c2 = function() {
            var c3 = ie();
            s2 || false !== n3.leading || (s2 = c3);
            var u2 = e3 - (c3 - s2);
            return i2 = this, o2 = arguments, u2 <= 0 || u2 > e3 ? (r3 && (clearTimeout(r3), r3 = null), s2 = c3, a2 = t3.apply(i2, o2), r3 || (i2 = o2 = null)) : r3 || false === n3.trailing || (r3 = setTimeout(l2, u2)), a2;
          };
          return c2.cancel = function() {
            clearTimeout(r3), s2 = 0, r3 = i2 = o2 = null;
          }, c2;
        }
        function Ae(t3, e3, n3) {
          var r3, i2, o2, a2, s2, l2 = function() {
            var c3 = ie() - i2;
            e3 > c3 ? r3 = setTimeout(l2, e3 - c3) : (r3 = null, n3 || (a2 = t3.apply(s2, o2)), r3 || (o2 = s2 = null));
          }, c2 = C(function(c3) {
            return s2 = this, o2 = c3, i2 = ie(), r3 || (r3 = setTimeout(l2, e3), n3 && (a2 = t3.apply(s2, o2))), a2;
          });
          return c2.cancel = function() {
            clearTimeout(r3), r3 = o2 = s2 = null;
          }, c2;
        }
        function De(t3, e3) {
          return xe(e3, t3);
        }
        function Me(t3) {
          return function() {
            return !t3.apply(this, arguments);
          };
        }
        function Re() {
          var t3 = arguments, e3 = t3.length - 1;
          return function() {
            for (var n3 = e3, r3 = t3[e3].apply(this, arguments); n3--; ) r3 = t3[n3].call(this, r3);
            return r3;
          };
        }
        function Ze(t3, e3) {
          return function() {
            if (--t3 < 1) return e3.apply(this, arguments);
          };
        }
        function Le(t3, e3) {
          var n3;
          return function() {
            return --t3 > 0 && (n3 = e3.apply(this, arguments)), t3 <= 1 && (e3 = null), n3;
          };
        }
        const Ne = xe(Le, 2);
        function Ie(t3, e3, n3) {
          e3 = Jt(e3, n3);
          for (var r3, i2 = st(t3), o2 = 0, a2 = i2.length; o2 < a2; o2++) if (e3(t3[r3 = i2[o2]], r3, t3)) return r3;
        }
        function Fe(t3) {
          return function(e3, n3, r3) {
            n3 = Jt(n3, r3);
            for (var i2 = ot(e3), o2 = t3 > 0 ? 0 : i2 - 1; o2 >= 0 && o2 < i2; o2 += t3) if (n3(e3[o2], o2, e3)) return o2;
            return -1;
          };
        }
        const Ve = Fe(1), Be = Fe(-1);
        function He(t3, e3, n3, r3) {
          for (var i2 = (n3 = Jt(n3, r3, 1))(e3), o2 = 0, a2 = ot(t3); o2 < a2; ) {
            var s2 = Math.floor((o2 + a2) / 2);
            n3(t3[s2]) < i2 ? o2 = s2 + 1 : a2 = s2;
          }
          return o2;
        }
        function ze(t3, e3, n3) {
          return function(r3, i2, o2) {
            var a2 = 0, s2 = ot(r3);
            if ("number" == typeof o2) t3 > 0 ? a2 = o2 >= 0 ? o2 : Math.max(o2 + s2, a2) : s2 = o2 >= 0 ? Math.min(o2 + 1, s2) : o2 + s2 + 1;
            else if (n3 && o2 && s2) return r3[o2 = n3(r3, i2)] === i2 ? o2 : -1;
            if (i2 != i2) return (o2 = e3(u.call(r3, a2, s2), X)) >= 0 ? o2 + a2 : -1;
            for (o2 = t3 > 0 ? a2 : s2 - 1; o2 >= 0 && o2 < s2; o2 += t3) if (r3[o2] === i2) return o2;
            return -1;
          };
        }
        const Ue = ze(1, Ve, He), We = ze(-1, Be);
        function $e(t3, e3, n3) {
          var r3 = (Ce(t3) ? Ve : Ie)(t3, e3, n3);
          if (void 0 !== r3 && -1 !== r3) return t3[r3];
        }
        function qe(t3, e3) {
          return $e(t3, qt(e3));
        }
        function Ge(t3, e3, n3) {
          var r3, i2;
          if (e3 = Kt(e3, n3), Ce(t3)) for (r3 = 0, i2 = t3.length; r3 < i2; r3++) e3(t3[r3], r3, t3);
          else {
            var o2 = st(t3);
            for (r3 = 0, i2 = o2.length; r3 < i2; r3++) e3(t3[o2[r3]], o2[r3], t3);
          }
          return t3;
        }
        function Ke(t3, e3, n3) {
          e3 = Jt(e3, n3);
          for (var r3 = !Ce(t3) && st(t3), i2 = (r3 || t3).length, o2 = Array(i2), a2 = 0; a2 < i2; a2++) {
            var s2 = r3 ? r3[a2] : a2;
            o2[a2] = e3(t3[s2], s2, t3);
          }
          return o2;
        }
        function Ye(t3) {
          var e3 = function(e4, n3, r3, i2) {
            var o2 = !Ce(e4) && st(e4), a2 = (o2 || e4).length, s2 = t3 > 0 ? 0 : a2 - 1;
            for (i2 || (r3 = e4[o2 ? o2[s2] : s2], s2 += t3); s2 >= 0 && s2 < a2; s2 += t3) {
              var l2 = o2 ? o2[s2] : s2;
              r3 = n3(r3, e4[l2], l2, e4);
            }
            return r3;
          };
          return function(t4, n3, r3, i2) {
            var o2 = arguments.length >= 3;
            return e3(t4, Kt(n3, i2, 4), r3, o2);
          };
        }
        const Xe = Ye(1), Je = Ye(-1);
        function Qe(t3, e3, n3) {
          var r3 = [];
          return e3 = Jt(e3, n3), Ge(t3, function(t4, n4, i2) {
            e3(t4, n4, i2) && r3.push(t4);
          }), r3;
        }
        function tn(t3, e3, n3) {
          return Qe(t3, Me(Jt(e3)), n3);
        }
        function en(t3, e3, n3) {
          e3 = Jt(e3, n3);
          for (var r3 = !Ce(t3) && st(t3), i2 = (r3 || t3).length, o2 = 0; o2 < i2; o2++) {
            var a2 = r3 ? r3[o2] : o2;
            if (!e3(t3[a2], a2, t3)) return false;
          }
          return true;
        }
        function nn(t3, e3, n3) {
          e3 = Jt(e3, n3);
          for (var r3 = !Ce(t3) && st(t3), i2 = (r3 || t3).length, o2 = 0; o2 < i2; o2++) {
            var a2 = r3 ? r3[o2] : o2;
            if (e3(t3[a2], a2, t3)) return true;
          }
          return false;
        }
        function rn(t3, e3, n3, r3) {
          return Ce(t3) || (t3 = Et(t3)), ("number" != typeof n3 || r3) && (n3 = 0), Ue(t3, e3, n3) >= 0;
        }
        const on = C(function(t3, e3, n3) {
          var r3, i2;
          return V(e3) ? i2 = e3 : (e3 = Ht(e3), r3 = e3.slice(0, -1), e3 = e3[e3.length - 1]), Ke(t3, function(t4) {
            var o2 = i2;
            if (!o2) {
              if (r3 && r3.length && (t4 = zt(t4, r3)), null == t4) return;
              o2 = t4[e3];
            }
            return null == o2 ? o2 : o2.apply(t4, n3);
          });
        });
        function an(t3, e3) {
          return Ke(t3, Gt(e3));
        }
        function sn(t3, e3) {
          return Qe(t3, qt(e3));
        }
        function ln(t3, e3, n3) {
          var r3, i2, o2 = -1 / 0, a2 = -1 / 0;
          if (null == e3 || "number" == typeof e3 && "object" != typeof t3[0] && null != t3) for (var s2 = 0, l2 = (t3 = Ce(t3) ? t3 : Et(t3)).length; s2 < l2; s2++) null != (r3 = t3[s2]) && r3 > o2 && (o2 = r3);
          else e3 = Jt(e3, n3), Ge(t3, function(t4, n4, r4) {
            ((i2 = e3(t4, n4, r4)) > a2 || i2 === -1 / 0 && o2 === -1 / 0) && (o2 = t4, a2 = i2);
          });
          return o2;
        }
        function cn(t3, e3, n3) {
          var r3, i2, o2 = 1 / 0, a2 = 1 / 0;
          if (null == e3 || "number" == typeof e3 && "object" != typeof t3[0] && null != t3) for (var s2 = 0, l2 = (t3 = Ce(t3) ? t3 : Et(t3)).length; s2 < l2; s2++) null != (r3 = t3[s2]) && r3 < o2 && (o2 = r3);
          else e3 = Jt(e3, n3), Ge(t3, function(t4, n4, r4) {
            ((i2 = e3(t4, n4, r4)) < a2 || i2 === 1 / 0 && o2 === 1 / 0) && (o2 = t4, a2 = i2);
          });
          return o2;
        }
        function un(t3, e3, n3) {
          if (null == e3 || n3) return Ce(t3) || (t3 = Et(t3)), t3[re(t3.length - 1)];
          var r3 = Ce(t3) ? Ft(t3) : Et(t3), i2 = ot(r3);
          e3 = Math.max(Math.min(e3, i2), 0);
          for (var o2 = i2 - 1, a2 = 0; a2 < e3; a2++) {
            var s2 = re(a2, o2), l2 = r3[a2];
            r3[a2] = r3[s2], r3[s2] = l2;
          }
          return r3.slice(0, e3);
        }
        function fn(t3) {
          return un(t3, 1 / 0);
        }
        function hn(t3, e3, n3) {
          var r3 = 0;
          return e3 = Jt(e3, n3), an(Ke(t3, function(t4, n4, i2) {
            return { value: t4, index: r3++, criteria: e3(t4, n4, i2) };
          }).sort(function(t4, e4) {
            var n4 = t4.criteria, r4 = e4.criteria;
            if (n4 !== r4) {
              if (n4 > r4 || void 0 === n4) return 1;
              if (n4 < r4 || void 0 === r4) return -1;
            }
            return t4.index - e4.index;
          }), "value");
        }
        function dn(t3, e3) {
          return function(n3, r3, i2) {
            var o2 = e3 ? [[], []] : {};
            return r3 = Jt(r3, i2), Ge(n3, function(e4, i3) {
              var a2 = r3(e4, i3, n3);
              t3(o2, e4, a2);
            }), o2;
          };
        }
        const pn = dn(function(t3, e3, n3) {
          q(t3, n3) ? t3[n3].push(e3) : t3[n3] = [e3];
        }), gn = dn(function(t3, e3, n3) {
          t3[n3] = e3;
        }), vn = dn(function(t3, e3, n3) {
          q(t3, n3) ? t3[n3]++ : t3[n3] = 1;
        }), mn = dn(function(t3, e3, n3) {
          t3[n3 ? 0 : 1].push(e3);
        }, true);
        var yn = /[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;
        function bn(t3) {
          return t3 ? $(t3) ? u.call(t3) : A(t3) ? t3.match(yn) : Ce(t3) ? Ke(t3, $t) : Et(t3) : [];
        }
        function wn(t3) {
          return null == t3 ? 0 : Ce(t3) ? t3.length : st(t3).length;
        }
        function kn(t3, e3, n3) {
          return e3 in n3;
        }
        const xn = C(function(t3, e3) {
          var n3 = {}, r3 = e3[0];
          if (null == t3) return n3;
          V(r3) ? (e3.length > 1 && (r3 = Kt(r3, e3[1])), e3 = vt(t3)) : (r3 = kn, e3 = Se(e3, false, false), t3 = Object(t3));
          for (var i2 = 0, o2 = e3.length; i2 < o2; i2++) {
            var a2 = e3[i2], s2 = t3[a2];
            r3(s2, a2, t3) && (n3[a2] = s2);
          }
          return n3;
        }), On = C(function(t3, e3) {
          var n3, r3 = e3[0];
          return V(r3) ? (r3 = Me(r3), e3.length > 1 && (n3 = e3[1])) : (e3 = Ke(Se(e3, false, false), String), r3 = function(t4, n4) {
            return !rn(e3, n4);
          }), xn(t3, r3, n3);
        });
        function Cn(t3, e3, n3) {
          return u.call(t3, 0, Math.max(0, t3.length - (null == e3 || n3 ? 1 : e3)));
        }
        function Sn(t3, e3, n3) {
          return null == t3 || t3.length < 1 ? null == e3 || n3 ? void 0 : [] : null == e3 || n3 ? t3[0] : Cn(t3, t3.length - e3);
        }
        function _n(t3, e3, n3) {
          return u.call(t3, null == e3 || n3 ? 1 : e3);
        }
        function Pn(t3, e3, n3) {
          return null == t3 || t3.length < 1 ? null == e3 || n3 ? void 0 : [] : null == e3 || n3 ? t3[t3.length - 1] : _n(t3, Math.max(0, t3.length - e3));
        }
        function Tn(t3) {
          return Qe(t3, Boolean);
        }
        function En(t3, e3) {
          return Se(t3, e3, false);
        }
        const jn = C(function(t3, e3) {
          return e3 = Se(e3, true, true), Qe(t3, function(t4) {
            return !rn(e3, t4);
          });
        }), An = C(function(t3, e3) {
          return jn(t3, e3);
        });
        function Dn(t3, e3, n3, r3) {
          T(e3) || (r3 = n3, n3 = e3, e3 = false), null != n3 && (n3 = Jt(n3, r3));
          for (var i2 = [], o2 = [], a2 = 0, s2 = ot(t3); a2 < s2; a2++) {
            var l2 = t3[a2], c2 = n3 ? n3(l2, a2, t3) : l2;
            e3 && !n3 ? (a2 && o2 === c2 || i2.push(l2), o2 = c2) : n3 ? rn(o2, c2) || (o2.push(c2), i2.push(l2)) : rn(i2, l2) || i2.push(l2);
          }
          return i2;
        }
        const Mn = C(function(t3) {
          return Dn(Se(t3, true, true));
        });
        function Rn(t3) {
          for (var e3 = [], n3 = arguments.length, r3 = 0, i2 = ot(t3); r3 < i2; r3++) {
            var o2 = t3[r3];
            if (!rn(e3, o2)) {
              var a2;
              for (a2 = 1; a2 < n3 && rn(arguments[a2], o2); a2++) ;
              a2 === n3 && e3.push(o2);
            }
          }
          return e3;
        }
        function Zn(t3) {
          for (var e3 = t3 && ln(t3, ot).length || 0, n3 = Array(e3), r3 = 0; r3 < e3; r3++) n3[r3] = an(t3, r3);
          return n3;
        }
        const Ln = C(Zn);
        function Nn(t3, e3) {
          for (var n3 = {}, r3 = 0, i2 = ot(t3); r3 < i2; r3++) e3 ? n3[t3[r3]] = e3[r3] : n3[t3[r3][0]] = t3[r3][1];
          return n3;
        }
        function In(t3, e3, n3) {
          null == e3 && (e3 = t3 || 0, t3 = 0), n3 || (n3 = e3 < t3 ? -1 : 1);
          for (var r3 = Math.max(Math.ceil((e3 - t3) / n3), 0), i2 = Array(r3), o2 = 0; o2 < r3; o2++, t3 += n3) i2[o2] = t3;
          return i2;
        }
        function Fn(t3, e3) {
          if (null == e3 || e3 < 1) return [];
          for (var n3 = [], r3 = 0, i2 = t3.length; r3 < i2; ) n3.push(u.call(t3, r3, r3 += e3));
          return n3;
        }
        function Vn(t3, e3) {
          return t3._chain ? ut(e3).chain() : e3;
        }
        function Bn(t3) {
          return Ge(Dt(t3), function(e3) {
            var n3 = ut[e3] = t3[e3];
            ut.prototype[e3] = function() {
              var t4 = [this._wrapped];
              return c.apply(t4, arguments), Vn(this, n3.apply(ut, t4));
            };
          }), ut;
        }
        Ge(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(t3) {
          var e3 = a[t3];
          ut.prototype[t3] = function() {
            var n3 = this._wrapped;
            return null != n3 && (e3.apply(n3, arguments), "shift" !== t3 && "splice" !== t3 || 0 !== n3.length || delete n3[0]), Vn(this, n3);
          };
        }), Ge(["concat", "join", "slice"], function(t3) {
          var e3 = a[t3];
          ut.prototype[t3] = function() {
            var t4 = this._wrapped;
            return null != t4 && (t4 = e3.apply(t4, arguments)), Vn(this, t4);
          };
        });
        const Hn = ut;
        var zn = Bn(r2);
        zn._ = zn;
        const Un = zn;
      } }, e = {};
      function n(r2) {
        var i = e[r2];
        if (void 0 !== i) return i.exports;
        var o = e[r2] = { exports: {} };
        return t[r2].call(o.exports, o, o.exports, n), o.exports;
      }
      n.n = (t2) => {
        var e2 = t2 && t2.__esModule ? () => t2["default"] : () => t2;
        return n.d(e2, { a: e2 }), e2;
      }, n.d = (t2, e2) => {
        for (var r2 in e2) n.o(e2, r2) && !n.o(t2, r2) && Object.defineProperty(t2, r2, { enumerable: true, get: e2[r2] });
      }, n.g = function() {
        if ("object" == typeof globalThis) return globalThis;
        try {
          return this || new Function("return this")();
        } catch (t2) {
          if ("object" == typeof window) return window;
        }
      }(), n.o = (t2, e2) => Object.prototype.hasOwnProperty.call(t2, e2), n.r = (t2) => {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t2, "__esModule", { value: true });
      };
      var r = {};
      return (() => {
        "use strict";
        n.d(r, { default: () => F });
        var t2 = n(4942), e2 = n(9050), i = n(2579), o = n(7539);
        const a = { stylePrefix: "gjs-", components: "", style: "", fromElement: false, projectData: null, noticeOnUnload: true, showOffsets: false, showOffsetsSelected: false, forceClass: true, height: "900px", width: "100%", log: ["warning", "error"], baseCss: "", protectedCss: "* { box-sizing: border-box; } body {margin: 0;}", canvasCss: "", defaultCommand: "select-comp", showToolbar: true, showDevices: true, devicePreviewMode: false, mediaCondition: "max-width", tagVarStart: "{[ ", tagVarEnd: " ]}", keepEmptyTextNodes: false, jsInHtml: true, nativeDnD: true, multipleSelection: true, optsHtml: {}, optsCss: {}, avoidInlineStyle: true, avoidDefaults: true, clearStyles: false, dragMode: 0, listenToEl: [], cssIcons: "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css", icons: { close: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>', move: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>', plus: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>', caret: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>', delete: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>', copy: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>', arrowUp: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>', chevron: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>', eye: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>', eyeOff: '<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>' }, el: "", i18n: {}, undoManager: {}, assetManager: {}, canvas: {}, layers: {}, storageManager: {}, richTextEditor: {}, domComponents: {}, modal: {}, codeManager: {}, panels: {}, commands: {}, cssComposer: {}, selectorManager: {}, deviceManager: {}, styleManager: {}, blockManager: {}, traitManager: {}, textViewCode: "Code", keepUnusedStyles: false, multiFrames: false, customUI: false };
        var s = n(2316), l = n.n(s);
        var c, u = n(1163), f = (c = function(t3, e3) {
          return c = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
            t4.__proto__ = e4;
          } || function(t4, e4) {
            for (var n2 in e4) Object.prototype.hasOwnProperty.call(e4, n2) && (t4[n2] = e4[n2]);
          }, c(t3, e3);
        }, function(t3, e3) {
          if ("function" != typeof e3 && null !== e3) throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
          function n2() {
            this.constructor = t3;
          }
          c(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n2.prototype = e3.prototype, new n2());
        }), h = function(t3) {
          function e3() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return f(e3, t3), e3;
        }(s.Model);
        const d = function(t3) {
          function n2() {
            return null !== t3 && t3.apply(this, arguments) || this;
          }
          return f(n2, t3), n2.prototype.getByComponent = function(t4) {
            var e3 = this;
            return this.filter(function(n3) {
              return e3.getComponent(n3) === t4;
            })[0];
          }, n2.prototype.addComponent = function(t4, n3) {
            var r2 = this, i2 = ((0, e2.isArray)(t4) ? t4 : [t4]).filter(function(t5) {
              return !r2.hasComponent(t5);
            }).map(function(t5) {
              return new h({ component: t5 });
            })[0];
            return this.push(i2, n3);
          }, n2.prototype.getComponent = function(t4) {
            return t4.get("component");
          }, n2.prototype.hasComponent = function(t4) {
            var e3 = this.getByComponent(t4);
            return e3 && this.contains(e3);
          }, n2.prototype.lastComponent = function() {
            var t4 = this.last();
            return t4 && this.getComponent(t4);
          }, n2.prototype.allComponents = function() {
            var t4 = this;
            return this.map(function(e3) {
              return t4.getComponent(e3);
            }).filter(function(t5) {
              return t5;
            });
          }, n2.prototype.removeComponent = function(t4, n3) {
            var r2 = this, i2 = ((0, e2.isArray)(t4) ? t4 : [t4]).map(function(t5) {
              return r2.getByComponent(t5);
            });
            return this.remove(i2, n3);
          }, n2;
        }(s.Collection);
        var p = /* @__PURE__ */ function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function r2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (r2.prototype = n2.prototype, new r2());
          };
        }(), g = function() {
          return g = Object.assign || function(t3) {
            for (var e3, n2 = 1, r2 = arguments.length; n2 < r2; n2++) for (var i2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, i2) && (t3[i2] = e3[i2]);
            return t3;
          }, g.apply(this, arguments);
        }, v = function(t3, e3, n2, r2) {
          return new (n2 || (n2 = Promise))(function(i2, o2) {
            function a2(t4) {
              try {
                l2(r2.next(t4));
              } catch (t5) {
                o2(t5);
              }
            }
            function s2(t4) {
              try {
                l2(r2["throw"](t4));
              } catch (t5) {
                o2(t5);
              }
            }
            function l2(t4) {
              var e4;
              t4.done ? i2(t4.value) : (e4 = t4.value, e4 instanceof n2 ? e4 : new n2(function(t5) {
                t5(e4);
              })).then(a2, s2);
            }
            l2((r2 = r2.apply(t3, e3 || [])).next());
          });
        }, m = function(t3, e3) {
          var n2, r2, i2, o2, a2 = { label: 0, sent: function() {
            if (1 & i2[0]) throw i2[1];
            return i2[1];
          }, trys: [], ops: [] };
          return o2 = { next: s2(0), throw: s2(1), return: s2(2) }, "function" == typeof Symbol && (o2[Symbol.iterator] = function() {
            return this;
          }), o2;
          function s2(o3) {
            return function(s3) {
              return function(o4) {
                if (n2) throw new TypeError("Generator is already executing.");
                for (; a2; ) try {
                  if (n2 = 1, r2 && (i2 = 2 & o4[0] ? r2["return"] : o4[0] ? r2["throw"] || ((i2 = r2["return"]) && i2.call(r2), 0) : r2.next) && !(i2 = i2.call(r2, o4[1])).done) return i2;
                  switch (r2 = 0, i2 && (o4 = [2 & o4[0], i2.value]), o4[0]) {
                    case 0:
                    case 1:
                      i2 = o4;
                      break;
                    case 4:
                      return a2.label++, { value: o4[1], done: false };
                    case 5:
                      a2.label++, r2 = o4[1], o4 = [0];
                      continue;
                    case 7:
                      o4 = a2.ops.pop(), a2.trys.pop();
                      continue;
                    default:
                      if (!(i2 = a2.trys, (i2 = i2.length > 0 && i2[i2.length - 1]) || 6 !== o4[0] && 2 !== o4[0])) {
                        a2 = 0;
                        continue;
                      }
                      if (3 === o4[0] && (!i2 || o4[1] > i2[0] && o4[1] < i2[3])) {
                        a2.label = o4[1];
                        break;
                      }
                      if (6 === o4[0] && a2.label < i2[1]) {
                        a2.label = i2[1], i2 = o4;
                        break;
                      }
                      if (i2 && a2.label < i2[2]) {
                        a2.label = i2[2], a2.ops.push(o4);
                        break;
                      }
                      i2[2] && a2.ops.pop(), a2.trys.pop();
                      continue;
                  }
                  o4 = e3.call(t3, a2);
                } catch (t4) {
                  o4 = [6, t4], r2 = 0;
                } finally {
                  n2 = i2 = 0;
                }
                if (5 & o4[0]) throw o4[1];
                return { value: o4[0] ? o4[1] : void 0, done: true };
              }([o3, s3]);
            };
          }
        }, y = function(t3, e3) {
          var n2 = {};
          for (var r2 in t3) Object.prototype.hasOwnProperty.call(t3, r2) && e3.indexOf(r2) < 0 && (n2[r2] = t3[r2]);
          if (null != t3 && "function" == typeof Object.getOwnPropertySymbols) {
            var i2 = 0;
            for (r2 = Object.getOwnPropertySymbols(t3); i2 < r2.length; i2++) e3.indexOf(r2[i2]) < 0 && Object.prototype.propertyIsEnumerable.call(t3, r2[i2]) && (n2[r2[i2]] = t3[r2[i2]]);
          }
          return n2;
        }, b = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var r2, i2 = 0, o2 = e3.length; i2 < o2; i2++) !r2 && i2 in e3 || (r2 || (r2 = Array.prototype.slice.call(e3, 0, i2)), r2[i2] = e3[i2]);
          return t3.concat(r2 || Array.prototype.slice.call(e3));
        };
        l().$ = i["default"];
        var w = [n(6718), n(4836), n(9788), n(8202), n(4859), n(2004), n(4424), n(2326), n(3463), n(2450), n(7619), n(4906), n(2012), n(1030), n(672), n(7948), n(6388), n(5819), n(7892), n(9281), n(289), n(6407)], k = [];
        !function(t3) {
          var n2 = t3.$;
          if (n2 && n2.prototype && "jQuery" !== n2.prototype.constructor.name) {
            var r2 = n2.fn;
            r2.hide = function() {
              return this.css("display", "none");
            }, r2.show = function() {
              return this.css("display", "block");
            }, r2.focus = function() {
              var t4 = this.get(0);
              return t4 && t4.focus(), this;
            }, r2.bind = function(t4, e3) {
              return this.on(t4, e3);
            }, r2.unbind = function(t4, n3) {
              if ((0, e2.isObject)(t4)) {
                for (var r3 in t4) t4.hasOwnProperty(r3) && this.off(r3, t4[r3]);
                return this;
              }
              return this.off(t4, n3);
            }, r2.click = function(t4) {
              return t4 ? this.on("click", t4) : this.trigger("click");
            }, r2.change = function(t4) {
              return t4 ? this.on("change", t4) : this.trigger("change");
            }, r2.keydown = function(t4) {
              return t4 ? this.on("keydown", t4) : this.trigger("keydown");
            }, r2.delegate = function(t4, e3, n3, r3) {
              return r3 || (r3 = n3), this.on(e3, t4, function(t5) {
                t5.data = n3, r3(t5);
              });
            }, r2.scrollLeft = function() {
              var t4 = this.get(0), e3 = (t4 = 9 == t4.nodeType ? t4.defaultView : t4) instanceof Window ? t4 : null;
              return e3 ? e3.pageXOffset : t4.scrollLeft || 0;
            }, r2.scrollTop = function() {
              var t4 = this.get(0), e3 = (t4 = 9 == t4.nodeType ? t4.defaultView : t4) instanceof Window ? t4 : null;
              return e3 ? e3.pageYOffset : t4.scrollTop || 0;
            };
            var i2 = n2.prototype.offset;
            r2.offset = function(t4) {
              var e3, n3;
              return t4 && (e3 = t4.top, n3 = t4.left), void 0 !== e3 && this.css("top", "".concat(e3, "px")), void 0 !== n3 && this.css("left", "".concat(n3, "px")), i2.call(this);
            }, n2.map = function(t4, e3) {
              for (var n3 = [], r3 = 0; r3 < t4.length; r3++) n3.push(e3(t4[r3], r3));
              return n3;
            };
            var o2 = Array.prototype.indexOf;
            n2.inArray = function(t4, e3, n3) {
              return null == e3 ? -1 : o2.call(e3, t4, n3);
            }, n2.Event = function(t4, e3) {
              if (!(this instanceof n2.Event)) return new n2.Event(t4, e3);
              this.type = t4, this.isDefaultPrevented = function() {
                return false;
              };
            };
          }
        }({ Backbone: l(), $: l().$ });
        var x = { debug: console.log, info: console.info, warning: console.warn, error: console.error }, O = function(t3) {
          function n2(n3) {
            void 0 === n3 && (n3 = {});
            var r2 = t3.call(this) || this;
            r2.__skip = false, r2.defaultRunning = false, r2.destroyed = false, r2._config = n3;
            var i2 = r2.config;
            r2.set("Config", n3), r2.set("modules", []), r2.set("toLoad", []), r2.set("storables", []), r2.set("selected", new d()), r2.set("dmode", i2.dragMode);
            var o2 = i2.el, a2 = i2.log, s2 = true === a2 ? (0, e2.keys)(x) : (0, e2.isArray)(a2) ? a2 : [];
            return (0, e2.bindAll)(r2, "initBaseColorPicker"), o2 && i2.fromElement && (i2.components = o2.innerHTML), r2.attrsOrig = o2 ? (0, e2.toArray)(o2.attributes).reduce(function(t4, e3) {
              return t4[e3.nodeName] = e3.nodeValue, t4;
            }, {}) : "", i2.components && !i2.pageManager && (i2.pageManager = { pages: [{ component: i2.components }] }), w.forEach(function(t4) {
              return r2.loadModule(t4);
            }), k.forEach(function(t4) {
              return r2.tsLoadModule(t4);
            }), r2.on("change:componentHovered", r2.componentHovered, r2), r2.on("change:changesCount", r2.updateChanges, r2), r2.on("change:readyLoad change:readyCanvas", r2._checkReady, r2), s2.forEach(function(t4) {
              return r2.listenLog(t4);
            }), [{ from: "change:selectedComponent", to: "component:toggled" }].forEach(function(t4) {
              var e3 = t4.from, n4 = t4.to;
              r2.listenTo(r2, e3, function() {
                for (var t5 = [], i3 = 0; i3 < arguments.length; i3++) t5[i3] = arguments[i3];
                r2.trigger.apply(r2, b([n4], t5, false)), r2.logWarning("The event '".concat(e3, "' is deprecated, replace it with '").concat(n4, "'"));
              });
            }), r2;
          }
          return p(n2, t3), n2.prototype.defaults = function() {
            return { editing: 0, selected: 0, clipboard: null, dmode: 0, componentHovered: null, previousModel: null, changesCount: 0, storables: [], modules: [], toLoad: [], opened: {}, device: "" };
          }, Object.defineProperty(n2.prototype, "storables", { get: function() {
            return this.get("storables");
          }, enumerable: false, configurable: true }), Object.defineProperty(n2.prototype, "modules", { get: function() {
            return this.get("modules");
          }, enumerable: false, configurable: true }), Object.defineProperty(n2.prototype, "toLoad", { get: function() {
            return this.get("toLoad");
          }, enumerable: false, configurable: true }), Object.defineProperty(n2.prototype, "selected", { get: function() {
            return this.get("selected");
          }, enumerable: false, configurable: true }), Object.defineProperty(n2.prototype, "shallow", { get: function() {
            return this.get("shallow");
          }, enumerable: false, configurable: true }), n2.prototype._checkReady = function() {
            this.get("readyLoad") && this.get("readyCanvas") && !this.get("ready") && this.set("ready", true);
          }, n2.prototype.getContainer = function() {
            return this.config.el;
          }, n2.prototype.listenLog = function(t4) {
            this.listenTo(this, "log:".concat(t4), x[t4]);
          }, Object.defineProperty(n2.prototype, "config", { get: function() {
            return this._config;
          }, enumerable: false, configurable: true }), n2.prototype.getConfig = function(t4) {
            var n3 = this.config;
            return (0, e2.isUndefined)(t4) ? n3 : n3[t4];
          }, n2.prototype.loadOnStart = function() {
            var t4 = this, e3 = this.config, r2 = e3.projectData, i2 = e3.headless, o2 = this.get("StorageManager");
            this.toLoad.forEach(function(t5) {
              return t5.onLoad();
            });
            var a2 = function() {
              t4.modules.forEach(function(e4) {
                return e4.postLoad && e4.postLoad(t4);
              }), t4.set("readyLoad", 1);
            };
            i2 ? (r2 && this.loadData(r2), a2()) : setTimeout(function() {
              return v(t4, void 0, void 0, function() {
                var t5;
                return m(this, function(e4) {
                  switch (e4.label) {
                    case 0:
                      return r2 ? (this.loadData(r2), [3, 5]) : [3, 1];
                    case 1:
                      if (!(null == o2 ? void 0 : o2.canAutoload())) return [3, 5];
                      e4.label = 2;
                    case 2:
                      return e4.trys.push([2, 4, , 5]), [4, this.load()];
                    case 3:
                      return e4.sent(), [3, 5];
                    case 4:
                      return t5 = e4.sent(), this.logError(t5), [3, 5];
                    case 5:
                      return a2(), [2];
                  }
                });
              });
            });
            var s2 = new n2({ noticeOnUnload: false, storageManager: false, undoManager: false });
            ["PageManager", "Canvas"].forEach(function(t5) {
              return s2.get(t5).onLoad();
            }), this.set("shallow", s2);
          }, n2.prototype.updateChanges = function() {
            var t4 = this, e3 = this.get("StorageManager"), n3 = this.getDirtyCount();
            this.updateItr && clearTimeout(this.updateItr), this.updateItr = setTimeout(function() {
              return t4.trigger("update");
            }), this.config.noticeOnUnload && (window.onbeforeunload = n3 ? function() {
              return true;
            } : null), e3.isAutosave() && n3 >= e3.getStepsBeforeSave() && this.store().catch(function(e4) {
              return t4.logError(e4);
            });
          }, n2.prototype.loadModule = function(t4) {
            var n3 = this.config, r2 = new (t4.default || t4)(this), i2 = r2.name.charAt(0).toLowerCase() + r2.name.slice(1), o2 = (0, e2.isUndefined)(n3[i2]) ? n3[r2.name] : n3[i2], a2 = true === o2 ? {} : o2 || {};
            return a2.pStylePrefix = n3.pStylePrefix || "", (0, e2.isUndefined)(o2) || o2 || (a2._disable = 1), r2.storageKey && r2.store && r2.load && this.storables.push(r2), a2.em = this, r2.init(g({}, a2)), !r2.private && this.set(r2.name, r2), r2.onLoad && this.toLoad.push(r2), this.modules.push(r2), this;
          }, n2.prototype.tsLoadModule = function(t4) {
            var e3 = new (t4.default || t4)(this);
            return e3.storageKey && e3.store && e3.load && this.storables.push(e3), !e3.private && this.set(e3.name, e3), e3.onLoad && this.toLoad.push(e3), this.modules.push(e3), this;
          }, n2.prototype.init = function(t4, e3) {
            void 0 === e3 && (e3 = {}), this.destroyed && (this.initialize(e3), this.destroyed = false), this.set("Editor", t4);
          }, n2.prototype.getEditor = function() {
            return this.get("Editor");
          }, n2.prototype.handleUpdates = function(t4, e3, n3) {
            var r2 = this;
            void 0 === n3 && (n3 = {}), this.__skip || n3.temporary || n3.noCount || n3.avoidStore || !this.get("ready") || (this.timedInterval && clearTimeout(this.timedInterval), this.timedInterval = setTimeout(function() {
              var t5 = r2.getDirtyCount() || 0, e4 = (n3.unset, y(n3, ["unset"]));
              r2.set("changesCount", t5 + 1, e4);
            }, 0));
          }, n2.prototype.changesUp = function(t4) {
            this.handleUpdates(0, 0, t4);
          }, n2.prototype.componentHovered = function(t4, e3, n3) {
            var r2 = this.previous("componentHovered");
            r2 && this.trigger("component:unhovered", r2, n3), e3 && this.trigger("component:hovered", e3, n3);
          }, n2.prototype.getSelected = function() {
            return this.selected.lastComponent();
          }, n2.prototype.getSelectedAll = function() {
            return this.selected.allComponents();
          }, n2.prototype.setSelected = function(t4, n3) {
            var r2 = this;
            void 0 === n3 && (n3 = {});
            var o2 = n3.event, a2 = o2 && (o2.ctrlKey || o2.metaKey), s2 = (o2 || {}).shiftKey, l2 = ((0, e2.isArray)(t4) ? t4 : [t4]).map(function(t5) {
              return (0, u.getModel)(t5, i["default"]);
            }), c2 = this.getSelectedAll(), f2 = this.getConfig().multipleSelection, h2 = (0, e2.isArray)(t4);
            h2 && this.removeSelected(c2.filter(function(t5) {
              return !(0, e2.contains)(l2, t5);
            })), l2.forEach(function(t5) {
              var i2 = (0, u.getModel)(t5, void 0);
              if (i2 && (r2.trigger("component:select:before", i2, n3), !i2.get("selectable") || n3.abort)) {
                if (!n3.useValid) return;
                for (var o3 = i2.parent(); o3 && !o3.get("selectable"); ) o3 = o3.parent();
                i2 = o3;
              }
              if (a2 && f2) return r2.toggleSelected(i2);
              if (s2 && f2) {
                r2.clearSelection(r2.get("Canvas").getWindow());
                var l3, d2, p2 = i2.collection, g2 = i2.index();
                if (r2.getSelectedAll().forEach(function(t6) {
                  var n4 = t6.collection, r3 = t6.index();
                  n4 === p2 && (r3 < g2 ? l3 = (0, e2.isUndefined)(l3) ? r3 : Math.max(l3, r3) : r3 > g2 && (d2 = (0, e2.isUndefined)(d2) ? r3 : Math.min(d2, r3)));
                }), !(0, e2.isUndefined)(l3)) for (; l3 !== g2; ) r2.addSelected(p2.at(l3)), l3++;
                if (!(0, e2.isUndefined)(d2)) for (; d2 !== g2; ) r2.addSelected(p2.at(d2)), d2--;
                return r2.addSelected(i2);
              }
              !h2 && r2.removeSelected(c2.filter(function(t6) {
                return t6 !== i2;
              })), r2.addSelected(i2, n3), i2;
            });
          }, n2.prototype.addSelected = function(t4, n3) {
            var r2 = this;
            void 0 === n3 && (n3 = {});
            var o2 = (0, u.getModel)(t4, i["default"]);
            ((0, e2.isArray)(o2) ? o2 : [o2]).forEach(function(t5) {
              if (!t5 || t5.get("selectable")) {
                var e3 = r2.selected;
                n3.forceChange && r2.removeSelected(t5, n3), e3.addComponent(t5, n3), t5 && r2.trigger("component:select", t5, n3);
              }
            });
          }, n2.prototype.removeSelected = function(t4, e3) {
            void 0 === e3 && (e3 = {}), this.selected.removeComponent((0, u.getModel)(t4, i["default"]), e3);
          }, n2.prototype.toggleSelected = function(t4, n3) {
            var r2 = this;
            void 0 === n3 && (n3 = {});
            var o2 = (0, u.getModel)(t4, i["default"]);
            ((0, e2.isArray)(o2) ? o2 : [o2]).forEach(function(t5) {
              r2.selected.hasComponent(t5) ? r2.removeSelected(t5, n3) : r2.addSelected(t5, n3);
            });
          }, n2.prototype.setHovered = function(t4, e3) {
            if (void 0 === e3 && (e3 = {}), !t4) return this.set("componentHovered", "");
            var n3 = "component:hover", r2 = (0, u.getModel)(t4, void 0);
            if (r2) {
              if (e3.forceChange && this.set("componentHovered", ""), this.trigger("".concat(n3, ":before"), r2, e3), !r2.get("hoverable")) {
                if (!e3.useValid || e3.abort) return;
                for (var i2 = r2 && r2.parent(); i2 && !i2.get("hoverable"); ) i2 = i2.parent();
                r2 = i2;
              }
              e3.abort || (this.set("componentHovered", r2, e3), this.trigger(n3, r2, e3));
            }
          }, n2.prototype.getHovered = function() {
            return this.get("componentHovered");
          }, n2.prototype.setComponents = function(t4, e3) {
            return void 0 === e3 && (e3 = {}), this.get("DomComponents").setComponents(t4, e3);
          }, n2.prototype.getComponents = function() {
            var t4 = this.get("DomComponents"), e3 = this.get("CodeManager");
            if (t4 && e3) {
              var n3 = t4.getComponents();
              return e3.getCode(n3, "json");
            }
          }, n2.prototype.setStyle = function(t4, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.get("CssComposer");
            return n3.clear(e3), n3.getAll().add(t4, e3), this;
          }, n2.prototype.addStyle = function(t4, n3) {
            void 0 === n3 && (n3 = {});
            var r2 = this.getStyle().add(t4, n3);
            return (0, e2.isArray)(r2) ? r2 : [r2];
          }, n2.prototype.getStyle = function() {
            return this.get("CssComposer").getAll();
          }, n2.prototype.setState = function(t4) {
            return this.set("state", t4), this;
          }, n2.prototype.getState = function() {
            return this.get("state") || "";
          }, n2.prototype.getHtml = function(t4) {
            void 0 === t4 && (t4 = {});
            var e3 = this.config, n3 = e3.optsHtml, r2 = e3.jsInHtml ? this.getJs(t4) : "", i2 = t4.component || this.get("DomComponents").getComponent(), o2 = i2 ? this.get("CodeManager").getCode(i2, "html", g(g({}, n3), t4)) : "";
            return o2 += r2 ? "<script>".concat(r2, "<\/script>") : "";
          }, n2.prototype.getCss = function(t4) {
            void 0 === t4 && (t4 = {});
            var n3 = this.config, r2 = n3.optsCss, i2 = t4.avoidProtected, o2 = (0, e2.isUndefined)(t4.keepUnusedStyles) ? n3.keepUnusedStyles : t4.keepUnusedStyles, a2 = this.get("CssComposer"), s2 = t4.component || this.get("DomComponents").getComponent(), l2 = i2 ? "" : n3.protectedCss, c2 = s2 && this.get("CodeManager").getCode(s2, "css", g(g({ cssc: a2, keepUnusedStyles: o2 }, r2), t4));
            return s2 ? t4.json ? c2 : l2 + c2 : "";
          }, n2.prototype.getJs = function(t4) {
            void 0 === t4 && (t4 = {});
            var e3 = t4.component || this.get("DomComponents").getWrapper();
            return e3 ? this.get("CodeManager").getCode(e3, "js").trim() : "";
          }, n2.prototype.store = function(t4) {
            return v(this, void 0, void 0, function() {
              var e3;
              return m(this, function(n3) {
                switch (n3.label) {
                  case 0:
                    return e3 = this.storeData(), [4, this.get("StorageManager").store(e3, t4)];
                  case 1:
                    return n3.sent(), this.clearDirtyCount(), [2, e3];
                }
              });
            });
          }, n2.prototype.load = function(t4) {
            return v(this, void 0, void 0, function() {
              var e3;
              return m(this, function(n3) {
                switch (n3.label) {
                  case 0:
                    return [4, this.get("StorageManager").load(t4)];
                  case 1:
                    return e3 = n3.sent(), this.loadData(e3), [2, e3];
                }
              });
            });
          }, n2.prototype.storeData = function() {
            var t4 = {}, e3 = this.getEditing();
            return e3 && e3.trigger("sync:content", { noCount: true }), this.storables.forEach(function(e4) {
              t4 = g(g({}, t4), e4.store(1));
            }), JSON.parse(JSON.stringify(t4));
          }, n2.prototype.loadData = function(t4) {
            return void 0 === t4 && (t4 = {}), (0, u.isEmptyObj)(t4) || (this.storables.forEach(function(t5) {
              return t5.clear();
            }), this.storables.forEach(function(e3) {
              return e3.load(t4);
            })), t4;
          }, n2.prototype.getDeviceModel = function() {
            var t4 = this.get("device");
            return this.get("DeviceManager").get(t4);
          }, n2.prototype.runDefault = function(t4) {
            void 0 === t4 && (t4 = {});
            var e3 = this.get("Commands").get(this.config.defaultCommand);
            e3 && !this.defaultRunning && (e3.stop(this, this, t4), e3.run(this, this, t4), this.defaultRunning = true);
          }, n2.prototype.stopDefault = function(t4) {
            void 0 === t4 && (t4 = {});
            var e3 = this.get("Commands").get(this.config.defaultCommand);
            e3 && this.defaultRunning && (e3.stop(this, this, t4), this.defaultRunning = false);
          }, n2.prototype.refreshCanvas = function(t4) {
            void 0 === t4 && (t4 = {}), this.set("canvasOffset", null), this.set("canvasOffset", this.get("Canvas").getOffset()), t4.tools && this.trigger("canvas:updateTools");
          }, n2.prototype.clearSelection = function(t4) {
            var e3;
            null === (e3 = (t4 || window).getSelection()) || void 0 === e3 || e3.removeAllRanges();
          }, n2.prototype.getCurrentMedia = function() {
            var t4 = this.config, e3 = this.getDeviceModel(), n3 = t4.mediaCondition, r2 = t4.devicePreviewMode, i2 = e3 && e3.get("widthMedia");
            return e3 && i2 && !r2 ? "(".concat(n3, ": ").concat(i2, ")") : "";
          }, n2.prototype.getWrapper = function() {
            return this.get("DomComponents").getWrapper();
          }, n2.prototype.setCurrentFrame = function(t4) {
            return this.set("currentFrame", t4);
          }, n2.prototype.getCurrentFrame = function() {
            return this.get("currentFrame");
          }, n2.prototype.getCurrentFrameModel = function() {
            return (this.getCurrentFrame() || {}).model;
          }, n2.prototype.getIcon = function(t4) {
            return (this.config.icons || {})[t4] || "";
          }, n2.prototype.getDirtyCount = function() {
            return this.get("changesCount");
          }, n2.prototype.clearDirtyCount = function() {
            return this.set("changesCount", 0);
          }, n2.prototype.getZoomDecimal = function() {
            return this.get("Canvas").getZoomDecimal();
          }, n2.prototype.getZoomMultiplier = function() {
            return this.get("Canvas").getZoomMultiplier();
          }, n2.prototype.setDragMode = function(t4) {
            return this.set("dmode", t4);
          }, n2.prototype.t = function() {
            for (var t4 = [], e3 = 0; e3 < arguments.length; e3++) t4[e3] = arguments[e3];
            var n3 = this.get("I18n");
            return null == n3 ? void 0 : n3.t.apply(n3, t4);
          }, n2.prototype.inAbsoluteMode = function() {
            return "absolute" === this.get("dmode");
          }, n2.prototype.destroyAll = function() {
            var t4 = this, e3 = this.config, n3 = this.view, r2 = this.getEditor(), o2 = (e3.grapesjs || {}).editors, a2 = void 0 === o2 ? [] : o2, s2 = this.get("shallow");
            null == s2 || s2.destroyAll(), this.stopListening(), this.stopDefault(), this.modules.slice().reverse().forEach(function(t5) {
              return t5.destroy();
            }), n3 && n3.remove(), this.clear({ silent: true }), this.destroyed = true, ["_config", "view", "_previousAttributes", "_events", "_listeners"].forEach(function(e4) {
              return t4[e4] = {};
            }), a2.splice(a2.indexOf(r2), 1), (0, u.hasWin)() && (0, i["default"])(e3.el).empty().attr(this.attrsOrig);
          }, n2.prototype.getEditing = function() {
            var t4 = this.get("editing");
            return t4 && t4.model || null;
          }, n2.prototype.setEditing = function(t4) {
            return this.set("editing", t4), this;
          }, n2.prototype.isEditing = function() {
            return !!this.get("editing");
          }, n2.prototype.log = function(t4, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = e3.ns, r2 = e3.level, i2 = void 0 === r2 ? "debug" : r2;
            if (this.trigger("log", t4, e3), i2 && this.trigger("log:".concat(i2), t4, e3), n3) {
              var o2 = "log-".concat(n3);
              this.trigger(o2, t4, e3), i2 && this.trigger("".concat(o2, ":").concat(i2), t4, e3);
            }
          }, n2.prototype.logInfo = function(t4, e3) {
            this.log(t4, g(g({}, e3), { level: "info" }));
          }, n2.prototype.logWarning = function(t4, e3) {
            this.log(t4, g(g({}, e3), { level: "warning" }));
          }, n2.prototype.logError = function(t4, e3) {
            this.log(t4, g(g({}, e3), { level: "error" }));
          }, n2.prototype.initBaseColorPicker = function(t4, e3) {
            void 0 === e3 && (e3 = {});
            var n3 = this.config, r2 = n3.colorPicker, o2 = void 0 === r2 ? {} : r2, a2 = n3.el, s2 = n3.stylePrefix;
            return (0, i["default"])(t4).spectrum(g(g({ containerClassName: "".concat(s2, "one-bg ").concat(s2, "two-color"), appendTo: a2 || "body", maxSelectionSize: 8, showPalette: true, palette: [], showAlpha: true, chooseText: "Ok", cancelText: "⨯" }, e3), o2));
          }, n2.prototype.skip = function(t4) {
            this.__skip = true;
            var e3 = this.get("UndoManager");
            e3 ? e3.skip(t4) : t4(), this.__skip = false;
          }, n2.prototype.data = function(t4, n3, r2) {
            var i2 = "_gjs-data";
            if (t4[i2] || (t4[i2] = {}), (0, e2.isUndefined)(r2)) return t4[i2][n3];
            t4[i2][n3] = r2;
          }, n2;
        }(s.Model);
        const C = O;
        var S = /* @__PURE__ */ function() {
          var t3 = function(e3, n2) {
            return t3 = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
              t4.__proto__ = e4;
            } || function(t4, e4) {
              for (var n3 in e4) Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
            }, t3(e3, n2);
          };
          return function(e3, n2) {
            if ("function" != typeof n2 && null !== n2) throw new TypeError("Class extends value " + String(n2) + " is not a constructor or null");
            function r2() {
              this.constructor = e3;
            }
            t3(e3, n2), e3.prototype = null === n2 ? Object.create(n2) : (r2.prototype = n2.prototype, new r2());
          };
        }(), _ = l().$;
        const P = function(t3) {
          function e3(e4) {
            var n2 = t3.call(this, { model: e4 }) || this, r2 = e4.attributes, i2 = r2.Panels, o2 = r2.UndoManager;
            return e4.view = n2, e4.once("change:ready", function() {
              i2.active(), i2.disableButtons(), o2.clear(), setTimeout(function() {
                e4.trigger("load", e4.get("Editor")), e4.clearDirtyCount();
              });
            }), n2;
          }
          return S(e3, t3), e3.prototype.render = function() {
            var t4 = this, e4 = this.$el, n2 = this.model, r2 = n2.attributes, i2 = r2.Panels, o2 = r2.Canvas, a2 = n2.config, s2 = n2.modules, l2 = a2.stylePrefix, c2 = _(a2.el || "body ".concat(a2.container));
            (0, u.appendStyles)(a2.cssIcons, { unique: true, prepand: true }), e4.empty(), a2.width && c2.css("width", a2.width), a2.height && c2.css("height", a2.height), e4.append(o2.render()), e4.append(i2.render());
            var f2 = n2.get("shallow").get("Canvas").render();
            return f2.style.display = "none", e4.append(f2), e4.attr("class", "".concat(l2, "editor ").concat(l2, "one-bg ").concat(l2, "two-color")), c2.addClass("".concat(l2, "editor-cont")).empty().append(e4), s2.forEach(function(e5) {
              return e5.postRender && e5.postRender(t4);
            }), this;
          }, e3;
        }(s.View);
        var T = function() {
          return T = Object.assign || function(t3) {
            for (var e3, n2 = 1, r2 = arguments.length; n2 < r2; n2++) for (var i2 in e3 = arguments[n2]) Object.prototype.hasOwnProperty.call(e3, i2) && (t3[i2] = e3[i2]);
            return t3;
          }, T.apply(this, arguments);
        }, E = function(t3, e3, n2, r2) {
          return new (n2 || (n2 = Promise))(function(i2, o2) {
            function a2(t4) {
              try {
                l2(r2.next(t4));
              } catch (t5) {
                o2(t5);
              }
            }
            function s2(t4) {
              try {
                l2(r2["throw"](t4));
              } catch (t5) {
                o2(t5);
              }
            }
            function l2(t4) {
              var e4;
              t4.done ? i2(t4.value) : (e4 = t4.value, e4 instanceof n2 ? e4 : new n2(function(t5) {
                t5(e4);
              })).then(a2, s2);
            }
            l2((r2 = r2.apply(t3, e3 || [])).next());
          });
        }, j = function(t3, e3) {
          var n2, r2, i2, o2, a2 = { label: 0, sent: function() {
            if (1 & i2[0]) throw i2[1];
            return i2[1];
          }, trys: [], ops: [] };
          return o2 = { next: s2(0), throw: s2(1), return: s2(2) }, "function" == typeof Symbol && (o2[Symbol.iterator] = function() {
            return this;
          }), o2;
          function s2(o3) {
            return function(s3) {
              return function(o4) {
                if (n2) throw new TypeError("Generator is already executing.");
                for (; a2; ) try {
                  if (n2 = 1, r2 && (i2 = 2 & o4[0] ? r2["return"] : o4[0] ? r2["throw"] || ((i2 = r2["return"]) && i2.call(r2), 0) : r2.next) && !(i2 = i2.call(r2, o4[1])).done) return i2;
                  switch (r2 = 0, i2 && (o4 = [2 & o4[0], i2.value]), o4[0]) {
                    case 0:
                    case 1:
                      i2 = o4;
                      break;
                    case 4:
                      return a2.label++, { value: o4[1], done: false };
                    case 5:
                      a2.label++, r2 = o4[1], o4 = [0];
                      continue;
                    case 7:
                      o4 = a2.ops.pop(), a2.trys.pop();
                      continue;
                    default:
                      if (!(i2 = a2.trys, (i2 = i2.length > 0 && i2[i2.length - 1]) || 6 !== o4[0] && 2 !== o4[0])) {
                        a2 = 0;
                        continue;
                      }
                      if (3 === o4[0] && (!i2 || o4[1] > i2[0] && o4[1] < i2[3])) {
                        a2.label = o4[1];
                        break;
                      }
                      if (6 === o4[0] && a2.label < i2[1]) {
                        a2.label = i2[1], i2 = o4;
                        break;
                      }
                      if (i2 && a2.label < i2[2]) {
                        a2.label = i2[2], a2.ops.push(o4);
                        break;
                      }
                      i2[2] && a2.ops.pop(), a2.trys.pop();
                      continue;
                  }
                  o4 = e3.call(t3, a2);
                } catch (t4) {
                  o4 = [6, t4], r2 = 0;
                } finally {
                  n2 = i2 = 0;
                }
                if (5 & o4[0]) throw o4[1];
                return { value: o4[0] ? o4[1] : void 0, done: true };
              }([o3, s3]);
            };
          }
        }, A = function(t3, e3, n2) {
          if (n2 || 2 === arguments.length) for (var r2, i2 = 0, o2 = e3.length; i2 < o2; i2++) !r2 && i2 in e3 || (r2 || (r2 = Array.prototype.slice.call(e3, 0, i2)), r2[i2] = e3[i2]);
          return t3.concat(r2 || Array.prototype.slice.call(e3));
        };
        const D = function() {
          function t3(t4, e3) {
            void 0 === t4 && (t4 = {}), void 0 === e3 && (e3 = {}), this.modules = [], this.html = o.Z, this.config = T(T(T({}, a), t4), { pStylePrefix: a.stylePrefix }), this.em = new C(this.config), this.$ = e3.$, this.em.init(this), this.editor = this.em;
          }
          return Object.defineProperty(t3.prototype, "I18n", { get: function() {
            return this.em.get("I18n");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Utils", { get: function() {
            return this.em.get("Utils");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Config", { get: function() {
            return this.em.config;
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Commands", { get: function() {
            return this.em.get("Commands");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Keymaps", { get: function() {
            return this.em.get("Keymaps");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Modal", { get: function() {
            return this.em.get("Modal");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Panels", { get: function() {
            return this.em.get("Panels");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Canvas", { get: function() {
            return this.em.get("Canvas");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Parser", { get: function() {
            return this.em.get("Parser");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "CodeManager", { get: function() {
            return this.em.get("CodeManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "UndoManager", { get: function() {
            return this.em.get("UndoManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "RichTextEditor", { get: function() {
            return this.em.get("RichTextEditor");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Pages", { get: function() {
            return this.em.get("PageManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Components", { get: function() {
            return this.em.get("DomComponents");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "DomComponents", { get: function() {
            return this.em.get("DomComponents");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Layers", { get: function() {
            return this.em.get("LayerManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "LayerManager", { get: function() {
            return this.em.get("LayerManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Css", { get: function() {
            return this.em.get("CssComposer");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "CssComposer", { get: function() {
            return this.em.get("CssComposer");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Storage", { get: function() {
            return this.em.get("StorageManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "StorageManager", { get: function() {
            return this.em.get("StorageManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Assets", { get: function() {
            return this.em.get("AssetManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "AssetManager", { get: function() {
            return this.em.get("AssetManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Blocks", { get: function() {
            return this.em.get("BlockManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "BlockManager", { get: function() {
            return this.em.get("BlockManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Traits", { get: function() {
            return this.em.get("TraitManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "TraitManager", { get: function() {
            return this.em.get("TraitManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Selectors", { get: function() {
            return this.em.get("SelectorManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "SelectorManager", { get: function() {
            return this.em.get("SelectorManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Styles", { get: function() {
            return this.em.get("StyleManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "StyleManager", { get: function() {
            return this.em.get("StyleManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "Devices", { get: function() {
            return this.em.get("DeviceManager");
          }, enumerable: false, configurable: true }), Object.defineProperty(t3.prototype, "DeviceManager", { get: function() {
            return this.em.get("DeviceManager");
          }, enumerable: false, configurable: true }), t3.prototype.getConfig = function(t4) {
            var n2 = this.config;
            return (0, e2.isUndefined)(t4) ? n2 : n2[t4];
          }, t3.prototype.getHtml = function(t4) {
            return this.em.getHtml(t4);
          }, t3.prototype.getCss = function(t4) {
            return this.em.getCss(t4);
          }, t3.prototype.getJs = function(t4) {
            return this.em.getJs(t4);
          }, t3.prototype.getComponents = function() {
            return this.em.get("DomComponents").getComponents();
          }, t3.prototype.getWrapper = function() {
            return this.em.get("DomComponents").getWrapper();
          }, t3.prototype.setComponents = function(t4, e3) {
            return void 0 === e3 && (e3 = {}), this.em.setComponents(t4, e3), this;
          }, t3.prototype.addComponents = function(t4, e3) {
            return this.getWrapper().append(t4, e3);
          }, t3.prototype.getStyle = function() {
            return this.em.get("CssComposer").getAll();
          }, t3.prototype.setStyle = function(t4, e3) {
            return void 0 === e3 && (e3 = {}), this.em.setStyle(t4, e3), this;
          }, t3.prototype.addStyle = function(t4, e3) {
            return void 0 === e3 && (e3 = {}), this.em.addStyle(t4, e3);
          }, t3.prototype.getSelected = function() {
            return this.em.getSelected();
          }, t3.prototype.getSelectedAll = function() {
            return this.em.getSelectedAll();
          }, t3.prototype.getSelectedToStyle = function() {
            var t4 = this.em.getSelected();
            if (t4) return this.StyleManager.getModelToStyle(t4);
          }, t3.prototype.select = function(t4, e3) {
            return this.em.setSelected(t4, e3), this;
          }, t3.prototype.selectAdd = function(t4) {
            return this.em.addSelected(t4), this;
          }, t3.prototype.selectRemove = function(t4) {
            return this.em.removeSelected(t4), this;
          }, t3.prototype.selectToggle = function(t4) {
            return this.em.toggleSelected(t4), this;
          }, t3.prototype.getEditing = function() {
            return this.em.getEditing();
          }, t3.prototype.setDevice = function(t4) {
            return this.em.set("device", t4), this;
          }, t3.prototype.getDevice = function() {
            return this.em.get("device");
          }, t3.prototype.runCommand = function(t4, e3) {
            return void 0 === e3 && (e3 = {}), this.em.get("Commands").run(t4, e3);
          }, t3.prototype.stopCommand = function(t4, e3) {
            return void 0 === e3 && (e3 = {}), this.em.get("Commands").stop(t4, e3);
          }, t3.prototype.store = function(t4) {
            return E(this, void 0, void 0, function() {
              return j(this, function(e3) {
                switch (e3.label) {
                  case 0:
                    return [4, this.em.store(t4)];
                  case 1:
                    return [2, e3.sent()];
                }
              });
            });
          }, t3.prototype.load = function(t4) {
            return E(this, void 0, void 0, function() {
              return j(this, function(e3) {
                switch (e3.label) {
                  case 0:
                    return [4, this.em.load(t4)];
                  case 1:
                    return [2, e3.sent()];
                }
              });
            });
          }, t3.prototype.getProjectData = function() {
            return this.em.storeData();
          }, t3.prototype.loadProjectData = function(t4) {
            return this.em.loadData(t4);
          }, t3.prototype.storeData = function() {
            return this.em.storeData();
          }, t3.prototype.loadData = function(t4) {
            return this.em.loadData(t4);
          }, t3.prototype.getContainer = function() {
            return this.config.el;
          }, t3.prototype.getDirtyCount = function() {
            return this.em.getDirtyCount();
          }, t3.prototype.clearDirtyCount = function() {
            return this.em.clearDirtyCount();
          }, t3.prototype.refresh = function(t4) {
            this.em.refreshCanvas(t4);
          }, t3.prototype.setCustomRte = function(t4) {
            this.RichTextEditor.customRte = t4;
          }, t3.prototype.setCustomParserCss = function(t4) {
            return this.Parser.getConfig().parserCss = t4, this;
          }, t3.prototype.setDragMode = function(t4) {
            return this.em.setDragMode(t4), this;
          }, t3.prototype.log = function(t4, e3) {
            return void 0 === e3 && (e3 = {}), this.em.log(t4, e3), this;
          }, t3.prototype.t = function() {
            for (var t4, e3 = [], n2 = 0; n2 < arguments.length; n2++) e3[n2] = arguments[n2];
            return (t4 = this.em).t.apply(t4, e3);
          }, t3.prototype.on = function(t4, e3) {
            return this.em.on(t4, e3), this;
          }, t3.prototype.once = function(t4, e3) {
            return this.em.once(t4, e3), this;
          }, t3.prototype.off = function(t4, e3) {
            return this.em.off(t4, e3), this;
          }, t3.prototype.trigger = function(t4) {
            for (var e3 = [], n2 = 1; n2 < arguments.length; n2++) e3[n2 - 1] = arguments[n2];
            return this.em.trigger.apply(this.em, A([t4], e3, true)), this;
          }, t3.prototype.destroy = function() {
            this.em && (this.em.destroyAll(), this.editorView = void 0);
          }, t3.prototype.getEl = function() {
            var t4;
            return null === (t4 = this.editorView) || void 0 === t4 ? void 0 : t4.el;
          }, t3.prototype.getModel = function() {
            return this.em;
          }, t3.prototype.render = function() {
            var t4;
            return null === (t4 = this.editorView) || void 0 === t4 || t4.remove(), this.editorView = new P(this.em), this.editorView.render().el;
          }, t3.prototype.onReady = function(t4) {
            this.em.get("ready") ? t4(this) : this.em.on("load", t4);
          }, t3;
        }(), M = { plugins: [] };
        function R(t3, e3) {
          var n2 = Object.keys(t3);
          if (Object.getOwnPropertySymbols) {
            var r2 = Object.getOwnPropertySymbols(t3);
            e3 && (r2 = r2.filter(function(e4) {
              return Object.getOwnPropertyDescriptor(t3, e4).enumerable;
            })), n2.push.apply(n2, r2);
          }
          return n2;
        }
        function Z(e3) {
          for (var n2 = 1; n2 < arguments.length; n2++) {
            var r2 = null != arguments[n2] ? arguments[n2] : {};
            n2 % 2 ? R(Object(r2), true).forEach(function(n3) {
              (0, t2.Z)(e3, n3, r2[n3]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e3, Object.getOwnPropertyDescriptors(r2)) : R(Object(r2)).forEach(function(t3) {
              Object.defineProperty(e3, t3, Object.getOwnPropertyDescriptor(r2, t3));
            });
          }
          return e3;
        }
        !function() {
          if ((0, u.hasWin)() && function() {
            for (var t4, e3 = window.navigator.userAgent, n2 = [["edge", /Edge\/([0-9\._]+)/], ["ie", /MSIE\s(7\.0)/], ["ie", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/], ["ie", /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]], r2 = 0; r2 < n2.length; r2++) {
              if (t4 = n2[r2][1].exec(e3)) break;
            }
            return !!t4;
          }()) {
            var t3 = DOMImplementation.prototype.createHTMLDocument;
            DOMImplementation.prototype.createHTMLDocument = function(e3) {
              return e3 || (e3 = ""), t3.apply(document.implementation, [e3]);
            };
          }
        }();
        var L = new function(t3) {
          var e3 = t3 || {};
          for (var n2 in M) n2 in e3 || (e3[n2] = M[n2]);
          var r2 = {};
          return { add: function(t4, e4) {
            return r2[t4] ? r2[t4] : (r2[t4] = e4, e4);
          }, get: function(t4) {
            return r2[t4];
          }, getAll: function() {
            return r2;
          } };
        }(), N = [], I = { autorender: 1, plugins: [], pluginsOpts: {} };
        const F = { $: i["default"], editors: N, plugins: L, version: "0.19.5", init: function() {
          var t3 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n2 = t3, r2 = n2.headless, o2 = t3.container;
          if (!o2 && !r2) throw new Error("'container' is required");
          (t3 = Z(Z(Z({}, I), t3), {}, { grapesjs: this })).el = !r2 && ((0, e2.isElement)(o2) ? o2 : document.querySelector(o2));
          var a2 = new D(t3, { $: i["default"] }), s2 = a2.getModel();
          return t3.plugins.forEach(function(n3) {
            var r3 = (0, e2.isFunction)(n3) ? n3 : L.get(n3), i2 = t3.pluginsOpts[n3] || {};
            if (!r3) {
              var o3 = (0, u.getGlobal)()[n3];
              r3 = (null == o3 ? void 0 : o3.default) || o3;
            }
            r3 ? r3(a2, i2) : (0, e2.isFunction)(n3) ? n3(a2, i2) : s2.logWarning("Plugin ".concat(n3, " not found"), { context: "plugins", plugin: n3 });
          }), s2.loadOnStart(), t3.autorender && !r2 && a2.render(), N.push(a2), a2;
        } };
      })(), r = r["default"];
    })());
  }
});

export {
  require_grapes_min
};
/*! Bundled license information:

grapesjs/dist/grapes.min.js:
  (*! grapesjs - 0.19.5 *)
*/
//# sourceMappingURL=chunk-HM3PZUKV.js.map
